# AHP 플랫폼 개발 가이드 - Claude Code 협업 시스템
## 지속적 체계 개발 진행 가이드 (2024-11-12 업데이트)

**프로젝트**: Multi-Layer AHP Decision Support Platform  
**현재 완성도**: 80% (2024-11-12 기준)  
**목표**: MVP 완성 (2024년 12월 말)  
**협력 AI**: Claude Sonnet 4 (일상) + Opus 4.1 (고급설계)  

---

## 🎯 프로젝트 현재 상태 (2024-11-12 기준)

### ✅ 완성된 핵심 영역 (80%)
```
🏆 최근 완료 사항:
├── DB 관리 도구: 100% 완성 ✅ (11/11)
├── 중복 처리 시스템: 100% 완성 ✅ (11/11)
├── 초기화 기능 개선: 100% 완성 ✅ (11/11)
├── 평가자 시스템 설계: 100% 완성 ✅ (11/12 - Opus)
├── AHP 계산 엔진 설계: 100% 완성 ✅ (11/12 - Opus)
├── 고급 분석 시스템 설계: 100% 완성 ✅ (11/12 - Opus)
├── 결제 시스템 설계: 100% 완성 ✅ (11/12 - Opus)
├── 페이지 라우팅 시스템: 100% 완성 ✅
├── 인프라 및 인증: 95% 완성 ✅
├── 기본 AHP 프로세스: 85% 완성 🔄
├── UI/UX 기본 시스템: 90% 완성 🔄
├── 데이터베이스 스키마: 95% 완성 ✅
└── CI/CD 파이프라인: 100% 완성 ✅
```

### 🚧 개발 필요 영역 (20%)
```
❌ 우선순위별 개발 계획:
1. ✅ 평가자 시스템 설계 완료 → 구현 필요 (Sonnet)
2. ✅ AHP 계산 엔진 설계 완료 → 구현 필요 (Sonnet)
3. ✅ 고급 분석 시스템 설계 완료 → 구현 필요 (Sonnet)
4. ✅ 결제 시스템 설계 완료 → 구현 필요 (Sonnet)
5. 실시간 모니터링 (35% → 90%) - Sonnet 가능
6. 모바일 최적화 (35% → 85%) - Sonnet 가능
7. 성능 최적화 (60% → 90%) - Sonnet/Opus 협업
```

---

## 🤖 AI 역할 분담 전략 (명확한 구분)

### 🧠 Opus 4.1 전담 영역
**복잡한 설계와 알고리즘이 필요한 작업**

#### ✅ 완료된 Opus 설계 작업 (11/12)
1. **평가자 시스템 설계** - 완료
   - 이메일 발송 아키텍처 (SendGrid/Bull Queue)
   - JWT 토큰 기반 인증 체계
   - WebSocket 실시간 진행률 추적
   - 익명 평가 모드 구현

2. **AHP 계산 엔진 설계** - 완료
   - Power Method 고유벡터 계산
   - 일관성 비율 (CR) 검증 알고리즘
   - 계층 구조 통합 계산
   - 그룹 의사결정 통합 (기하평균/산술평균)

3. **고급 분석 시스템 설계** - 완료
   - 민감도 분석 (단일/다차원/그래디언트)
   - 몬테카를로 시뮬레이션 (10,000회)
   - What-if 시나리오 모델링
   - 강건성/스트레스 테스팅

4. **결제 시스템 아키텍처** - 완료
   - 5단계 가격 티어 구조
   - Stripe/PayPal 이중 통합
   - 구독 관리 및 프로레이션
   - PCI DSS 준수 보안 설계

### ⚡ Sonnet 4 전담 영역
**구현, 디버깅, UI/UX 중심 작업**

#### 다음 구현 작업 (11/12-11/18)
```
🔧 즉시 구현 가능:
├── 평가자 초대 UI 컴포넌트
├── 쌍대비교 매트릭스 UI
├── 민감도 분석 차트 컴포넌트
├── 구독 관리 대시보드
├── 모바일 반응형 최적화
└── 실시간 알림 시스템
```

---

## 📊 진행 상황 추적

### 완성도 추이
```
10월 3주: 72% 
10월 4주: 73% (+1%)
11월 1주: 74% (+1%)
11월 2주: 80% (+6%) ← 현재
11월 목표: 85% (+5%)
12월 목표: 90% (MVP)
```

### 주요 마일스톤
- [x] 프로젝트 생성 플로우 완성 (10/16)
- [x] 페이지 라우팅 시스템 완성 (10/17)
- [x] CI/CD 파이프라인 구축 (10/19)
- [x] DB 관리 도구 완성 (11/11)
- [x] 4대 핵심 설계 문서 완성 (11/12)
- [ ] 평가자 시스템 구현 (11/20 목표)
- [ ] 고급 분석 기능 구현 (11/27 목표)
- [ ] 결제 시스템 구현 (12/7 목표)
- [ ] MVP 출시 준비 (12/31 목표)

---

## 🔧 기술 스택 현황

### 현재 사용 중
```javascript
// Frontend
{
  "react": "18.2.0",
  "typescript": "4.9.5",
  "tailwindcss": "3.x",
  "react-router-dom": "6.x",
  "axios": "1.x",
  "recharts": "2.x"
}

// Backend (Django)
{
  "django": "5.0",
  "djangorestframework": "3.x",
  "postgresql": "17.0",
  "redis": "설치 예정",
  "celery": "설치 예정"
}
```

### 추가 도입 예정
```javascript
// 우선순위 높음
{
  "socket.io": "실시간 통신",
  "react-query": "서버 상태 관리",
  "jest": "테스트 프레임워크",
  "stripe": "결제 처리"
}

// Opus 설계 완료, 구현 대기
{
  "bullmq": "작업 큐",
  "sendgrid": "이메일 서비스",
  "paypal": "보조 결제",
  "sentry": "에러 추적"
}
```

---

## 📋 TODO LIST - 우선순위별 정리

### 🔴 긴급 (이번 주 11/12-11/17)
```
[ ] 평가자 초대 UI 구현 (Sonnet)
[ ] AHP 계산 엔진 구현 (Sonnet)
[ ] 민감도 분석 기본 구현 (Sonnet)
[ ] 모바일 반응형 버그 수정 (Sonnet)
[ ] TypeScript 타입 정의 강화 (Sonnet)
```

### 🟡 중요 (다음 주 11/18-11/24)
```
[ ] 쌍대비교 매트릭스 UI (Sonnet)
[ ] 몬테카를로 시뮬레이션 구현 (Sonnet)
[ ] 결제 시스템 Stripe 통합 (Sonnet)
[ ] 실시간 알림 시스템 (Sonnet)
[ ] E2E 테스트 작성 (Sonnet)
```

### 🟢 일반 (이번 달 11/25-11/30)
```
[ ] What-if 시나리오 UI (Sonnet)
[ ] PayPal 통합 (Sonnet)
[ ] 고급 리포트 생성 (Sonnet)
[ ] 성능 최적화 (Opus/Sonnet)
[ ] 베타 테스트 준비
```

---

## 🗂️ 개발 문서 저장소

### 설계 문서 위치 (Opus 작성)
```
ahp_app_clone/Dev_md_2/
├── 평가자_시스템_설계.md (976줄) ✅
├── AHP_계산_엔진.md (892줄) ✅
├── 고급_분석_시스템_설계.md (1453줄) ✅
├── 결제_시스템_설계.md (1396줄) ✅
├── 개발계획/
│   └── todolist_251111.md
└── CLAUDE_backup_20241112_0300.md
```

### GitHub 저장소
```
├── ahp_app (메인 - 프론트엔드)
├── ahp-django-service (백엔드)
└── ahp_app_backup_[날짜] (정기 백업)
```

---

## 📝 개발 시 주의사항

### 코드 컨벤션
- TypeScript strict 모드 유지
- 컴포넌트는 함수형으로 작성
- Custom Hook 적극 활용
- 절대 경로 import 사용
- 주석은 필요한 경우만 (코드로 설명)

### Git 커밋 규칙
```
feat: 새로운 기능 추가
fix: 버그 수정
refactor: 코드 리팩토링
style: 코드 포맷팅
docs: 문서 수정
test: 테스트 추가
chore: 기타 변경사항
perf: 성능 개선
```

### 성능 목표
- Lighthouse 점수 90+ 유지
- 번들 크기 500KB 이하
- FCP 1.5초 이내
- TTI 3초 이내
- CLS 0.1 이하

---

## 🚨 긴급 이슈 대응 가이드

### 서버 다운
1. Render.com 상태 확인
2. 로컬 백엔드 실행
3. 임시 서버 전환

### 데이터 손실
1. PostgreSQL 백업 복원
2. 로컬 스토리지 확인
3. 사용자 알림

### 배포 실패
1. GitHub Actions 로그 확인
2. 빌드 에러 수정
3. 수동 배포 실행

---

## 📞 세션 시작 체크리스트

### Sonnet 세션 시작 시
1. [ ] 이전 커밋 확인 (`git log --oneline -5`)
2. [ ] 현재 이슈 확인 (GitHub Issues)
3. [ ] 브랜치 상태 확인 (`git status`)
4. [ ] 개발 서버 시작 (`npm start`)
5. [ ] TODO LIST 확인

### Opus 세션 시작 시
1. [ ] 주간 진행 상황 리뷰
2. [ ] 복잡한 문제 목록 준비
3. [ ] 아키텍처 변경사항 검토
4. [ ] 성능 메트릭 분석
5. [ ] 설계 문서 템플릿 준비

---

**최종 업데이트**: 2024-11-12 03:00 KST  
**다음 Opus 세션**: 2024-11-18 (월요일)  
**현재 완성도**: 80% (+5%)  
**목표 완성도**: 90% (2024년 12월 31일)

## 🆕 Opus 4.1 완료 사항 (2024-11-12)
- ✅ 평가자 시스템 설계 문서 작성 완료
  - DB 스키마 (4개 테이블)
  - API 엔드포인트 (12개)
  - 토큰 시스템, 이메일 아키텍처
  - 실시간 진행률 추적 (WebSocket)
- ✅ AHP 계산 엔진 설계 문서 작성 완료
  - 핵심 알고리즘 (Power Method)
  - 일관성 검증 시스템
  - 계층 구조 통합 계산
  - 그룹 의사결정 통합
- ✅ 고급 분석 시스템 설계 문서 작성 완료
  - 민감도 분석 엔진 (단일/다차원/그래디언트)
  - 몬테카를로 시뮬레이션 (10,000회)
  - What-if 시나리오 분석
  - 로버스트성 분석
- ✅ 결제 시스템 아키텍처 설계 완료
  - 5단계 가격 티어 (Free ~ Enterprise)
  - Stripe/PayPal 통합
  - 구독 관리 시스템
  - 사용량 기반 과금
- 📁 문서 위치: Dev_md_2/

---

> 📌 **중요**: 이 문서는 Claude Code와의 지속적 협업을 위한 **마스터 가이드**입니다.
> 매 세션마다 이 문서를 참조하여 일관성 있는 개발을 진행하세요.
> Sonnet은 일상적인 구현을, Opus는 복잡한 설계를 담당합니다.