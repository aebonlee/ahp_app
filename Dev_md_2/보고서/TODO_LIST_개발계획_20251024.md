# AHP 플랫폼 TODO LIST 개발 계획

**작성일**: 2025년 10월 24일  
**작성자**: Claude Opus 4.1  
**개발 시작**: 즉시  

---

## 🚨 긴급 TODO (오늘 즉시 - Opus/Sonnet 공통)

### 🔴 Priority 1: 워크플로우 핵심 수정 (4시간)
```
[ ] 1. ProjectWorkflow.tsx Step 전환 오류 수정
    [ ] projectId null 체크 및 전달 수정
    [ ] localStorage 상태 저장 구현
    [ ] console.log로 디버깅 포인트 추가
    시간: 1시간

[ ] 2. CriteriaManagement.tsx API 연동
    [ ] GET /api/service/projects/{projectId}/criteria/
    [ ] POST 기준 추가 기능
    [ ] DELETE 기준 삭제 기능
    [ ] 가중치 입력 폼 구현
    시간: 1.5시간

[ ] 3. AlternativeManagement.tsx 완성
    [ ] 대안 CRUD 구현
    [ ] 대안 리스트 표시
    [ ] 대안 설명 입력 폼
    시간: 1시간

[ ] 4. 에러 처리 및 로딩 상태
    [ ] try-catch 블록 추가
    [ ] 로딩 스피너 구현
    [ ] 에러 메시지 토스트
    시간: 30분
```

---

## 💼 Sonnet 전담 TODO (일상 작업)

### 🟡 Priority 2: UI/UX 개선 (2-3일)
```
[ ] 1. 모바일 반응형 개선
    [ ] Tailwind 반응형 클래스 적용
    [ ] 모바일 네비게이션 수정
    [ ] 터치 제스처 지원
    시간: 1일

[ ] 2. 컴포넌트 완성
    [ ] 로딩 스켈레톤 UI 구현
    [ ] 폼 유효성 검사 강화
    [ ] 툴팁 및 도움말 추가
    시간: 1일

[ ] 3. 데이터 시각화
    [ ] Recharts 차트 컴포넌트
    [ ] 결과 대시보드 UI
    [ ] 진행률 표시 바
    시간: 1일
```

### 🟢 Priority 3: 코드 품질 (1주일)
```
[ ] 1. ESLint 경고 해결 (40개 남음)
    [ ] any 타입 제거
    [ ] 미사용 변수 정리
    [ ] 의존성 배열 수정
    시간: 2일

[ ] 2. TypeScript 개선
    [ ] 인터페이스 정의
    [ ] 타입 가드 추가
    [ ] 제네릭 활용
    시간: 2일

[ ] 3. 테스트 작성
    [ ] 단위 테스트 (Jest)
    [ ] 통합 테스트
    [ ] E2E 테스트 (Cypress)
    시간: 3일
```

---

## 🧠 Opus 전담 TODO (복잡한 설계)

### 🔴 Priority 1: 평가자 시스템 (목요일 집중)
```
[ ] 1. 평가자 배정 시스템 설계
    [ ] 데이터베이스 스키마 설계
    [ ] API 엔드포인트 정의
    [ ] 권한 관리 로직
    [ ] 토큰 기반 인증 설계
    시간: 4시간

[ ] 2. 이메일 발송 아키텍처
    [ ] SendGrid vs Nodemailer 결정
    [ ] 이메일 템플릿 시스템
    [ ] 큐 시스템 설계 (Bull/Redis)
    [ ] 재발송 로직
    시간: 3시간

[ ] 3. 대량 처리 시스템
    [ ] CSV 파싱 로직
    [ ] 배치 처리 알고리즘
    [ ] 진행률 추적 시스템
    시간: 2시간
```

### 🟡 Priority 2: 고급 분석 (다음 주)
```
[ ] 1. 민감도 분석 알고리즘
    [ ] 수식 정의 및 구현
    [ ] 파라미터 변화 시뮬레이션
    [ ] 결과 해석 로직
    시간: 1일

[ ] 2. 몬테카를로 시뮬레이션
    [ ] 확률 분포 모델링
    [ ] 난수 생성 로직
    [ ] 수렴 검증
    시간: 1일

[ ] 3. 그룹 의사결정 통합
    [ ] 가중 평균 알고리즘
    [ ] 합의도 측정
    [ ] 이상치 탐지
    시간: 1일
```

---

## 🤝 Opus-Sonnet 협업 TODO

### Phase 1: 평가자 시스템 (1주)
```
목요일 (Opus):
[ ] 시스템 설계 문서 작성
[ ] API 명세서 작성
[ ] 구현 가이드라인 제공

금-수요일 (Sonnet):
[ ] UI 컴포넌트 구현
[ ] API 통합
[ ] 테스트 및 디버깅
```

### Phase 2: 고급 분석 (1주)
```
목요일 (Opus):
[ ] 알고리즘 설계
[ ] 계산 로직 구현
[ ] 검증 테스트 케이스

금-수요일 (Sonnet):
[ ] 시각화 UI 구현
[ ] 대화형 컨트롤
[ ] 결과 리포트 생성
```

---

## 📅 개발 타임라인

### Week 1 (10/24-10/30)
```
오늘 (10/24 목요일):
✓ 09:00-13:00: 긴급 워크플로우 수정
✓ 14:00-18:00: 평가자 시스템 설계

금요일 (10/25):
- 평가자 UI 구현 시작
- 모바일 반응형 개선

월-수 (10/28-30):
- 평가자 시스템 완성
- UI/UX 개선 지속
```

### Week 2 (10/31-11/06)
```
목요일 (10/31):
- 고급 분석 알고리즘 설계
- 성능 최적화 전략

금-수:
- 고급 분석 UI 구현
- 테스트 작성
```

### Week 3 (11/07-11/13)
```
- 결제 시스템 설계 및 구현
- PWA 설정
- 최종 테스트
```

---

## 🎯 즉시 시작할 작업

### 지금 바로 (10분 이내)
1. ProjectWorkflow.tsx 파일 열기
2. handleProjectCreated 함수 수정
3. console.log 디버깅 추가

```typescript
// ProjectWorkflow.tsx 수정 시작
const handleProjectCreated = async (projectData: any) => {
  try {
    setLoading(true);
    console.log('🔄 프로젝트 생성 시작:', projectData);
    
    const createdProject = await dataService.createProject({
      // ... 데이터
    });

    // 디버깅 로그 추가
    console.log('✅ 생성된 프로젝트:', createdProject);
    console.log('🔍 프로젝트 ID:', createdProject?.id);
    
    if (!createdProject?.id) {
      throw new Error('프로젝트 ID가 없습니다');
    }

    // localStorage 백업
    localStorage.setItem('currentProjectId', createdProject.id);
    localStorage.setItem('workflowStep', '2');
    
    setWorkflowState(prev => ({
      ...prev,
      currentStep: 2,
      projectId: createdProject.id,
      projectData: createdProject
    }));
    
    console.log('✅ Step 2로 전환 완료');
  } catch (error) {
    console.error('❌ 프로젝트 생성 실패:', error);
    setError('프로젝트 생성 중 오류가 발생했습니다.');
  } finally {
    setLoading(false);
  }
};
```

---

## 📊 성공 지표

### 오늘 완료 목표
- [ ] 프로젝트 생성 → 기준 설정 전환 성공
- [ ] 기준 추가/삭제 기능 작동
- [ ] 대안 추가/삭제 기능 작동
- [ ] 에러 발생 시 사용자 피드백

### 이번 주 완료 목표
- [ ] 전체 워크플로우 5단계 모두 접근 가능
- [ ] 평가자 시스템 설계 완료
- [ ] 모바일 반응형 50% 개선

### 11월 목표
- [ ] MVP 90% 완성
- [ ] 모든 핵심 기능 작동
- [ ] 사용자 테스트 준비 완료

---

**개발 시작**: 2025년 10월 24일 11:45  
**첫 번째 작업**: ProjectWorkflow.tsx 수정  
**예상 완료**: 12:45