# AHP 플랫폼 개발 가이드 - Claude Code 협업 시스템
## 지속적 체계 개발 진행 가이드 (2024-11-11 업데이트)

**프로젝트**: Multi-Layer AHP Decision Support Platform  
**현재 완성도**: 75% (2024-11-11 기준)  
**목표**: MVP 완성 (2024년 12월 말)  
**협력 AI**: Claude Sonnet 4 (일상) + Opus 4.1 (고급설계)  

---

## 🎯 프로젝트 현재 상태 (2024-11-12 기준)

### ✅ 완성된 핵심 영역 (77%)
```
🏆 최근 완료 사항:
├── DB 관리 도구: 100% 완성 ✅ (11/11)
├── 중복 처리 시스템: 100% 완성 ✅ (11/11)
├── 초기화 기능 개선: 100% 완성 ✅ (11/11)
├── 평가자 시스템 설계: 100% 완성 ✅ (11/12 - Opus)
├── AHP 계산 엔진 설계: 100% 완성 ✅ (11/12 - Opus)
├── 페이지 라우팅 시스템: 100% 완성 ✅
├── 인프라 및 인증: 95% 완성 ✅
├── 기본 AHP 프로세스: 85% 완성 🔄
├── UI/UX 기본 시스템: 90% 완성 🔄
├── 데이터베이스 스키마: 95% 완성 ✅
└── CI/CD 파이프라인: 100% 완성 ✅
```

### 🚧 개발 필요 영역 (23%)
```
❌ 우선순위별 개발 계획:
1. ✅ 평가자 시스템 설계 완료 → 구현 필요 (Sonnet)
2. ✅ AHP 계산 엔진 설계 완료 → 구현 필요 (Sonnet)
3. 고급 분석 보고서 (30% → 90%) - Opus 권장  
4. 실시간 모니터링 (35% → 90%) - Sonnet 가능
5. 모바일 최적화 (35% → 85%) - Sonnet 가능
6. 결제 시스템 (0% → 90%) - Opus 필수
7. 성능 최적화 (60% → 90%) - Sonnet/Opus 협업
```

---

## 🤖 AI 역할 분담 전략 (명확한 구분)

### 🧠 Opus 4.1 전담 영역
**복잡한 설계와 알고리즘이 필요한 작업**

#### 1차 우선순위: 평가자 시스템 완성
```
📋 설계 범위:
├── 이메일 발송 아키텍처 (SendGrid/Nodemailer)
├── 대량 초대 처리 시스템 (Queue 기반)
├── 토큰 기반 인증 체계
├── 평가 진행률 실시간 추적
├── 평가자별 권한 관리 시스템
└── 익명 평가 모드 구현
```

#### 2차 우선순위: 고급 분석 엔진
```
📋 설계 범위:
├── 민감도 분석 알고리즘 구현
├── 몬테카를로 시뮬레이션
├── 그룹 의사결정 통합 알고리즘
├── 통계적 유의성 검증
├── 대용량 데이터 처리 최적화
└── 분석 결과 캐싱 전략
```

#### 3차 우선순위: 결제 시스템
```
📋 설계 범위:
├── Stripe/PayPal 결제 통합
├── 구독 모델 비즈니스 로직
├── 결제 보안 및 PCI 준수
├── 환불 처리 시스템
├── 청구서 자동 생성
└── 사용량 기반 과금 모델
```

### ⚡ Sonnet 4 전담 영역
**구현, 디버깅, UI/UX 중심 작업**

#### 즉시 작업 가능한 항목들
```
🔧 이번 주 작업 (11/11-11/17):
├── ESLint 경고 완전 해결 (현재 40개 남음)
├── TypeScript 타입 정의 강화
├── 컴포넌트 단위 테스트 작성 (Jest)
├── 모바일 반응형 최적화
├── 로딩 상태 UI 개선 (스켈레톤 UI)
└── 접근성 (a11y) 개선
```

#### 다음 주 작업 계획 (11/18-11/24)
```
🔧 구현 작업:
├── 실시간 모니터링 대시보드 완성
├── 알림 시스템 UI 구현
├── 데이터 테이블 고급 기능 (필터/정렬/검색)
├── 차트 라이브러리 확장 (Recharts)
├── PWA 설정 완료
└── 오프라인 모드 지원
```

---

## 📊 주간 개발 일정

### 이번 주 (11/11-11/17) - Sonnet 집중
```
월요일 (11/11) - 완료:
├── ✅ DB 초기화 도구 구현
├── ✅ 중복 처리 로직 개선
└── ✅ 개발 문서 정리

화-수요일 (11/12-13):
├── ESLint 경고 해결
├── TypeScript 타입 개선
└── 단위 테스트 작성

목-금요일 (11/14-15):
├── 모바일 최적화
├── 접근성 개선
└── 성능 프로파일링
```

### 다음 주 (11/18-11/24) - Opus + Sonnet
```
월요일 (11/18) - Opus Day:
├── 09:00-12:00: 평가자 시스템 설계
├── 13:00-16:00: 고급 분석 알고리즘 설계
├── 16:00-18:00: 구현 가이드 작성
└── 18:00-19:00: 주간 리뷰

화-일요일 (11/19-24) - Sonnet:
├── Opus 설계 기반 구현
├── UI 컴포넌트 개발
├── 테스트 및 디버깅
└── 문서화 업데이트
```

---

## 🔧 기술 스택 현황

### 현재 사용 중
```javascript
// Frontend
{
  "react": "18.2.0",
  "typescript": "4.9.5",
  "tailwindcss": "3.x",
  "react-router-dom": "6.x",
  "axios": "1.x",
  "recharts": "2.x"
}

// Backend (Django)
{
  "django": "5.0",
  "djangorestframework": "3.x",
  "postgresql": "17.0",
  "redis": "설치 예정",
  "celery": "설치 예정"
}
```

### 추가 도입 예정
```javascript
// 우선순위 높음
{
  "socket.io": "실시간 통신",
  "react-query": "서버 상태 관리",
  "jest": "테스트 프레임워크",
  "cypress": "E2E 테스트"
}

// Opus 설계 후 도입
{
  "bullmq": "작업 큐",
  "sendgrid": "이메일 서비스",
  "stripe": "결제 처리",
  "sentry": "에러 추적"
}
```

---

## 📈 진행 상황 추적

### 완성도 추이
```
10월 3주: 72% 
10월 4주: 73% (+1%)
11월 1주: 74% (+1%)
11월 2주: 75% (+1%) ← 현재
11월 목표: 80% (+5%)
12월 목표: 90% (MVP)
```

### 주요 마일스톤
- [x] 프로젝트 생성 플로우 완성 (10/16)
- [x] 페이지 라우팅 시스템 완성 (10/17)
- [x] CI/CD 파이프라인 구축 (10/19)
- [x] DB 관리 도구 완성 (11/11)
- [ ] 평가자 시스템 완성 (11/30 목표)
- [ ] 고급 분석 기능 완성 (12/7 목표)
- [ ] 결제 시스템 통합 (12/14 목표)
- [ ] MVP 출시 준비 (12/31 목표)

---

## 💡 즉시 실행 가능한 작업 (Sonnet)

### 오늘 바로 시작할 수 있는 작업
1. **코드 품질 개선**
   ```bash
   cd ahp_app_clone
   npm run lint  # ESLint 경고 확인
   # 각 경고를 하나씩 수정
   ```

2. **TypeScript 타입 개선**
   ```typescript
   // any 타입을 구체적인 타입으로 변경
   // 누락된 타입 정의 추가
   // strict 모드 활성화
   ```

3. **테스트 코드 작성**
   ```bash
   # Jest 설정 및 테스트 작성
   npm test
   # 커버리지 80% 목표
   ```

---

## 📝 개발 시 주의사항

### 코드 컨벤션
- TypeScript strict 모드 유지
- 컴포넌트는 함수형으로 작성
- Custom Hook 적극 활용
- 절대 경로 import 사용
- 주석은 필요한 경우만 (코드로 설명)

### Git 커밋 규칙
```
feat: 새로운 기능 추가
fix: 버그 수정
refactor: 코드 리팩토링
style: 코드 포맷팅
docs: 문서 수정
test: 테스트 추가
chore: 기타 변경사항
perf: 성능 개선
```

### 성능 목표
- Lighthouse 점수 90+ 유지
- 번들 크기 500KB 이하
- FCP 1.5초 이내
- TTI 3초 이내
- CLS 0.1 이하

---

## 📋 TODO LIST - 우선순위별 정리

### 🔴 긴급 (이번 주)
```
[ ] ESLint 경고 40개 해결
[ ] TypeScript any 타입 제거
[ ] 모바일 반응형 버그 수정
[ ] 크로스 브라우저 테스트
[ ] 접근성 개선 (WCAG 2.1 AA)
```

### 🟡 중요 (다음 주)
```
[ ] 평가자 초대 UI 구현
[ ] 실시간 알림 시스템
[ ] 데이터 테이블 개선
[ ] PWA 설정
[ ] 단위 테스트 80% 커버리지
```

### 🟢 일반 (이번 달)
```
[ ] 고급 분석 UI
[ ] 결제 통합 준비
[ ] 국제화 (i18n) 준비
[ ] 문서화 개선
[ ] 성능 최적화
```

---

## 🗂️ 개발 기록 저장소

### 개발일지 위치
```
ahp_app_clone/Dev_md_2/
├── 개발현황_20241111.md (최신)
├── 기능별_개발문서/
│   ├── 기준관리_시스템.md
│   ├── DB_초기화_도구.md
│   └── 중복처리_로직.md
└── 이슈_해결_기록/
    ├── 성장성_중복_오류.md
    └── 초기화_버그_수정.md
```

### 백업 저장소
```
GitHub Repositories:
├── ahp_app (메인 - 프론트엔드)
├── ahp-django-service (백엔드)
└── ahp_app_backup_[날짜] (정기 백업)
```

---

## 🚨 긴급 이슈 대응 가이드

### 서버 다운
1. Render.com 상태 확인
2. 로컬 백엔드 실행
3. 임시 서버 전환

### 데이터 손실
1. PostgreSQL 백업 복원
2. 로컬 스토리지 확인
3. 사용자 알림

### 배포 실패
1. GitHub Actions 로그 확인
2. 빌드 에러 수정
3. 수동 배포 실행

---

## 📞 세션 시작 체크리스트

### Sonnet 세션 시작 시
1. [ ] 이전 커밋 확인 (`git log --oneline -5`)
2. [ ] 현재 이슈 확인 (GitHub Issues)
3. [ ] 브랜치 상태 확인 (`git status`)
4. [ ] 개발 서버 시작 (`npm start`)
5. [ ] TODO LIST 확인

### Opus 세션 시작 시
1. [ ] 주간 진행 상황 리뷰
2. [ ] 복잡한 문제 목록 준비
3. [ ] 아키텍처 변경사항 검토
4. [ ] 성능 메트릭 분석
5. [ ] 설계 문서 템플릿 준비

---

**최종 업데이트**: 2024-11-12 01:50 KST  
**다음 Opus 세션**: 2024-11-18 (월요일)  
**현재 완성도**: 77% (+2%)  
**목표 완성도**: 90% (2024년 12월 31일)

## 🆕 Opus 4.1 완료 사항 (2024-11-12)
- ✅ 평가자 시스템 설계 문서 작성 완료
  - DB 스키마 (4개 테이블)
  - API 엔드포인트 (12개)
  - 토큰 시스템, 이메일 아키텍처
  - 실시간 진행률 추적 (WebSocket)
- ✅ AHP 계산 엔진 설계 문서 작성 완료
  - 핵심 알고리즘 (Power Method)
  - 일관성 검증 시스템
  - 계층 구조 통합 계산
  - 그룹 의사결정 통합
- 📁 문서 위치: Dev_md_2/

---

> 📌 **중요**: 이 문서는 Claude Code와의 지속적 협업을 위한 **마스터 가이드**입니다.
> 매 세션마다 이 문서를 참조하여 일관성 있는 개발을 진행하세요.
> Sonnet은 일상적인 구현을, Opus는 복잡한 설계를 담당합니다.