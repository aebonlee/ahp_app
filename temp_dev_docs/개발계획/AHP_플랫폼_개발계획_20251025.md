# AHP í”Œë«í¼ ê°œë°œ ê³„íš ë° ì—­í•  ë¶„ë‹´
**ì‘ì„±ì¼**: 2025-10-25  
**í˜„ì¬ ì™„ì„±ë„**: 73%  
**ëª©í‘œ ì™„ì„±ë„**: 90% (2025ë…„ 11ì›” 30ì¼)

---

## ğŸš¨ ê¸´ê¸‰ í•´ê²° ê³¼ì œ

### 1. ëª¨ë¸ êµ¬ì¶• ì‹œê°í™” ë²„ê·¸ (ìµœìš°ì„ )
**ë¬¸ì œ ìƒí™©**:
- ì¼ê´„ ì…ë ¥ìœ¼ë¡œ êµ¬ì¡° ë¶„ì„ê¹Œì§€ëŠ” ì™„ë£Œë˜ë‚˜ ì‹œê°í™” ì•ˆ ë¨
- ê¸°ì¤€ì´ ì…ë ¥ë˜ì—ˆìœ¼ë‚˜ UIì— í‘œì‹œë˜ì§€ ì•ŠìŒ
- ë‹¤ìŒ ë‹¨ê³„(ëŒ€ì•ˆ ì…ë ¥, í‰ê°€ì ë°°ì •) ì§„í–‰ ë¶ˆê°€

**ë¬¸ì œ ë¶„ì„**:
```typescript
// CriteriaManagement.tsx í•µì‹¬ ë¡œì§
const handleBulkImport = (importedCriteria: Criterion[]) => {
  const hierarchicalCriteria = buildHierarchy(normalizedCriteria);
  setTempCriteria(hierarchicalCriteria);  // ì—¬ê¸°ì„œ ì„¤ì •
  setCriteria(hierarchicalCriteria);
  setHasTempChanges(true);
};

// ë Œë”ë§ ë¡œì§
{editMode ? (
  renderEditableCriteriaList(hasTempChanges ? tempCriteria : criteria)
) : (
  <HierarchyTreeVisualization nodes={getAllCriteria(criteria)} />
)}
```

**ì¶”ì • ì›ì¸**:
1. `buildHierarchy` í•¨ìˆ˜ì˜ parent-child ì—°ê²° ì‹¤íŒ¨
2. `editMode` ìƒíƒœì™€ ì‹œê°í™” ëª¨ë“œ ì „í™˜ ë¬¸ì œ
3. `tempCriteria`ì™€ `criteria` ë™ê¸°í™” ë¬¸ì œ
4. `HierarchyTreeVisualization` ì»´í¬ë„ŒíŠ¸ ë Œë”ë§ ì˜¤ë¥˜

**í•´ê²° ë°©ì•ˆ**:
- buildHierarchy ë¡œì§ ë””ë²„ê¹… ë° ìˆ˜ì •
- ì‹œê°í™” ëª¨ë“œ ì „í™˜ ë¡œì§ ê²€ì¦
- ë°ì´í„° íë¦„ ì¶”ì  ë° ìƒíƒœ ê´€ë¦¬ ê°œì„ 

---

## ğŸ¯ í•µì‹¬ ê°œë°œ ëª©í‘œ

### Phase 1: ëª¨ë¸ êµ¬ì¶• ì•ˆì •í™” (10/25-10/27)
**ë‹´ë‹¹**: Opus + Sonnet ê¸´ê¸‰ í˜‘ì—…

1. **ì¼ê´„ ì…ë ¥ ì‹œê°í™” ë³µêµ¬**
   - buildHierarchy í•¨ìˆ˜ ì™„ì „ ì¬ì‘ì„±
   - ê³„ì¸µ êµ¬ì¡° ë°ì´í„° ê²€ì¦ ë¡œì§ ì¶”ê°€
   - UI ë Œë”ë§ íŒŒì´í”„ë¼ì¸ ì ê²€

2. **ë°ì´í„° ì˜ì†ì„± ë³´ì¥**
   - localStorage ë°±ì—… ê°•í™”
   - ì„œë²„ ë™ê¸°í™” ê²€ì¦
   - ì—ëŸ¬ ë³µêµ¬ ë©”ì»¤ë‹ˆì¦˜

### Phase 2: í‰ê°€ì ì‹œìŠ¤í…œ êµ¬í˜„ (10/28-11/03)
**ë‹´ë‹¹**: Opus ì„¤ê³„, Sonnet êµ¬í˜„

1. **í‰ê°€ì ë°°ì • ì›Œí¬í”Œë¡œìš°**
```typescript
interface EvaluatorAssignment {
  evaluator_id: string;
  email: string;
  name: string;
  project_id: string;
  access_token: string;
  evaluation_link: string;
  qr_code_url: string;
  demographic_survey_id?: string;
  status: 'pending' | 'invited' | 'active' | 'completed';
}
```

2. **ì´ë©”ì¼/ë§í¬ ë°œì†¡ ì‹œìŠ¤í…œ**
   - SendGrid/Nodemailer í†µí•©
   - ì¼ê´„ ì´ˆëŒ€ ê¸°ëŠ¥
   - ì´ˆëŒ€ ìƒíƒœ ì¶”ì 

3. **QR ì½”ë“œ ìƒì„± ë° ê´€ë¦¬**
   - ê³ ìœ  í‰ê°€ ë§í¬ ìƒì„±
   - QR ì½”ë“œ ì´ë¯¸ì§€ ìƒì„±
   - ë‹¤ìš´ë¡œë“œ ê¸°ëŠ¥

4. **ì¸êµ¬í†µê³„í•™ì  ì„¤ë¬¸ ì—°ë™**
   - ì„¤ë¬¸ í…œí”Œë¦¿ ê´€ë¦¬
   - í‰ê°€ìë³„ ì„¤ë¬¸ í• ë‹¹
   - ì‘ë‹µ ë°ì´í„° ìˆ˜ì§‘

### Phase 3: í‰ê°€ í”„ë¡œì„¸ìŠ¤ ì™„ì„± (11/04-11/10)
**ë‹´ë‹¹**: Sonnet ì£¼ë„

1. **ìµëª… í‰ê°€ ì¸í„°í˜ì´ìŠ¤**
   - í† í° ê¸°ë°˜ ì ‘ê·¼
   - ìŒëŒ€ë¹„êµ UI
   - ìë™ ì €ì¥ ê¸°ëŠ¥

2. **ì‹¤ì‹œê°„ ì§„í–‰ë¥  ì¶”ì **
   - í‰ê°€ìë³„ ì§„í–‰ ìƒíƒœ
   - í”„ë¡œì íŠ¸ ì „ì²´ ì§„í–‰ë¥ 
   - ì•Œë¦¼ ì‹œìŠ¤í…œ

### Phase 4: ë¶„ì„ ë° ë³´ê³ ì„œ (11/11-11/20)
**ë‹´ë‹¹**: Opus ì•Œê³ ë¦¬ì¦˜, Sonnet UI

1. **AHP ê³„ì‚° ì—”ì§„**
   - ì¼ê´€ì„± ë¹„ìœ¨ ê²€ì¦
   - ê°€ì¤‘ì¹˜ ê³„ì‚°
   - ë¯¼ê°ë„ ë¶„ì„

2. **ë³´ê³ ì„œ ìƒì„±**
   - PDF ë‚´ë³´ë‚´ê¸°
   - ì°¨íŠ¸ ë° ê·¸ë˜í”„
   - í†µê³„ ë¶„ì„

---

## ğŸ‘¥ ì—­í•  ë¶„ë‹´ ë§¤íŠ¸ë¦­ìŠ¤

### Opus ì „ë‹´ (ë³µì¡ë„ ë†’ìŒ)
| ì˜ì—­ | ì‘ì—… ë‚´ìš© | ì˜ˆìƒ ì‹œê°„ |
|------|----------|-----------|
| í‰ê°€ì ì‹œìŠ¤í…œ ì„¤ê³„ | ì´ë©”ì¼ ë°œì†¡ ì•„í‚¤í…ì²˜, í† í° ê´€ë¦¬ | 8ì‹œê°„ |
| AHP ì•Œê³ ë¦¬ì¦˜ | CR ê³„ì‚°, ê°€ì¤‘ì¹˜ í†µí•©, ë¯¼ê°ë„ ë¶„ì„ | 12ì‹œê°„ |
| ë³´ì•ˆ ì„¤ê³„ | í† í° ê¸°ë°˜ ì¸ì¦, ë°ì´í„° ì•”í˜¸í™” | 6ì‹œê°„ |
| ì„±ëŠ¥ ìµœì í™” | ëŒ€ìš©ëŸ‰ ë°ì´í„° ì²˜ë¦¬, ìºì‹± ì „ëµ | 8ì‹œê°„ |

### Sonnet ì „ë‹´ (êµ¬í˜„ ì¤‘ì‹¬)
| ì˜ì—­ | ì‘ì—… ë‚´ìš© | ì˜ˆìƒ ì‹œê°„ |
|------|----------|-----------|
| UI/UX êµ¬í˜„ | ì»´í¬ë„ŒíŠ¸ ê°œë°œ, ë°˜ì‘í˜• ë””ìì¸ | ì§€ì†ì  |
| API ì—°ë™ | í”„ë¡ íŠ¸-ë°±ì—”ë“œ í†µì‹  | ì§€ì†ì  |
| ë²„ê·¸ ìˆ˜ì • | ë””ë²„ê¹…, í…ŒìŠ¤íŠ¸ | ì§€ì†ì  |
| ë¬¸ì„œí™” | ì½”ë“œ ì£¼ì„, ì‚¬ìš©ì ê°€ì´ë“œ | ì£¼ 2ì‹œê°„ |

### í˜‘ì—… í•„ìš” ì˜ì—­
| ì˜ì—­ | Opus ì—­í•  | Sonnet ì—­í•  |
|------|----------|------------|
| ëª¨ë¸ êµ¬ì¶• ë²„ê·¸ | ì•Œê³ ë¦¬ì¦˜ ê²€ì¦ | ë””ë²„ê¹… ë° ìˆ˜ì • |
| í‰ê°€ì ì‹œìŠ¤í…œ | ì•„í‚¤í…ì²˜ ì„¤ê³„ | UI êµ¬í˜„ |
| ì„±ëŠ¥ ìµœì í™” | ì „ëµ ìˆ˜ë¦½ | êµ¬í˜„ ë° í…ŒìŠ¤íŠ¸ |

---

## ğŸ“… ì£¼ì°¨ë³„ ê°œë°œ ì¼ì •

### 10ì›” 4ì£¼ (10/25-10/31)
```
âœ… 10/25 (ê¸ˆ): ëª¨ë¸ êµ¬ì¶• ë²„ê·¸ ë¶„ì„ ë° ìˆ˜ì • ì‹œì‘
â¬œ 10/26 (í† ): ì‹œê°í™” ë¬¸ì œ ì™„ì „ í•´ê²°
â¬œ 10/27 (ì¼): í…ŒìŠ¤íŠ¸ ë° ê²€ì¦
â¬œ 10/28 (ì›”): í‰ê°€ì ë°°ì • UI ê°œë°œ
â¬œ 10/29 (í™”): ì´ë©”ì¼ ë°œì†¡ ì‹œìŠ¤í…œ êµ¬í˜„
â¬œ 10/30 (ìˆ˜): QR ì½”ë“œ ê¸°ëŠ¥ ì¶”ê°€
â¬œ 10/31 (ëª©): Opus Day - ê³ ê¸‰ ì„¤ê³„ ë° ê²€í† 
```

### 11ì›” 1ì£¼ (11/01-11/07)
```
â¬œ 11/01-03: í‰ê°€ì ì‹œìŠ¤í…œ í†µí•© í…ŒìŠ¤íŠ¸
â¬œ 11/04-06: ìµëª… í‰ê°€ ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„
â¬œ 11/07 (ëª©): Opus Day - AHP ì•Œê³ ë¦¬ì¦˜ ì„¤ê³„
```

### 11ì›” 2ì£¼ (11/08-11/14)
```
â¬œ 11/08-10: AHP ê³„ì‚° ì—”ì§„ êµ¬í˜„
â¬œ 11/11-13: ë³´ê³ ì„œ ìƒì„± ê¸°ëŠ¥
â¬œ 11/14 (ëª©): Opus Day - ì„±ëŠ¥ ìµœì í™”
```

### 11ì›” 3ì£¼ (11/15-11/21)
```
â¬œ 11/15-17: í†µí•© í…ŒìŠ¤íŠ¸
â¬œ 11/18-20: ë²„ê·¸ ìˆ˜ì • ë° ê°œì„ 
â¬œ 11/21 (ëª©): Opus Day - ìµœì¢… ê²€í† 
```

### 11ì›” 4ì£¼ (11/22-11/30)
```
â¬œ 11/22-24: ìµœì¢… í…ŒìŠ¤íŠ¸
â¬œ 11/25-27: ë¬¸ì„œí™” ì™„ì„±
â¬œ 11/28-30: MVP ì¶œì‹œ ì¤€ë¹„
```

---

## ğŸ”§ ê¸°ìˆ ì  êµ¬í˜„ ìƒì„¸

### 1. ëª¨ë¸ êµ¬ì¶• ì‹œê°í™” ìˆ˜ì • ë°©ì•ˆ

#### A. buildHierarchy í•¨ìˆ˜ ì¬ì„¤ê³„
```typescript
const buildHierarchy = (flatCriteria: Criterion[]): Criterion[] => {
  // 1. ID ì •ê·œí™” (ë¬¸ìì—´ í†µì¼)
  const normalizedCriteria = flatCriteria.map(c => ({
    ...c,
    id: String(c.id),
    parent_id: c.parent_id ? String(c.parent_id) : null
  }));
  
  // 2. ë§µ ìƒì„± ë° ê²€ì¦
  const criteriaMap = new Map<string, Criterion>();
  const orphans: Criterion[] = [];
  
  // 3. ê³„ì¸µ êµ¬ì¡° êµ¬ì„± with fallback
  // ... êµ¬í˜„ ë¡œì§
  
  return rootCriteria;
};
```

#### B. ì‹œê°í™” ì»´í¬ë„ŒíŠ¸ ê°œì„ 
```typescript
// ë°ì´í„° ê²€ì¦ ë ˆì´ì–´ ì¶”ê°€
const validateAndRenderCriteria = (criteria: Criterion[]) => {
  if (!criteria || criteria.length === 0) {
    return <EmptyState message="ê¸°ì¤€ì´ ì—†ìŠµë‹ˆë‹¤" />;
  }
  
  // ê³„ì¸µ êµ¬ì¡° ê²€ì¦
  const isValidHierarchy = validateHierarchy(criteria);
  if (!isValidHierarchy) {
    return <ErrorState message="ê³„ì¸µ êµ¬ì¡° ì˜¤ë¥˜" onRetry={rebuild} />;
  }
  
  return <HierarchyTreeVisualization nodes={criteria} />;
};
```

### 2. í‰ê°€ì ë°°ì • ì‹œìŠ¤í…œ ì„¤ê³„

#### A. ë°ì´í„° ëª¨ë¸
```typescript
interface EvaluationSession {
  id: string;
  project_id: string;
  evaluator: {
    id: string;
    email: string;
    name: string;
  };
  access_token: string;
  evaluation_url: string;
  qr_code: string;
  demographic_survey?: {
    id: string;
    questions: Question[];
    responses?: any;
  };
  status: SessionStatus;
  created_at: Date;
  expires_at: Date;
}
```

#### B. ì´ë©”ì¼ ë°œì†¡ í”Œë¡œìš°
```typescript
const sendEvaluationInvitation = async (evaluator: Evaluator) => {
  // 1. í† í° ìƒì„±
  const token = generateSecureToken();
  
  // 2. í‰ê°€ URL ìƒì„±
  const evaluationUrl = `${BASE_URL}/evaluate/${project_id}?token=${token}`;
  
  // 3. QR ì½”ë“œ ìƒì„±
  const qrCode = await generateQRCode(evaluationUrl);
  
  // 4. ì´ë©”ì¼ í…œí”Œë¦¿ ë Œë”ë§
  const emailContent = renderEmailTemplate({
    evaluator,
    projectInfo,
    evaluationUrl,
    qrCode,
    demographicSurveyUrl
  });
  
  // 5. ì´ë©”ì¼ ë°œì†¡
  await sendEmail({
    to: evaluator.email,
    subject: `AHP í‰ê°€ ì´ˆëŒ€: ${projectInfo.name}`,
    html: emailContent
  });
};
```

### 3. QR ì½”ë“œ ìƒì„± ë° ê´€ë¦¬

```typescript
import QRCode from 'qrcode';

const generateEvaluationQR = async (evaluationData: {
  projectId: string;
  evaluatorId: string;
  token: string;
}) => {
  const url = constructEvaluationURL(evaluationData);
  
  const qrOptions = {
    errorCorrectionLevel: 'M',
    type: 'image/png',
    quality: 0.92,
    margin: 1,
    color: {
      dark: '#000000',
      light: '#FFFFFF'
    },
    width: 256
  };
  
  const qrDataURL = await QRCode.toDataURL(url, qrOptions);
  return qrDataURL;
};
```

---

## ğŸ“Š ì„±ê³µ ì§€í‘œ

### ë‹¨ê¸° ëª©í‘œ (10ì›” ë§)
- [ ] ëª¨ë¸ êµ¬ì¶• ì‹œê°í™” 100% ë³µêµ¬
- [ ] í‰ê°€ì ë°°ì • UI ì™„ì„±
- [ ] ì´ë©”ì¼ ë°œì†¡ í…ŒìŠ¤íŠ¸ ì„±ê³µ

### ì¤‘ê¸° ëª©í‘œ (11ì›” ì¤‘ìˆœ)
- [ ] í‰ê°€ í”„ë¡œì„¸ìŠ¤ E2E í…ŒìŠ¤íŠ¸ ì™„ë£Œ
- [ ] 10ëª… ì´ìƒ ë™ì‹œ í‰ê°€ ì§€ì›
- [ ] ë³´ê³ ì„œ ìë™ ìƒì„± êµ¬í˜„

### ì¥ê¸° ëª©í‘œ (11ì›” ë§)
- [ ] MVP ì™„ì„±ë„ 90% ë‹¬ì„±
- [ ] ì‹¤ì œ í”„ë¡œì íŠ¸ 1ê±´ ì´ìƒ ìˆ˜í–‰
- [ ] ì‚¬ìš©ì í”¼ë“œë°± ë°˜ì˜

---

## ğŸš€ ì¦‰ì‹œ ì‹¤í–‰ í•­ëª©

### ì˜¤ëŠ˜ (10/25) ìˆ˜í–‰í•  ì‘ì—…
1. âœ… ê°œë°œ ê³„íš ë¬¸ì„œ ì‘ì„±
2. ğŸ”„ ëª¨ë¸ êµ¬ì¶• ë²„ê·¸ ì›ì¸ ë¶„ì„
3. â¬œ buildHierarchy í•¨ìˆ˜ ë””ë²„ê¹…
4. â¬œ ì‹œê°í™” ë Œë”ë§ ë¡œì§ ì ê²€
5. â¬œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì‘ì„±

### ë‚´ì¼ (10/26) ì˜ˆì • ì‘ì—…
1. â¬œ ë²„ê·¸ ìˆ˜ì • êµ¬í˜„
2. â¬œ í†µí•© í…ŒìŠ¤íŠ¸
3. â¬œ í‰ê°€ì ì‹œìŠ¤í…œ ì„¤ê³„ ì´ˆì•ˆ

---

## ğŸ“ ì°¸ê³ ì‚¬í•­

### ê¸°ìˆ  ìŠ¤íƒ
- **Frontend**: React 18, TypeScript, TailwindCSS
- **Backend**: Django 5.0, PostgreSQL
- **Email**: SendGrid (ì˜ˆì •)
- **QR Code**: qrcode.js
- **Charts**: Recharts

### ì£¼ìš” íŒŒì¼ ê²½ë¡œ
```
src/components/admin/
â”œâ”€â”€ CriteriaManagement.tsx (ë¬¸ì œ ë°œìƒ)
â”œâ”€â”€ ProjectWorkflow.tsx
â”œâ”€â”€ AlternativeManagement.tsx
â””â”€â”€ EvaluatorAssignment.tsx (ê°œë°œ ì˜ˆì •)

src/components/criteria/
â”œâ”€â”€ BulkCriteriaInput.tsx
â””â”€â”€ HierarchyTreeVisualization.tsx

src/services/
â”œâ”€â”€ dataService_clean.ts
â””â”€â”€ evaluatorService.ts (ê°œë°œ ì˜ˆì •)
```

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2025-10-25 ì˜¤í›„
**ë‹¤ìŒ Opus ì„¸ì…˜**: 2025-10-31 (ëª©ìš”ì¼)
**ê¸´ê¸‰ë„**: ğŸ”´ ë§¤ìš° ë†’ìŒ (ëª¨ë¸ êµ¬ì¶• ë²„ê·¸)