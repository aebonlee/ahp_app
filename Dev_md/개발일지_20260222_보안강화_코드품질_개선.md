# ê°œë°œì¼ì§€ - 2026-02-22
## ë³´ì•ˆ ê°•í™” ë° ì½”ë“œ í’ˆì§ˆ ê°œì„ 

---

## ğŸ“‹ ì‘ì—… ê°œìš”

**ì‘ì—… ìœ í˜•**: ë³´ì•ˆ ê°•í™” + ì½”ë“œ í’ˆì§ˆ ê°œì„  (Dead Code / ì˜¤í•´ì„± ì½”ë“œ ì •ë¦¬)
**ì‘ì—… ë²”ìœ„**: `D:\ahp_app\ahp_app\src\` ì „ì²´
**ì»¤ë°‹ ìˆ˜**: 5ê°œ ì»¤ë°‹
**ë¸Œëœì¹˜**: `main`
**ë°°í¬ ëŒ€ìƒ**: GitHub Pages (`https://aebonlee.github.io/ahp_app`)

---

## ğŸ” ì‘ì—… ë°°ê²½

2026-02-20 ë°ë“œì½”ë“œ ëŒ€ê·œëª¨ ì •ë¦¬(73976c2) ì´í›„ ë°œê²¬ëœ ì¶”ê°€ ë¬¸ì œë“¤:

1. `admin@ahp.com` ìŠˆí¼ ê´€ë¦¬ì ì´ë©”ì¼ì´ 10ì—¬ ê°œ íŒŒì¼ì— ë¬¸ìì—´ ë¦¬í„°ëŸ´ë¡œ í•˜ë“œì½”ë”© â†’ DRY ìœ„ë°˜ + í™˜ê²½ë³„ ë³€ê²½ ë¶ˆê°€
2. `ENCRYPTION_SECRET` ì•”í˜¸í™” í‚¤ê°€ ì†ŒìŠ¤ì½”ë“œì— í•˜ë“œì½”ë”© â†’ ìš´ì˜ í™˜ê²½ì—ì„œë„ ë™ì¼ í‚¤ ê°•ì œ ì‚¬ìš©
3. `Math.random()`ì´ React ë Œë”ë§ ê²½ë¡œì—ì„œ í˜¸ì¶œ â†’ ë Œë”ë§ˆë‹¤ ê°’ì´ ë°”ë€Œì–´ UI ê¹œë¹¡ì„(flickering) ë²„ê·¸ ë°œìƒ
4. `ExportManager.tsx`ê°€ ì‹¤ì œ DB ë°ì´í„°ê°€ ì•„ë‹Œ ê»ë°ê¸°ë§Œ ë‚´ë³´ë‚´ëŠ” êµ¬ì¡° â†’ ì‹¤ì œ ë°ì´í„° ì—°ê²° í•„ìš”
5. AI í˜ì´ì§€ë“¤ì˜ `// TODO: real API call` ì£¼ì„ì´ ì´ë¯¸ êµ¬í˜„ëœ ë¡œì§ì— ë¶™ì–´ ìˆì–´ í˜¼ë™ ìœ ë°œ
6. ë¯¸ì‚¬ìš© `isLoading` ìƒíƒœ, ë¹ˆ catch ë¸”ë¡, `disabled={false}` ë¶ˆí•„ìš” ì†ì„± ë“± ì†Œê·œëª¨ ë°ë“œ ì½”ë“œ

---

## âœ… ì™„ë£Œëœ ì‘ì—… ëª©ë¡

### 1. SUPER_ADMIN_EMAIL ìƒìˆ˜ ì¤‘ì•™í™” (ì»¤ë°‹ `0c3c62c`)

**ë¬¸ì œ**: `'admin@ahp.com'`ì´ ë‹¤ìŒ íŒŒì¼ë“¤ì— ê°ê° í•˜ë“œì½”ë”©:
- `App.tsx` (5ê³³) - localStorage ë³µì›, ë¡œê·¸ì¸, ì¬ê²€ì¦ ì‹œ role ê°•ì œ ì„¤ì •
- `authService.ts` (2ê³³) - JWT ë¡œê·¸ì¸, `/me` ì¡°íšŒ í›„ role ì„¤ì •
- `PersonalServiceDashboard.tsx` (3ê³³) - isAdminEmail ì²´í¬, USER_PLANS í‚¤
- `Sidebar.tsx` (2ê³³) - isAdminEmail ì²´í¬ (ì¼ë°˜/ì†Œë¬¸ì ë¹„êµ í¬í•¨)
- `Header.tsx` (1ê³³) - isAdminEmail ì²´í¬
- `AllProjectsManagement.tsx` (1ê³³) - mock ë°ì´í„° owner.email
- `SystemSettings.tsx` (1ê³³) - ì„¤ì • í¼ adminEmail ê¸°ë³¸ê°’

**í•´ê²°**: `src/config/api.ts`ì— ë‹¨ì¼ ìƒìˆ˜ ì¶”ê°€:
```typescript
export const SUPER_ADMIN_EMAIL =
  process.env.REACT_APP_SUPER_ADMIN_EMAIL || 'admin@ahp.com';
```
- ëª¨ë“  10+ê°œ í•˜ë“œì½”ë”© ìœ„ì¹˜ì—ì„œ `SUPER_ADMIN_EMAIL` import í›„ êµì²´
- `.env` íŒŒì¼ ë˜ëŠ” CI í™˜ê²½ë³€ìˆ˜(`REACT_APP_SUPER_ADMIN_EMAIL`)ë¡œ ìš´ì˜ í™˜ê²½ì—ì„œ ê°’ ë³€ê²½ ê°€ëŠ¥

---

### 2. ENCRYPTION_SECRET í™˜ê²½ë³€ìˆ˜í™” (ì»¤ë°‹ `0c3c62c`)

**ë¬¸ì œ**: `src/utils/secureStorage.ts`ì˜ XOR ì•”í˜¸í™” í‚¤ê°€ ì†ŒìŠ¤ì½”ë“œì— ê³ ì •:
```typescript
// ì´ì „:
const ENCRYPTION_SECRET = 'ahp_platform_2025';

// ì´í›„:
const ENCRYPTION_SECRET =
  process.env.REACT_APP_ENCRYPTION_SECRET || 'ahp_platform_2025';
```
- ìš´ì˜ í™˜ê²½ì—ì„œ í™˜ê²½ë³€ìˆ˜ë¡œ ë³„ë„ í‚¤ ì„¤ì • ê°€ëŠ¥
- `.env` ë¯¸ì„¤ì • ì‹œ ê¸°ì¡´ fallback ìœ ì§€ (í•˜ìœ„ í˜¸í™˜ì„±)

---

### 3. Math.random() ë Œë”ë§ ë²„ê·¸ ìˆ˜ì • (ì»¤ë°‹ `511b2b8`)

#### `src/components/modeling/ModelVisualization.tsx`
**ë¬¸ì œ**: ì¢…í•© ì ìˆ˜ í…Œì´ë¸”ì˜ ëŒ€ì•ˆë³„ ì ìˆ˜ë¥¼ `Math.random() * 0.5 + 0.25`ë¡œ ê³„ì‚°
- React ë Œë”ë§ë§ˆë‹¤ ìƒˆ ë‚œìˆ˜ â†’ í…Œì´ë¸”ì´ ê³„ì† ê¹œë¹¡ì„ (flickering ë²„ê·¸)
- ì‹¤ì œ AHP ê²°ê³¼ê°€ ì•„ë‹Œ ì„ì‹œ ë°ì´í„°

**í•´ê²°**: ì‹¤ì œ ê³„ì‚° ê²°ê³¼ê°€ ì—†ì„ ë•Œ `â€”` í”Œë ˆì´ìŠ¤í™€ë” í‘œì‹œ
```tsx
// ì´ì „ (ë Œë”ë§ˆë‹¤ ëœë¤):
const scores = criteria.map(() => Math.random() * 0.5 + 0.25);
<td>{scores[i].toFixed(4)}</td>

// ì´í›„ (ì•ˆì •ì ):
<td className="text-gray-400">â€”</td>
```

#### `src/components/evaluation/QRCodeEvaluatorAssignment.tsx`
**ë¬¸ì œ**: `useEffect` + `setInterval`ë¡œ ì„¸ì…˜ ìƒíƒœë¥¼ ëœë¤í•˜ê²Œ ë³€í™˜í•˜ëŠ” ê°€ì§œ í´ë§ ë£¨í”„ ì¡´ì¬
- pendingâ†’activeâ†’completed ì „í™˜ì„ `Math.random()`ìœ¼ë¡œ ê²°ì •
- ì‹¤ì œ ë°±ì—”ë“œ ì—†ì´ ê°€ì§œ ì§„í–‰ë¥  í‘œì‹œ

**í•´ê²°**: ê°€ì§œ í´ë§ ë£¨í”„ ì „ì²´ ì œê±°, TODO ì£¼ì„ìœ¼ë¡œ ëŒ€ì²´:
```typescript
// TODO: replace with real API polling for session status
// e.g. setInterval(() => api.getSessionStatuses(...), 5000)
```

---

### 4. ExportManager ì‹¤ì œ ë°ì´í„° ì—°ê²° (ì»¤ë°‹ `9312a28`)

**ë¬¸ì œ**: `ExportManager.tsx`ê°€ CSV ë‚´ë³´ë‚´ê¸° ì‹œ ì‹¤ì œ DB ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ì§€ ì•Šê³  ë¹ˆ íŒŒì¼ ìƒì„±

**í•´ê²°**:
- `dataService.getCriteria(projectId)` â†’ í‰ê°€ ê¸°ì¤€ ì‹¤ì œ fetch
- `dataService.getAlternatives(projectId)` â†’ ëŒ€ì•ˆ ì‹¤ì œ fetch
- `dataService.getPairwiseComparisons(projectId)` â†’ ìŒëŒ€ë¹„êµ ë°ì´í„° ì‹¤ì œ fetch
- UTF-8 BOM(`\uFEFF`) ì¶”ê°€ â†’ í•œê¸€ Excelì—ì„œ ê¹¨ì§ ì—†ì´ ì—´ë¦¼
- Firefox í˜¸í™˜: `document.body.appendChild(a) â†’ a.click() â†’ removeChild(a)`
- ë¯¸ì‚¬ìš© `ProjectExportData` ì¸í„°í˜ì´ìŠ¤ ë° `includeCharts` ì˜µì…˜ ì œê±°

---

### 5. EvaluatorOnlyDashboard ì´ˆëŒ€ ì½”ë“œ ì²˜ë¦¬ (ì»¤ë°‹ `9312a28`)

**ë¬¸ì œ**: ì´ˆëŒ€ ì½”ë“œ ì…ë ¥ í›„ `onTabChange('pairwise-evaluation')` ì´ë™ ì‹œ ì½”ë“œê°€ ì „ë‹¬ë˜ì§€ ì•ŠìŒ

**í•´ê²°**: í˜ì´ì§€ ì „í™˜ ì „ `sessionStorage`ì— ì €ì¥:
```typescript
const code = invitationCode.trim();
if (code) {
  sessionStorage.setItem('ahp_evaluator_access_key', code);
  onTabChange('pairwise-evaluation');
}
```

---

### 6. ì˜¤í•´ì„± TODO ì£¼ì„ ì •ë¦¬ (ì»¤ë°‹ `05d39ca`)

ì´ë¯¸ êµ¬í˜„ëœ ë¡œì§ì— ë¶™ì–´ìˆë˜ `// TODO: real API call` ì£¼ì„ë“¤ì„ ëª…í™•í•œ ì„¤ëª…ìœ¼ë¡œ êµì²´:

| íŒŒì¼ | ì¡°ì¹˜ |
|------|------|
| `AIPaperGenerationPage.tsx` | TODO ì œê±° (`generateSectionContent()`ê°€ ì‹¤ì œ êµ¬í˜„) |
| `AIQualityValidationPage.tsx` | TODO ì œê±° (aiService ê²°ê³¼ê°€ spreadë¡œ mergeë¨) |
| `AIResultsInterpretationPage.tsx` | "ì •ì  ì¸ì‚¬ì´íŠ¸ (ë¶„ì„ ê²°ê³¼ ê¸°ë°˜ í…œí”Œë¦¿)"ìœ¼ë¡œ êµì²´ |
| `AIMaterialsGenerationPage.tsx` | `generateMockContent` â†’ `generateTemplateContent` ë¦¬ë„¤ì„, TODO ì œê±° |
| `PaperManagement.tsx` | TODO ì œê±° (UI ë™ì‘ ì´ë¯¸ ì •ì˜ë¨) |
| `ProjectCreation.tsx` | TODO ì œê±° (ì˜ë„ì  í´ë°± ì„ì„ ì£¼ì„ìœ¼ë¡œ ëª…ì‹œ) |
| `SurveyManagementSystem.tsx` | PDF ë²„íŠ¼ TODO ì œê±° (info ë©”ì‹œì§€ í‘œì‹œê°€ ì˜¬ë°”ë¥¸ ë™ì‘) |

---

### 7. ì†Œê·œëª¨ Dead Code ì œê±° (ì»¤ë°‹ `e9e1c43`)

#### `src/components/workshop/ParticipantManager.tsx`
- `const [isLoading, setIsLoading] = useState(false)` ì œê±°
  - `sendReminder()` í•¨ìˆ˜ì—ì„œ set/unset ë˜ì§€ë§Œ JSXì—ì„œ **í•œ ë²ˆë„ ë Œë”ë§ë˜ì§€ ì•ŠìŒ**
  - `async` í‚¤ì›Œë“œë„ ë¶ˆí•„ìš”í•˜ì—¬ ì¼ë°˜ í•¨ìˆ˜ë¡œ ë³€ê²½

#### `src/components/admin/PersonalServiceDashboard.tsx`
- í”„ë¡œì íŠ¸ ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨ ì‹œ ë¹ˆ catch ë¸”ë¡ â†’ ì‚¬ìš©ì ì˜¤ë¥˜ ë©”ì‹œì§€ í‘œì‹œ:
```typescript
// ì´ì „: // project data load failed silently
// ì´í›„:
showActionMessage('error', 'í”„ë¡œì íŠ¸ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
```

#### `src/components/admin/EvaluatorAssignment.tsx`
- `<Button disabled={false}>` â†’ `disabled` ì†ì„± ì œê±° (ê¸°ë³¸ê°’ false, ë¶ˆí•„ìš”)

---

## ğŸ“Š ì‘ì—… ì„±ê³¼ ìš”ì•½

| í•­ëª© | ìˆ˜ì¹˜ |
|------|------|
| í•˜ë“œì½”ë”© ë¬¸ìì—´ ì¤‘ì•™í™” | `admin@ahp.com` 10+ ê³³ â†’ ë‹¨ì¼ ìƒìˆ˜ |
| ë³´ì•ˆ ê°œì„  | ì•”í˜¸í™” í‚¤ í™˜ê²½ë³€ìˆ˜í™” (`ENCRYPTION_SECRET`) |
| ë Œë”ë§ ë²„ê·¸ ìˆ˜ì • | Math.random() 2ê°œ íŒŒì¼ì—ì„œ ì œê±° |
| ì‹¤ì œ ë°ì´í„° ì—°ê²° | ExportManager CSV ë‚´ë³´ë‚´ê¸° |
| ì˜¤í•´ì„± TODO ì œê±° | 7ê°œ íŒŒì¼ ì£¼ì„ ì •ë¦¬ |
| Dead Code ì œê±° | isLoading ìƒíƒœ, ë¹ˆ catch, disabled={false} |
| ì»¤ë°‹ ìˆ˜ | **5ê°œ** |
| TypeScript ì˜¤ë¥˜ | **0ê°œ** |

---

## ğŸ›¡ï¸ ì•ˆì „ì„± ê²€ì¦

- ê° ë³€ê²½ í›„ `npx tsc --noEmit` ì‹¤í–‰ â†’ ì „ ì»¤ë°‹ TypeScript ì˜¤ë¥˜ **0ê°œ**
- `admin@ahp.com` êµì²´ í›„ Grep ì¬í™•ì¸ â†’ ì •ì˜ë¶€ 1ê³³(`config/api.ts`)ë§Œ ë‚¨ìŒ
- `Math.random()` ì œê±° í›„ UI ì•ˆì •ì„± í™•ì¸

---

## ğŸš€ Git ì»¤ë°‹ ì´ë ¥

| ì»¤ë°‹ í•´ì‹œ | ì„¤ëª… | ì£¼ìš” ë³€ê²½ |
|-----------|------|-----------|
| `9312a28` | feat: improve ExportManager and EvaluatorOnlyDashboard | ì‹¤ì œ ë°ì´í„° CSV, ì´ˆëŒ€ì½”ë“œ ì „ë‹¬ |
| `511b2b8` | fix: remove non-deterministic Math.random() from render paths | flickering ë²„ê·¸, ê°€ì§œ í´ë§ ì œê±° |
| `0c3c62c` | refactor: centralize SUPER_ADMIN_EMAIL and harden ENCRYPTION_SECRET | ë³´ì•ˆ ê°•í™” |
| `05d39ca` | refactor: resolve misleading TODO comments and rename mock functions | ì£¼ì„ ì •ë¦¬ |
| `e9e1c43` | fix: remove dead isLoading state, silent catch, and disabled={false} | ì†Œê·œëª¨ dead code |

---

## ğŸŒ ë¹Œë“œ & ë°°í¬ ê²°ê³¼

### ë¹Œë“œ
- **ëª…ë ¹ì–´**: `CI=false GENERATE_SOURCEMAP=false npm run build`
- **ê²°ê³¼**: ì„±ê³µ (ê²½ê³  ìˆìŒ, ì˜¤ë¥˜ ì—†ìŒ)
- **ë°°í¬ ê¸°ì¤€ ê²½ë¡œ**: `/ahp_app/` (`package.json` homepage í•„ë“œ)
- **ì£¼ìš” ë²ˆë“¤ í¬ê¸°** (gzip):
  - main.js: 160.94 kB (-357 B, ì´ì „ ëŒ€ë¹„ ì†Œí­ ê°ì†Œ)
  - 119 chunk: 102.33 kB
  - 166 chunk: 80.15 kB
  - main.css: 26.06 kB

### ë¹Œë“œ ê²½ê³  (ë‹¤ìŒ ì„¸ì…˜ ì²˜ë¦¬ ì˜ˆì •)

**ë¯¸ì‚¬ìš© ë³€ìˆ˜/ì„í¬íŠ¸ (`@typescript-eslint/no-unused-vars`):**
| íŒŒì¼ | ê²½ê³  ë‚´ìš© |
|------|-----------|
| `MyProjects.tsx:166` | `_title` (underscore prefix â€” ì˜ë„ì  ë¬´ì‹œ) |
| `PersonalServiceDashboard.tsx:18` | `WorkflowStageIndicator` import ë¯¸ì‚¬ìš© |
| `PersonalServiceDashboard.tsx:193` | `isProjectFormOpen` state ë¯¸ì‚¬ìš© |
| `PersonalServiceDashboard.tsx:386` | `handleEditProject` í•¨ìˆ˜ ë¯¸ì‚¬ìš© |
| `PersonalServiceDashboard.tsx:469` | `handleSaveProject` í•¨ìˆ˜ ë¯¸ì‚¬ìš© |
| `SystemManagement.tsx:13` | `SystemUpdate` import ë¯¸ì‚¬ìš© |
| `BulkCriteriaInput.tsx:171` | `buildHierarchy` í•¨ìˆ˜ ë¯¸ì‚¬ìš© |
| `PersonalSettings.tsx:339` | `_getSaveStatusColor` í•¨ìˆ˜ ë¯¸ì‚¬ìš© |

**`react-hooks/exhaustive-deps` ê²½ê³ :**
| íŒŒì¼ | ëˆ„ë½ëœ ì˜ì¡´ì„± |
|------|--------------|
| `UsageManagement.tsx:58` | `loadUsageData` |
| `AIMaterialsGenerationPage.tsx:142` | `loadProjects` |
| `AIPaperGenerationPage.tsx:100` | `loadProjects` |
| `ConnectionTestPage.tsx:19` | `runQuickTest` |
| `SuperAdminDashboard.tsx:147` | `loadSystemStats`, `loadUserStatsByRole` |
| `SystemSettings.tsx:133` | `loadSettings` |
| `SystemHealthPage.tsx:35,45` | `runHealthCheck` |

### ë°°í¬
- **ë°©ì‹**: `gh-pages` íŒ¨í‚¤ì§€ â†’ GitHub Pages
- **ê²°ê³¼**: **Published** (ì„±ê³µ)
- **ë°°í¬ URL**: https://aebonlee.github.io/ahp_app

---

## ğŸ“ ë‚¨ì€ ì‘ì—… (ë°±ì—”ë“œ í•„ìš”)

ë‹¤ìŒ TODOë“¤ì€ ë°±ì—”ë“œ API ì—°ë™ì´ ì™„ì„±ë˜ì–´ì•¼ êµ¬í˜„ ê°€ëŠ¥:

| íŒŒì¼ | ë‚´ìš© |
|------|------|
| `App.tsx` | ì‹œìŠ¤í…œ ì´ˆê¸°í™”(system-reset) API í˜¸ì¶œ |
| `EnhancedSuperAdminDashboard.tsx` | ì‹œìŠ¤í…œ ë©”íŠ¸ë¦­ ëª¨ë‹ˆí„°ë§ API |
| `QRCodeEvaluatorAssignment.tsx` | QR ì„¸ì…˜ ìƒíƒœ ì‹¤ì‹œê°„ í´ë§ |
| `SensitivityAnalysis.tsx` | ë¯¼ê°ë„ ë¶„ì„ ê³„ì‚° API |

---

*ì‘ì„±ì: Claude Code (AI ê°œë°œ ì–´ì‹œìŠ¤í„´íŠ¸)*
*ì‘ì„±ì¼: 2026-02-22*
