"use strict";(self.webpackChunkahp_research_platform=self.webpackChunkahp_research_platform||[]).push([[127],{127:(e,s,t)=>{t.r(s),t.d(s,{default:()=>o});var l=t(2555),a=t(9950),r=t(2932),c=t(4414);const o=e=>{let{user:s,onTabChange:t}=e;const[o,i]=(0,a.useState)(null),n=(e,s)=>{i({type:e,text:s}),setTimeout(()=>i(null),3e3)},[d,x]=(0,a.useState)({totalUsers:0,totalProjects:0,activeEvaluations:0,systemHealth:"healthy",databaseSize:"0 MB",serverUptime:"0 days",cpuUsage:0,memoryUsage:0,requestsPerMinute:0,errorRate:0}),[m,h]=(0,a.useState)({super_admin:0,service_admin:0,service_user:0,evaluator:0});(0,a.useEffect)(()=>{p(),u();const e=setInterval(()=>{p(),u()},3e4);return()=>clearInterval(e)},[]);const p=async()=>{try{const e=await r.SJ.getProjects(),s=JSON.parse(localStorage.getItem("ahp_users")||"[]"),t=Object.keys(localStorage),l=t.filter(e=>e.includes("evaluation")).filter(e=>{try{const s=JSON.parse(localStorage.getItem(e)||"{}");return"in_progress"===s.status||"pending"===s.status}catch(s){return!1}}).length;let a=0;for(let r in localStorage)localStorage.hasOwnProperty(r)&&(a+=localStorage[r].length+r.length);const c=(a/1048576).toFixed(2),o=localStorage.getItem("ahp_session_start")||(new Date).toISOString(),i=Math.floor(((new Date).getTime()-new Date(o).getTime())/864e5),n=performance.memory;x({totalUsers:(null===s||void 0===s?void 0:s.length)||0,totalProjects:(null===e||void 0===e?void 0:e.length)||0,activeEvaluations:l,systemHealth:parseFloat(c)<5?"healthy":"warning",databaseSize:"".concat(c," MB"),serverUptime:"".concat(i||0," days"),cpuUsage:0,memoryUsage:n?Math.floor(n.usedJSHeapSize/n.jsHeapSizeLimit*100):0,requestsPerMinute:0,errorRate:.1})}catch(e){n("error","\uc2dc\uc2a4\ud15c \ud1b5\uacc4\ub97c \ubd88\ub7ec\uc624\ub294 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."),x(e=>(0,l.A)((0,l.A)({},e),{},{systemHealth:"warning"}))}},u=async()=>{try{const e=JSON.parse(localStorage.getItem("ahp_users")||"[]"),s={super_admin:0,service_admin:0,service_user:0,evaluator:0};null===e||void 0===e||e.forEach(e=>{e.role&&s.hasOwnProperty(e.role)&&s[e.role]++});JSON.parse(localStorage.getItem("ahp_users")||"[]").forEach(e=>{e.role&&s.hasOwnProperty(e.role)&&s[e.role]++}),h(s)}catch(e){n("error","\uc0ac\uc6a9\uc790 \ud1b5\uacc4\ub97c \ubd88\ub7ec\uc624\ub294 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."),h({super_admin:1,service_admin:0,service_user:0,evaluator:0})}},y=[{id:"role-switch",title:"\uc5ed\ud560 \uc804\ud658 \ud14c\uc2a4\ud2b8",description:"\ub2e4\ub978 \uc0ac\uc6a9\uc790 \uc5ed\ud560\ub85c \uc2dc\uc2a4\ud15c \ud14c\uc2a4\ud2b8",icon:"\ud83d\udd04",color:"var(--accent-primary)",actions:[{label:"\uc11c\ube44\uc2a4 \uad00\ub9ac\uc790",onClick:()=>t("role-switch-admin")},{label:"\uc11c\ube44\uc2a4 \uc0ac\uc6a9\uc790",onClick:()=>t("role-switch-user")},{label:"\ud3c9\uac00\uc790",onClick:()=>t("role-switch-evaluator")}]},{id:"system-management",title:"\uc2dc\uc2a4\ud15c \uad00\ub9ac",description:"\ud575\uc2ec \uc2dc\uc2a4\ud15c \uad00\ub9ac \ub3c4\uad6c",icon:"\u2699\ufe0f",color:"var(--accent-secondary)",actions:[{label:"\uc2dc\uc2a4\ud15c \uc815\ubcf4",onClick:()=>t("system-info")},{label:"\uc2dc\uc2a4\ud15c \uc124\uc815",onClick:()=>t("system-settings")},{label:"AI \uc2dc\uc2a4\ud15c \uad00\ub9ac",onClick:()=>window.open("https://platform.openai.com/settings/organization/billing/overview","_blank")},{label:"\uc2dc\uc2a4\ud15c \ucd08\uae30\ud654",onClick:()=>t("system-reset")}]},{id:"monitoring",title:"\ubaa8\ub2c8\ud130\ub9c1",description:"\uc2e4\uc2dc\uac04 \uc2dc\uc2a4\ud15c \ubaa8\ub2c8\ud130\ub9c1",icon:"\ud83d\udcca",color:"var(--accent-tertiary)",actions:[{label:"\uc2dc\uc2a4\ud15c \ubaa8\ub2c8\ud130\ub9c1",onClick:()=>t("system-monitoring")},{label:"\uc804\uccb4 \ud504\ub85c\uc81d\ud2b8",onClick:()=>t("all-projects")},{label:"\uc0ac\uc6a9\uc790 \uad00\ub9ac",onClick:()=>t("users")}]},{id:"integration",title:"\uc5f0\ub3d9 \uad00\ub9ac",description:"\uc678\ubd80 \uc2dc\uc2a4\ud15c \uc5f0\ub3d9 \uad00\ub9ac",icon:"\ud83d\udd17",color:"var(--accent-quaternary)",actions:[{label:"\uc5f0\uacb0 \ud14c\uc2a4\ud2b8",onClick:()=>t("connection-test")},{label:"Django Admin",onClick:()=>window.open("https://ahp-django-backend.onrender.com/admin/","_blank")},{label:"API \ubb38\uc11c",onClick:()=>window.open("/api/docs","_blank")}]},{id:"payment-management",title:"\uacb0\uc81c \uad00\ub9ac",description:"\ud68c\uc6d0 \uad6c\ub3c5 \ubc0f \uacb0\uc81c \uc635\uc158 \uad00\ub9ac",icon:"\ud83d\udcb3",color:"var(--color-success)",actions:[{label:"\uacb0\uc81c \uc635\uc158 \uc124\uc815",onClick:()=>t("payment-options")},{label:"\uad6c\ub3c5 \uad00\ub9ac",onClick:()=>t("subscription-management")},{label:"\uacb0\uc81c \ub0b4\uc5ed",onClick:()=>t("payment-history")}]}];return(0,c.jsxs)("div",{className:"space-y-8",children:[o&&(0,c.jsx)("div",{className:"fixed top-4 right-4 z-50 px-4 py-3 rounded-lg text-sm font-medium shadow-lg ".concat("success"===o.type?"bg-green-100 text-green-800":"info"===o.type?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"),children:o.text}),(0,c.jsx)("div",{className:"p-6 rounded-xl bg-gradient-to-r from-purple-600 to-pink-600 text-white",children:(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"\ud83d\udc51 \uc288\ud37c \uad00\ub9ac\uc790 \ub300\uc2dc\ubcf4\ub4dc"}),(0,c.jsx)("p",{className:"text-lg opacity-90",children:"\uc804\uccb4 \uc2dc\uc2a4\ud15c\uc744 \uad00\ub9ac\ud558\uace0 \ubaa8\ub2c8\ud130\ub9c1\ud558\ub294 \ucd5c\uace0 \uad8c\ud55c \ud398\uc774\uc9c0\uc785\ub2c8\ub2e4"}),(0,c.jsxs)("div",{className:"flex items-center space-x-4 mt-3 text-sm",children:[(0,c.jsxs)("span",{className:"flex items-center",children:[(0,c.jsx)("span",{className:"w-2 h-2 bg-green-400 rounded-full mr-2 animate-pulse"}),"\uc2dc\uc2a4\ud15c \uc815\uc0c1 \uc791\ub3d9 \uc911"]}),(0,c.jsx)("span",{children:"|"}),(0,c.jsx)("span",{children:s.email}),(0,c.jsx)("span",{children:"|"}),(0,c.jsxs)("span",{children:["\ub9c8\uc9c0\ub9c9 \ub85c\uadf8\uc778: ",(new Date).toLocaleString("ko-KR")]})]})]}),(0,c.jsx)("div",{className:"text-6xl",children:"\ud83d\udc51"})]})}),(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[(0,c.jsxs)("div",{className:"p-6 rounded-xl",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-light)"},children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,c.jsx)("span",{className:"text-4xl",children:"\ud83d\udc65"}),(0,c.jsx)("span",{className:"text-xs px-2 py-1 rounded-full bg-green-100 text-green-800",children:"+12%"})]}),(0,c.jsx)("p",{className:"text-sm",style:{color:"var(--text-muted)"},children:"\ucd1d \uc0ac\uc6a9\uc790"}),(0,c.jsx)("p",{className:"text-3xl font-bold",style:{color:"var(--text-primary)"},children:d.totalUsers}),(0,c.jsxs)("div",{className:"mt-2 text-xs space-y-1",style:{color:"var(--text-secondary)"},children:[(0,c.jsxs)("div",{children:["\uc288\ud37c\uad00\ub9ac\uc790: ",m.super_admin]}),(0,c.jsxs)("div",{children:["\uc11c\ube44\uc2a4\uad00\ub9ac\uc790: ",m.service_admin]}),(0,c.jsxs)("div",{children:["\uc77c\ubc18\uc0ac\uc6a9\uc790: ",m.service_user]}),(0,c.jsxs)("div",{children:["\ud3c9\uac00\uc790: ",m.evaluator]})]})]}),(0,c.jsxs)("div",{className:"p-6 rounded-xl",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-light)"},children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,c.jsx)("span",{className:"text-4xl",children:"\ud83d\udccb"}),(0,c.jsx)("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-100 text-blue-800",children:"+8%"})]}),(0,c.jsx)("p",{className:"text-sm",style:{color:"var(--text-muted)"},children:"\ucd1d \ud504\ub85c\uc81d\ud2b8"}),(0,c.jsx)("p",{className:"text-3xl font-bold",style:{color:"var(--text-primary)"},children:d.totalProjects}),(0,c.jsxs)("div",{className:"mt-2",children:[(0,c.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,c.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"70%"}})}),(0,c.jsx)("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:"\uc9c4\ud589\ub960 70%"})]})]}),(0,c.jsxs)("div",{className:"p-6 rounded-xl",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-light)"},children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,c.jsx)("span",{className:"text-4xl",children:"\u2696\ufe0f"}),(0,c.jsx)("span",{className:"text-xs px-2 py-1 rounded-full bg-yellow-100 text-yellow-800",children:"\uc9c4\ud589\uc911"})]}),(0,c.jsx)("p",{className:"text-sm",style:{color:"var(--text-muted)"},children:"\ud65c\uc131 \ud3c9\uac00"}),(0,c.jsx)("p",{className:"text-3xl font-bold",style:{color:"var(--text-primary)"},children:d.activeEvaluations}),(0,c.jsx)("p",{className:"text-xs mt-2",style:{color:"var(--text-secondary)"},children:"\uc774\ubc88 \uc8fc +23 \uc0c8\ub85c\uc6b4 \ud3c9\uac00"})]}),(0,c.jsxs)("div",{className:"p-6 rounded-xl",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-light)"},children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,c.jsx)("span",{className:"text-4xl",children:"\ud83d\uddc4\ufe0f"}),(0,c.jsx)("span",{className:"text-xs px-2 py-1 rounded-full bg-purple-100 text-purple-800",children:"\uc548\uc815"})]}),(0,c.jsx)("p",{className:"text-sm",style:{color:"var(--text-muted)"},children:"\ub370\uc774\ud130\ubca0\uc774\uc2a4"}),(0,c.jsx)("p",{className:"text-3xl font-bold",style:{color:"var(--text-primary)"},children:d.databaseSize}),(0,c.jsxs)("div",{className:"mt-2",children:[(0,c.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,c.jsx)("div",{className:"bg-purple-600 h-2 rounded-full",style:{width:"24%"}})}),(0,c.jsx)("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:"10GB \uc911 \uc0ac\uc6a9"})]})]}),(0,c.jsxs)("div",{className:"p-6 rounded-xl",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-light)"},children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,c.jsx)("span",{className:"text-4xl",children:"\ud83d\udda5\ufe0f"}),(0,c.jsx)("span",{className:"text-xs px-2 py-1 rounded-full bg-green-100 text-green-800",children:"\uc815\uc0c1"})]}),(0,c.jsx)("p",{className:"text-sm",style:{color:"var(--text-muted)"},children:"\uc11c\ubc84 \uac00\ub3d9\uc2dc\uac04"}),(0,c.jsx)("p",{className:"text-3xl font-bold",style:{color:"var(--text-primary)"},children:d.serverUptime}),(0,c.jsx)("p",{className:"text-xs mt-2",style:{color:"var(--text-secondary)"},children:"99.9% \uac00\uc6a9\uc131"})]})]}),(0,c.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,c.jsxs)("div",{className:"p-6 rounded-xl",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-light)"},children:[(0,c.jsx)("h3",{className:"text-lg font-bold mb-4",style:{color:"var(--text-primary)"},children:"\ud83d\ude80 \uc2dc\uc2a4\ud15c \uc131\ub2a5"}),(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,c.jsx)("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"CPU \uc0ac\uc6a9\ub7c9"}),(0,c.jsxs)("span",{className:"text-sm font-bold",style:{color:"var(--text-primary)"},children:[d.cpuUsage,"%"]})]}),(0,c.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,c.jsx)("div",{className:"bg-blue-600 h-3 rounded-full transition-all",style:{width:"".concat(d.cpuUsage,"%")}})})]}),(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,c.jsx)("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\uba54\ubaa8\ub9ac \uc0ac\uc6a9\ub7c9"}),(0,c.jsxs)("span",{className:"text-sm font-bold",style:{color:"var(--text-primary)"},children:[d.memoryUsage,"%"]})]}),(0,c.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,c.jsx)("div",{className:"bg-green-600 h-3 rounded-full transition-all",style:{width:"".concat(d.memoryUsage,"%")}})})]}),(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,c.jsx)("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\uc694\uccad/\ubd84"}),(0,c.jsx)("span",{className:"text-sm font-bold",style:{color:"var(--text-primary)"},children:d.requestsPerMinute})]}),(0,c.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,c.jsx)("div",{className:"bg-yellow-600 h-3 rounded-full transition-all",style:{width:"".concat(Math.min(d.requestsPerMinute/2,100),"%")}})})]}),(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,c.jsx)("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\uc624\ub958\uc728"}),(0,c.jsxs)("span",{className:"text-sm font-bold",style:{color:d.errorRate>1?"var(--color-danger)":"var(--text-primary)"},children:[d.errorRate,"%"]})]}),(0,c.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,c.jsx)("div",{className:"bg-red-600 h-3 rounded-full transition-all",style:{width:"".concat(10*d.errorRate,"%")}})})]})]})]}),(0,c.jsxs)("div",{className:"p-6 rounded-xl",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-light)"},children:[(0,c.jsx)("h3",{className:"text-lg font-bold mb-4",style:{color:"var(--text-primary)"},children:"\ud83d\udcca \ucd5c\uadfc \ud65c\ub3d9"}),(0,c.jsx)("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:(()=>{const e=[];try{JSON.parse(localStorage.getItem("ahp_login_history")||"[]").slice(-3).forEach(s=>{const t=new Date(s.timestamp),l=Date.now()-t.getTime(),a=Math.floor(l/6e4),r=Math.floor(a/60);e.push({time:r>0?"".concat(r,"\uc2dc\uac04 \uc804"):"".concat(a,"\ubd84 \uc804"),user:s.email||"unknown",action:"\ub85c\uadf8\uc778",type:"info"})});const t=JSON.parse(localStorage.getItem("ahp_projects")||"[]");t.filter(e=>Boolean(e.created_at)).sort((e,s)=>new Date(s.created_at).getTime()-new Date(e.created_at).getTime()).slice(0,2).forEach(t=>{const l=new Date(t.created_at),a=Date.now()-l.getTime(),r=Math.floor(a/6e4),c=Math.floor(r/60),o=Math.floor(c/24);e.push({time:o>0?"".concat(o,"\uc77c \uc804"):c>0?"".concat(c,"\uc2dc\uac04 \uc804"):"".concat(r,"\ubd84 \uc804"),user:t.created_by||s.email,action:"\ud504\ub85c\uc81d\ud2b8 '".concat(t.title,"' \uc0dd\uc131"),type:"success"})}),e.push({time:"\ubc29\uae08 \uc804",user:"system",action:"\uc2dc\uc2a4\ud15c \uc0c1\ud0dc \uc810\uac80",type:"info"}),e.unshift({time:"\ud604\uc7ac",user:s.email,action:"\uc288\ud37c \uad00\ub9ac\uc790 \ub300\uc2dc\ubcf4\ub4dc \uc811\uc18d",type:"success"})}catch(t){n("error","\ud65c\ub3d9 \ub85c\uadf8\ub97c \ubd88\ub7ec\uc624\ub294 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}return 0===e.length&&e.push({time:"\ubc29\uae08 \uc804",user:s.email,action:"\uc2dc\uc2a4\ud15c \uc811\uc18d",type:"info"}),e.slice(0,10)})().map((e,s)=>(0,c.jsxs)("div",{className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50",children:[(0,c.jsx)("div",{className:"w-2 h-2 rounded-full ".concat("success"===e.type?"bg-green-500":"warning"===e.type?"bg-yellow-500":"bg-blue-500")}),(0,c.jsxs)("div",{className:"flex-1",children:[(0,c.jsx)("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:e.action}),(0,c.jsxs)("p",{className:"text-xs",style:{color:"var(--text-muted)"},children:[e.user," \u2022 ",e.time]})]})]},s))})]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h2",{className:"text-xl font-bold mb-6",style:{color:"var(--text-primary)"},children:"\u26a1 \ube60\ub978 \uc2e4\ud589"}),(0,c.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:y.map(e=>(0,c.jsxs)("div",{className:"p-6 rounded-xl",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-light)"},children:[(0,c.jsxs)("div",{className:"flex items-start space-x-4 mb-4",children:[(0,c.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-2xl",style:{backgroundColor:e.color+"20"},children:e.icon}),(0,c.jsxs)("div",{className:"flex-1",children:[(0,c.jsx)("h3",{className:"font-semibold mb-1",style:{color:"var(--text-primary)"},children:e.title}),(0,c.jsx)("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:e.description})]})]}),(0,c.jsx)("div",{className:"space-y-2",children:e.actions.map((e,s)=>(0,c.jsxs)("button",{onClick:e.onClick,className:"w-full text-left px-3 py-2 rounded-lg text-sm transition-colors hover:bg-gray-100",style:{color:"var(--text-secondary)"},children:["\u2192 ",e.label]},s))})]},e.id))})]})]})}}}]);