{"version":3,"file":"static/js/345.6d5e965d.chunk.js","mappings":"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","sources":["components/superadmin/PaymentOptionsPage.tsx","services/subscriptionService.ts"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { User } from '../../types';\r\nimport { SubscriptionPlan, PaymentRequest, ExtendedUser } from '../../types/subscription';\r\nimport { subscriptionService } from '../../services/subscriptionService';\r\n\r\ninterface PaymentOptionsPageProps {\r\n  user: User;\r\n  onTabChange: (tab: string) => void;\r\n}\r\n\r\ninterface PaymentFormData {\r\n  planId: string;\r\n  paymentMethod: 'card' | 'bank_transfer';\r\n  \r\n  // ì¹´ë“œ ê²°ì œ ì •ë³´\r\n  cardNumber: string;\r\n  expiryDate: string;\r\n  cvv: string;\r\n  cardHolderName: string;\r\n  \r\n  // í†µì¥ ê²°ì œ ì •ë³´\r\n  bankName: string;\r\n  accountNumber: string;\r\n  accountHolder: string;\r\n  \r\n  // ì²­êµ¬ ì£¼ì†Œ\r\n  billingAddress: {\r\n    country: string;\r\n    city: string;\r\n    address: string;\r\n    postalCode: string;\r\n  };\r\n  \r\n  // íšŒì› ì„¤ì •\r\n  targetUserId: string;\r\n  customLimits: {\r\n    maxProjects: number;\r\n    maxEvaluators: number;\r\n    aiEnabled: boolean;\r\n  };\r\n  \r\n  couponCode?: string;\r\n}\r\n\r\nconst PaymentOptionsPage: React.FC<PaymentOptionsPageProps> = ({ user, onTabChange }) => {\r\n  const [availablePlans, setAvailablePlans] = useState<SubscriptionPlan[]>([]);\r\n  const [users, setUsers] = useState<ExtendedUser[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [success, setSuccess] = useState<string | null>(null);\r\n  \r\n  const [formData, setFormData] = useState<PaymentFormData>({\r\n    planId: '',\r\n    paymentMethod: 'card',\r\n    cardNumber: '',\r\n    expiryDate: '',\r\n    cvv: '',\r\n    cardHolderName: '',\r\n    bankName: '',\r\n    accountNumber: '',\r\n    accountHolder: '',\r\n    billingAddress: {\r\n      country: 'KR',\r\n      city: '',\r\n      address: '',\r\n      postalCode: ''\r\n    },\r\n    targetUserId: '',\r\n    customLimits: {\r\n      maxProjects: 3,\r\n      maxEvaluators: 10,\r\n      aiEnabled: false\r\n    },\r\n    couponCode: ''\r\n  });\r\n\r\n  useEffect(() => {\r\n    loadInitialData();\r\n  }, []);\r\n\r\n  const loadInitialData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const plans = subscriptionService.getDefaultPlans();\r\n      setAvailablePlans(plans);\r\n      \r\n      // ì‚¬ìš©ì ëª©ë¡ ë¡œë“œ (localStorageì—ì„œ)\r\n      const storedUsers = JSON.parse(localStorage.getItem('ahp_users') || '[]');\r\n      setUsers(storedUsers.filter((u: { role?: string }) => u.role !== 'super_admin'));\r\n      \r\n    } catch (error) {\r\n      setError('ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (field: string, value: unknown) => {\r\n    if (field.includes('.')) {\r\n      const [parent, child] = field.split('.');\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        [parent]: {\r\n          ...(prev[parent as keyof typeof prev] as Record<string, any> || {}),\r\n          [child]: value\r\n        }\r\n      }));\r\n    } else {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        [field]: value\r\n      }));\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    if (!formData.planId || !formData.targetUserId) {\r\n      setError('í”Œëœê³¼ ëŒ€ìƒ ì‚¬ìš©ìë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.');\r\n      return;\r\n    }\r\n\r\n    if (formData.paymentMethod === 'card') {\r\n      if (!formData.cardNumber || !formData.expiryDate || !formData.cvv || !formData.cardHolderName) {\r\n        setError('ì¹´ë“œ ì •ë³´ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.');\r\n        return;\r\n      }\r\n    } else {\r\n      if (!formData.bankName || !formData.accountNumber || !formData.accountHolder) {\r\n        setError('ê³„ì¢Œ ì •ë³´ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.');\r\n        return;\r\n      }\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      const paymentRequest: PaymentRequest = {\r\n        planId: formData.planId,\r\n        paymentMethod: formData.paymentMethod,\r\n        billingAddress: formData.billingAddress,\r\n        couponCode: formData.couponCode || undefined\r\n      };\r\n\r\n      const response = await subscriptionService.subscribeToPlan(paymentRequest);\r\n      \r\n      if (response.success) {\r\n        // ì‚¬ìš©ì ì œí•œì‚¬í•­ ì—…ë°ì´íŠ¸\r\n        await subscriptionService.updatePersonalAdminLimits(formData.targetUserId, {\r\n          maxEvaluators: formData.customLimits.maxEvaluators,\r\n          maxSurveys: 50, // ê¸°ë³¸ê°’\r\n          maxCriteria: 15, // ê¸°ë³¸ê°’\r\n          maxAlternatives: 10, // ê¸°ë³¸ê°’\r\n          remainingEvaluators: formData.customLimits.maxEvaluators,\r\n          remainingSurveys: 50,\r\n          remainingCriteria: 15,\r\n          remainingAlternatives: 10\r\n        });\r\n\r\n        setSuccess('ê²°ì œê°€ ì„±ê³µì ìœ¼ë¡œ ì²˜ë¦¬ë˜ì—ˆìŠµë‹ˆë‹¤.');\r\n        \r\n        // í¼ ì´ˆê¸°í™”\r\n        setFormData({\r\n          ...formData,\r\n          cardNumber: '',\r\n          expiryDate: '',\r\n          cvv: '',\r\n          cardHolderName: '',\r\n          bankName: '',\r\n          accountNumber: '',\r\n          accountHolder: '',\r\n          couponCode: ''\r\n        });\r\n        \r\n        setTimeout(() => {\r\n          onTabChange('users');\r\n        }, 2000);\r\n      } else {\r\n        setError(response.error || 'ê²°ì œ ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');\r\n      }\r\n    } catch (error) {\r\n      setError('ê²°ì œ ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const formatCardNumber = (value: string) => {\r\n    const cleaned = value.replace(/\\s+/g, '').replace(/[^0-9]/gi, '');\r\n    const matches = cleaned.match(/\\d{4,16}/g);\r\n    const match = (matches && matches[0]) || '';\r\n    const parts = [];\r\n    for (let i = 0, len = match.length; i < len; i += 4) {\r\n      parts.push(match.substring(i, i + 4));\r\n    }\r\n    if (parts.length) {\r\n      return parts.join(' ');\r\n    } else {\r\n      return match;\r\n    }\r\n  };\r\n\r\n  const formatExpiryDate = (value: string) => {\r\n    const cleaned = value.replace(/\\D/g, '');\r\n    if (cleaned.length >= 2) {\r\n      return cleaned.substring(0, 2) + '/' + cleaned.substring(2, 4);\r\n    }\r\n    return cleaned;\r\n  };\r\n\r\n  const selectedPlan = availablePlans.find(plan => plan.id === formData.planId);\r\n  const selectedUser = users.find(u => u.id === formData.targetUserId);\r\n\r\n  return (\r\n    <div className=\"space-y-8\">\r\n      {/* í—¤ë” */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold\" style={{ color: 'var(--text-primary)' }}>\r\n            ğŸ’³ ê²°ì œ ì˜µì…˜ ê´€ë¦¬\r\n          </h1>\r\n          <p className=\"text-lg mt-2\" style={{ color: 'var(--text-secondary)' }}>\r\n            íšŒì›ì˜ êµ¬ë… í”Œëœ ë° ê²°ì œ ì˜µì…˜ì„ ì„¤ì •í•©ë‹ˆë‹¤\r\n          </p>\r\n        </div>\r\n        <button\r\n          onClick={() => onTabChange('superadmin-dashboard')}\r\n          className=\"px-4 py-2 rounded-lg border border-gray-300 hover:bg-gray-50 transition-colors\"\r\n          style={{ color: 'var(--text-primary)' }}\r\n        >\r\n          â† ëŒ€ì‹œë³´ë“œë¡œ ëŒì•„ê°€ê¸°\r\n        </button>\r\n      </div>\r\n\r\n      {error && (\r\n        <div className=\"p-4 rounded-lg bg-red-50 border border-red-200\">\r\n          <p className=\"text-red-800\">{error}</p>\r\n        </div>\r\n      )}\r\n\r\n      {success && (\r\n        <div className=\"p-4 rounded-lg bg-green-50 border border-green-200\">\r\n          <p className=\"text-green-800\">{success}</p>\r\n        </div>\r\n      )}\r\n\r\n      <form onSubmit={handleSubmit} className=\"space-y-8\">\r\n        {/* 1. ëŒ€ìƒ ì‚¬ìš©ì ì„ íƒ */}\r\n        <div className=\"p-6 rounded-xl\" style={{ backgroundColor: 'var(--bg-primary)', border: '1px solid var(--border-light)' }}>\r\n          <h2 className=\"text-xl font-bold mb-4\" style={{ color: 'var(--text-primary)' }}>\r\n            1ï¸âƒ£ ëŒ€ìƒ ì‚¬ìš©ì ì„ íƒ\r\n          </h2>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium mb-2\" style={{ color: 'var(--text-secondary)' }}>\r\n                ì‚¬ìš©ì ì„ íƒ\r\n              </label>\r\n              <select\r\n                value={formData.targetUserId}\r\n                onChange={(e) => handleInputChange('targetUserId', e.target.value)}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                required\r\n              >\r\n                <option value=\"\">ì‚¬ìš©ìë¥¼ ì„ íƒí•˜ì„¸ìš”</option>\r\n                {users.map(user => (\r\n                  <option key={user.id} value={user.id}>\r\n                    {user.email} ({user.first_name} {user.last_name})\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n            {selectedUser && (\r\n              <div className=\"p-4 rounded-lg bg-gray-50\">\r\n                <h3 className=\"font-medium text-gray-900 mb-2\">ì„ íƒëœ ì‚¬ìš©ì ì •ë³´</h3>\r\n                <p className=\"text-sm text-gray-600\">ì´ë©”ì¼: {selectedUser.email}</p>\r\n                <p className=\"text-sm text-gray-600\">ì´ë¦„: {selectedUser.first_name} {selectedUser.last_name}</p>\r\n                <p className=\"text-sm text-gray-600\">ì—­í• : {selectedUser.role}</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* 2. êµ¬ë… í”Œëœ ì„ íƒ */}\r\n        <div className=\"p-6 rounded-xl\" style={{ backgroundColor: 'var(--bg-primary)', border: '1px solid var(--border-light)' }}>\r\n          <h2 className=\"text-xl font-bold mb-4\" style={{ color: 'var(--text-primary)' }}>\r\n            2ï¸âƒ£ êµ¬ë… í”Œëœ ì„ íƒ\r\n          </h2>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n            {availablePlans.map(plan => (\r\n              <div\r\n                key={plan.id}\r\n                className={`relative p-6 rounded-xl border-2 cursor-pointer transition-all ${\r\n                  formData.planId === plan.id \r\n                    ? 'border-blue-500 bg-blue-50' \r\n                    : 'border-gray-200 hover:border-gray-300'\r\n                } ${plan.isPopular ? 'ring-2 ring-yellow-400' : ''}`}\r\n                onClick={() => handleInputChange('planId', plan.id)}\r\n              >\r\n                {plan.isPopular && (\r\n                  <div className=\"absolute -top-3 left-1/2 transform -translate-x-1/2\">\r\n                    <span className=\"bg-yellow-400 text-yellow-900 px-3 py-1 rounded-full text-xs font-bold\">\r\n                      ì¸ê¸°\r\n                    </span>\r\n                  </div>\r\n                )}\r\n                <div className=\"text-center\">\r\n                  <h3 className=\"text-xl font-bold mb-2\">{plan.name}</h3>\r\n                  <p className=\"text-3xl font-bold text-blue-600 mb-2\">\r\n                    â‚©{plan.price.toLocaleString()}\r\n                    <span className=\"text-sm font-normal text-gray-600\">/ì›”</span>\r\n                  </p>\r\n                  <p className=\"text-sm text-gray-600 mb-4\">{plan.description}</p>\r\n                  <div className=\"space-y-2\">\r\n                    {plan.features.slice(0, 3).map(feature => (\r\n                      <div key={feature.id} className=\"flex items-center text-sm\">\r\n                        <span className=\"text-green-500 mr-2\">âœ“</span>\r\n                        <span>{feature.name}: {feature.description}</span>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* 3. ì‚¬ìš©ì ì •ì˜ ì œí•œì‚¬í•­ */}\r\n        <div className=\"p-6 rounded-xl\" style={{ backgroundColor: 'var(--bg-primary)', border: '1px solid var(--border-light)' }}>\r\n          <h2 className=\"text-xl font-bold mb-4\" style={{ color: 'var(--text-primary)' }}>\r\n            3ï¸âƒ£ ì‚¬ìš©ì ì •ì˜ ì œí•œì‚¬í•­\r\n          </h2>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium mb-2\" style={{ color: 'var(--text-secondary)' }}>\r\n                ìµœëŒ€ í”„ë¡œì íŠ¸ ìˆ˜\r\n              </label>\r\n              <input\r\n                type=\"number\"\r\n                value={formData.customLimits.maxProjects}\r\n                onChange={(e) => handleInputChange('customLimits.maxProjects', parseInt(e.target.value) || 0)}\r\n                min=\"1\"\r\n                max=\"100\"\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium mb-2\" style={{ color: 'var(--text-secondary)' }}>\r\n                ìµœëŒ€ í‰ê°€ì ìˆ˜\r\n              </label>\r\n              <input\r\n                type=\"number\"\r\n                value={formData.customLimits.maxEvaluators}\r\n                onChange={(e) => handleInputChange('customLimits.maxEvaluators', parseInt(e.target.value) || 0)}\r\n                min=\"1\"\r\n                max=\"1000\"\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium mb-2\" style={{ color: 'var(--text-secondary)' }}>\r\n                AI ê¸°ëŠ¥ í™œìš©\r\n              </label>\r\n              <div className=\"flex items-center space-x-4\">\r\n                <label className=\"flex items-center\">\r\n                  <input\r\n                    type=\"radio\"\r\n                    value=\"true\"\r\n                    checked={formData.customLimits.aiEnabled === true}\r\n                    onChange={() => handleInputChange('customLimits.aiEnabled', true)}\r\n                    className=\"mr-2\"\r\n                  />\r\n                  <span>í™œì„±í™”</span>\r\n                </label>\r\n                <label className=\"flex items-center\">\r\n                  <input\r\n                    type=\"radio\"\r\n                    value=\"false\"\r\n                    checked={formData.customLimits.aiEnabled === false}\r\n                    onChange={() => handleInputChange('customLimits.aiEnabled', false)}\r\n                    className=\"mr-2\"\r\n                  />\r\n                  <span>ë¹„í™œì„±í™”</span>\r\n                </label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* 4. ê²°ì œ ë°©ë²• ì„ íƒ */}\r\n        <div className=\"p-6 rounded-xl\" style={{ backgroundColor: 'var(--bg-primary)', border: '1px solid var(--border-light)' }}>\r\n          <h2 className=\"text-xl font-bold mb-4\" style={{ color: 'var(--text-primary)' }}>\r\n            4ï¸âƒ£ ê²°ì œ ë°©ë²• ì„ íƒ\r\n          </h2>\r\n          \r\n          {/* ê²°ì œ ë°©ë²• ì„ íƒ */}\r\n          <div className=\"flex space-x-4 mb-6\">\r\n            <label className=\"flex items-center\">\r\n              <input\r\n                type=\"radio\"\r\n                value=\"card\"\r\n                checked={formData.paymentMethod === 'card'}\r\n                onChange={(e) => handleInputChange('paymentMethod', e.target.value)}\r\n                className=\"mr-2\"\r\n              />\r\n              <span className=\"font-medium\">ğŸ’³ ì¹´ë“œ ê²°ì œ</span>\r\n            </label>\r\n            <label className=\"flex items-center\">\r\n              <input\r\n                type=\"radio\"\r\n                value=\"bank_transfer\"\r\n                checked={formData.paymentMethod === 'bank_transfer'}\r\n                onChange={(e) => handleInputChange('paymentMethod', e.target.value)}\r\n                className=\"mr-2\"\r\n              />\r\n              <span className=\"font-medium\">ğŸ¦ í†µì¥ ê²°ì œ</span>\r\n            </label>\r\n          </div>\r\n\r\n          {/* ì¹´ë“œ ê²°ì œ í¼ */}\r\n          {formData.paymentMethod === 'card' && (\r\n            <div className=\"space-y-4\">\r\n              <h3 className=\"text-lg font-semibold\">ì¹´ë“œ ì •ë³´</h3>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div className=\"md:col-span-2\">\r\n                  <label className=\"block text-sm font-medium mb-2\">ì¹´ë“œ ë²ˆí˜¸</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={formData.cardNumber}\r\n                    onChange={(e) => handleInputChange('cardNumber', formatCardNumber(e.target.value))}\r\n                    placeholder=\"1234 5678 9012 3456\"\r\n                    maxLength={19}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                    required\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-2\">ìœ íš¨ê¸°ê°„ (MM/YY)</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={formData.expiryDate}\r\n                    onChange={(e) => handleInputChange('expiryDate', formatExpiryDate(e.target.value))}\r\n                    placeholder=\"MM/YY\"\r\n                    maxLength={5}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                    required\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-2\">CVV</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={formData.cvv}\r\n                    onChange={(e) => handleInputChange('cvv', e.target.value.replace(/\\D/g, '').slice(0, 4))}\r\n                    placeholder=\"123\"\r\n                    maxLength={4}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                    required\r\n                  />\r\n                </div>\r\n                <div className=\"md:col-span-2\">\r\n                  <label className=\"block text-sm font-medium mb-2\">ì¹´ë“œ ì†Œì§€ìëª…</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={formData.cardHolderName}\r\n                    onChange={(e) => handleInputChange('cardHolderName', e.target.value)}\r\n                    placeholder=\"ì¹´ë“œì— í‘œì‹œëœ ì´ë¦„\"\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* í†µì¥ ê²°ì œ í¼ */}\r\n          {formData.paymentMethod === 'bank_transfer' && (\r\n            <div className=\"space-y-4\">\r\n              <h3 className=\"text-lg font-semibold\">ê³„ì¢Œ ì •ë³´</h3>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-2\">ì€í–‰ëª…</label>\r\n                  <select\r\n                    value={formData.bankName}\r\n                    onChange={(e) => handleInputChange('bankName', e.target.value)}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                    required\r\n                  >\r\n                    <option value=\"\">ì€í–‰ì„ ì„ íƒí•˜ì„¸ìš”</option>\r\n                    <option value=\"KBêµ­ë¯¼ì€í–‰\">KBêµ­ë¯¼ì€í–‰</option>\r\n                    <option value=\"ì‹ í•œì€í–‰\">ì‹ í•œì€í–‰</option>\r\n                    <option value=\"ìš°ë¦¬ì€í–‰\">ìš°ë¦¬ì€í–‰</option>\r\n                    <option value=\"í•˜ë‚˜ì€í–‰\">í•˜ë‚˜ì€í–‰</option>\r\n                    <option value=\"ë†í˜‘\">ë†í˜‘</option>\r\n                    <option value=\"ê¸°ì—…ì€í–‰\">ê¸°ì—…ì€í–‰</option>\r\n                    <option value=\"ì¹´ì¹´ì˜¤ë±…í¬\">ì¹´ì¹´ì˜¤ë±…í¬</option>\r\n                    <option value=\"í† ìŠ¤ë±…í¬\">í† ìŠ¤ë±…í¬</option>\r\n                  </select>\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-2\">ê³„ì¢Œë²ˆí˜¸</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={formData.accountNumber}\r\n                    onChange={(e) => handleInputChange('accountNumber', e.target.value.replace(/[^0-9-]/g, ''))}\r\n                    placeholder=\"123-456-789012\"\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                    required\r\n                  />\r\n                </div>\r\n                <div className=\"md:col-span-2\">\r\n                  <label className=\"block text-sm font-medium mb-2\">ì˜ˆê¸ˆì£¼ëª…</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={formData.accountHolder}\r\n                    onChange={(e) => handleInputChange('accountHolder', e.target.value)}\r\n                    placeholder=\"ì˜ˆê¸ˆì£¼ ì´ë¦„\"\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* 5. ì²­êµ¬ ì£¼ì†Œ */}\r\n        <div className=\"p-6 rounded-xl\" style={{ backgroundColor: 'var(--bg-primary)', border: '1px solid var(--border-light)' }}>\r\n          <h2 className=\"text-xl font-bold mb-4\" style={{ color: 'var(--text-primary)' }}>\r\n            5ï¸âƒ£ ì²­êµ¬ ì£¼ì†Œ\r\n          </h2>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium mb-2\">êµ­ê°€</label>\r\n              <select\r\n                value={formData.billingAddress.country}\r\n                onChange={(e) => handleInputChange('billingAddress.country', e.target.value)}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              >\r\n                <option value=\"KR\">ëŒ€í•œë¯¼êµ­</option>\r\n                <option value=\"US\">ë¯¸êµ­</option>\r\n                <option value=\"JP\">ì¼ë³¸</option>\r\n                <option value=\"CN\">ì¤‘êµ­</option>\r\n              </select>\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium mb-2\">ë„ì‹œ</label>\r\n              <input\r\n                type=\"text\"\r\n                value={formData.billingAddress.city}\r\n                onChange={(e) => handleInputChange('billingAddress.city', e.target.value)}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                required\r\n              />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium mb-2\">ì£¼ì†Œ</label>\r\n              <input\r\n                type=\"text\"\r\n                value={formData.billingAddress.address}\r\n                onChange={(e) => handleInputChange('billingAddress.address', e.target.value)}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                required\r\n              />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium mb-2\">ìš°í¸ë²ˆí˜¸</label>\r\n              <input\r\n                type=\"text\"\r\n                value={formData.billingAddress.postalCode}\r\n                onChange={(e) => handleInputChange('billingAddress.postalCode', e.target.value)}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* 6. ì¿ í° ì½”ë“œ (ì„ íƒì‚¬í•­) */}\r\n        <div className=\"p-6 rounded-xl\" style={{ backgroundColor: 'var(--bg-primary)', border: '1px solid var(--border-light)' }}>\r\n          <h2 className=\"text-xl font-bold mb-4\" style={{ color: 'var(--text-primary)' }}>\r\n            6ï¸âƒ£ ì¿ í° ì½”ë“œ (ì„ íƒì‚¬í•­)\r\n          </h2>\r\n          <div className=\"max-w-md\">\r\n            <input\r\n              type=\"text\"\r\n              value={formData.couponCode}\r\n              onChange={(e) => handleInputChange('couponCode', e.target.value.toUpperCase())}\r\n              placeholder=\"ì¿ í° ì½”ë“œë¥¼ ì…ë ¥í•˜ì„¸ìš”\"\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* ê²°ì œ ìš”ì•½ */}\r\n        {selectedPlan && (\r\n          <div className=\"p-6 rounded-xl bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200\">\r\n            <h2 className=\"text-xl font-bold mb-4 text-blue-900\">ğŸ’° ê²°ì œ ìš”ì•½</h2>\r\n            <div className=\"space-y-2\">\r\n              <div className=\"flex justify-between\">\r\n                <span>ì„ íƒëœ í”Œëœ:</span>\r\n                <span className=\"font-bold\">{selectedPlan.name}</span>\r\n              </div>\r\n              <div className=\"flex justify-between\">\r\n                <span>ì›” ìš”ê¸ˆ:</span>\r\n                <span className=\"font-bold\">â‚©{selectedPlan.price.toLocaleString()}</span>\r\n              </div>\r\n              <div className=\"flex justify-between\">\r\n                <span>ëŒ€ìƒ ì‚¬ìš©ì:</span>\r\n                <span className=\"font-bold\">{selectedUser?.email || 'ë¯¸ì„ íƒ'}</span>\r\n              </div>\r\n              <div className=\"flex justify-between\">\r\n                <span>ê²°ì œ ë°©ë²•:</span>\r\n                <span className=\"font-bold\">\r\n                  {formData.paymentMethod === 'card' ? 'ğŸ’³ ì¹´ë“œ ê²°ì œ' : 'ğŸ¦ í†µì¥ ê²°ì œ'}\r\n                </span>\r\n              </div>\r\n              <hr className=\"my-2\" />\r\n              <div className=\"flex justify-between text-lg font-bold text-blue-900\">\r\n                <span>ì´ ê²°ì œ ê¸ˆì•¡:</span>\r\n                <span>â‚©{selectedPlan.price.toLocaleString()}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* ì œì¶œ ë²„íŠ¼ */}\r\n        <div className=\"flex justify-end space-x-4\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => onTabChange('users')}\r\n            className=\"px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors\"\r\n            disabled={loading}\r\n          >\r\n            ì·¨ì†Œ\r\n          </button>\r\n          <button\r\n            type=\"submit\"\r\n            className=\"px-8 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50\"\r\n            disabled={loading || !formData.planId || !formData.targetUserId}\r\n          >\r\n            {loading ? 'ì²˜ë¦¬ ì¤‘...' : 'ê²°ì œ ì§„í–‰'}\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PaymentOptionsPage;","// Subscription and Payment Service\r\nimport { API_BASE_URL } from '../config/api';\r\nimport {\r\n  SubscriptionPlan,\r\n  UserSubscription,\r\n  SubscriptionUsage,\r\n  PaymentRequest,\r\n  PaymentResponse,\r\n  SubscriptionResponse,\r\n  ExtendedUser,\r\n  ProjectLimits,\r\n  UsageAlert\r\n} from '../types/subscription';\r\n\r\ninterface PaymentRecord {\r\n  id: string;\r\n  amount: number;\r\n  currency: string;\r\n  status: string;\r\n  createdAt: string;\r\n  planId?: string;\r\n  subscriptionId?: string;\r\n}\r\n\r\nclass SubscriptionService {\r\n  private async request<T>(endpoint: string, options: RequestInit = {}): Promise<T> {\r\n    const response = await fetch(`${API_BASE_URL}${endpoint}`, {\r\n      credentials: 'include',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        ...options.headers,\r\n      },\r\n      ...options,\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const error = await response.json().catch(() => ({ message: 'Request failed' }));\r\n      throw new Error(error.message || 'Request failed');\r\n    }\r\n\r\n    return response.json();\r\n  }\r\n\r\n  // êµ¬ë… í”Œëœ ê´€ë ¨\r\n  async getAvailablePlans(): Promise<SubscriptionPlan[]> {\r\n    return this.request<SubscriptionPlan[]>('/api/subscriptions/plans/');\r\n  }\r\n\r\n  async getPlanDetails(planId: string): Promise<SubscriptionPlan> {\r\n    return this.request<SubscriptionPlan>(`/api/subscriptions/plans/${planId}/`);\r\n  }\r\n\r\n  // ì‚¬ìš©ì êµ¬ë… ê´€ë¦¬\r\n  async getCurrentSubscription(userId: string): Promise<UserSubscription | null> {\r\n    try {\r\n      return await this.request<UserSubscription>('/api/subscriptions/subscriptions/current/');\r\n    } catch (error) {\r\n      // êµ¬ë…ì´ ì—†ëŠ” ê²½ìš° null ë°˜í™˜\r\n      return null;\r\n    }\r\n  }\r\n\r\n  async subscribeToPlan(request: PaymentRequest): Promise<PaymentResponse> {\r\n    return this.request<PaymentResponse>('/api/subscriptions/subscribe/', {\r\n      method: 'POST',\r\n      body: JSON.stringify(request),\r\n    });\r\n  }\r\n\r\n  async cancelSubscription(subscriptionId: string): Promise<SubscriptionResponse> {\r\n    return this.request<SubscriptionResponse>(`/api/subscriptions/subscriptions/${subscriptionId}/cancel/`, {\r\n      method: 'POST',\r\n    });\r\n  }\r\n\r\n  async renewSubscription(subscriptionId: string): Promise<SubscriptionResponse> {\r\n    return this.request<SubscriptionResponse>(`/api/subscriptions/subscriptions/${subscriptionId}/renew/`, {\r\n      method: 'POST',\r\n    });\r\n  }\r\n\r\n  // ì‚¬ìš©ëŸ‰ ê´€ë¦¬\r\n  async getUsage(userId: string): Promise<SubscriptionUsage> {\r\n    return this.request<SubscriptionUsage>('/api/subscriptions/usage/current/');\r\n  }\r\n\r\n  async checkLimits(userId: string, resource: string, required: number = 1): Promise<boolean> {\r\n    const response = await this.request<{ allowed: boolean; remaining: number }>('/api/subscriptions/check-limits/', {\r\n      method: 'POST',\r\n      body: JSON.stringify({ resource_type: resource, required_amount: required }),\r\n    });\r\n    return response.allowed;\r\n  }\r\n\r\n  async getProjectLimits(userId: string, projectId?: string): Promise<ProjectLimits> {\r\n    // í˜„ì¬ êµ¬ë… ì •ë³´ì—ì„œ ì œí•œì‚¬í•­ ê°€ì ¸ì˜¤ê¸°\r\n    const subscription = await this.getCurrentSubscription(userId);\r\n    if (subscription) {\r\n      // ê¸°ë³¸ê°’ìœ¼ë¡œ ì„¤ì •\r\n      return {\r\n        maxEvaluators: 100,\r\n        maxSurveys: 50,\r\n        maxCriteria: 15,\r\n        maxAlternatives: 10,\r\n        remainingEvaluators: 100,\r\n        remainingSurveys: 50,\r\n        remainingCriteria: 15,\r\n        remainingAlternatives: 10\r\n      };\r\n    }\r\n    \r\n    // ê¸°ë³¸ê°’ ë°˜í™˜\r\n    return {\r\n      maxEvaluators: 10,\r\n      maxSurveys: 50,\r\n      maxCriteria: 15,\r\n      maxAlternatives: 10,\r\n      remainingEvaluators: 10,\r\n      remainingSurveys: 50,\r\n      remainingCriteria: 15,\r\n      remainingAlternatives: 10\r\n    };\r\n  }\r\n\r\n  // ê°œì¸ ê´€ë¦¬ì ê´€ë¦¬ (ì´ê´„ ê´€ë¦¬ììš©)\r\n  async createPersonalAdmin(adminData: {\r\n    email: string;\r\n    firstName: string;\r\n    lastName: string;\r\n    maxProjects: number;\r\n  }): Promise<ExtendedUser> {\r\n    return this.request<ExtendedUser>('/api/accounts/personal-admin', {\r\n      method: 'POST',\r\n      body: JSON.stringify(adminData),\r\n    });\r\n  }\r\n\r\n  async getPersonalAdmins(superAdminId: string): Promise<ExtendedUser[]> {\r\n    return this.request<ExtendedUser[]>(`/api/accounts/personal-admins/${superAdminId}`);\r\n  }\r\n\r\n  async updatePersonalAdminLimits(adminId: string, limits: Partial<ProjectLimits>): Promise<void> {\r\n    await this.request(`/api/accounts/personal-admin/${adminId}/limits`, {\r\n      method: 'PUT',\r\n      body: JSON.stringify(limits),\r\n    });\r\n  }\r\n\r\n  async deactivatePersonalAdmin(adminId: string): Promise<void> {\r\n    await this.request(`/api/accounts/personal-admin/${adminId}/deactivate`, {\r\n      method: 'POST',\r\n    });\r\n  }\r\n\r\n  // ì•Œë¦¼ ë° ê²½ê³ \r\n  async getUsageAlerts(userId: string): Promise<UsageAlert[]> {\r\n    return this.request<UsageAlert[]>('/api/subscriptions/alerts/');\r\n  }\r\n\r\n  async markAlertAsRead(alertId: string): Promise<void> {\r\n    await this.request(`/api/subscriptions/alerts/${alertId}/mark_read/`, {\r\n      method: 'POST',\r\n    });\r\n  }\r\n\r\n  // ê²°ì œ ì´ë ¥\r\n  async getPaymentHistory(userId: string): Promise<PaymentRecord[]> {\r\n    return this.request<PaymentRecord[]>('/api/subscriptions/payment-records/');\r\n  }\r\n\r\n  // ê²°ì œ ë°©ë²• ê´€ë¦¬\r\n  async updatePaymentMethod(subscriptionId: string, paymentMethodData: Record<string, unknown>): Promise<void> {\r\n    await this.request('/api/subscriptions/payment-methods/', {\r\n      method: 'POST',\r\n      body: JSON.stringify(paymentMethodData),\r\n    });\r\n  }\r\n\r\n  // ì¿ í° ë° í• ì¸\r\n  async validateCoupon(couponCode: string, planId: string): Promise<{\r\n    valid: boolean;\r\n    discount: number;\r\n    discountType: 'percentage' | 'fixed';\r\n    message: string;\r\n  }> {\r\n    return this.request('/api/subscriptions/validate-coupon/', {\r\n      method: 'POST',\r\n      body: JSON.stringify({ coupon_code: couponCode, plan_id: planId }),\r\n    });\r\n  }\r\n\r\n  // ê´€ë¦¬ì ì „ìš© ê¸°ëŠ¥\r\n  async getAllSubscriptions(): Promise<UserSubscription[]> {\r\n    return this.request<UserSubscription[]>('/api/subscriptions/subscriptions/');\r\n  }\r\n\r\n  async getSubscriptionStats(): Promise<{\r\n    totalActiveSubscriptions: number;\r\n    totalRevenue: number;\r\n    planDistribution: { [planId: string]: number };\r\n    monthlyGrowth: number;\r\n  }> {\r\n    return this.request('/api/subscriptions/stats/');\r\n  }\r\n\r\n  async createCustomPlan(planData: Omit<SubscriptionPlan, 'id'>): Promise<SubscriptionPlan> {\r\n    return this.request<SubscriptionPlan>('/api/subscriptions/plans/', {\r\n      method: 'POST',\r\n      body: JSON.stringify(planData),\r\n    });\r\n  }\r\n\r\n  async updatePlan(planId: string, planData: Partial<SubscriptionPlan>): Promise<SubscriptionPlan> {\r\n    return this.request<SubscriptionPlan>(`/api/subscriptions/plans/${planId}/`, {\r\n      method: 'PUT',\r\n      body: JSON.stringify(planData),\r\n    });\r\n  }\r\n\r\n  // ë¯¸ë¦¬ ì •ì˜ëœ êµ¬ë… í”Œëœ (ê¸°ë³¸ê°’)\r\n  getDefaultPlans(): SubscriptionPlan[] {\r\n    return [\r\n      {\r\n        id: 'basic',\r\n        name: 'ê¸°ë³¸ í”Œëœ',\r\n        description: 'ê°œì¸ ì‚¬ìš©ì ë° ì†Œê·œëª¨ íŒ€ì„ ìœ„í•œ ê¸°ë³¸ ê¸°ëŠ¥',\r\n        price: 29000,\r\n        currency: 'KRW',\r\n        duration: 1,\r\n        features: [\r\n          { id: 'personal_admins', name: 'ê°œì¸ ê´€ë¦¬ì', description: 'ê°œì¸ ê´€ë¦¬ì 5ëª…ê¹Œì§€', included: true, limit: 5 },\r\n          { id: 'projects', name: 'í”„ë¡œì íŠ¸', description: 'ê´€ë¦¬ìë‹¹ í”„ë¡œì íŠ¸ 3ê°œ', included: true, limit: 3 },\r\n          { id: 'surveys', name: 'ì„¤ë¬¸ ì¡°ì‚¬', description: 'í”„ë¡œì íŠ¸ë‹¹ 50ê°œ ì„¤ë¬¸', included: true, limit: 50 },\r\n          { id: 'basic_support', name: 'ê¸°ë³¸ ì§€ì›', description: 'ì´ë©”ì¼ ì§€ì›', included: true },\r\n        ],\r\n        limits: {\r\n          maxPersonalAdmins: 5,\r\n          maxProjectsPerAdmin: 3,\r\n          maxSurveysPerProject: 50,\r\n          maxEvaluatorsPerProject: 10,\r\n          maxCriteriaPerProject: 15,\r\n          maxAlternativesPerProject: 10,\r\n          storageLimit: 1,\r\n          supportLevel: 'basic',\r\n          advancedFeatures: false\r\n        },\r\n        isActive: true\r\n      },\r\n      {\r\n        id: 'professional',\r\n        name: 'í”„ë¡œí˜ì…”ë„ í”Œëœ',\r\n        description: 'ì¤‘ê°„ ê·œëª¨ ì¡°ì§ì„ ìœ„í•œ ê³ ê¸‰ ê¸°ëŠ¥',\r\n        price: 89000,\r\n        currency: 'KRW',\r\n        duration: 1,\r\n        features: [\r\n          { id: 'personal_admins', name: 'ê°œì¸ ê´€ë¦¬ì', description: 'ê°œì¸ ê´€ë¦¬ì 20ëª…ê¹Œì§€', included: true, limit: 20 },\r\n          { id: 'projects', name: 'í”„ë¡œì íŠ¸', description: 'ê´€ë¦¬ìë‹¹ í”„ë¡œì íŠ¸ 10ê°œ', included: true, limit: 10 },\r\n          { id: 'surveys', name: 'ì„¤ë¬¸ ì¡°ì‚¬', description: 'í”„ë¡œì íŠ¸ë‹¹ 200ê°œ ì„¤ë¬¸', included: true, limit: 200 },\r\n          { id: 'advanced_features', name: 'ê³ ê¸‰ ê¸°ëŠ¥', description: 'Group AHP, ê³ ê¸‰ ë¶„ì„', included: true },\r\n          { id: 'priority_support', name: 'ìš°ì„  ì§€ì›', description: 'ì „í™” ë° ì´ë©”ì¼ ì§€ì›', included: true },\r\n        ],\r\n        limits: {\r\n          maxPersonalAdmins: 20,\r\n          maxProjectsPerAdmin: 10,\r\n          maxSurveysPerProject: 200,\r\n          maxEvaluatorsPerProject: 50,\r\n          maxCriteriaPerProject: 30,\r\n          maxAlternativesPerProject: 20,\r\n          storageLimit: 10,\r\n          supportLevel: 'premium',\r\n          advancedFeatures: true\r\n        },\r\n        isActive: true,\r\n        isPopular: true\r\n      },\r\n      {\r\n        id: 'enterprise',\r\n        name: 'ì—”í„°í”„ë¼ì´ì¦ˆ í”Œëœ',\r\n        description: 'ëŒ€ê·œëª¨ ì¡°ì§ì„ ìœ„í•œ ë¬´ì œí•œ ê¸°ëŠ¥',\r\n        price: 299000,\r\n        currency: 'KRW',\r\n        duration: 1,\r\n        features: [\r\n          { id: 'unlimited_admins', name: 'ë¬´ì œí•œ ê´€ë¦¬ì', description: 'ê°œì¸ ê´€ë¦¬ì ë¬´ì œí•œ', included: true },\r\n          { id: 'unlimited_projects', name: 'ë¬´ì œí•œ í”„ë¡œì íŠ¸', description: 'í”„ë¡œì íŠ¸ ìƒì„± ë¬´ì œí•œ', included: true },\r\n          { id: 'unlimited_surveys', name: 'ë¬´ì œí•œ ì„¤ë¬¸', description: 'ì„¤ë¬¸ ì¡°ì‚¬ ë¬´ì œí•œ', included: true },\r\n          { id: 'all_features', name: 'ëª¨ë“  ê³ ê¸‰ ê¸°ëŠ¥', description: 'ëª¨ë“  ë¶„ì„ ë„êµ¬ ë° ê¸°ëŠ¥', included: true },\r\n          { id: 'dedicated_support', name: 'ì „ë‹´ ì§€ì›', description: 'ì „ë‹´ ê³„ì • ë§¤ë‹ˆì €', included: true },\r\n          { id: 'custom_integration', name: 'ë§ì¶¤ í†µí•©', description: 'API ë° ë§ì¶¤ í†µí•©', included: true },\r\n        ],\r\n        limits: {\r\n          maxPersonalAdmins: -1, // unlimited\r\n          maxProjectsPerAdmin: -1, // unlimited\r\n          maxSurveysPerProject: -1, // unlimited\r\n          maxEvaluatorsPerProject: -1, // unlimited\r\n          maxCriteriaPerProject: -1, // unlimited\r\n          maxAlternativesPerProject: -1, // unlimited\r\n          storageLimit: -1, // unlimited\r\n          supportLevel: 'enterprise',\r\n          advancedFeatures: true\r\n        },\r\n        isActive: true\r\n      }\r\n    ];\r\n  }\r\n}\r\n\r\nexport const subscriptionService = new SubscriptionService();\r\nexport default SubscriptionService;"],"names":["_ref","user","onTabChange","availablePlans","setAvailablePlans","useState","users","setUsers","loading","setLoading","error","setError","success","setSuccess","formData","setFormData","planId","paymentMethod","cardNumber","expiryDate","cvv","cardHolderName","bankName","accountNumber","accountHolder","billingAddress","country","city","address","postalCode","targetUserId","customLimits","maxProjects","maxEvaluators","aiEnabled","couponCode","useEffect","loadInitialData","async","plans","subscriptionService","getDefaultPlans","storedUsers","JSON","parse","localStorage","getItem","filter","u","role","handleInputChange","field","value","includes","parent","child","split","prev","_objectSpread","selectedPlan","find","plan","id","selectedUser","_jsxs","className","children","_jsx","style","color","onClick","onSubmit","e","preventDefault","paymentRequest","undefined","response","subscribeToPlan","updatePersonalAdminLimits","maxSurveys","maxCriteria","maxAlternatives","remainingEvaluators","remainingSurveys","remainingCriteria","remainingAlternatives","setTimeout","backgroundColor","border","onChange","target","required","map","email","first_name","last_name","concat","isPopular","name","price","toLocaleString","description","features","slice","feature","type","parseInt","min","max","checked","matches","replace","match","parts","i","len","length","push","substring","join","formatCardNumber","placeholder","maxLength","cleaned","formatExpiryDate","toUpperCase","disabled","SubscriptionService","request","endpoint","options","arguments","fetch","API_BASE_URL","credentials","headers","ok","json","catch","message","Error","getAvailablePlans","this","getPlanDetails","getCurrentSubscription","userId","method","body","stringify","cancelSubscription","subscriptionId","renewSubscription","getUsage","checkLimits","resource","resource_type","required_amount","allowed","getProjectLimits","projectId","createPersonalAdmin","adminData","getPersonalAdmins","superAdminId","adminId","limits","deactivatePersonalAdmin","getUsageAlerts","markAlertAsRead","alertId","getPaymentHistory","updatePaymentMethod","paymentMethodData","validateCoupon","coupon_code","plan_id","getAllSubscriptions","getSubscriptionStats","createCustomPlan","planData","updatePlan","currency","duration","included","limit","maxPersonalAdmins","maxProjectsPerAdmin","maxSurveysPerProject","maxEvaluatorsPerProject","maxCriteriaPerProject","maxAlternativesPerProject","storageLimit","supportLevel","advancedFeatures","isActive"],"sourceRoot":""}