"use strict";(self.webpackChunkahp_research_platform=self.webpackChunkahp_research_platform||[]).push([[304,638],{3638(e,r,t){t.r(r),t.d(r,{default:()=>i});var s=t(2555),a=t(5043),c=t(9304),o=t(579);const i=e=>{let{onBack:r,onReset:t}=e;const[i,l]=(0,a.useState)({users:!1,projects:!1,evaluations:!1,settings:!1,logs:!1,cache:!0}),[n,d]=(0,a.useState)(0),[p,u]=(0,a.useState)(""),[x,h]=(0,a.useState)(""),[v,g]=(0,a.useState)(!1),[m,y]=(0,a.useState)(null),b=(e,r)=>{y({type:e,text:r}),setTimeout(()=>y(null),3e3)},j=[{key:"users",label:"\uc0ac\uc6a9\uc790 \ub370\uc774\ud130",icon:"\ud83d\udc65",description:"\ubaa8\ub4e0 \uc0ac\uc6a9\uc790 \uacc4\uc815 (\uc288\ud37c \uad00\ub9ac\uc790 \uc81c\uc678)",danger:!0},{key:"projects",label:"\ud504\ub85c\uc81d\ud2b8 \ub370\uc774\ud130",icon:"\ud83d\udccb",description:"\ubaa8\ub4e0 \ud504\ub85c\uc81d\ud2b8 \ubc0f \uad00\ub828 \uc124\uc815",danger:!0},{key:"evaluations",label:"\ud3c9\uac00 \ub370\uc774\ud130",icon:"\u2696\ufe0f",description:"\ubaa8\ub4e0 \ud3c9\uac00 \uacb0\uacfc \ubc0f \ubd84\uc11d \ub370\uc774\ud130",danger:!0},{key:"settings",label:"\uc2dc\uc2a4\ud15c \uc124\uc815",icon:"\u2699\ufe0f",description:"\uc0ac\uc6a9\uc790 \uc815\uc758 \uc124\uc815 \ubc0f \uad6c\uc131",danger:!1},{key:"logs",label:"\uc2dc\uc2a4\ud15c \ub85c\uadf8",icon:"\ud83d\udcdd",description:"\ubaa8\ub4e0 \ud65c\ub3d9 \ub85c\uadf8 \ubc0f \uac10\uc0ac \uae30\ub85d",danger:!1},{key:"cache",label:"\uce90\uc2dc \ub370\uc774\ud130",icon:"\ud83d\udcbe",description:"\uc784\uc2dc \ud30c\uc77c \ubc0f \uce90\uc2dc\ub41c \ub370\uc774\ud130",danger:!1}],f=()=>Object.values(i).filter(e=>e).length;return(0,o.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[m&&(0,o.jsx)("div",{className:"fixed top-4 right-4 z-50 px-4 py-3 rounded-lg text-sm font-medium shadow-lg ".concat("success"===m.type?"bg-green-100 text-green-800":"info"===m.type?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"),children:m.text}),(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-3xl font-bold",style:{color:"var(--text-primary)"},children:"\ud83d\udd04 \uc2dc\uc2a4\ud15c \ucd08\uae30\ud654"}),(0,o.jsx)("p",{className:"text-lg mt-2",style:{color:"var(--text-secondary)"},children:"\uc2dc\uc2a4\ud15c \ub370\uc774\ud130\ub97c \uc120\ud0dd\uc801\uc73c\ub85c \ucd08\uae30\ud654\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4"})]}),(0,o.jsx)("button",{onClick:r,className:"px-4 py-2 rounded-lg transition-colors",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)",border:"1px solid var(--border-light)"},children:"\u2190 \ub3cc\uc544\uac00\uae30"})]}),(0,o.jsx)("div",{className:"p-6 rounded-xl bg-red-50 border-2 border-red-200",children:(0,o.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,o.jsx)("span",{className:"text-4xl",children:"\u26a0\ufe0f"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{className:"text-xl font-bold text-red-900 mb-2",children:"\ub9e4\uc6b0 \uc704\ud5d8\ud55c \uc791\uc5c5\uc785\ub2c8\ub2e4!"}),(0,o.jsx)("p",{className:"text-red-800",children:"\uc2dc\uc2a4\ud15c \ucd08\uae30\ud654\ub294 \uc120\ud0dd\ud55c \ub370\uc774\ud130\ub97c \uc644\uc804\ud788 \uc0ad\uc81c\ud569\ub2c8\ub2e4. \uc774 \uc791\uc5c5\uc740 \ub418\ub3cc\ub9b4 \uc218 \uc5c6\uc73c\uba70, \ubaa8\ub4e0 \uad00\ub828 \ub370\uc774\ud130\uac00 \uc601\uad6c\uc801\uc73c\ub85c \uc190\uc2e4\ub429\ub2c8\ub2e4. \ucd08\uae30\ud654 \uc804 \ubc18\ub4dc\uc2dc \ubc31\uc5c5\uc744 \uc218\ud589\ud558\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4."})]})]})}),0===n?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsx)("h3",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:"\ucd08\uae30\ud654\ud560 \ud56d\ubaa9 \uc120\ud0dd"}),(0,o.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:j.map(e=>(0,o.jsx)("div",{className:"p-4 rounded-lg border-2 cursor-pointer transition-all ".concat(i[e.key]?e.danger?"border-red-500 bg-red-50":"border-blue-500 bg-blue-50":"border-gray-300"),onClick:()=>{return r=e.key,void l(e=>(0,s.A)((0,s.A)({},e),{},{[r]:!e[r]}));var r},children:(0,o.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,o.jsx)("input",{type:"checkbox",checked:i[e.key],onChange:()=>{},className:"mt-1"}),(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsx)("span",{className:"text-2xl",children:e.icon}),(0,o.jsx)("h4",{className:"font-semibold",style:{color:"var(--text-primary)"},children:e.label})]}),(0,o.jsx)("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:e.description}),e.danger&&(0,o.jsx)("p",{className:"text-xs mt-2 text-red-600 font-semibold",children:"\u26a0\ufe0f \ubcf5\uad6c \ubd88\uac00\ub2a5"})]})]})},e.key))})]}),(0,o.jsx)("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"text-sm",style:{color:"var(--text-muted)"},children:"\uc120\ud0dd\ub41c \ud56d\ubaa9"}),(0,o.jsxs)("p",{className:"text-2xl font-bold",style:{color:"var(--text-primary)"},children:[f(),"\uac1c"]})]}),(0,o.jsx)("button",{onClick:()=>{0!==f()?d(1):b("error","\ucd08\uae30\ud654\ud560 \ud56d\ubaa9\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694.")},disabled:0===f(),className:"px-6 py-3 rounded-lg font-semibold transition-all ".concat(f()>0?"bg-red-600 text-white hover:bg-red-700":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:"\ucd08\uae30\ud654 \uc2dc\uc791"})]})})]}):1===n?(0,o.jsxs)("div",{className:"p-6 rounded-xl",style:{backgroundColor:"var(--bg-secondary)"},children:[(0,o.jsx)("h3",{className:"text-xl font-bold mb-4",style:{color:"var(--text-primary)"},children:"1\ub2e8\uacc4: \ucd08\uae30\ud654 \ud655\uc778"}),(0,o.jsxs)("div",{className:"mb-6 p-4 rounded-lg bg-yellow-50 border border-yellow-200",children:[(0,o.jsx)("h4",{className:"font-semibold text-yellow-900 mb-2",children:"\ub2e4\uc74c \ud56d\ubaa9\ub4e4\uc774 \ucd08\uae30\ud654\ub429\ub2c8\ub2e4:"}),(0,o.jsx)("ul",{className:"space-y-1",children:j.filter(e=>i[e.key]).map(e=>(0,o.jsxs)("li",{className:"flex items-center space-x-2 text-sm text-yellow-800",children:[(0,o.jsx)("span",{children:e.icon}),(0,o.jsx)("span",{children:e.label})]},e.key))})]}),(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsxs)("p",{style:{color:"var(--text-secondary)"},children:["\uacc4\uc18d\ud558\ub824\uba74 \uc544\ub798 \uc785\ub825\ub780\uc5d0 ",(0,o.jsx)("strong",{className:"text-red-600",children:"DELETE"}),"\ub97c \uc785\ub825\ud558\uc138\uc694:"]}),(0,o.jsx)("input",{type:"text",value:p,onChange:e=>u(e.target.value),placeholder:"DELETE \uc785\ub825",className:"w-full px-4 py-3 rounded-lg border text-lg font-mono",style:{backgroundColor:"var(--bg-primary)",borderColor:"DELETE"===p?"green":"var(--border-light)",color:"var(--text-primary)"},autoFocus:!0}),(0,o.jsxs)("div",{className:"flex space-x-3",children:[(0,o.jsx)("button",{onClick:()=>{"DELETE"===p?d(2):b("error","\ud655\uc778 \ud14d\uc2a4\ud2b8\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.")},disabled:"DELETE"!==p,className:"flex-1 py-3 rounded-lg font-semibold transition-all ".concat("DELETE"===p?"bg-red-600 text-white hover:bg-red-700":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:"\ub2e4\uc74c \ub2e8\uacc4"}),(0,o.jsx)("button",{onClick:()=>{d(0),u("")},className:"px-6 py-3 rounded-lg font-semibold",style:{backgroundColor:"var(--bg-subtle)",color:"var(--text-primary)"},children:"\ucde8\uc18c"})]})]})]}):(0,o.jsxs)("div",{className:"p-6 rounded-xl",style:{backgroundColor:"var(--bg-secondary)"},children:[(0,o.jsx)("h3",{className:"text-xl font-bold mb-4",style:{color:"var(--text-primary)"},children:"2\ub2e8\uacc4: \ucd5c\uc885 \ud655\uc778"}),(0,o.jsx)("div",{className:"mb-6 p-4 rounded-lg bg-red-50 border-2 border-red-300",children:(0,o.jsx)("p",{className:"text-red-900 font-semibold",children:"\ud83d\udea8 \ub9c8\uc9c0\ub9c9 \uacbd\uace0: \uc774 \uc791\uc5c5\uc740 \ub418\ub3cc\ub9b4 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4!"})}),(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsx)("p",{style:{color:"var(--text-secondary)"},children:"\ucd08\uae30\ud654\ub97c \uc2e4\ud589\ud558\ub824\uba74 \uc288\ud37c \uad00\ub9ac\uc790 \ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud558\uc138\uc694:"}),(0,o.jsx)("input",{type:"password",value:x,onChange:e=>h(e.target.value),placeholder:"\ube44\ubc00\ubc88\ud638 \uc785\ub825",className:"w-full px-4 py-3 rounded-lg border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-light)",color:"var(--text-primary)"},autoFocus:!0}),(0,o.jsxs)("div",{className:"flex space-x-3",children:[(0,o.jsx)("button",{onClick:async()=>{if(x){g(!0);try{const e=await c.Ay.post("/api/service/accounts/verify-password/",{password:x});e.data&&e.data.valid?(t(i),b("success","\uc2dc\uc2a4\ud15c \ucd08\uae30\ud654\uac00 \uc2dc\uc791\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),d(0),u(""),h("")):b("error","\ube44\ubc00\ubc88\ud638\uac00 \uc62c\ubc14\ub974\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.")}catch(e){b("error","\ube44\ubc00\ubc88\ud638 \ud655\uc778 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}finally{g(!1)}}else b("error","\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.")},disabled:v,className:"flex-1 py-3 rounded-lg font-semibold bg-red-600 text-white hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:v?"\ube44\ubc00\ubc88\ud638 \ud655\uc778 \uc911...":"\ud83d\udd04 \uc2dc\uc2a4\ud15c \ucd08\uae30\ud654 \uc2e4\ud589"}),(0,o.jsx)("button",{onClick:()=>{d(0),u(""),h("")},className:"px-6 py-3 rounded-lg font-semibold",style:{backgroundColor:"var(--bg-subtle)",color:"var(--text-primary)"},children:"\ucde8\uc18c"})]})]})]})]})}},9304(e,r,t){t.d(r,{Ay:()=>m});var s=t(2555),a=t(1801),c=t(1422),o=t(8018);const i=new class{constructor(e){this.baseURL=void 0,this.baseURL=e}async request(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const t=(0,s.A)({"Content-Type":"application/json"},r.headers),a=c.A.getAccessToken();a&&(t.Authorization="Bearer ".concat(a));const o=await fetch("".concat(this.baseURL).concat(e),(0,s.A)((0,s.A)({credentials:"include"},r),{},{headers:t})),i=await o.json();if(!o.ok){if(401===o.status){if((await c.A.refreshAccessToken()).success){const a=c.A.getAccessToken();if(a){t.Authorization="Bearer ".concat(a);const c=await fetch("".concat(this.baseURL).concat(e),(0,s.A)((0,s.A)({credentials:"include"},r),{},{headers:t}));if(c.ok){return{data:await c.json()}}}}else window.dispatchEvent(new CustomEvent("auth:tokenExpired"))}return{error:i.error||i.detail||"Request failed"}}return{data:i}}catch(t){return o.A.error("API request failed:",t),{error:"Network error"}}}get(e){return this.request(e,{method:"GET"})}post(e,r){return this.request(e,{method:"POST",body:r?JSON.stringify(r):void 0})}put(e,r){return this.request(e,{method:"PUT",body:r?JSON.stringify(r):void 0})}delete(e){return this.request(e,{method:"DELETE"})}patch(e,r){return this.request(e,{method:"PATCH",body:r?JSON.stringify(r):void 0})}}(a.API_BASE_URL),l={login:async e=>{try{return{data:{user:(await c.A.login(e.username,e.password)).user},error:null}}catch(r){return{data:null,error:r instanceof Error?r.message:"Login failed"}}},logout:async()=>{try{const e=await c.A.logout();return{data:e.success?{message:"Logout successful"}:null,error:e.success?null:e.error}}catch(e){return{data:null,error:e instanceof Error?e.message:"Logout failed"}}},refreshToken:async()=>{try{const e=await c.A.refreshAccessToken();return{data:e.success?{message:"Token refreshed"}:null,error:e.success?null:e.error}}catch(e){return{data:null,error:e instanceof Error?e.message:"Token refresh failed"}}},verifyToken:async()=>{try{return{data:await c.A.getCurrentUser(),error:null}}catch(e){return{data:null,error:e instanceof Error?e.message:"Token verification failed"}}},isAuthenticated:()=>c.A.isAuthenticated(),getCurrentUser:async()=>{try{return{data:await c.A.getCurrentUser(),error:null}}catch(e){return{data:null,error:e instanceof Error?e.message:"Failed to get user info"}}}},n={save:e=>i.post("/api/service/evaluations/direct-input/",e),fetch:e=>i.get("/api/service/evaluations/direct-input/?project=".concat(e)),normalize:e=>i.post("/api/service/analysis/normalize/",e)},d={save:e=>i.post("/api/service/evaluations/comparisons/",e),fetchMatrix:(e,r)=>i.get("/api/service/evaluations/comparisons/?project=".concat(e,"&matrix_key=").concat(r))},p={calculate:e=>i.post("/api/service/analysis/calculate/individual/",e),validateMatrix:e=>i.post("/api/service/analysis/validate-matrix/",{matrix:e})},u={assign:e=>i.post("/api/service/evaluations/invitations/",e),fetchByProject:e=>i.get("/api/service/evaluations/invitations/?project=".concat(e)),list:e=>i.get("/api/service/evaluations/evaluations/?project=".concat(e)),updateWeight:(e,r)=>i.patch("/api/service/evaluations/invitations/".concat(e,"/"),r),remove:e=>i.delete("/api/service/evaluations/invitations/".concat(e,"/")),fetchProgress:e=>i.get("/api/service/evaluations/evaluations/?project=".concat(e,"&status=in_progress")),validateAccessKey:e=>i.get("/api/service/evaluations/invitations/by_token/?token=".concat(e))},x={save:e=>i.post("/api/service/analysis/calculate/individual/",e),fetchIndividual:e=>i.get("/api/service/analysis/project-summary/?project_id=".concat(e)),calculateGroup:e=>i.post("/api/service/analysis/calculate/group/",e),fetchProject:e=>i.get("/api/service/analysis/project-summary/?project_id=".concat(e)),sensitivityAnalysis:e=>i.post("/api/service/analysis/sensitivity/",e)},h={fetch:()=>i.get("/api/service/projects/projects/"),fetchById:e=>i.get("/api/service/projects/projects/".concat(e,"/")),create:e=>i.post("/api/service/projects/projects/",e),update:(e,r)=>i.patch("/api/service/projects/projects/".concat(e,"/"),r),delete:e=>i.delete("/api/service/projects/projects/".concat(e,"/"))},v={fetch:e=>i.get("/api/service/projects/criteria/?project=".concat(e)),create:e=>i.post("/api/service/projects/criteria/",e),update:(e,r)=>i.patch("/api/service/projects/criteria/".concat(e,"/"),r),delete:e=>i.delete("/api/service/projects/criteria/".concat(e,"/"))},g={fetch:e=>i.get("/api/service/projects/criteria/?project=".concat(e,"&type=alternative")),create:e=>i.post("/api/service/projects/criteria/",(0,s.A)((0,s.A)({},e),{},{type:"alternative"})),update:(e,r)=>i.patch("/api/service/projects/criteria/".concat(e,"/"),r),delete:e=>i.delete("/api/service/projects/criteria/".concat(e,"/"))},m={get:i.get.bind(i),post:i.post.bind(i),put:i.put.bind(i),delete:i.delete.bind(i),patch:i.patch.bind(i),authAPI:l,directEvaluationAPI:n,pairwiseEvaluationAPI:d,ahpCalculationAPI:p,evaluatorAPI:u,resultsAPI:x,projectAPI:h,criteriaAPI:v,alternativesAPI:g,apiHelpers:{generateMatrixKey:(e,r)=>"criteria"===e?"C:".concat(r||"root"):"A:".concat(r),generateTargetKey:(e,r,t)=>"criterion"===e?"criterion:".concat(r):"alternative:".concat(r,"@criterion:").concat(t),extractErrorMessage:e=>e.error?e.error:"Unknown error occurred",extractSuccessMessage:e=>e.message?e.message:"Operation completed successfully"}}}}]);
//# sourceMappingURL=638.e63c4e29.chunk.js.map