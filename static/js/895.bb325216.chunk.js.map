{"version":3,"file":"static/js/895.bb325216.chunk.js","mappings":"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","sources":["services/fileUploadService.ts","../node_modules/@heroicons/react/24/outline/esm/CloudArrowUpIcon.js","../node_modules/@heroicons/react/24/outline/esm/EyeIcon.js","../node_modules/@heroicons/react/24/outline/esm/ArrowDownTrayIcon.js","components/common/FileUpload.tsx","components/ai-quality/AIQualityValidationPage.tsx","../node_modules/@heroicons/react/24/outline/esm/ClockIcon.js","components/common/PageHeader.tsx","../node_modules/@heroicons/react/24/outline/esm/TrashIcon.js"],"sourcesContent":["import { API_BASE_URL } from '../config/api';\r\nimport { ApiResponse } from './api';\r\n\r\n// File Upload Service Interfaces\r\nexport interface FileUploadInfo {\r\n  id: string;\r\n  original_name: string;\r\n  file_name: string;\r\n  file_path: string;\r\n  file_size: number;\r\n  file_type: string;\r\n  mime_type: string;\r\n  upload_date: string;\r\n  uploaded_by?: string;\r\n  project_id?: string;\r\n  category: 'document' | 'image' | 'data' | 'template' | 'other';\r\n  status: 'uploading' | 'completed' | 'failed' | 'processing';\r\n  metadata?: {\r\n    description?: string;\r\n    tags?: string[];\r\n    public?: boolean;\r\n    expires_at?: string;\r\n  };\r\n  file_hash: string;\r\n  download_count: number;\r\n  is_public: boolean;\r\n  storage_type: 'local' | 's3' | 'database';\r\n}\r\n\r\nexport interface UploadProgress {\r\n  file_id: string;\r\n  progress_percentage: number;\r\n  bytes_uploaded: number;\r\n  total_bytes: number;\r\n  upload_speed?: number;\r\n  estimated_time_remaining?: number;\r\n  status: 'uploading' | 'completed' | 'failed' | 'paused';\r\n  error_message?: string;\r\n}\r\n\r\nexport interface FileDownloadInfo {\r\n  id: string;\r\n  download_url: string;\r\n  expires_at: string;\r\n  download_token: string;\r\n}\r\n\r\nexport interface FileValidationResult {\r\n  is_valid: boolean;\r\n  file_size_valid: boolean;\r\n  file_type_valid: boolean;\r\n  virus_scan_clean?: boolean;\r\n  issues: string[];\r\n  warnings: string[];\r\n}\r\n\r\n// HTTP Headers for file upload requests\r\nconst getFileUploadHeaders = (includeContentType: boolean = false): HeadersInit => {\r\n  const headers: HeadersInit = {};\r\n  \r\n  // Don't set Content-Type for FormData - browser will set it with boundary\r\n  if (includeContentType) {\r\n    headers['Content-Type'] = 'application/json';\r\n  }\r\n  \r\n  const accessToken = localStorage.getItem('ahp_access_token') || sessionStorage.getItem('ahp_access_token');\r\n  if (accessToken) {\r\n    headers['Authorization'] = `Bearer ${accessToken}`;\r\n  }\r\n  \r\n  return headers;\r\n};\r\n\r\n// Make file upload API request\r\nconst makeFileUploadRequest = async <T>(\r\n  endpoint: string, \r\n  options: RequestInit = {}\r\n): Promise<ApiResponse<T>> => {\r\n  try {\r\n    const url = `${API_BASE_URL}${endpoint}`;\r\n    \r\n    const response = await fetch(url, {\r\n      credentials: 'include',\r\n      ...options,\r\n      headers: {\r\n        ...getFileUploadHeaders(false),\r\n        ...options.headers\r\n      }\r\n    });\r\n    \r\n    const contentType = response.headers.get('content-type');\r\n    let data: Record<string, unknown> | null = null;\r\n\r\n    if (contentType && contentType.includes('application/json')) {\r\n      data = await response.json() as Record<string, unknown>;\r\n    } else if (response.ok && options.method === 'DELETE') {\r\n      data = { success: true };\r\n    } else {\r\n      const text = await response.text();\r\n      void text; // non-JSON response body discarded\r\n    }\r\n\r\n    if (!response.ok) {\r\n      throw new Error((data?.message || data?.error || `HTTP ${response.status}: File upload API 요청 실패`) as string);\r\n    }\r\n\r\n    return {\r\n      success: true,\r\n      data: (data?.data ?? data) as T,\r\n      message: data?.message as string | undefined\r\n    };\r\n  } catch (error: unknown) {\r\n    console.error(`File Upload API Error [${endpoint}]:`, error);\r\n    const errorMessage = error instanceof Error ? error.message : '';\r\n    return {\r\n      success: false,\r\n      error: errorMessage || 'Unknown file upload error occurred'\r\n    };\r\n  }\r\n};\r\n\r\n// File Upload Service\r\nexport const fileUploadService = {\r\n  // File Upload\r\n  uploadFile: async (\r\n    file: File, \r\n    category: FileUploadInfo['category'] = 'document',\r\n    metadata?: FileUploadInfo['metadata'],\r\n    projectId?: string,\r\n    onProgress?: (progress: UploadProgress) => void\r\n  ): Promise<ApiResponse<FileUploadInfo>> => {\r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n    formData.append('category', category);\r\n    \r\n    if (metadata) {\r\n      formData.append('metadata', JSON.stringify(metadata));\r\n    }\r\n    \r\n    if (projectId) {\r\n      formData.append('project_id', projectId);\r\n    }\r\n    \r\n    // Generate file hash for deduplication\r\n    const fileHash = await generateFileHash(file);\r\n    formData.append('file_hash', fileHash);\r\n    \r\n    try {\r\n      // Create XMLHttpRequest for progress tracking\r\n      return new Promise((resolve, reject) => {\r\n        const xhr = new XMLHttpRequest();\r\n        const fileId = generateUniqueId();\r\n        \r\n        // Progress tracking\r\n        xhr.upload.addEventListener('progress', (event) => {\r\n          if (event.lengthComputable && onProgress) {\r\n            const progress: UploadProgress = {\r\n              file_id: fileId,\r\n              progress_percentage: Math.round((event.loaded / event.total) * 100),\r\n              bytes_uploaded: event.loaded,\r\n              total_bytes: event.total,\r\n              status: 'uploading'\r\n            };\r\n            onProgress(progress);\r\n          }\r\n        });\r\n        \r\n        xhr.addEventListener('load', () => {\r\n          if (xhr.status >= 200 && xhr.status < 300) {\r\n            try {\r\n              const data = JSON.parse(xhr.responseText);\r\n              \r\n              // Store file info locally for immediate access\r\n              if (data.data) {\r\n                storeFileInfoLocally(data.data);\r\n              }\r\n              \r\n              resolve({\r\n                success: true,\r\n                data: data.data || data,\r\n                message: data.message\r\n              });\r\n            } catch (error) {\r\n              reject(new Error('Failed to parse upload response'));\r\n            }\r\n          } else {\r\n            reject(new Error(`Upload failed: ${xhr.status} ${xhr.statusText}`));\r\n          }\r\n        });\r\n        \r\n        xhr.addEventListener('error', () => {\r\n          reject(new Error('Network error during upload'));\r\n        });\r\n        \r\n        const headers = getFileUploadHeaders(false);\r\n        xhr.open('POST', `${API_BASE_URL}/api/files/upload/`);\r\n        \r\n        // Set authorization header if available\r\n        Object.entries(headers).forEach(([key, value]) => {\r\n          xhr.setRequestHeader(key, value as string);\r\n        });\r\n        \r\n        xhr.send(formData);\r\n      });\r\n    } catch (error: unknown) {\r\n      const errorMessage = error instanceof Error ? error.message : '';\r\n      return {\r\n        success: false,\r\n        error: errorMessage || 'File upload failed'\r\n      };\r\n    }\r\n  },\r\n\r\n  // Get file info\r\n  getFileInfo: async (fileId: string): Promise<ApiResponse<FileUploadInfo>> => {\r\n    return makeFileUploadRequest<FileUploadInfo>(`/api/files/${fileId}/`);\r\n  },\r\n\r\n  // List files\r\n  getFiles: async (\r\n    page: number = 1, \r\n    category?: FileUploadInfo['category'],\r\n    projectId?: string,\r\n    search?: string\r\n  ): Promise<ApiResponse<{\r\n    results: FileUploadInfo[];\r\n    count: number;\r\n    next?: string;\r\n    previous?: string;\r\n  }>> => {\r\n    let params = `?page=${page}`;\r\n    if (category) params += `&category=${category}`;\r\n    if (projectId) params += `&project_id=${projectId}`;\r\n    if (search) params += `&search=${encodeURIComponent(search)}`;\r\n    \r\n    return makeFileUploadRequest(`/api/files/${params}`);\r\n  },\r\n\r\n  // Download file\r\n  downloadFile: async (fileId: string): Promise<ApiResponse<FileDownloadInfo>> => {\r\n    const response = await makeFileUploadRequest<FileDownloadInfo>(`/api/files/${fileId}/download/`, {\r\n      method: 'POST'\r\n    });\r\n    \r\n    // Track download\r\n    if (response.success && response.data) {\r\n      await fileUploadService.incrementDownloadCount(fileId);\r\n    }\r\n    \r\n    return response as ApiResponse<FileDownloadInfo>;\r\n  },\r\n\r\n  // Delete file\r\n  deleteFile: async (fileId: string): Promise<ApiResponse<void>> => {\r\n    const response = await makeFileUploadRequest<void>(`/api/files/${fileId}/`, {\r\n      method: 'DELETE'\r\n    });\r\n    \r\n    // Remove from local storage\r\n    if (response.success) {\r\n      removeFileInfoLocally(fileId);\r\n    }\r\n    \r\n    return response;\r\n  },\r\n\r\n  // Update file metadata\r\n  updateFileMetadata: async (\r\n    fileId: string, \r\n    metadata: Partial<FileUploadInfo['metadata']>\r\n  ): Promise<ApiResponse<FileUploadInfo>> => {\r\n    return makeFileUploadRequest<FileUploadInfo>(`/api/files/${fileId}/metadata/`, {\r\n      method: 'PATCH',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ metadata })\r\n    });\r\n  },\r\n\r\n  // Validate file\r\n  validateFile: async (file: File): Promise<FileValidationResult> => {\r\n    const validation: FileValidationResult = {\r\n      is_valid: true,\r\n      file_size_valid: true,\r\n      file_type_valid: true,\r\n      issues: [],\r\n      warnings: []\r\n    };\r\n    \r\n    // File size validation (50MB limit)\r\n    const maxSize = 50 * 1024 * 1024;\r\n    if (file.size > maxSize) {\r\n      validation.file_size_valid = false;\r\n      validation.is_valid = false;\r\n      validation.issues.push(`파일 크기가 50MB를 초과합니다. (현재: ${formatFileSize(file.size)})`);\r\n    }\r\n    \r\n    // File type validation\r\n    const allowedTypes = [\r\n      'application/pdf',\r\n      'application/msword',\r\n      'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\r\n      'text/plain',\r\n      'image/jpeg',\r\n      'image/png',\r\n      'image/gif',\r\n      'application/vnd.ms-excel',\r\n      'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\r\n      'text/csv'\r\n    ];\r\n    \r\n    if (!allowedTypes.includes(file.type)) {\r\n      validation.file_type_valid = false;\r\n      validation.is_valid = false;\r\n      validation.issues.push(`지원되지 않는 파일 형식입니다: ${file.type}`);\r\n    }\r\n    \r\n    // File name validation\r\n    if (file.name.length > 255) {\r\n      validation.is_valid = false;\r\n      validation.issues.push('파일명이 너무 깁니다 (최대 255자)');\r\n    }\r\n    \r\n    // Security checks for file extensions\r\n    const dangerousExtensions = ['.exe', '.bat', '.cmd', '.scr', '.pif', '.com'];\r\n    const fileExtension = file.name.toLowerCase().substring(file.name.lastIndexOf('.'));\r\n    if (dangerousExtensions.includes(fileExtension)) {\r\n      validation.file_type_valid = false;\r\n      validation.is_valid = false;\r\n      validation.issues.push(`보안상 위험한 파일 확장자입니다: ${fileExtension}`);\r\n    }\r\n    \r\n    return validation;\r\n  },\r\n\r\n  // Bulk file operations\r\n  bulkDeleteFiles: async (fileIds: string[]): Promise<ApiResponse<{ deleted_count: number }>> => {\r\n    const response = await makeFileUploadRequest<{ deleted_count: number }>('/api/files/bulk-delete/', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ file_ids: fileIds })\r\n    });\r\n    \r\n    // Remove from local storage\r\n    if (response.success) {\r\n      fileIds.forEach(id => removeFileInfoLocally(id));\r\n    }\r\n    \r\n    return response;\r\n  },\r\n\r\n  // File sharing\r\n  createShareLink: async (\r\n    fileId: string, \r\n    expiresIn: number = 24, \r\n    isPublic: boolean = false\r\n  ): Promise<ApiResponse<{ share_url: string; expires_at: string }>> => {\r\n    return makeFileUploadRequest(`/api/files/${fileId}/share/`, {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ \r\n        expires_in_hours: expiresIn,\r\n        is_public: isPublic\r\n      })\r\n    });\r\n  },\r\n\r\n  // File backup and recovery\r\n  createFileBackup: async (fileId: string): Promise<ApiResponse<{ backup_id: string }>> => {\r\n    return makeFileUploadRequest(`/api/files/${fileId}/backup/`, {\r\n      method: 'POST'\r\n    });\r\n  },\r\n\r\n  restoreFileFromBackup: async (backupId: string): Promise<ApiResponse<FileUploadInfo>> => {\r\n    return makeFileUploadRequest(`/api/files/restore/${backupId}/`, {\r\n      method: 'POST'\r\n    });\r\n  },\r\n\r\n  // Statistics\r\n  getUploadStatistics: async (): Promise<ApiResponse<{\r\n    total_files: number;\r\n    total_size: number;\r\n    files_by_category: Record<string, number>;\r\n    recent_uploads: FileUploadInfo[];\r\n  }>> => {\r\n    return makeFileUploadRequest('/api/files/statistics/');\r\n  },\r\n\r\n  // File cleanup\r\n  cleanupExpiredFiles: async (): Promise<ApiResponse<{ cleaned_count: number }>> => {\r\n    return makeFileUploadRequest('/api/files/cleanup/', {\r\n      method: 'POST'\r\n    });\r\n  },\r\n\r\n  // Increment download count\r\n  incrementDownloadCount: async (fileId: string): Promise<ApiResponse<void>> => {\r\n    return makeFileUploadRequest(`/api/files/${fileId}/download-count/`, {\r\n      method: 'POST'\r\n    });\r\n  }\r\n};\r\n\r\n// Utility functions for file upload\r\nexport const fileUploadUtils = {\r\n  // Validate file before upload\r\n  validateFileBeforeUpload: async (file: File): Promise<FileValidationResult> => {\r\n    return fileUploadService.validateFile(file);\r\n  },\r\n\r\n  // Format file size for display\r\n  formatFileSize,\r\n\r\n  // Get file type icon\r\n  getFileTypeIcon: (mimeType: string): string => {\r\n    if (mimeType.startsWith('image/')) return '🖼️';\r\n    if (mimeType.startsWith('video/')) return '🎥';\r\n    if (mimeType.startsWith('audio/')) return '🎵';\r\n    if (mimeType.includes('pdf')) return '📄';\r\n    if (mimeType.includes('word') || mimeType.includes('document')) return '📝';\r\n    if (mimeType.includes('excel') || mimeType.includes('spreadsheet')) return '📊';\r\n    if (mimeType.includes('powerpoint') || mimeType.includes('presentation')) return '📺';\r\n    if (mimeType.includes('zip') || mimeType.includes('rar') || mimeType.includes('archive')) return '📦';\r\n    return '📁';\r\n  },\r\n\r\n  // Check if file is image\r\n  isImageFile: (mimeType: string): boolean => {\r\n    return mimeType.startsWith('image/');\r\n  },\r\n\r\n  // Check if file is document\r\n  isDocumentFile: (mimeType: string): boolean => {\r\n    return mimeType.includes('pdf') || \r\n           mimeType.includes('word') || \r\n           mimeType.includes('document') ||\r\n           mimeType.includes('text');\r\n  },\r\n\r\n  // Generate thumbnail for image files\r\n  generateImageThumbnail: async (file: File, maxSize: number = 200): Promise<string | null> => {\r\n    if (!file.type.startsWith('image/')) return null;\r\n    \r\n    return new Promise((resolve) => {\r\n      const canvas = document.createElement('canvas');\r\n      const ctx = canvas.getContext('2d');\r\n      const img = new Image();\r\n      \r\n      img.onload = () => {\r\n        const ratio = Math.min(maxSize / img.width, maxSize / img.height);\r\n        canvas.width = img.width * ratio;\r\n        canvas.height = img.height * ratio;\r\n        \r\n        ctx?.drawImage(img, 0, 0, canvas.width, canvas.height);\r\n        resolve(canvas.toDataURL());\r\n      };\r\n      \r\n      img.onerror = () => resolve(null);\r\n      img.src = URL.createObjectURL(file);\r\n    });\r\n  },\r\n\r\n  // Auto-categorize file based on type\r\n  categorizeFile: (file: File): FileUploadInfo['category'] => {\r\n    const mimeType = file.type.toLowerCase();\r\n    \r\n    if (mimeType.startsWith('image/')) return 'image';\r\n    if (mimeType.includes('pdf') || mimeType.includes('document') || mimeType.includes('text')) return 'document';\r\n    if (mimeType.includes('excel') || mimeType.includes('csv') || mimeType.includes('spreadsheet')) return 'data';\r\n    \r\n    return 'other';\r\n  },\r\n\r\n  // Store upload progress locally\r\n  storeUploadProgress: (fileId: string, progress: UploadProgress): void => {\r\n    try {\r\n      const key = `upload_progress_${fileId}`;\r\n      localStorage.setItem(key, JSON.stringify(progress));\r\n    } catch (error) {\r\n      console.error('Failed to store upload progress:', error);\r\n    }\r\n  },\r\n\r\n  // Get upload progress from local storage\r\n  getUploadProgress: (fileId: string): UploadProgress | null => {\r\n    try {\r\n      const key = `upload_progress_${fileId}`;\r\n      const stored = localStorage.getItem(key);\r\n      if (stored) {\r\n        return JSON.parse(stored);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to get upload progress:', error);\r\n    }\r\n    return null;\r\n  },\r\n\r\n  // Clear upload progress\r\n  clearUploadProgress: (fileId: string): void => {\r\n    try {\r\n      const key = `upload_progress_${fileId}`;\r\n      localStorage.removeItem(key);\r\n    } catch (error) {\r\n      console.error('Failed to clear upload progress:', error);\r\n    }\r\n  }\r\n};\r\n\r\n// Helper functions\r\nasync function generateFileHash(file: File): Promise<string> {\r\n  const buffer = await file.arrayBuffer();\r\n  const hashBuffer = await crypto.subtle.digest('SHA-256', buffer);\r\n  const hashArray = Array.from(new Uint8Array(hashBuffer));\r\n  return hashArray.map(b => b.toString(16).padStart(2, '0')).join('');\r\n}\r\n\r\nfunction generateUniqueId(): string {\r\n  return 'file_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);\r\n}\r\n\r\nfunction storeFileInfoLocally(fileInfo: FileUploadInfo): void {\r\n  try {\r\n    const existing = getLocalFileInfos();\r\n    existing[fileInfo.id] = fileInfo;\r\n    localStorage.setItem('ahp_uploaded_files', JSON.stringify(existing));\r\n  } catch (error) {\r\n    console.error('Failed to store file info locally:', error);\r\n  }\r\n}\r\n\r\nfunction removeFileInfoLocally(fileId: string): void {\r\n  try {\r\n    const existing = getLocalFileInfos();\r\n    delete existing[fileId];\r\n    localStorage.setItem('ahp_uploaded_files', JSON.stringify(existing));\r\n  } catch (error) {\r\n    console.error('Failed to remove file info locally:', error);\r\n  }\r\n}\r\n\r\nfunction getLocalFileInfos(): Record<string, FileUploadInfo> {\r\n  try {\r\n    const stored = localStorage.getItem('ahp_uploaded_files');\r\n    return stored ? JSON.parse(stored) : {};\r\n  } catch (error) {\r\n    console.error('Failed to get local file infos:', error);\r\n    return {};\r\n  }\r\n}\r\n\r\nfunction formatFileSize(bytes: number): string {\r\n  if (bytes === 0) return '0 Bytes';\r\n  const k = 1024;\r\n  const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\r\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\r\n}\r\n\r\nexport default fileUploadService;","import * as React from \"react\";\nfunction CloudArrowUpIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M12 16.5V9.75m0 0 3 3m-3-3-3 3M6.75 19.5a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(CloudArrowUpIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction EyeIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(EyeIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction ArrowDownTrayIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ArrowDownTrayIcon);\nexport default ForwardRef;","import React, { useState, useRef, useCallback } from 'react';\r\nimport { \r\n  CloudArrowUpIcon,\r\n  TrashIcon,\r\n  EyeIcon,\r\n  ArrowDownTrayIcon,\r\n  ExclamationTriangleIcon,\r\n  CheckCircleIcon,\r\n  ClockIcon\r\n} from '@heroicons/react/24/outline';\r\nimport Button from './Button';\r\nimport Modal from './Modal';\r\nimport { \r\n  fileUploadService, \r\n  fileUploadUtils, \r\n  FileUploadInfo, \r\n  UploadProgress, \r\n  FileValidationResult \r\n} from '../../services/fileUploadService';\r\n\r\ninterface FileUploadProps {\r\n  onFileUploaded?: (fileInfo: FileUploadInfo) => void;\r\n  onFileDeleted?: (fileId: string) => void;\r\n  allowMultiple?: boolean;\r\n  accept?: string;\r\n  maxFileSize?: number; // in bytes\r\n  category?: FileUploadInfo['category'];\r\n  projectId?: string;\r\n  className?: string;\r\n  disabled?: boolean;\r\n  showPreview?: boolean;\r\n  allowDownload?: boolean;\r\n}\r\n\r\ninterface FileUploadState {\r\n  files: FileUploadInfo[];\r\n  uploadProgress: Record<string, UploadProgress>;\r\n  dragActive: boolean;\r\n  previewFile: FileUploadInfo | null;\r\n  showDeleteConfirm: string | null;\r\n}\r\n\r\nconst FileUpload: React.FC<FileUploadProps> = ({\r\n  onFileUploaded,\r\n  onFileDeleted,\r\n  allowMultiple = false,\r\n  accept = \".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png,.gif,.xlsx,.xls,.csv\",\r\n  maxFileSize = 50 * 1024 * 1024, // 50MB\r\n  category = 'document',\r\n  projectId,\r\n  className = '',\r\n  disabled = false,\r\n  showPreview = true,\r\n  allowDownload = true\r\n}) => {\r\n  const [state, setState] = useState<FileUploadState>({\r\n    files: [],\r\n    uploadProgress: {},\r\n    dragActive: false,\r\n    previewFile: null,\r\n    showDeleteConfirm: null\r\n  });\r\n  \r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n  const [error, setError] = useState<string>('');\r\n  const [success, setSuccess] = useState<string>('');\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // Load existing files on mount\r\n  React.useEffect(() => {\r\n    loadExistingFiles();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [projectId, category]);\r\n\r\n  const loadExistingFiles = async () => {\r\n    try {\r\n      const response = await fileUploadService.getFiles(1, category, projectId);\r\n      if (response.success && response.data) {\r\n        setState(prev => ({ ...prev, files: response.data?.results || [] }));\r\n      } else if (!response.success) {\r\n        setError('기존 파일 목록을 불러오지 못했습니다.');\r\n      }\r\n    } catch (err: unknown) {\r\n      const errMsg = err instanceof Error ? err.message : '알 수 없는 오류';\r\n      setError(`파일 목록 로드 실패: ${errMsg}`);\r\n    }\r\n  };\r\n\r\n  const validateFile = async (file: File): Promise<FileValidationResult> => {\r\n    const validation = await fileUploadUtils.validateFileBeforeUpload(file);\r\n    \r\n    // Additional size check against props\r\n    if (file.size > maxFileSize) {\r\n      validation.file_size_valid = false;\r\n      validation.is_valid = false;\r\n      validation.issues.push(`파일 크기가 제한을 초과합니다. (최대: ${fileUploadUtils.formatFileSize(maxFileSize)})`);\r\n    }\r\n    \r\n    return validation;\r\n  };\r\n\r\n  const handleFileUpload = async (files: FileList) => {\r\n    if (disabled) return;\r\n    \r\n    setError('');\r\n    setSuccess('');\r\n    setLoading(true);\r\n    \r\n    const fileArray = Array.from(files);\r\n    \r\n    // Validate multiple file upload\r\n    if (!allowMultiple && fileArray.length > 1) {\r\n      setError('한 번에 하나의 파일만 업로드할 수 있습니다.');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    \r\n    // Validate and upload each file\r\n    for (const file of fileArray) {\r\n      const validation = await validateFile(file);\r\n      \r\n      if (!validation.is_valid) {\r\n        setError(`파일 업로드 실패 (${file.name}): ${validation.issues.join(', ')}`);\r\n        continue;\r\n      }\r\n      \r\n      const metadata = {\r\n        description: `Uploaded ${file.name}`,\r\n        tags: [category],\r\n        public: false\r\n      };\r\n      \r\n      try {\r\n        const response = await fileUploadService.uploadFile(\r\n          file,\r\n          category,\r\n          metadata,\r\n          projectId,\r\n          (progress) => {\r\n            setState(prev => ({\r\n              ...prev,\r\n              uploadProgress: {\r\n                ...prev.uploadProgress,\r\n                [progress.file_id]: progress\r\n              }\r\n            }));\r\n            \r\n            // Store progress locally\r\n            fileUploadUtils.storeUploadProgress(progress.file_id, progress);\r\n          }\r\n        );\r\n        \r\n        if (response.success && response.data) {\r\n          const uploadedFile = response.data;\r\n          // Add to file list\r\n          setState(prev => ({\r\n            ...prev,\r\n            files: [...prev.files, uploadedFile],\r\n            uploadProgress: {\r\n              ...prev.uploadProgress,\r\n              [uploadedFile.id]: {\r\n                file_id: uploadedFile.id,\r\n                progress_percentage: 100,\r\n                bytes_uploaded: uploadedFile.file_size,\r\n                total_bytes: uploadedFile.file_size,\r\n                status: 'completed'\r\n              }\r\n            }\r\n          }));\r\n\r\n          // Clean up progress\r\n          setTimeout(() => {\r\n            setState(prev => {\r\n              const newProgress = { ...prev.uploadProgress };\r\n              delete newProgress[uploadedFile.id];\r\n              return { ...prev, uploadProgress: newProgress };\r\n            });\r\n            fileUploadUtils.clearUploadProgress(uploadedFile.id);\r\n          }, 2000);\r\n\r\n          setSuccess(`파일 업로드 완료: ${file.name}`);\r\n          onFileUploaded?.(uploadedFile);\r\n        } else {\r\n          throw new Error(response.error || '파일 업로드에 실패했습니다.');\r\n        }\r\n      } catch (error: unknown) {\r\n        setError(`파일 업로드 실패 (${file.name}): ${error instanceof Error ? error.message : String(error)}`);\r\n\r\n        // Update progress to failed\r\n        setState(prev => ({\r\n          ...prev,\r\n          uploadProgress: {\r\n            ...prev.uploadProgress,\r\n            [file.name]: {\r\n              file_id: file.name,\r\n              progress_percentage: 0,\r\n              bytes_uploaded: 0,\r\n              total_bytes: file.size,\r\n              status: 'failed',\r\n              error_message: error instanceof Error ? error.message : String(error)\r\n            }\r\n          }\r\n        }));\r\n      }\r\n    }\r\n    \r\n    setLoading(false);\r\n    \r\n    // Clear file input\r\n    if (fileInputRef.current) {\r\n      fileInputRef.current.value = '';\r\n    }\r\n  };\r\n\r\n  const handleDrop = useCallback((e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    setState(prev => ({ ...prev, dragActive: false }));\r\n\r\n    if (disabled) return;\r\n\r\n    const files = e.dataTransfer.files;\r\n    if (files.length > 0) {\r\n      handleFileUpload(files);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [disabled]);\r\n\r\n  const handleDragOver = useCallback((e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    if (!disabled) {\r\n      setState(prev => ({ ...prev, dragActive: true }));\r\n    }\r\n  }, [disabled]);\r\n\r\n  const handleDragLeave = useCallback((e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    setState(prev => ({ ...prev, dragActive: false }));\r\n  }, []);\r\n\r\n  const handleDeleteFile = async (fileId: string) => {\r\n    try {\r\n      const response = await fileUploadService.deleteFile(fileId);\r\n      if (response.success) {\r\n        setState(prev => ({\r\n          ...prev,\r\n          files: prev.files.filter(f => f.id !== fileId),\r\n          showDeleteConfirm: null\r\n        }));\r\n        setSuccess('파일이 삭제되었습니다.');\r\n        onFileDeleted?.(fileId);\r\n      } else {\r\n        throw new Error(response.error || '파일 삭제에 실패했습니다.');\r\n      }\r\n    } catch (error: unknown) {\r\n      setError(`파일 삭제 실패: ${error instanceof Error ? error.message : String(error)}`);\r\n    }\r\n  };\r\n\r\n  const handleDownloadFile = async (file: FileUploadInfo) => {\r\n    try {\r\n      const response = await fileUploadService.downloadFile(file.id);\r\n      if (response.success && response.data) {\r\n        // Open download URL in new tab\r\n        window.open(response.data.download_url, '_blank');\r\n      } else {\r\n        throw new Error(response.error || '파일 다운로드에 실패했습니다.');\r\n      }\r\n    } catch (error: unknown) {\r\n      setError(`파일 다운로드 실패: ${error instanceof Error ? error.message : String(error)}`);\r\n    }\r\n  };\r\n\r\n  const getUploadProgressBar = (progress: UploadProgress) => {\r\n    const getStatusColor = () => {\r\n      switch (progress.status) {\r\n        case 'completed': return 'bg-green-500';\r\n        case 'failed': return 'bg-red-500';\r\n        case 'paused': return 'bg-yellow-500';\r\n        default: return 'bg-blue-500';\r\n      }\r\n    };\r\n    \r\n    return (\r\n      <div className=\"mt-2\">\r\n        <div className=\"flex justify-between text-sm text-gray-600 mb-1\">\r\n          <span>{progress.status === 'completed' ? '완료' : `${progress.progress_percentage}%`}</span>\r\n          {progress.upload_speed && (\r\n            <span>{fileUploadUtils.formatFileSize(progress.upload_speed)}/s</span>\r\n          )}\r\n        </div>\r\n        <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n          <div\r\n            className={`h-2 rounded-full transition-all duration-300 ${getStatusColor()}`}\r\n            style={{ width: `${progress.progress_percentage}%` }}\r\n          />\r\n        </div>\r\n        {progress.error_message && (\r\n          <p className=\"text-xs text-red-600 mt-1\">{progress.error_message}</p>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className={`space-y-4 ${className}`}>\r\n      {/* Error/Success Messages */}\r\n      {error && (\r\n        <div className=\"bg-red-50 border border-red-200 rounded-lg p-3\">\r\n          <div className=\"flex items-center\">\r\n            <ExclamationTriangleIcon className=\"h-5 w-5 text-red-400 mr-2\" />\r\n            <p className=\"text-sm text-red-700\">{error}</p>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {success && (\r\n        <div className=\"bg-green-50 border border-green-200 rounded-lg p-3\">\r\n          <div className=\"flex items-center\">\r\n            <CheckCircleIcon className=\"h-5 w-5 text-green-400 mr-2\" />\r\n            <p className=\"text-sm text-green-700\">{success}</p>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Upload Area */}\r\n      <div\r\n        className={`border-2 border-dashed rounded-lg p-8 text-center transition-colors cursor-pointer ${\r\n          disabled \r\n            ? 'border-gray-200 bg-gray-50 cursor-not-allowed' \r\n            : state.dragActive \r\n              ? 'border-blue-400 bg-blue-50' \r\n              : 'border-gray-300 hover:border-gray-400'\r\n        }`}\r\n        onDrop={handleDrop}\r\n        onDragOver={handleDragOver}\r\n        onDragLeave={handleDragLeave}\r\n        onClick={() => !disabled && fileInputRef.current?.click()}\r\n      >\r\n        <CloudArrowUpIcon className={`h-12 w-12 mx-auto mb-4 ${disabled ? 'text-gray-300' : 'text-gray-400'}`} />\r\n        \r\n        <div className=\"space-y-2\">\r\n          <p className={`text-lg font-medium ${disabled ? 'text-gray-400' : 'text-gray-700'}`}>\r\n            {allowMultiple ? '파일들을 드래그하거나 클릭하여 업로드' : '파일을 드래그하거나 클릭하여 업로드'}\r\n          </p>\r\n          <p className={`text-sm ${disabled ? 'text-gray-300' : 'text-gray-500'}`}>\r\n            지원 형식: {accept.split(',').join(', ')}\r\n          </p>\r\n          <p className={`text-xs ${disabled ? 'text-gray-300' : 'text-gray-400'}`}>\r\n            최대 파일 크기: {fileUploadUtils.formatFileSize(maxFileSize)}\r\n          </p>\r\n        </div>\r\n        \r\n        {loading && (\r\n          <div className=\"mt-4\">\r\n            <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto\"></div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <input\r\n        ref={fileInputRef}\r\n        type=\"file\"\r\n        accept={accept}\r\n        multiple={allowMultiple}\r\n        onChange={(e) => e.target.files && handleFileUpload(e.target.files)}\r\n        className=\"hidden\"\r\n        disabled={disabled}\r\n      />\r\n\r\n      {/* Upload Progress */}\r\n      {Object.keys(state.uploadProgress).length > 0 && (\r\n        <div className=\"space-y-2\">\r\n          <h4 className=\"font-medium text-gray-700\">업로드 진행 상황</h4>\r\n          {Object.values(state.uploadProgress).map((progress) => (\r\n            <div key={progress.file_id} className=\"bg-gray-50 rounded-lg p-3\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <span className=\"text-sm font-medium text-gray-700\">\r\n                  파일 업로드 중...\r\n                </span>\r\n                {progress.status === 'uploading' && (\r\n                  <ClockIcon className=\"h-4 w-4 text-gray-400\" />\r\n                )}\r\n              </div>\r\n              {getUploadProgressBar(progress)}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {/* Uploaded Files List */}\r\n      {state.files.length > 0 && (\r\n        <div className=\"space-y-2\">\r\n          <h4 className=\"font-medium text-gray-700\">업로드된 파일</h4>\r\n          <div className=\"grid grid-cols-1 gap-3\">\r\n            {state.files.map((file) => (\r\n              <div key={file.id} className=\"bg-white border rounded-lg p-4\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div className=\"flex items-center space-x-3\">\r\n                    <span className=\"text-2xl\">\r\n                      {fileUploadUtils.getFileTypeIcon(file.mime_type)}\r\n                    </span>\r\n                    <div>\r\n                      <h5 className=\"font-medium text-gray-900\">{file.original_name}</h5>\r\n                      <div className=\"flex items-center space-x-2 text-sm text-gray-500\">\r\n                        <span>{fileUploadUtils.formatFileSize(file.file_size)}</span>\r\n                        <span>•</span>\r\n                        <span>{new Date(file.upload_date).toLocaleDateString('ko-KR')}</span>\r\n                        <span>•</span>\r\n                        <span className={`px-2 py-1 rounded-full text-xs ${\r\n                          file.status === 'completed' ? 'bg-green-100 text-green-800' :\r\n                          file.status === 'processing' ? 'bg-yellow-100 text-yellow-800' :\r\n                          file.status === 'failed' ? 'bg-red-100 text-red-800' :\r\n                          'bg-gray-100 text-gray-800'\r\n                        }`}>\r\n                          {file.status === 'completed' ? '완료' :\r\n                           file.status === 'processing' ? '처리 중' :\r\n                           file.status === 'failed' ? '실패' : file.status}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className=\"flex items-center space-x-2\">\r\n                    {showPreview && fileUploadUtils.isImageFile(file.mime_type) && (\r\n                      <Button\r\n                        size=\"sm\"\r\n                        variant=\"outline\"\r\n                        onClick={() => setState(prev => ({ ...prev, previewFile: file }))}\r\n                        className=\"flex items-center\"\r\n                      >\r\n                        <EyeIcon className=\"h-4 w-4 mr-1\" />\r\n                        미리보기\r\n                      </Button>\r\n                    )}\r\n                    \r\n                    {allowDownload && file.status === 'completed' && (\r\n                      <Button\r\n                        size=\"sm\"\r\n                        variant=\"outline\"\r\n                        onClick={() => handleDownloadFile(file)}\r\n                        className=\"flex items-center\"\r\n                      >\r\n                        <ArrowDownTrayIcon className=\"h-4 w-4 mr-1\" />\r\n                        다운로드\r\n                      </Button>\r\n                    )}\r\n                    \r\n                    <Button\r\n                      size=\"sm\"\r\n                      variant=\"outline\"\r\n                      onClick={() => setState(prev => ({ ...prev, showDeleteConfirm: file.id }))}\r\n                      className=\"flex items-center text-red-600 hover:text-red-700\"\r\n                    >\r\n                      <TrashIcon className=\"h-4 w-4 mr-1\" />\r\n                      삭제\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n                \r\n                {file.metadata?.description && (\r\n                  <p className=\"mt-2 text-sm text-gray-600\">{file.metadata.description}</p>\r\n                )}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Preview Modal */}\r\n      <Modal\r\n        isOpen={!!state.previewFile}\r\n        onClose={() => setState(prev => ({ ...prev, previewFile: null }))}\r\n        title=\"파일 미리보기\"\r\n        size=\"lg\"\r\n      >\r\n        {state.previewFile && (\r\n          <div className=\"space-y-4\">\r\n            <div className=\"text-center\">\r\n              <h3 className=\"font-medium text-gray-900\">{state.previewFile.original_name}</h3>\r\n              <p className=\"text-sm text-gray-500 mt-1\">\r\n                {fileUploadUtils.formatFileSize(state.previewFile.file_size)} • \r\n                {new Date(state.previewFile.upload_date).toLocaleDateString('ko-KR')}\r\n              </p>\r\n            </div>\r\n            \r\n            {fileUploadUtils.isImageFile(state.previewFile.mime_type) && (\r\n              <div className=\"flex justify-center\">\r\n                <img\r\n                  src={`${state.previewFile.file_path}`}\r\n                  alt={state.previewFile.original_name}\r\n                  className=\"max-w-full max-h-96 rounded-lg\"\r\n                />\r\n              </div>\r\n            )}\r\n            \r\n            <div className=\"flex justify-end space-x-3\">\r\n              <Button\r\n                variant=\"outline\"\r\n                onClick={() => setState(prev => ({ ...prev, previewFile: null }))}\r\n              >\r\n                닫기\r\n              </Button>\r\n              <Button\r\n                variant=\"primary\"\r\n                onClick={() => state.previewFile && handleDownloadFile(state.previewFile)}\r\n              >\r\n                다운로드\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </Modal>\r\n\r\n      {/* Delete Confirmation Modal */}\r\n      <Modal\r\n        isOpen={!!state.showDeleteConfirm}\r\n        onClose={() => setState(prev => ({ ...prev, showDeleteConfirm: null }))}\r\n        title=\"파일 삭제 확인\"\r\n      >\r\n        <div className=\"space-y-4\">\r\n          <p className=\"text-gray-700\">\r\n            정말로 이 파일을 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다.\r\n          </p>\r\n          \r\n          {state.showDeleteConfirm && (\r\n            <div className=\"bg-gray-50 rounded-lg p-3\">\r\n              <p className=\"font-medium text-gray-900\">\r\n                {state.files.find(f => f.id === state.showDeleteConfirm)?.original_name}\r\n              </p>\r\n            </div>\r\n          )}\r\n          \r\n          <div className=\"flex justify-end space-x-3\">\r\n            <Button\r\n              variant=\"outline\"\r\n              onClick={() => setState(prev => ({ ...prev, showDeleteConfirm: null }))}\r\n            >\r\n              취소\r\n            </Button>\r\n            <Button\r\n              variant=\"primary\"\r\n              onClick={() => state.showDeleteConfirm && handleDeleteFile(state.showDeleteConfirm)}\r\n              className=\"bg-red-600 hover:bg-red-700\"\r\n            >\r\n              삭제\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FileUpload;","/**\r\n * AI 논문 품질 검증 페이지\r\n * 작성된 논문의 학술적 품질을 AI가 다각도로 검증하고 개선 제안을 제공하는 시스템\r\n */\r\n\r\nimport React, { useState } from 'react';\r\nimport PageHeader from '../common/PageHeader';\r\nimport { getAIService } from '../../services/aiService';\r\nimport FileUpload from '../common/FileUpload';\r\nimport { FileUploadInfo } from '../../services/fileUploadService';\r\nimport type { User } from '../../types';\r\n\r\ninterface QualityCheck {\r\n  category: string;\r\n  score: number;\r\n  maxScore: number;\r\n  status: 'excellent' | 'good' | 'fair' | 'poor';\r\n  issues: Issue[];\r\n}\r\n\r\ninterface Issue {\r\n  type: 'critical' | 'major' | 'minor' | 'suggestion';\r\n  title: string;\r\n  description: string;\r\n  location: string;\r\n  suggestion: string;\r\n  priority: number;\r\n}\r\n\r\ninterface ValidationResult {\r\n  overallScore: number;\r\n  overallGrade: string;\r\n  checks: QualityCheck[];\r\n  summary: string;\r\n  strengths: string[];\r\n  improvements: string[];\r\n  recommendations: string[];\r\n}\r\n\r\ninterface AIQualityValidationPageProps {\r\n  user?: User;\r\n}\r\n\r\nconst AIQualityValidationPage: React.FC<AIQualityValidationPageProps> = ({ user }) => {\r\n  const [activeTab, setActiveTab] = useState<string>('upload');\r\n  const [uploadedFile, setUploadedFile] = useState<File | null>(null);\r\n  const [actionMessage, setActionMessage] = useState<{type:'success'|'error'|'info', text:string}|null>(null);\r\n\r\n  const showActionMessage = (type: 'success'|'error'|'info', text: string) => {\r\n    setActionMessage({type, text});\r\n    setTimeout(() => setActionMessage(null), 3000);\r\n  };\r\n  const [validationText, setValidationText] = useState<string>('');\r\n  const [validating, setValidating] = useState(false);\r\n  const [validationResult, setValidationResult] = useState<ValidationResult | null>(null);\r\n  const [validationSettings, setValidationSettings] = useState({\r\n    checkGrammar: true,\r\n    checkStructure: true,\r\n    checkMethodology: true,\r\n    checkReferences: true,\r\n    checkOriginality: true,\r\n    checkClarity: true,\r\n    strictMode: false\r\n  });\r\n\r\n  const tabs = [\r\n    { id: 'upload', title: '문서 업로드', icon: '📤' },\r\n    { id: 'settings', title: '검증 설정', icon: '⚙️' },\r\n    { id: 'validation', title: '품질 검증', icon: '🔍' },\r\n    { id: 'results', title: '검증 결과', icon: '📊' },\r\n    { id: 'improvements', title: '개선 제안', icon: '✨' }\r\n  ];\r\n\r\n  // 파일 업로드 처리 (영구 저장 지원)\r\n  const handleFileUpload = async (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = event.target.files?.[0];\r\n    if (file) {\r\n      setUploadedFile(file);\r\n      \r\n      try {\r\n        // 파일을 영구 저장소에 업로드\r\n        const { fileUploadService } = await import('../../services/fileUploadService');\r\n        \r\n        const response = await fileUploadService.uploadFile(\r\n          file,\r\n          'document',\r\n          {\r\n            description: 'AI 품질 검증용 논문',\r\n            tags: ['ai-validation', 'paper'],\r\n            public: false\r\n          }\r\n        );\r\n        \r\n        if (response.success && response.data) {\r\n          // 파일 내용 읽기 (로컬에서만 미리보기용)\r\n          const reader = new FileReader();\r\n          reader.onload = (e) => {\r\n            const content = e.target?.result as string;\r\n            // 실제로는 파일 파싱이 필요하지만 여기서는 시뮬레이션\r\n            setValidationText(content.slice(0, 1000) + '...');\r\n          };\r\n          reader.readAsText(file);\r\n        } else {\r\n          // 실패 시 기존 방식으로 임시 저장\r\n          const reader = new FileReader();\r\n          reader.onload = (e) => {\r\n            const content = e.target?.result as string;\r\n            setValidationText(content.slice(0, 1000) + '...');\r\n          };\r\n          reader.readAsText(file);\r\n        }\r\n      } catch (error) {\r\n        showActionMessage('error', '파일 업로드 중 오류가 발생했습니다. 다시 시도해주세요.');\r\n        // 오류 발생 시 기존 방식으로 임시 저장\r\n        const reader = new FileReader();\r\n        reader.onload = (e) => {\r\n          const content = e.target?.result as string;\r\n          setValidationText(content.slice(0, 1000) + '...');\r\n        };\r\n        reader.readAsText(file);\r\n      }\r\n    }\r\n  };\r\n\r\n  // AI 품질 검증 시작\r\n  const startValidation = async () => {\r\n    if (!uploadedFile && !validationText.trim()) {\r\n      showActionMessage('error', '검증할 문서를 업로드하거나 텍스트를 입력해주세요.');\r\n      return;\r\n    }\r\n\r\n    setValidating(true);\r\n    setActiveTab('validation');\r\n\r\n    try {\r\n      // 실제 AI 품질 검증 호출\r\n      const aiService = getAIService();\r\n      let aiValidationResult = null;\r\n      \r\n      if (aiService) {\r\n        try {\r\n          const contentToValidate = validationText || uploadedFile?.name || '';\r\n          aiValidationResult = await aiService.validatePaperQuality(contentToValidate, validationSettings);\r\n        } catch (error) {\r\n          showActionMessage('error', 'AI 품질 검증 중 오류가 발생했습니다.');\r\n        }\r\n      }\r\n      \r\n      // AI 서비스 결과와 기본 폴백 병합\r\n      const result: ValidationResult = {\r\n        ...aiValidationResult,\r\n        overallScore: aiValidationResult?.overallScore || 82,\r\n        overallGrade: aiValidationResult?.overallGrade || 'B+',\r\n        summary: '전반적으로 양호한 품질의 논문입니다. 방법론과 결과 분석 부분이 특히 우수하며, 참고문헌 인용도 적절합니다. 다만 서론 부분의 논리적 흐름과 일부 문법 오류 개선이 필요합니다.',\r\n        strengths: [\r\n          'AHP 방법론 적용이 체계적이고 정확함',\r\n          '데이터 분석 과정이 명확하고 투명함',\r\n          '결과 해석이 객관적이고 균형잡혀 있음',\r\n          '참고문헌 인용이 최신이고 적절함'\r\n        ],\r\n        improvements: [\r\n          '서론의 연구 배경과 필요성 논리 강화',\r\n          '일부 문법 오류 및 표현 개선',\r\n          '그래프와 표의 시각적 품질 향상',\r\n          '결론 부분의 실무적 시사점 보강'\r\n        ],\r\n        recommendations: [\r\n          '서론에서 연구 문제의 중요성을 더 구체적으로 제시',\r\n          '방법론 부분에 한계점과 가정사항 추가 기술',\r\n          '결과 해석 시 타 연구와의 비교 분석 강화',\r\n          '향후 연구 방향에 대한 구체적 제안 포함'\r\n        ],\r\n        checks: [\r\n          {\r\n            category: '문법 및 표현',\r\n            score: 75,\r\n            maxScore: 100,\r\n            status: 'good',\r\n            issues: [\r\n              {\r\n                type: 'minor',\r\n                title: '수동태 과다 사용',\r\n                description: '문서 전반에 수동태 표현이 빈번하게 사용되어 가독성을 저해합니다.',\r\n                location: '전체 문서',\r\n                suggestion: '능동태 표현을 활용하여 명확하고 직접적인 서술을 권장합니다.',\r\n                priority: 3\r\n              },\r\n              {\r\n                type: 'minor',\r\n                title: '일부 어색한 표현',\r\n                description: '2페이지 3번째 문단에서 어색한 번역 표현이 발견되었습니다.',\r\n                location: '2페이지 3문단',\r\n                suggestion: '\"결과적으로\" 대신 \"따라서\"를 사용하시기 바랍니다.',\r\n                priority: 2\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            category: '구조 및 논리',\r\n            score: 85,\r\n            maxScore: 100,\r\n            status: 'good',\r\n            issues: [\r\n              {\r\n                type: 'major',\r\n                title: '서론 논리 흐름 개선 필요',\r\n                description: '연구 배경에서 연구 문제로의 논리적 연결이 약합니다.',\r\n                location: '서론 부분',\r\n                suggestion: '선행 연구의 한계점을 더 명확히 제시하고 이를 바탕으로 연구 필요성을 강조하세요.',\r\n                priority: 4\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            category: '방법론',\r\n            score: 92,\r\n            maxScore: 100,\r\n            status: 'excellent',\r\n            issues: [\r\n              {\r\n                type: 'suggestion',\r\n                title: '샘플 크기 정당화 보완',\r\n                description: '표본 크기 결정 근거가 명시적으로 제시되지 않았습니다.',\r\n                location: '방법론 3.2절',\r\n                suggestion: '통계적 검정력 분석 결과를 추가하여 표본 크기의 적절성을 뒷받침하세요.',\r\n                priority: 2\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            category: '참고문헌',\r\n            score: 88,\r\n            maxScore: 100,\r\n            status: 'excellent',\r\n            issues: [\r\n              {\r\n                type: 'minor',\r\n                title: '인용 스타일 일관성',\r\n                description: '일부 인용에서 APA 스타일이 정확히 적용되지 않았습니다.',\r\n                location: '참고문헌 목록',\r\n                suggestion: 'DOI 정보가 있는 논문은 DOI를 포함하여 인용하시기 바랍니다.',\r\n                priority: 1\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            category: '독창성',\r\n            score: 80,\r\n            maxScore: 100,\r\n            status: 'good',\r\n            issues: [\r\n              {\r\n                type: 'minor',\r\n                title: '선행연구와 차별성 강화',\r\n                description: '기존 연구와의 차별점이 더 명확히 부각될 필요가 있습니다.',\r\n                location: '서론 및 결론',\r\n                suggestion: '본 연구의 독창적 기여점을 별도 섹션으로 정리하여 제시하세요.',\r\n                priority: 3\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            category: '명확성',\r\n            score: 78,\r\n            maxScore: 100,\r\n            status: 'good',\r\n            issues: [\r\n              {\r\n                type: 'major',\r\n                title: '전문용어 정의 필요',\r\n                description: '일부 AHP 전문용어가 정의 없이 사용되었습니다.',\r\n                location: '방법론 부분',\r\n                suggestion: '처음 사용하는 전문용어는 괄호 내에 영문 원어와 함께 정의를 제시하세요.',\r\n                priority: 4\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      };\r\n\r\n      setValidationResult(result);\r\n      setActiveTab('results');\r\n    } catch (error) {\r\n      showActionMessage('error', '검증 중 오류가 발생했습니다.');\r\n    } finally {\r\n      setValidating(false);\r\n    }\r\n  };\r\n\r\n  // 점수에 따른 색상 결정\r\n  const getScoreColor = (score: number) => {\r\n    if (score >= 90) return 'var(--success-primary)';\r\n    if (score >= 80) return 'var(--accent-primary)';\r\n    if (score >= 70) return 'var(--warning-primary)';\r\n    return 'var(--error-primary)';\r\n  };\r\n\r\n  // 상태에 따른 아이콘 결정\r\n  const getStatusIcon = (status: string) => {\r\n    switch (status) {\r\n      case 'excellent': return '🌟';\r\n      case 'good': return '✅';\r\n      case 'fair': return '⚠️';\r\n      case 'poor': return '❌';\r\n      default: return '📊';\r\n    }\r\n  };\r\n\r\n  // 이슈 타입에 따른 색상\r\n  const getIssueTypeColor = (type: string) => {\r\n    switch (type) {\r\n      case 'critical': return 'var(--error-primary)';\r\n      case 'major': return 'var(--warning-primary)';\r\n      case 'minor': return 'var(--accent-primary)';\r\n      case 'suggestion': return 'var(--success-primary)';\r\n      default: return 'var(--text-secondary)';\r\n    }\r\n  };\r\n\r\n  const renderUpload = () => (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"p-6 rounded-xl\" style={{ backgroundColor: 'var(--bg-secondary)' }}>\r\n        <h2 className=\"text-2xl font-bold mb-4\" style={{ color: 'var(--text-primary)' }}>\r\n          📤 논문 문서 업로드\r\n        </h2>\r\n        <p className=\"text-lg\" style={{ color: 'var(--text-secondary)' }}>\r\n          AI가 논문의 품질을 다각도로 검증하여 개선점을 제안합니다.\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n        {/* 파일 업로드 (영구 저장 지원) */}\r\n        <div className=\"p-6 rounded-lg\" style={{ backgroundColor: 'var(--bg-primary)' }}>\r\n          <h3 className=\"font-semibold mb-4\" style={{ color: 'var(--text-primary)' }}>\r\n            💾 파일 업로드 (영구 저장)\r\n          </h3>\r\n          \r\n          {/* FileUpload 컴포넌트로 교체 */}\r\n          <FileUpload\r\n            onFileUploaded={(fileInfo: FileUploadInfo) => {\r\n              setUploadedFile(new File([], fileInfo.original_name, { type: fileInfo.mime_type }));\r\n              \r\n              // 업로드된 파일의 내용을 시뮬레이션 (실제로는 파일 다운로드 필요)\r\n              setValidationText(`논문 내용이 업로드되었습니다: ${fileInfo.original_name}\\n\\n이곳에 실제 논문 내용이 표시됩니다...`);\r\n            }}\r\n            onFileDeleted={(fileId: string) => {\r\n              setUploadedFile(null);\r\n              setValidationText('');\r\n            }}\r\n            allowMultiple={false}\r\n            accept=\".pdf,.doc,.docx,.txt\"\r\n            maxFileSize={50 * 1024 * 1024} // 50MB\r\n            category=\"document\"\r\n            showPreview={true}\r\n            allowDownload={true}\r\n            className=\"mt-4\"\r\n          />\r\n          \r\n          {/* 기존 파일 업로드 (백업용) */}\r\n          <div className=\"mt-4\">\r\n            <div \r\n              className=\"border-2 border-dashed rounded-lg p-8 text-center transition-colors cursor-pointer hover:border-blue-400\"\r\n              style={{ borderColor: 'var(--border-light)' }}\r\n              onClick={() => document.getElementById('file-upload-backup')?.click()}\r\n            >\r\n              {uploadedFile ? (\r\n                <div>\r\n                  <div className=\"text-4xl mb-4\">📄</div>\r\n                  <p className=\"font-medium\" style={{ color: 'var(--text-primary)' }}>\r\n                    {uploadedFile.name}\r\n                  </p>\r\n                  <p className=\"text-sm mt-2\" style={{ color: 'var(--text-secondary)' }}>\r\n                    크기: {(uploadedFile.size / 1024 / 1024).toFixed(2)} MB\r\n                  </p>\r\n                  <button\r\n                    onClick={(e) => {\r\n                      e.stopPropagation();\r\n                      setUploadedFile(null);\r\n                      setValidationText('');\r\n                    }}\r\n                    className=\"mt-3 text-sm text-red-500 hover:text-red-700\"\r\n                  >\r\n                    파일 제거\r\n                  </button>\r\n                </div>\r\n              ) : (\r\n                <div>\r\n                  <div className=\"text-4xl mb-4\">📤</div>\r\n                  <p className=\"font-medium mb-2\" style={{ color: 'var(--text-primary)' }}>\r\n                    또는 기존 방식으로 논문 파일 업로드\r\n                  </p>\r\n                  <p className=\"text-sm\" style={{ color: 'var(--text-muted)' }}>\r\n                    지원 형식: PDF, DOC, DOCX, TXT (임시 저장)\r\n                  </p>\r\n                </div>\r\n              )}\r\n            </div>\r\n            <input\r\n              id=\"file-upload-backup\"\r\n              type=\"file\"\r\n              accept=\".pdf,.doc,.docx,.txt\"\r\n              onChange={handleFileUpload}\r\n              style={{ display: 'none' }}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* 텍스트 입력 */}\r\n        <div className=\"p-6 rounded-lg\" style={{ backgroundColor: 'var(--bg-primary)' }}>\r\n          <h3 className=\"font-semibold mb-4\" style={{ color: 'var(--text-primary)' }}>\r\n            📝 텍스트 직접 입력\r\n          </h3>\r\n          <textarea\r\n            value={validationText}\r\n            onChange={(e) => setValidationText(e.target.value)}\r\n            placeholder=\"논문 내용을 직접 붙여넣기하세요...\"\r\n            className=\"w-full h-48 p-3 border rounded resize-vertical\"\r\n            style={{ \r\n              backgroundColor: 'var(--bg-secondary)', \r\n              borderColor: 'var(--border-light)',\r\n              color: 'var(--text-primary)'\r\n            }}\r\n          />\r\n          <p className=\"text-sm mt-2\" style={{ color: 'var(--text-muted)' }}>\r\n            {validationText.length.toLocaleString()}자 입력됨\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"text-center\">\r\n        <button\r\n          onClick={() => setActiveTab('settings')}\r\n          disabled={!uploadedFile && !validationText.trim()}\r\n          className=\"px-8 py-3 rounded-lg font-semibold text-white transition-colors disabled:opacity-50\"\r\n          style={{ backgroundColor: 'var(--accent-primary)' }}\r\n        >\r\n          검증 설정하기 →\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderSettings = () => (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"p-6 rounded-xl\" style={{ backgroundColor: 'var(--bg-secondary)' }}>\r\n        <h2 className=\"text-2xl font-bold mb-4\" style={{ color: 'var(--text-primary)' }}>\r\n          ⚙️ 품질 검증 설정\r\n        </h2>\r\n        <p className=\"text-lg\" style={{ color: 'var(--text-secondary)' }}>\r\n          검증할 항목과 기준을 설정하세요.\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n        <div className=\"p-6 rounded-lg\" style={{ backgroundColor: 'var(--bg-primary)' }}>\r\n          <h3 className=\"font-semibold mb-4\" style={{ color: 'var(--text-primary)' }}>\r\n            검증 항목 선택\r\n          </h3>\r\n          <div className=\"space-y-3\">\r\n            {[\r\n              { key: 'checkGrammar', label: '문법 및 맞춤법 검사', icon: '✍️' },\r\n              { key: 'checkStructure', label: '논문 구조 및 논리', icon: '🏗️' },\r\n              { key: 'checkMethodology', label: 'AHP 방법론 검증', icon: '⚖️' },\r\n              { key: 'checkReferences', label: '참고문헌 형식', icon: '📚' },\r\n              { key: 'checkOriginality', label: '독창성 평가', icon: '💡' },\r\n              { key: 'checkClarity', label: '명확성 및 가독성', icon: '👁️' }\r\n            ].map(item => (\r\n              <label key={item.key} className=\"flex items-center space-x-3 cursor-pointer\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={validationSettings[item.key as keyof typeof validationSettings]}\r\n                  onChange={(e) => setValidationSettings(prev => ({\r\n                    ...prev,\r\n                    [item.key]: e.target.checked\r\n                  }))}\r\n                  className=\"w-5 h-5\"\r\n                />\r\n                <span className=\"text-xl\">{item.icon}</span>\r\n                <span style={{ color: 'var(--text-primary)' }}>{item.label}</span>\r\n              </label>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"p-6 rounded-lg\" style={{ backgroundColor: 'var(--bg-primary)' }}>\r\n          <h3 className=\"font-semibold mb-4\" style={{ color: 'var(--text-primary)' }}>\r\n            검증 모드\r\n          </h3>\r\n          <div className=\"space-y-4\">\r\n            <label className=\"flex items-center space-x-3 cursor-pointer\">\r\n              <input\r\n                type=\"radio\"\r\n                name=\"validationMode\"\r\n                checked={!validationSettings.strictMode}\r\n                onChange={() => setValidationSettings(prev => ({ ...prev, strictMode: false }))}\r\n              />\r\n              <div>\r\n                <div className=\"font-medium\" style={{ color: 'var(--text-primary)' }}>\r\n                  🎯 표준 모드\r\n                </div>\r\n                <div className=\"text-sm\" style={{ color: 'var(--text-secondary)' }}>\r\n                  일반적인 학술 논문 기준으로 검증\r\n                </div>\r\n              </div>\r\n            </label>\r\n            \r\n            <label className=\"flex items-center space-x-3 cursor-pointer\">\r\n              <input\r\n                type=\"radio\"\r\n                name=\"validationMode\"\r\n                checked={validationSettings.strictMode}\r\n                onChange={() => setValidationSettings(prev => ({ ...prev, strictMode: true }))}\r\n              />\r\n              <div>\r\n                <div className=\"font-medium\" style={{ color: 'var(--text-primary)' }}>\r\n                  🔍 엄격 모드\r\n                </div>\r\n                <div className=\"text-sm\" style={{ color: 'var(--text-secondary)' }}>\r\n                  고품질 저널 투고 기준으로 엄격 검증\r\n                </div>\r\n              </div>\r\n            </label>\r\n          </div>\r\n\r\n          <div className=\"mt-6 p-4 rounded\" style={{ backgroundColor: 'var(--accent-pastel)' }}>\r\n            <h4 className=\"font-medium mb-2\" style={{ color: 'var(--accent-dark)' }}>\r\n              💡 선택된 검증 항목\r\n            </h4>\r\n            <div className=\"text-sm\" style={{ color: 'var(--accent-dark)' }}>\r\n              {Object.entries(validationSettings)\r\n                .filter(([key, value]) => key !== 'strictMode' && value)\r\n                .length}개 항목이 선택되었습니다\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"text-center\">\r\n        <button\r\n          onClick={startValidation}\r\n          className=\"px-8 py-3 rounded-lg font-semibold text-white transition-colors\"\r\n          style={{ backgroundColor: 'var(--success-primary)' }}\r\n        >\r\n          🔍 AI 품질 검증 시작\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderValidation = () => (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"p-6 rounded-xl\" style={{ backgroundColor: 'var(--bg-secondary)' }}>\r\n        <h2 className=\"text-2xl font-bold mb-4\" style={{ color: 'var(--text-primary)' }}>\r\n          🔍 AI 품질 검증 진행 중\r\n        </h2>\r\n        <p className=\"text-lg\" style={{ color: 'var(--text-secondary)' }}>\r\n          AI가 논문을 다각도로 분석하고 있습니다...\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"text-center py-12\">\r\n        <div className=\"animate-spin rounded-full h-16 w-16 border-b-4 mx-auto mb-6\" \r\n             style={{ borderColor: 'var(--accent-primary)' }}></div>\r\n        \r\n        <div className=\"space-y-4\">\r\n          <div className=\"text-lg font-medium\" style={{ color: 'var(--text-primary)' }}>\r\n            검증 중...\r\n          </div>\r\n          \r\n          <div className=\"max-w-md mx-auto space-y-2\">\r\n            {[\r\n              '📝 문법 및 표현 검사 중...',\r\n              '🏗️ 논문 구조 분석 중...',\r\n              '⚖️ 방법론 검증 중...',\r\n              '📚 참고문헌 확인 중...',\r\n              '💡 독창성 평가 중...',\r\n              '👁️ 가독성 분석 중...'\r\n            ].map((text, index) => (\r\n              <div \r\n                key={index}\r\n                className=\"text-sm p-2 rounded\"\r\n                style={{ \r\n                  backgroundColor: validating ? 'var(--accent-pastel)' : 'var(--bg-primary)',\r\n                  color: 'var(--accent-dark)'\r\n                }}\r\n              >\r\n                {text}\r\n              </div>\r\n            ))}\r\n          </div>\r\n          \r\n          <p className=\"text-sm\" style={{ color: 'var(--text-muted)' }}>\r\n            검증에는 몇 분이 소요될 수 있습니다.\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderResults = () => {\r\n    if (!validationResult) return null;\r\n\r\n    return (\r\n      <div className=\"space-y-6\">\r\n        <div className=\"p-6 rounded-xl\" style={{ backgroundColor: 'var(--bg-secondary)' }}>\r\n          <h2 className=\"text-2xl font-bold mb-4\" style={{ color: 'var(--text-primary)' }}>\r\n            📊 품질 검증 결과\r\n          </h2>\r\n          <p className=\"text-lg\" style={{ color: 'var(--text-secondary)' }}>\r\n            AI 분석이 완료되었습니다. 상세 결과를 확인하세요.\r\n          </p>\r\n        </div>\r\n\r\n        {/* 전체 점수 */}\r\n        <div className=\"p-6 rounded-lg text-center\" style={{ backgroundColor: 'var(--accent-pastel)' }}>\r\n          <div className=\"text-6xl font-bold mb-2\" style={{ color: getScoreColor(validationResult.overallScore) }}>\r\n            {validationResult.overallScore}\r\n          </div>\r\n          <div className=\"text-2xl font-semibold mb-2\" style={{ color: 'var(--accent-dark)' }}>\r\n            {validationResult.overallGrade}\r\n          </div>\r\n          <p style={{ color: 'var(--accent-dark)' }}>\r\n            {validationResult.summary}\r\n          </p>\r\n        </div>\r\n\r\n        {/* 카테고리별 점수 */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n          {validationResult.checks.map((check, index) => (\r\n            <div key={index} className=\"p-4 rounded-lg\" style={{ backgroundColor: 'var(--bg-primary)' }}>\r\n              <div className=\"flex items-center justify-between mb-3\">\r\n                <h3 className=\"font-semibold\" style={{ color: 'var(--text-primary)' }}>\r\n                  {check.category}\r\n                </h3>\r\n                <span className=\"text-2xl\">{getStatusIcon(check.status)}</span>\r\n              </div>\r\n              \r\n              <div className=\"text-2xl font-bold mb-2\" style={{ color: getScoreColor(check.score) }}>\r\n                {check.score}/{check.maxScore}\r\n              </div>\r\n              \r\n              <div className=\"w-full bg-gray-200 rounded-full h-2 mb-2\">\r\n                <div \r\n                  className=\"h-2 rounded-full transition-all\"\r\n                  style={{ \r\n                    width: `${(check.score / check.maxScore) * 100}%`,\r\n                    backgroundColor: getScoreColor(check.score)\r\n                  }}\r\n                />\r\n              </div>\r\n              \r\n              <p className=\"text-sm\" style={{ color: 'var(--text-secondary)' }}>\r\n                {check.issues.length}개 개선점 발견\r\n              </p>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        {/* 강점과 개선점 */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n          <div className=\"p-6 rounded-lg\" style={{ backgroundColor: 'var(--success-pastel)' }}>\r\n            <h3 className=\"font-semibold mb-4 flex items-center\" style={{ color: 'var(--success-dark)' }}>\r\n              💪 주요 강점\r\n            </h3>\r\n            <ul className=\"space-y-2\">\r\n              {validationResult.strengths.map((strength, index) => (\r\n                <li key={index} className=\"flex items-start space-x-2\">\r\n                  <span className=\"text-green-500 mt-1\">✓</span>\r\n                  <span className=\"text-sm\" style={{ color: 'var(--success-dark)' }}>\r\n                    {strength}\r\n                  </span>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n\r\n          <div className=\"p-6 rounded-lg\" style={{ backgroundColor: 'var(--warning-pastel)' }}>\r\n            <h3 className=\"font-semibold mb-4 flex items-center\" style={{ color: 'var(--warning-dark)' }}>\r\n              🔧 개선 필요 사항\r\n            </h3>\r\n            <ul className=\"space-y-2\">\r\n              {validationResult.improvements.map((improvement, index) => (\r\n                <li key={index} className=\"flex items-start space-x-2\">\r\n                  <span className=\"text-orange-500 mt-1\">⚠</span>\r\n                  <span className=\"text-sm\" style={{ color: 'var(--warning-dark)' }}>\r\n                    {improvement}\r\n                  </span>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"text-center\">\r\n          <button\r\n            onClick={() => setActiveTab('improvements')}\r\n            className=\"px-6 py-3 rounded-lg font-semibold text-white transition-colors\"\r\n            style={{ backgroundColor: 'var(--accent-primary)' }}\r\n          >\r\n            ✨ 상세 개선 제안 보기\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderImprovements = () => {\r\n    if (!validationResult) return null;\r\n\r\n    const allIssues = validationResult.checks.flatMap(check => \r\n      check.issues.map(issue => ({ ...issue, category: check.category }))\r\n    ).sort((a, b) => b.priority - a.priority);\r\n\r\n    return (\r\n      <div className=\"space-y-6\">\r\n        <div className=\"p-6 rounded-xl\" style={{ backgroundColor: 'var(--bg-secondary)' }}>\r\n          <h2 className=\"text-2xl font-bold mb-4\" style={{ color: 'var(--text-primary)' }}>\r\n            ✨ 상세 개선 제안\r\n          </h2>\r\n          <p className=\"text-lg\" style={{ color: 'var(--text-secondary)' }}>\r\n            우선순위별로 정리된 구체적인 개선 방안입니다.\r\n          </p>\r\n        </div>\r\n\r\n        {/* 개선 제안 목록 */}\r\n        <div className=\"space-y-4\">\r\n          {allIssues.map((issue, index) => (\r\n            <div \r\n              key={index}\r\n              className=\"p-6 rounded-lg border-l-4\"\r\n              style={{ \r\n                backgroundColor: 'var(--bg-primary)',\r\n                borderColor: getIssueTypeColor(issue.type)\r\n              }}\r\n            >\r\n              <div className=\"flex justify-between items-start mb-3\">\r\n                <div>\r\n                  <div className=\"flex items-center space-x-3 mb-2\">\r\n                    <span \r\n                      className=\"px-2 py-1 rounded text-xs font-semibold uppercase text-white\"\r\n                      style={{ backgroundColor: getIssueTypeColor(issue.type) }}\r\n                    >\r\n                      {issue.type}\r\n                    </span>\r\n                    <span className=\"text-sm\" style={{ color: 'var(--text-muted)' }}>\r\n                      {issue.category}\r\n                    </span>\r\n                  </div>\r\n                  <h3 className=\"font-semibold text-lg\" style={{ color: 'var(--text-primary)' }}>\r\n                    {issue.title}\r\n                  </h3>\r\n                </div>\r\n                <div className=\"text-sm font-semibold px-2 py-1 rounded\" \r\n                     style={{ \r\n                       backgroundColor: 'var(--accent-pastel)', \r\n                       color: 'var(--accent-dark)' \r\n                     }}>\r\n                  우선순위 {issue.priority}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"space-y-3\">\r\n                <div>\r\n                  <h4 className=\"font-medium mb-1\" style={{ color: 'var(--text-primary)' }}>\r\n                    🔍 문제점\r\n                  </h4>\r\n                  <p style={{ color: 'var(--text-secondary)' }}>\r\n                    {issue.description}\r\n                  </p>\r\n                  <p className=\"text-sm mt-1\" style={{ color: 'var(--text-muted)' }}>\r\n                    위치: {issue.location}\r\n                  </p>\r\n                </div>\r\n\r\n                <div className=\"p-3 rounded\" style={{ backgroundColor: 'var(--success-pastel)' }}>\r\n                  <h4 className=\"font-medium mb-1\" style={{ color: 'var(--success-dark)' }}>\r\n                    💡 개선 제안\r\n                  </h4>\r\n                  <p style={{ color: 'var(--success-dark)' }}>\r\n                    {issue.suggestion}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        {/* AI 추천 사항 */}\r\n        <div className=\"p-6 rounded-lg\" style={{ backgroundColor: 'var(--accent-pastel)' }}>\r\n          <h3 className=\"font-semibold mb-4\" style={{ color: 'var(--accent-dark)' }}>\r\n            🤖 AI 종합 권장사항\r\n          </h3>\r\n          <ul className=\"space-y-2\">\r\n            {validationResult.recommendations.map((recommendation, index) => (\r\n              <li key={index} className=\"flex items-start space-x-3\">\r\n                <span className=\"text-blue-500 mt-1\">🎯</span>\r\n                <span style={{ color: 'var(--accent-dark)' }}>\r\n                  {recommendation}\r\n                </span>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n\r\n        {/* 액션 버튼 */}\r\n        <div className=\"flex justify-center space-x-4\">\r\n          <button\r\n            onClick={() => {\r\n              // 개선된 문서 다운로드 (구현 예정)\r\n              showActionMessage('info', '개선된 문서가 생성되었습니다. (구현 예정)');\r\n            }}\r\n            className=\"px-6 py-3 rounded-lg font-semibold text-white transition-colors\"\r\n            style={{ backgroundColor: 'var(--success-primary)' }}\r\n          >\r\n            📄 개선된 문서 생성\r\n          </button>\r\n          \r\n          <button\r\n            onClick={() => {\r\n              // 검증 보고서 다운로드 (구현 예정)\r\n              showActionMessage('info', '검증 보고서가 다운로드됩니다. (구현 예정)');\r\n            }}\r\n            className=\"px-6 py-3 rounded-lg font-semibold text-white transition-colors\"\r\n            style={{ backgroundColor: 'var(--accent-primary)' }}\r\n          >\r\n            📊 검증 보고서 다운로드\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderContent = () => {\r\n    switch (activeTab) {\r\n      case 'upload':\r\n        return renderUpload();\r\n      case 'settings':\r\n        return renderSettings();\r\n      case 'validation':\r\n        return renderValidation();\r\n      case 'results':\r\n        return renderResults();\r\n      case 'improvements':\r\n        return renderImprovements();\r\n      default:\r\n        return renderUpload();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen\" style={{ backgroundColor: 'var(--bg-base)' }}>\r\n      {actionMessage && (\r\n        <div className={`fixed top-4 right-4 z-50 px-4 py-3 rounded-lg text-sm font-medium shadow-lg ${actionMessage.type === 'success' ? 'bg-green-100 text-green-800' : actionMessage.type === 'info' ? 'bg-blue-100 text-blue-800' : 'bg-red-100 text-red-800'}`}>\r\n          {actionMessage.text}\r\n        </div>\r\n      )}\r\n      <PageHeader\r\n        title=\"AI 논문 품질 검증\"\r\n        description=\"작성된 논문의 학술적 품질을 AI가 다각도로 검증하고 개선 제안을 제공합니다\"\r\n        icon=\"✨\"\r\n        onBack={() => window.history.back()}\r\n      />\r\n      \r\n      <div className=\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\r\n        {/* 탭 네비게이션 */}\r\n        <div className=\"mb-8\">\r\n          <div className=\"flex flex-wrap gap-2 p-2 rounded-lg\" style={{ backgroundColor: 'var(--bg-secondary)' }}>\r\n            {tabs.map((tab) => (\r\n              <button\r\n                key={tab.id}\r\n                onClick={() => setActiveTab(tab.id)}\r\n                disabled={\r\n                  (tab.id === 'settings' && !uploadedFile && !validationText.trim()) ||\r\n                  (tab.id === 'validation' && !validating && !validationResult) ||\r\n                  (tab.id === 'results' && !validationResult) ||\r\n                  (tab.id === 'improvements' && !validationResult)\r\n                }\r\n                className={`flex items-center space-x-2 px-4 py-2 rounded font-medium transition-all ${\r\n                  activeTab === tab.id ? 'shadow-lg' : ''\r\n                }`}\r\n                style={{\r\n                  backgroundColor: activeTab === tab.id ? 'var(--accent-primary)' : 'transparent',\r\n                  color: activeTab === tab.id ? 'white' : 'var(--text-secondary)',\r\n                  opacity: (\r\n                    (tab.id === 'settings' && !uploadedFile && !validationText.trim()) ||\r\n                    (tab.id === 'validation' && !validating && !validationResult) ||\r\n                    (tab.id === 'results' && !validationResult) ||\r\n                    (tab.id === 'improvements' && !validationResult)\r\n                  ) ? 0.5 : 1\r\n                }}\r\n              >\r\n                <span>{tab.icon}</span>\r\n                <span>{tab.title}</span>\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* 메인 콘텐츠 */}\r\n        {renderContent()}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AIQualityValidationPage;","import * as React from \"react\";\nfunction ClockIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ClockIcon);\nexport default ForwardRef;","import React from 'react';\r\n\r\ninterface PageHeaderProps {\r\n  /** 페이지 제목 */\r\n  title: string;\r\n  /** 페이지 설명 */\r\n  description?: string;\r\n  /** 아이콘 (이모지 또는 SVG) */\r\n  icon?: React.ReactNode;\r\n  /** 뒤로가기 버튼 클릭 핸들러 */\r\n  onBack?: () => void;\r\n  /** 오른쪽 액션 버튼들 */\r\n  actions?: React.ReactNode;\r\n  /** 헤더 하단에 추가 콘텐츠 */\r\n  children?: React.ReactNode;\r\n  /** 사용자 정의 클래스명 */\r\n  className?: string;\r\n}\r\n\r\n/**\r\n * 표준화된 페이지 헤더 컴포넌트\r\n * \r\n * 모든 페이지에서 일관된 헤더 디자인을 제공합니다.\r\n * Sticky 헤더, 반응형 레이아웃, 뒤로가기 버튼 등을 포함합니다.\r\n */\r\nconst PageHeader: React.FC<PageHeaderProps> = ({\r\n  title,\r\n  description,\r\n  icon,\r\n  onBack,\r\n  actions,\r\n  children,\r\n  className = ''\r\n}) => {\r\n  return (\r\n    <div className={`bg-white border-b border-gray-200 sticky top-0 z-10 ${className}`}>\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        <div className=\"py-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            {/* 왼쪽 영역: 뒤로가기 + 제목 */}\r\n            <div className=\"flex items-center\">\r\n              {onBack && (\r\n                <button \r\n                  onClick={onBack}\r\n                  className=\"mr-4 text-gray-500 hover:text-gray-700 transition-colors text-2xl\"\r\n                  title=\"뒤로가기\"\r\n                >\r\n                  ←\r\n                </button>\r\n              )}\r\n              <div>\r\n                <h1 className=\"text-3xl font-bold text-gray-900 flex items-center\">\r\n                  {icon && (\r\n                    <span className=\"text-4xl mr-3\">\r\n                      {icon}\r\n                    </span>\r\n                  )}\r\n                  {title}\r\n                </h1>\r\n                {description && (\r\n                  <p className=\"text-gray-600 mt-2\">\r\n                    {description}\r\n                  </p>\r\n                )}\r\n              </div>\r\n            </div>\r\n            \r\n            {/* 오른쪽 영역: 액션 버튼들 */}\r\n            {actions && (\r\n              <div className=\"flex items-center space-x-3\">\r\n                {actions}\r\n              </div>\r\n            )}\r\n          </div>\r\n          \r\n          {/* 추가 콘텐츠 영역 */}\r\n          {children && (\r\n            <div className=\"mt-6\">\r\n              {children}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PageHeader;","import * as React from \"react\";\nfunction TrashIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(TrashIcon);\nexport default ForwardRef;"],"names":["getFileUploadHeaders","headers","arguments","length","undefined","accessToken","localStorage","getItem","sessionStorage","concat","makeFileUploadRequest","async","endpoint","options","_data$data","_data3","_data4","url","API_BASE_URL","response","fetch","_objectSpread","credentials","contentType","get","data","includes","json","ok","method","success","text","_data","_data2","Error","message","error","status","console","fileUploadService","uploadFile","file","category","metadata","projectId","onProgress","formData","FormData","append","JSON","stringify","fileHash","buffer","arrayBuffer","hashBuffer","crypto","subtle","digest","Array","from","Uint8Array","map","b","toString","padStart","join","generateFileHash","Promise","resolve","reject","xhr","XMLHttpRequest","fileId","Date","now","Math","random","substr","upload","addEventListener","event","lengthComputable","progress","file_id","progress_percentage","round","loaded","total","bytes_uploaded","total_bytes","parse","responseText","fileInfo","existing","getLocalFileInfos","id","setItem","storeFileInfoLocally","statusText","open","Object","entries","forEach","_ref","key","value","setRequestHeader","send","getFileInfo","getFiles","search","params","encodeURIComponent","downloadFile","incrementDownloadCount","deleteFile","removeFileInfoLocally","updateFileMetadata","body","validateFile","validation","is_valid","file_size_valid","file_type_valid","issues","warnings","size","push","formatFileSize","type","name","fileExtension","toLowerCase","substring","lastIndexOf","bulkDeleteFiles","file_ids","fileIds","createShareLink","expiresIn","isPublic","expires_in_hours","is_public","createFileBackup","restoreFileFromBackup","backupId","getUploadStatistics","cleanupExpiredFiles","fileUploadUtils","validateFileBeforeUpload","getFileTypeIcon","mimeType","startsWith","isImageFile","isDocumentFile","generateImageThumbnail","maxSize","canvas","document","createElement","ctx","getContext","img","Image","onload","ratio","min","width","height","drawImage","toDataURL","onerror","src","URL","createObjectURL","categorizeFile","storeUploadProgress","getUploadProgress","stored","clearUploadProgress","removeItem","bytes","i","floor","log","parseFloat","pow","toFixed","CloudArrowUpIcon","svgRef","title","titleId","props","_objectWithoutProperties","_excluded","React","assign","xmlns","fill","viewBox","strokeWidth","stroke","ref","strokeLinecap","strokeLinejoin","d","EyeIcon","ArrowDownTrayIcon","_state$files$find","onFileUploaded","onFileDeleted","allowMultiple","accept","maxFileSize","className","disabled","showPreview","allowDownload","state","setState","useState","files","uploadProgress","dragActive","previewFile","showDeleteConfirm","fileInputRef","useRef","setError","setSuccess","loading","setLoading","loadExistingFiles","prev","_response$data","results","err","errMsg","handleFileUpload","fileArray","description","tags","public","uploadedFile","file_size","setTimeout","newProgress","String","error_message","current","handleDrop","useCallback","e","preventDefault","dataTransfer","handleDragOver","handleDragLeave","handleDownloadFile","window","download_url","getUploadProgressBar","_jsxs","children","_jsx","upload_speed","getStatusColor","style","ExclamationTriangleIcon","CheckCircleIcon","onDrop","onDragOver","onDragLeave","onClick","_fileInputRef$current","click","split","multiple","onChange","target","keys","values","ClockIcon","_file$metadata","mime_type","original_name","upload_date","toLocaleDateString","Button","variant","TrashIcon","Modal","isOpen","onClose","file_path","alt","find","f","filter","handleDeleteFile","user","activeTab","setActiveTab","setUploadedFile","actionMessage","setActionMessage","showActionMessage","validationText","setValidationText","validating","setValidating","validationResult","setValidationResult","validationSettings","setValidationSettings","checkGrammar","checkStructure","checkMethodology","checkReferences","checkOriginality","checkClarity","strictMode","_event$target$files","reader","FileReader","_e$target","content","result","slice","readAsText","_e$target2","_e$target3","startValidation","trim","_aiValidationResult","_aiValidationResult2","aiService","getAIService","aiValidationResult","contentToValidate","validatePaperQuality","overallScore","overallGrade","summary","strengths","improvements","recommendations","checks","score","maxScore","location","suggestion","priority","getScoreColor","getStatusIcon","getIssueTypeColor","renderUpload","backgroundColor","color","FileUpload","File","borderColor","_document$getElementB","getElementById","stopPropagation","display","placeholder","toLocaleString","PageHeader","icon","onBack","history","back","tab","opacity","renderContent","label","item","checked","_ref2","index","check","strength","improvement","renderImprovements","allIssues","flatMap","issue","sort","a","recommendation","actions"],"sourceRoot":""}