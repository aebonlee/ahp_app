"use strict";(self.webpackChunkahp_research_platform=self.webpackChunkahp_research_platform||[]).push([[151,304],{6151(e,t,r){r.r(t),r.d(t,{default:()=>u});var s=r(5043),a=r(50),l=r(579);const c=e=>{let{user:t,onTabChange:r}=e;const[a,c]=(0,s.useState)("");return(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"var(--bg-base)"},children:(0,l.jsxs)("div",{className:"max-w-2xl w-full space-y-8 p-8",children:[(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"w-24 h-24 mx-auto rounded-full flex items-center justify-center text-5xl mb-6",style:{backgroundColor:"var(--accent-primary-pastel)"},children:"\u2696\ufe0f"}),(0,l.jsxs)("h1",{className:"text-3xl font-bold mb-4",style:{color:"var(--text-primary)"},children:["\ud3c9\uac00\uc790 ",t.first_name||t.username,"\ub2d8, \ud658\uc601\ud569\ub2c8\ub2e4!"]}),(0,l.jsx)("p",{className:"text-lg",style:{color:"var(--text-secondary)"},children:"AHP \ud3c9\uac00 \uc2dc\uc2a4\ud15c"})]}),(0,l.jsxs)("div",{className:"p-8 rounded-xl",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-light)"},children:[(0,l.jsx)("h2",{className:"text-xl font-semibold mb-6 text-center",style:{color:"var(--text-primary)"},children:"\ud3c9\uac00 \ucc38\uc5ec\ud558\uae30"}),(0,l.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=a.trim();t&&(sessionStorage.setItem("ahp_evaluator_access_key",t),r("pairwise-evaluation"))},className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"invitation-code",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"\ucd08\ub300 \ucf54\ub4dc \ub610\ub294 \ub9c1\ud06c\ub97c \uc785\ub825\ud558\uc138\uc694"}),(0,l.jsx)("input",{id:"invitation-code",type:"text",value:a,onChange:e=>c(e.target.value),placeholder:"\uc608: PRJ-2025-ABC123",className:"w-full px-4 py-3 rounded-lg text-lg",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-light)",color:"var(--text-primary)"}}),(0,l.jsx)("p",{className:"text-sm mt-2",style:{color:"var(--text-muted)"},children:"\ud504\ub85c\uc81d\ud2b8 \uad00\ub9ac\uc790\ub85c\ubd80\ud130 \ubc1b\uc740 \ucd08\ub300 \ucf54\ub4dc\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694."})]}),(0,l.jsx)("button",{type:"submit",disabled:!a.trim(),className:"w-full py-3 px-4 rounded-lg font-medium text-white transition-all",style:{backgroundColor:a.trim()?"var(--accent-primary)":"var(--border-light)",cursor:a.trim()?"pointer":"not-allowed"},onMouseEnter:e=>{a.trim()&&(e.currentTarget.style.backgroundColor="var(--accent-hover)")},onMouseLeave:e=>{a.trim()&&(e.currentTarget.style.backgroundColor="var(--accent-primary)")},children:"\ud3c9\uac00 \uc2dc\uc791\ud558\uae30"})]})]}),(0,l.jsxs)("div",{className:"p-6 rounded-xl",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-light)"},children:[(0,l.jsxs)("h3",{className:"font-semibold mb-4 flex items-center",style:{color:"var(--text-primary)"},children:[(0,l.jsx)("span",{className:"text-2xl mr-2",children:"\ud83d\udca1"}),"\ub3c4\uc6c0\ub9d0"]}),(0,l.jsxs)("ul",{className:"space-y-3 text-sm",style:{color:"var(--text-secondary)"},children:[(0,l.jsxs)("li",{className:"flex items-start",children:[(0,l.jsx)("span",{className:"mr-2",children:"1."}),(0,l.jsx)("span",{children:"\ud504\ub85c\uc81d\ud2b8 \uad00\ub9ac\uc790\ub85c\ubd80\ud130 \uc774\uba54\uc77c\uc774\ub098 \uba54\uc2dc\uc9c0\ub85c \ucd08\ub300 \ucf54\ub4dc\ub97c \ubc1b\uc73c\uc168\ub098\uc694?"})]}),(0,l.jsxs)("li",{className:"flex items-start",children:[(0,l.jsx)("span",{className:"mr-2",children:"2."}),(0,l.jsx)("span",{children:"\uc704 \uc785\ub825\ub780\uc5d0 \ucd08\ub300 \ucf54\ub4dc\ub97c \uc785\ub825\ud558\uace0 '\ud3c9\uac00 \uc2dc\uc791\ud558\uae30' \ubc84\ud2bc\uc744 \ud074\ub9ad\ud558\uc138\uc694."})]}),(0,l.jsxs)("li",{className:"flex items-start",children:[(0,l.jsx)("span",{className:"mr-2",children:"3."}),(0,l.jsx)("span",{children:"\uc30d\ub300\ube44\uad50 \ud3c9\uac00\ub97c \uc9c4\ud589\ud558\uace0 \uacb0\uacfc\ub97c \uc81c\ucd9c\ud558\uba74 \ub429\ub2c8\ub2e4."})]})]})]}),(0,l.jsxs)("div",{className:"text-center text-sm",style:{color:"var(--text-muted)"},children:[(0,l.jsx)("p",{children:"\ub3c4\uc6c0\uc774 \ud544\uc694\ud558\uc2e0\uac00\uc694?"}),(0,l.jsx)("p",{children:(0,l.jsx)("a",{href:"mailto:support@ahp-platform.com",className:"hover:underline",style:{color:"var(--accent-primary)"},children:"support@ahp-platform.com"})})]})]})})};var o=r(2555),i=r(1801),n=r(9304),d=r(6291);const m=e=>{let{user:t,onTabChange:r}=e;const[a,c]=(0,s.useState)({totalUsers:0,totalProjects:0,activeEvaluations:0,systemHealth:"unknown",databaseSize:"N/A",serverUptime:"\uc6b4\uc601 \uc911"}),[m,u]=(0,s.useState)([]),[x,v]=(0,s.useState)([]),[p,h]=(0,s.useState)(!0),[y,j]=(0,s.useState)(null),g=(0,s.useCallback)(async()=>{h(!0),j(null);try{await Promise.allSettled([b(),f(),N()])}finally{h(!1)}},[]);(0,s.useEffect)(()=>{g()},[g]);const b=async()=>{var e,t,r,s,a,l;const[i,m,u,x]=await Promise.allSettled([n.Ay.get("/api/service/accounts/users/stats/"),n.Ay.get("/api/service/projects/projects/?page_size=1"),n.Ay.get("/api/service/evaluations/evaluations/?status=in_progress&page_size=1"),d.Ay.get("/health/").then(e=>e.success?e.data:{status:"unknown"}).catch(()=>({status:"unknown"}))]),v="fulfilled"!==i.status||i.value.error?0:null!==(e=null===(t=i.value.data)||void 0===t?void 0:t.total)&&void 0!==e?e:0,p="fulfilled"!==m.status||m.value.error?0:null!==(r=null===(s=m.value.data)||void 0===s?void 0:s.count)&&void 0!==r?r:0,h="fulfilled"!==u.status||u.value.error?0:null!==(a=null===(l=u.value.data)||void 0===l?void 0:l.count)&&void 0!==a?a:0,y="fulfilled"===x.status?x.value:{},j="healthy"===(null===y||void 0===y?void 0:y.status)?"healthy":"warning";c(e=>(0,o.A)((0,o.A)({},e),{},{totalUsers:v,totalProjects:p,activeEvaluations:h,systemHealth:j}))},f=async()=>{var e;const t=await n.Ay.get("/api/service/accounts/users/?page_size=5");if(t.error||!t.data)return;const r=Array.isArray(t.data)?t.data:null!==(e=t.data.results)&&void 0!==e?e:[];u(r.map(e=>({id:e.id,username:e.username,email:e.email,role:e.is_superuser?"super_admin":e.is_staff?"service_admin":"service_user",isActive:e.is_active,joinedAt:new Date(e.date_joined)})))},N=async()=>{const[e,t]=await Promise.allSettled([n.Ay.get("/api/service/projects/projects/?page_size=4&ordering=-created_at"),n.Ay.get("/api/service/evaluations/evaluations/?page_size=4&ordering=-created_at")]),r=[];if("fulfilled"===e.status&&!e.value.error){var s,a;(Array.isArray(e.value.data)?e.value.data:null!==(s=null===(a=e.value.data)||void 0===a?void 0:a.results)&&void 0!==s?s:[]).forEach(e=>{r.push({id:"project-".concat(e.id),action:"\ud504\ub85c\uc81d\ud2b8 \uc0dd\uc131",user:e.owner_name||"\uc54c \uc218 \uc5c6\uc74c",timestamp:new Date(e.created_at),type:"project",details:e.title})})}if("fulfilled"===t.status&&!t.value.error){var l,c;(Array.isArray(t.value.data)?t.value.data:null!==(l=null===(c=t.value.data)||void 0===c?void 0:c.results)&&void 0!==l?l:[]).forEach(e=>{var t;const s=e.evaluator&&"object"===typeof e.evaluator?e.evaluator.username||e.evaluator.email:"\uc54c \uc218 \uc5c6\uc74c",a=e.project&&"object"===typeof e.project?e.project.title:String(null!==(t=e.project)&&void 0!==t?t:"");r.push({id:"eval-".concat(e.id),action:"completed"===e.status?"\ud3c9\uac00 \uc644\ub8cc":"in_progress"===e.status?"\ud3c9\uac00 \uc9c4\ud589 \uc911":"\ud3c9\uac00 \uc2dc\uc791",user:s,timestamp:new Date(e.created_at),type:"evaluation",details:a})})}r.sort((e,t)=>t.timestamp.getTime()-e.timestamp.getTime()),v(r.slice(0,6))},w=e=>{const t=Date.now()-e.getTime(),r=Math.floor(t/6e4),s=Math.floor(r/60),a=Math.floor(s/24);return r<1?"\ubc29\uae08 \uc804":r<60?"".concat(r,"\ubd84 \uc804"):s<24?"".concat(s,"\uc2dc\uac04 \uc804"):"".concat(a,"\uc77c \uc804")},k="healthy"===a.systemHealth?"var(--accent-tertiary)":"warning"===a.systemHealth?"#f59e0b":"var(--text-muted)",C="healthy"===a.systemHealth?"\uc815\uc0c1":"warning"===a.systemHealth?"\uc8fc\uc758":"\ud655\uc778 \uc911",A="healthy"===a.systemHealth?"\u2705":"warning"===a.systemHealth?"\u26a0\ufe0f":"\u2753",_=[{id:"user-management",title:"\uc0ac\uc6a9\uc790 \uad00\ub9ac",description:"\uc804\uccb4 \uc0ac\uc6a9\uc790 \uacc4\uc815 \ubc0f \uad8c\ud55c \uad00\ub9ac",icon:"\ud83d\udc65",color:"var(--accent-primary)",action:()=>r("users")},{id:"project-monitoring",title:"\ud504\ub85c\uc81d\ud2b8 \ubaa8\ub2c8\ud130\ub9c1",description:"\uc804\uccb4 \ud504\ub85c\uc81d\ud2b8 \ud604\ud669 \ubc0f \uc9c4\ud589 \uc0c1\ud0dc",icon:"\ud83d\udcca",color:"var(--accent-secondary)",action:()=>r("projects")},{id:"system-settings",title:"\uc2dc\uc2a4\ud15c \uc124\uc815",description:"\ud50c\ub7ab\ud3fc \uc804\uccb4 \uc124\uc815 \ubc0f \uad6c\uc131",icon:"\u2699\ufe0f",color:"var(--accent-tertiary)",action:()=>r("settings")},{id:"django-admin",title:"Django \uad00\ub9ac\uc790",description:"\ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc9c1\uc811 \uad00\ub9ac",icon:"\ud83d\udd27",color:"var(--accent-quaternary)",action:()=>window.open("".concat(i.API_BASE_URL,"/admin/"),"_blank")}];return p?(0,l.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),(0,l.jsx)("p",{style:{color:"var(--text-secondary)"},children:"\uad00\ub9ac\uc790 \ub300\uc2dc\ubcf4\ub4dc \ub85c\ub529 \uc911..."})]})}):(0,l.jsxs)("div",{className:"space-y-8",children:[y&&(0,l.jsx)("div",{className:"p-4 rounded-lg bg-red-50 border border-red-200 text-red-800 text-sm",children:y}),(0,l.jsx)("div",{className:"p-6 rounded-xl",style:{backgroundColor:"var(--bg-secondary)"},children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsx)("div",{className:"w-16 h-16 rounded-full flex items-center justify-center text-3xl",style:{backgroundColor:"var(--accent-primary)",color:"white"},children:"\ud83d\udc51"}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("h1",{className:"text-2xl font-bold",style:{color:"var(--text-primary)"},children:["\uad00\ub9ac\uc790 ",t.first_name||t.username,"\ub2d8, \ud658\uc601\ud569\ub2c8\ub2e4! \ud83d\udee1\ufe0f"]}),(0,l.jsx)("p",{className:"text-lg",style:{color:"var(--text-secondary)"},children:"AHP \ud50c\ub7ab\ud3fc \uc804\uccb4 \uc2dc\uc2a4\ud15c\uc744 \uad00\ub9ac\ud558\uace0 \ubaa8\ub2c8\ud130\ub9c1\ud558\uc138\uc694"}),(0,l.jsxs)("div",{className:"flex items-center space-x-4 mt-2 text-sm",style:{color:"var(--text-muted)"},children:[(0,l.jsxs)("span",{children:["\ud83d\udce7 ",t.email]}),(0,l.jsxs)("span",{children:["\ud83c\udfe2 ",t.organization||"\uc2dc\uc2a4\ud15c \uad00\ub9ac\uc790"]}),(0,l.jsxs)("span",{children:["\ud83d\udc51 ","super_admin"===t.role?"\uc288\ud37c \uad00\ub9ac\uc790":"\uc11c\ube44\uc2a4 \uad00\ub9ac\uc790"]})]})]})]}),(0,l.jsx)("button",{onClick:g,className:"px-4 py-2 rounded-lg text-sm transition-colors",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-light)",color:"var(--text-secondary)"},children:"\ud83d\udd04 \uc0c8\ub85c\uace0\uce68"})]})}),(0,l.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[(0,l.jsxs)("div",{className:"p-5 rounded-xl col-span-1",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-light)"},children:[(0,l.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,l.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center text-xl",style:{backgroundColor:"var(--accent-primary-pastel)"},children:"\ud83d\udc65"})}),(0,l.jsx)("p",{className:"text-3xl font-bold",style:{color:"var(--text-primary)"},children:a.totalUsers.toLocaleString()}),(0,l.jsx)("p",{className:"text-sm font-medium mt-1",style:{color:"var(--text-muted)"},children:"\ucd1d \uc0ac\uc6a9\uc790"})]}),(0,l.jsxs)("div",{className:"p-5 rounded-xl col-span-1",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-light)"},children:[(0,l.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,l.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center text-xl",style:{backgroundColor:"var(--accent-secondary-pastel)"},children:"\ud83d\udccb"})}),(0,l.jsx)("p",{className:"text-3xl font-bold",style:{color:"var(--accent-secondary)"},children:a.totalProjects.toLocaleString()}),(0,l.jsx)("p",{className:"text-sm font-medium mt-1",style:{color:"var(--text-muted)"},children:"\ucd1d \ud504\ub85c\uc81d\ud2b8"})]}),(0,l.jsxs)("div",{className:"p-5 rounded-xl col-span-1",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-light)"},children:[(0,l.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,l.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center text-xl",style:{backgroundColor:"var(--accent-tertiary-pastel)"},children:"\u2696\ufe0f"})}),(0,l.jsx)("p",{className:"text-3xl font-bold",style:{color:"var(--accent-tertiary)"},children:a.activeEvaluations}),(0,l.jsx)("p",{className:"text-sm font-medium mt-1",style:{color:"var(--text-muted)"},children:"\uc9c4\ud589 \uc911 \ud3c9\uac00"})]}),(0,l.jsxs)("div",{className:"p-5 rounded-xl col-span-1",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-light)"},children:[(0,l.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,l.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center text-xl",style:{backgroundColor:k+"22"},children:A})}),(0,l.jsx)("p",{className:"text-xl font-bold",style:{color:k},children:C}),(0,l.jsx)("p",{className:"text-sm font-medium mt-1",style:{color:"var(--text-muted)"},children:"\uc2dc\uc2a4\ud15c \uc0c1\ud0dc"})]}),(0,l.jsxs)("div",{className:"p-5 rounded-xl col-span-1",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-light)"},children:[(0,l.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,l.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center text-xl",style:{backgroundColor:"var(--accent-quaternary-pastel)"},children:"\ud83d\uddc4\ufe0f"})}),(0,l.jsx)("p",{className:"text-xl font-bold",style:{color:"var(--accent-quaternary)"},children:a.databaseSize}),(0,l.jsx)("p",{className:"text-sm font-medium mt-1",style:{color:"var(--text-muted)"},children:"DB \ud06c\uae30"})]}),(0,l.jsxs)("div",{className:"p-5 rounded-xl col-span-1",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-light)"},children:[(0,l.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,l.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center text-xl",style:{backgroundColor:"var(--bg-subtle)"},children:"\ud83d\udda5\ufe0f"})}),(0,l.jsx)("p",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:a.serverUptime}),(0,l.jsx)("p",{className:"text-sm font-medium mt-1",style:{color:"var(--text-muted)"},children:"\uc11c\ubc84 \uac00\ub3d9"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-xl font-bold mb-6",style:{color:"var(--text-primary)"},children:"\uad00\ub9ac\uc790 \ub3c4\uad6c"}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:_.map(e=>(0,l.jsx)("button",{onClick:e.action,className:"p-6 rounded-xl text-left transition-all hover:scale-105",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-light)"},onMouseEnter:t=>{t.currentTarget.style.borderColor=e.color,t.currentTarget.style.boxShadow="var(--shadow-lg)"},onMouseLeave:e=>{e.currentTarget.style.borderColor="var(--border-light)",e.currentTarget.style.boxShadow="none"},children:(0,l.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,l.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-2xl",style:{backgroundColor:e.color,color:"white"},children:e.icon}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h3",{className:"font-semibold mb-2",style:{color:"var(--text-primary)"},children:e.title}),(0,l.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:e.description})]})]})},e.id))})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsx)("h2",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"\ucd5c\uadfc \ub4f1\ub85d \uc0ac\uc6a9\uc790"}),(0,l.jsx)("button",{onClick:()=>r("users"),className:"text-sm font-medium",style:{color:"var(--accent-primary)"},children:"\uc804\uccb4 \ubcf4\uae30 \u2192"})]}),0===m.length?(0,l.jsx)("div",{className:"p-6 rounded-lg text-center",style:{backgroundColor:"var(--bg-secondary)"},children:(0,l.jsx)("p",{style:{color:"var(--text-muted)"},children:"\ucd5c\uadfc \ub4f1\ub85d\ub41c \uc0ac\uc6a9\uc790\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."})}):(0,l.jsx)("div",{className:"space-y-3",children:m.map(e=>{return(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg cursor-pointer transition-colors",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-light)"},onClick:()=>r("users"),onMouseEnter:e=>e.currentTarget.style.borderColor="var(--accent-primary)",onMouseLeave:e=>e.currentTarget.style.borderColor="var(--border-light)",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"w-9 h-9 rounded-full flex items-center justify-center text-base",style:{backgroundColor:"var(--accent-primary-pastel)"},children:"\ud83d\udc64"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:e.username}),(0,l.jsx)("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:e.email})]})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsx)("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium block mb-1",style:{backgroundColor:"super_admin"===e.role?"#fef3c7":"service_admin"===e.role?"var(--accent-primary-pastel)":"var(--bg-subtle)",color:"super_admin"===e.role?"#92400e":"service_admin"===e.role?"var(--accent-primary-dark)":"var(--text-muted)"},children:(t=e.role,"super_admin"===t?"\uc288\ud37c\uad00\ub9ac\uc790":"service_admin"===t?"\uad00\ub9ac\uc790":"\uc0ac\uc6a9\uc790")}),(0,l.jsx)("span",{className:"text-xs",style:{color:"var(--text-muted)"},children:e.joinedAt.toLocaleDateString("ko-KR")})]})]},e.id);var t})})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsx)("h2",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"\ucd5c\uadfc \uc2dc\uc2a4\ud15c \ud65c\ub3d9"}),(0,l.jsx)("button",{onClick:()=>r("audit"),className:"text-sm font-medium",style:{color:"var(--accent-primary)"},children:"\uc804\uccb4 \ub85c\uadf8 \u2192"})]}),0===x.length?(0,l.jsx)("div",{className:"p-6 rounded-lg text-center",style:{backgroundColor:"var(--bg-secondary)"},children:(0,l.jsx)("p",{style:{color:"var(--text-muted)"},children:"\ucd5c\uadfc \ud65c\ub3d9\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."})}):(0,l.jsx)("div",{className:"space-y-3",children:x.map(e=>{return(0,l.jsxs)("div",{className:"flex items-start space-x-3 p-4 rounded-lg",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-light)"},children:[(0,l.jsx)("div",{className:"w-9 h-9 rounded-full flex items-center justify-center text-base flex-shrink-0",style:{backgroundColor:"var(--accent-primary-pastel)"},children:(t=e.type,"project"===t?"\ud83d\udccb":"evaluation"===t?"\u2696\ufe0f":"user"===t?"\ud83d\udc64":"\ud83d\udcdd")}),(0,l.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,l.jsx)("p",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:e.action}),(0,l.jsx)("p",{className:"text-xs truncate mt-0.5",style:{color:"var(--text-secondary)"},children:e.details}),(0,l.jsxs)("p",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:[e.user," \xb7 ",w(e.timestamp)]})]})]},e.id);var t})})]})]})]})},u=e=>{let{user:t,onTabChange:r,viewMode:s="service"}=e;return(0,l.jsxs)("div",{className:"space-y-6",children:[!1,(()=>{switch(t.role){case"super_admin":case"service_admin":return(0,l.jsx)(m,{user:t,onTabChange:r});case"service_user":return"evaluator"===s?(0,l.jsx)(c,{user:t,onTabChange:r}):(0,l.jsx)(a.A,{user:t,onTabChange:r});case"evaluator":return(0,l.jsx)(c,{user:t,onTabChange:r});default:return(0,l.jsx)(a.A,{user:t,onTabChange:r})}})()]})}},50(e,t,r){r.d(t,{A:()=>c});var s=r(5043),a=r(3138),l=r(579);const c=e=>{let{user:t,onTabChange:r}=e;const[c,o]=(0,s.useState)({totalProjects:0,activeProjects:0,completedProjects:0,totalEvaluations:0,recentActivity:[]}),[i,n]=(0,s.useState)([]),[d,m]=(0,s.useState)(!0),[u,x]=(0,s.useState)(null),v=(e,t)=>{x({type:e,text:t}),setTimeout(()=>x(null),3e3)};(0,s.useEffect)(()=>{p(),h()},[]);const p=async()=>{try{var e;const r=(await a.A.getProjects()).filter(e=>e.owner===t.id);o({totalProjects:r.length,activeProjects:r.filter(e=>"active"===e.status).length,completedProjects:r.filter(e=>"completed"===e.status).length,totalEvaluations:(null===(e=t.profile)||void 0===e?void 0:e.total_evaluations)||0,recentActivity:[]})}catch(r){v("error","\uc0ac\uc6a9\uc790 \ud1b5\uacc4\ub97c \ubd88\ub7ec\uc624\ub294 \ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}},h=async()=>{try{const e=(await a.A.getProjects()).filter(e=>e.owner===t.id).sort((e,t)=>new Date(t.updated_at||t.created_at||"").getTime()-new Date(e.updated_at||e.created_at||"").getTime()).slice(0,5);n(e)}catch(e){v("error","\ucd5c\uadfc \ud504\ub85c\uc81d\ud2b8\ub97c \ubd88\ub7ec\uc624\ub294 \ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}finally{m(!1)}},y=[{id:"new-project",title:"\uc0c8 \ud504\ub85c\uc81d\ud2b8 \ub9cc\ub4e4\uae30",description:"AHP \ubd84\uc11d\uc744 \uc704\ud55c \uc0c8 \ud504\ub85c\uc81d\ud2b8\ub97c \uc0dd\uc131\ud569\ub2c8\ub2e4",icon:"\u2795",color:"var(--accent-primary)",action:()=>r("project-creation")},{id:"my-projects",title:"\ub0b4 \ud504\ub85c\uc81d\ud2b8 \uad00\ub9ac",description:"\uc0dd\uc131\ud55c \ud504\ub85c\uc81d\ud2b8\ub4e4\uc744 \ud655\uc778\ud558\uace0 \uad00\ub9ac\ud569\ub2c8\ub2e4",icon:"\ud83d\udcc2",color:"var(--accent-secondary)",action:()=>r("my-projects")},{id:"evaluation-mode",title:"\ud3c9\uac00\uc790 \ubaa8\ub4dc",description:"\ud560\ub2f9\ubc1b\uc740 \ud3c9\uac00 \uc791\uc5c5\uc744 \uc218\ud589\ud569\ub2c8\ub2e4",icon:"\u2696\ufe0f",color:"var(--accent-tertiary)",action:()=>r("evaluator-mode")},{id:"results-analysis",title:"\uacb0\uacfc \ubd84\uc11d",description:"\uc644\ub8cc\ub41c \ud504\ub85c\uc81d\ud2b8\uc758 \uacb0\uacfc\ub97c \ubd84\uc11d\ud569\ub2c8\ub2e4",icon:"\ud83d\udcca",color:"var(--accent-quaternary)",action:()=>r("results-analysis")}];return d?(0,l.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-4xl mb-4",style:{color:"var(--text-muted)"},children:"\u23f3"}),(0,l.jsx)("p",{style:{color:"var(--text-secondary)"},children:"\ub300\uc2dc\ubcf4\ub4dc \ub85c\ub529 \uc911..."})]})}):(0,l.jsxs)("div",{className:"space-y-8",children:[u&&(0,l.jsx)("div",{className:"fixed top-4 right-4 z-50 px-4 py-3 rounded-lg text-sm font-medium shadow-lg ".concat("success"===u.type?"bg-green-100 text-green-800":"info"===u.type?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"),children:u.text}),(0,l.jsx)("div",{className:"p-6 rounded-xl",style:{backgroundColor:"var(--bg-secondary)"},children:(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsx)("div",{className:"w-16 h-16 rounded-full flex items-center justify-center text-3xl",style:{backgroundColor:"var(--accent-primary)",color:"white"},children:"\ud83d\udc64"}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("h1",{className:"text-2xl font-bold",style:{color:"var(--text-primary)"},children:["\uc548\ub155\ud558\uc138\uc694, ",t.first_name||t.username,"\ub2d8! \ud83d\udc4b"]}),(0,l.jsx)("p",{className:"text-lg",style:{color:"var(--text-secondary)"},children:"AHP \uc758\uc0ac\uacb0\uc815 \uc9c0\uc6d0 \ud50c\ub7ab\ud3fc\uc5d0 \uc624\uc2e0 \uac83\uc744 \ud658\uc601\ud569\ub2c8\ub2e4"}),(0,l.jsxs)("div",{className:"flex items-center space-x-4 mt-2 text-sm",style:{color:"var(--text-muted)"},children:[(0,l.jsxs)("span",{children:["\ud83c\udfe2 ",t.organization||"\uc870\uc9c1 \ubbf8\uc124\uc815"]}),(0,l.jsxs)("span",{children:["\ud83d\udce7 ",t.email]}),(0,l.jsx)("span",{children:"\ud83c\udfaf \uac1c\uc778 \uc11c\ube44\uc2a4 \uc0ac\uc6a9\uc790"})]})]})]})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,l.jsx)("div",{className:"p-6 rounded-xl",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-light)"},children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm font-medium",style:{color:"var(--text-muted)"},children:"\ucd1d \ud504\ub85c\uc81d\ud2b8"}),(0,l.jsx)("p",{className:"text-3xl font-bold",style:{color:"var(--text-primary)"},children:c.totalProjects})]}),(0,l.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-2xl",style:{backgroundColor:"var(--accent-primary-pastel)"},children:"\ud83d\udccb"})]})}),(0,l.jsx)("div",{className:"p-6 rounded-xl",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-light)"},children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm font-medium",style:{color:"var(--text-muted)"},children:"\uc9c4\ud589 \uc911"}),(0,l.jsx)("p",{className:"text-3xl font-bold",style:{color:"var(--accent-secondary)"},children:c.activeProjects})]}),(0,l.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-2xl",style:{backgroundColor:"var(--accent-secondary-pastel)"},children:"\ud83d\udd04"})]})}),(0,l.jsx)("div",{className:"p-6 rounded-xl",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-light)"},children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm font-medium",style:{color:"var(--text-muted)"},children:"\uc644\ub8cc\ub41c \ud504\ub85c\uc81d\ud2b8"}),(0,l.jsx)("p",{className:"text-3xl font-bold",style:{color:"var(--accent-tertiary)"},children:c.completedProjects})]}),(0,l.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-2xl",style:{backgroundColor:"var(--accent-tertiary-pastel)"},children:"\u2705"})]})}),(0,l.jsx)("div",{className:"p-6 rounded-xl",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-light)"},children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm font-medium",style:{color:"var(--text-muted)"},children:"\ucd1d \ud3c9\uac00 \uc218"}),(0,l.jsx)("p",{className:"text-3xl font-bold",style:{color:"var(--accent-quaternary)"},children:c.totalEvaluations})]}),(0,l.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-2xl",style:{backgroundColor:"var(--accent-quaternary-pastel)"},children:"\u2696\ufe0f"})]})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-xl font-bold mb-6",style:{color:"var(--text-primary)"},children:"\ube60\ub978 \uc2e4\ud589 \uba54\ub274"}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:y.map(e=>(0,l.jsx)("button",{onClick:e.action,className:"p-6 rounded-xl text-left transition-all hover:scale-105",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-light)"},onMouseEnter:t=>{t.currentTarget.style.borderColor=e.color,t.currentTarget.style.boxShadow="var(--shadow-lg)"},onMouseLeave:e=>{e.currentTarget.style.borderColor="var(--border-light)",e.currentTarget.style.boxShadow="none"},children:(0,l.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,l.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-2xl",style:{backgroundColor:e.color,color:"white"},children:e.icon}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h3",{className:"font-semibold mb-2",style:{color:"var(--text-primary)"},children:e.title}),(0,l.jsx)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:e.description})]})]})},e.id))})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,l.jsx)("h2",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"\ucd5c\uadfc \ud504\ub85c\uc81d\ud2b8"}),(0,l.jsx)("button",{onClick:()=>r("my-projects"),className:"text-sm font-medium transition-colors",style:{color:"var(--accent-primary)"},onMouseEnter:e=>e.currentTarget.style.textDecoration="underline",onMouseLeave:e=>e.currentTarget.style.textDecoration="none",children:"\uc804\uccb4 \ubcf4\uae30 \u2192"})]}),0===i.length?(0,l.jsxs)("div",{className:"p-8 rounded-xl text-center",style:{backgroundColor:"var(--bg-secondary)"},children:[(0,l.jsx)("div",{className:"text-6xl mb-4",style:{color:"var(--text-muted)"},children:"\ud83d\udcc2"}),(0,l.jsx)("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--text-primary)"},children:"\uc544\uc9c1 \uc0dd\uc131\ub41c \ud504\ub85c\uc81d\ud2b8\uac00 \uc5c6\uc2b5\ub2c8\ub2e4"}),(0,l.jsx)("p",{className:"mb-6",style:{color:"var(--text-secondary)"},children:"\uccab \ubc88\uc9f8 AHP \ud504\ub85c\uc81d\ud2b8\ub97c \ub9cc\ub4e4\uc5b4 \uc758\uc0ac\uacb0\uc815 \ubd84\uc11d\uc744 \uc2dc\uc791\ud574\ubcf4\uc138\uc694!"}),(0,l.jsx)("button",{onClick:()=>r("project-creation"),className:"px-6 py-3 rounded-lg font-medium transition-colors",style:{backgroundColor:"var(--accent-primary)",color:"white"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="var(--accent-hover)",onMouseLeave:e=>e.currentTarget.style.backgroundColor="var(--accent-primary)",children:"\uc0c8 \ud504\ub85c\uc81d\ud2b8 \ub9cc\ub4e4\uae30"})]}):(0,l.jsx)("div",{className:"space-y-4",children:i.map(e=>(0,l.jsx)("div",{className:"p-4 rounded-lg cursor-pointer transition-all",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-light)"},onClick:()=>r("my-projects"),onMouseEnter:e=>{e.currentTarget.style.borderColor="var(--accent-primary)",e.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:e=>{e.currentTarget.style.borderColor="var(--border-light)",e.currentTarget.style.transform="translateY(0)"},children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:e.title}),(0,l.jsx)("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:e.description})]}),(0,l.jsxs)("div",{className:"text-right ml-4",children:[(0,l.jsx)("div",{className:"px-3 py-1 rounded-full text-xs font-medium",style:{backgroundColor:"active"===e.status?"var(--accent-secondary-pastel)":"completed"===e.status?"var(--accent-tertiary-pastel)":"var(--bg-subtle)",color:"active"===e.status?"var(--accent-secondary-dark)":"completed"===e.status?"var(--accent-tertiary-dark)":"var(--text-muted)"},children:"active"===e.status?"\uc9c4\ud589\uc911":"completed"===e.status?"\uc644\ub8cc":"draft"===e.status?"\ucd08\uc548":e.status}),(0,l.jsx)("div",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:new Date(e.updated_at||e.created_at||"").toLocaleDateString("ko-KR")})]})]})},e.id))})]})]})}},9304(e,t,r){r.d(t,{Ay:()=>y});var s=r(2555),a=r(1801),l=r(1422),c=r(8018);const o=new class{constructor(e){this.baseURL=void 0,this.baseURL=e}async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const r=(0,s.A)({"Content-Type":"application/json"},t.headers),a=l.A.getAccessToken();a&&(r.Authorization="Bearer ".concat(a));const c=await fetch("".concat(this.baseURL).concat(e),(0,s.A)((0,s.A)({credentials:"include"},t),{},{headers:r})),o=await c.json();if(!c.ok){if(401===c.status){if((await l.A.refreshAccessToken()).success){const a=l.A.getAccessToken();if(a){r.Authorization="Bearer ".concat(a);const l=await fetch("".concat(this.baseURL).concat(e),(0,s.A)((0,s.A)({credentials:"include"},t),{},{headers:r}));if(l.ok){return{data:await l.json()}}}}else window.dispatchEvent(new CustomEvent("auth:tokenExpired"))}return{error:o.error||o.detail||"Request failed"}}return{data:o}}catch(r){return c.A.error("API request failed:",r),{error:"Network error"}}}get(e){return this.request(e,{method:"GET"})}post(e,t){return this.request(e,{method:"POST",body:t?JSON.stringify(t):void 0})}put(e,t){return this.request(e,{method:"PUT",body:t?JSON.stringify(t):void 0})}delete(e){return this.request(e,{method:"DELETE"})}patch(e,t){return this.request(e,{method:"PATCH",body:t?JSON.stringify(t):void 0})}}(a.API_BASE_URL),i={login:async e=>{try{return{data:{user:(await l.A.login(e.username,e.password)).user},error:null}}catch(t){return{data:null,error:t instanceof Error?t.message:"Login failed"}}},logout:async()=>{try{const e=await l.A.logout();return{data:e.success?{message:"Logout successful"}:null,error:e.success?null:e.error}}catch(e){return{data:null,error:e instanceof Error?e.message:"Logout failed"}}},refreshToken:async()=>{try{const e=await l.A.refreshAccessToken();return{data:e.success?{message:"Token refreshed"}:null,error:e.success?null:e.error}}catch(e){return{data:null,error:e instanceof Error?e.message:"Token refresh failed"}}},verifyToken:async()=>{try{return{data:await l.A.getCurrentUser(),error:null}}catch(e){return{data:null,error:e instanceof Error?e.message:"Token verification failed"}}},isAuthenticated:()=>l.A.isAuthenticated(),getCurrentUser:async()=>{try{return{data:await l.A.getCurrentUser(),error:null}}catch(e){return{data:null,error:e instanceof Error?e.message:"Failed to get user info"}}}},n={save:e=>o.post("/api/evaluate/direct",e),fetch:e=>o.get("/api/evaluate/direct/".concat(e)),normalize:e=>o.post("/api/calculate/normalize",e)},d={save:e=>o.post("/api/evaluate/pairwise",e),fetchMatrix:(e,t)=>o.get("/api/evaluate/pairwise/".concat(e,"/").concat(t))},m={calculate:e=>o.post("/api/calculate/ahp",e),validateMatrix:e=>o.post("/api/calculate/validate-matrix",{matrix:e})},u={assign:e=>o.post("/api/service/evaluations/invitations/",e),fetchByProject:e=>o.get("/api/service/evaluations/invitations/?project=".concat(e)),list:e=>o.get("/api/service/evaluations/evaluations/?project=".concat(e)),updateWeight:(e,t)=>o.patch("/api/service/evaluations/invitations/".concat(e,"/"),t),remove:e=>o.delete("/api/service/evaluations/invitations/".concat(e,"/")),fetchProgress:e=>o.get("/api/service/evaluations/evaluations/?project=".concat(e,"&status=in_progress")),validateAccessKey:e=>o.get("/api/service/evaluations/invitations/by_token/?token=".concat(e))},x={save:e=>o.post("/api/service/analysis/calculate/individual/",e),fetchIndividual:e=>o.get("/api/service/analysis/project-summary/?project_id=".concat(e)),calculateGroup:e=>o.post("/api/service/analysis/calculate/group/",e),fetchProject:e=>o.get("/api/service/analysis/project-summary/?project_id=".concat(e)),sensitivityAnalysis:e=>o.post("/api/service/analysis/sensitivity/",e)},v={fetch:()=>o.get("/api/service/projects/projects/"),fetchById:e=>o.get("/api/service/projects/projects/".concat(e,"/")),create:e=>o.post("/api/service/projects/projects/",e),update:(e,t)=>o.patch("/api/service/projects/projects/".concat(e,"/"),t),delete:e=>o.delete("/api/service/projects/projects/".concat(e,"/"))},p={fetch:e=>o.get("/api/service/projects/criteria/?project=".concat(e)),create:e=>o.post("/api/service/projects/criteria/",e),update:(e,t)=>o.patch("/api/service/projects/criteria/".concat(e,"/"),t),delete:e=>o.delete("/api/service/projects/criteria/".concat(e,"/"))},h={fetch:e=>o.get("/api/service/projects/criteria/?project=".concat(e,"&type=alternative")),create:e=>o.post("/api/service/projects/criteria/",(0,s.A)((0,s.A)({},e),{},{type:"alternative"})),update:(e,t)=>o.patch("/api/service/projects/criteria/".concat(e,"/"),t),delete:e=>o.delete("/api/service/projects/criteria/".concat(e,"/"))},y={get:o.get.bind(o),post:o.post.bind(o),put:o.put.bind(o),delete:o.delete.bind(o),patch:o.patch.bind(o),authAPI:i,directEvaluationAPI:n,pairwiseEvaluationAPI:d,ahpCalculationAPI:m,evaluatorAPI:u,resultsAPI:x,projectAPI:v,criteriaAPI:p,alternativesAPI:h,apiHelpers:{generateMatrixKey:(e,t)=>"criteria"===e?"C:".concat(t||"root"):"A:".concat(t),generateTargetKey:(e,t,r)=>"criterion"===e?"criterion:".concat(t):"alternative:".concat(t,"@criterion:").concat(r),extractErrorMessage:e=>e.error?e.error:"Unknown error occurred",extractSuccessMessage:e=>e.message?e.message:"Operation completed successfully"}}}}]);
//# sourceMappingURL=151.07e07289.chunk.js.map