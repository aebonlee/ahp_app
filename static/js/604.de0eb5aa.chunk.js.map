{"version":3,"file":"static/js/604.de0eb5aa.chunk.js","mappings":"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","sources":["components/admin/ProjectCompletion.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport Card from '../common/Card';\r\nimport Button from '../common/Button';\r\nimport apiService from '../../services/apiService';\r\n\r\ninterface Criterion {\r\n  id: string;\r\n  name: string;\r\n  description?: string;\r\n  level: number;\r\n  parent_id?: string | null;\r\n}\r\n\r\ninterface EvaluationItem {\r\n  id: string;\r\n  evaluator_name: string;\r\n  evaluator_username: string;\r\n  status: 'pending' | 'in_progress' | 'completed' | 'cancelled';\r\n  progress: number;\r\n  consistency_ratio: number | null;\r\n  is_consistent: boolean | null;\r\n}\r\n\r\ninterface ProjectCompletionProps {\r\n  projectId: string;\r\n  projectTitle: string;\r\n  onBack: () => void;\r\n  onProjectStatusChange: (status: 'terminated' | 'completed') => void;\r\n  criteriaCount?: number;\r\n  alternativesCount?: number;\r\n  evaluatorsCount?: number;\r\n}\r\n\r\ninterface ProjectSummary {\r\n  totalCriteria: number;\r\n  totalEvaluators: number;\r\n  completedEvaluators: number;\r\n  activeEvaluators: number;\r\n  pendingEvaluators: number;\r\n  completionRate: number;\r\n  avgConsistencyRatio: number | null;\r\n  createdDate: string;\r\n  lastModified: string;\r\n}\r\n\r\nconst ProjectCompletion: React.FC<ProjectCompletionProps> = ({\r\n  projectId,\r\n  projectTitle,\r\n  onBack,\r\n  onProjectStatusChange,\r\n  criteriaCount = 0,\r\n  evaluatorsCount = 0,\r\n}) => {\r\n  const [selectedAction, setSelectedAction] = useState<\r\n    'test' | 'sendEmail' | 'terminate' | 'complete' | 'lock' | 'export' | null\r\n  >(null);\r\n  const [isConfirming, setIsConfirming] = useState(false);\r\n  const [isExecuting, setIsExecuting] = useState(false);\r\n  const [exportFormat, setExportFormat] = useState<'excel' | 'pdf' | 'both'>('both');\r\n  const [projectSummary, setProjectSummary] = useState<ProjectSummary | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [criteriaData, setCriteriaData] = useState<Criterion[]>([]);\r\n  const [evaluationsData, setEvaluationsData] = useState<EvaluationItem[]>([]);\r\n  const [actionMessage, setActionMessage] = useState<{\r\n    type: 'success' | 'error' | 'info';\r\n    text: string;\r\n  } | null>(null);\r\n\r\n  const showActionMessage = (type: 'success' | 'error' | 'info', text: string) => {\r\n    setActionMessage({ type, text });\r\n    setTimeout(() => setActionMessage(null), 4000);\r\n  };\r\n\r\n  const loadProjectSummary = useCallback(async () => {\r\n    setLoading(true);\r\n    try {\r\n      const [projectRes, criteriaRes, evalsRes] = await Promise.allSettled([\r\n        apiService.get(`/api/service/projects/projects/${projectId}/`),\r\n        apiService.get(`/api/service/projects/criteria/?project=${projectId}&page_size=200`),\r\n        apiService.get(`/api/service/evaluations/evaluations/?project=${projectId}&page_size=200`),\r\n      ]);\r\n\r\n      // ê¸°ì¤€ ì²˜ë¦¬\r\n      if (criteriaRes.status === 'fulfilled') {\r\n        const criteriaData = criteriaRes.value.data as Criterion[] | { results?: Criterion[]; count?: number };\r\n        const list: Criterion[] = Array.isArray(criteriaData) ? criteriaData : (criteriaData.results ?? []);\r\n        setCriteriaData(\r\n          list.map((c) => ({\r\n            id: String(c.id),\r\n            name: c.name ?? '',\r\n            description: c.description,\r\n            level: c.level ?? 1,\r\n            parent_id: c.parent_id ?? null,\r\n          }))\r\n        );\r\n      }\r\n\r\n      // í‰ê°€ ì²˜ë¦¬\r\n      let evals: EvaluationItem[] = [];\r\n      if (evalsRes.status === 'fulfilled') {\r\n        const evalsData = evalsRes.value.data as EvaluationItem[] | { results?: EvaluationItem[] };\r\n        const list: EvaluationItem[] = Array.isArray(evalsData) ? evalsData : (evalsData.results ?? []);\r\n        evals = list.map((e) => ({\r\n          id: String(e.id),\r\n          evaluator_name: e.evaluator_name || e.evaluator_username || 'ì•Œ ìˆ˜ ì—†ìŒ',\r\n          evaluator_username: e.evaluator_username ?? '',\r\n          status: e.status ?? 'pending',\r\n          progress: e.progress ?? 0,\r\n          consistency_ratio: e.consistency_ratio ?? null,\r\n          is_consistent: e.is_consistent ?? null,\r\n        }));\r\n        setEvaluationsData(evals);\r\n      }\r\n\r\n      // ìš”ì•½ ê³„ì‚°\r\n      const critCount =\r\n        criteriaRes.status === 'fulfilled'\r\n          ? (() => {\r\n              const d = criteriaRes.value.data as Criterion[] | { count?: number; results?: Criterion[] };\r\n              return Array.isArray(d) ? d.length : (d.count ?? d.results?.length ?? 0);\r\n            })()\r\n          : criteriaCount;\r\n\r\n      const completed = evals.filter((e) => e.status === 'completed');\r\n      const active = evals.filter((e) => e.status === 'in_progress');\r\n      const pending = evals.filter((e) => e.status === 'pending' || e.status === 'cancelled');\r\n      const completionRate =\r\n        evals.length > 0 ? Math.round((completed.length / evals.length) * 100) : 0;\r\n\r\n      const crs = completed\r\n        .map((e) => e.consistency_ratio)\r\n        .filter((cr): cr is number => cr !== null);\r\n      const avgCR = crs.length > 0 ? crs.reduce((a, b) => a + b, 0) / crs.length : null;\r\n\r\n      // í”„ë¡œì íŠ¸ ë‚ ì§œ\r\n      let createdDate = new Date().toLocaleDateString('ko-KR');\r\n      let lastModified = new Date().toLocaleDateString('ko-KR');\r\n      if (projectRes.status === 'fulfilled') {\r\n        const proj = projectRes.value.data as { created_at?: string; updated_at?: string };\r\n        if (proj.created_at) createdDate = new Date(proj.created_at).toLocaleDateString('ko-KR');\r\n        if (proj.updated_at) lastModified = new Date(proj.updated_at).toLocaleDateString('ko-KR');\r\n      }\r\n\r\n      setProjectSummary({\r\n        totalCriteria: critCount,\r\n        totalEvaluators: evals.length || evaluatorsCount,\r\n        completedEvaluators: completed.length,\r\n        activeEvaluators: active.length,\r\n        pendingEvaluators: pending.length,\r\n        completionRate,\r\n        avgConsistencyRatio: avgCR,\r\n        createdDate,\r\n        lastModified,\r\n      });\r\n    } catch (error) {\r\n      setProjectSummary({\r\n        totalCriteria: criteriaCount,\r\n        totalEvaluators: evaluatorsCount,\r\n        completedEvaluators: 0,\r\n        activeEvaluators: 0,\r\n        pendingEvaluators: evaluatorsCount,\r\n        completionRate: 0,\r\n        avgConsistencyRatio: null,\r\n        createdDate: new Date().toLocaleDateString('ko-KR'),\r\n        lastModified: new Date().toLocaleDateString('ko-KR'),\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [projectId, criteriaCount, evaluatorsCount]);\r\n\r\n  useEffect(() => {\r\n    loadProjectSummary();\r\n  }, [loadProjectSummary]);\r\n\r\n  // â”€â”€ í”„ë¡œì íŠ¸ ìƒíƒœ ì—…ë°ì´íŠ¸ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\r\n  const updateProjectStatus = async (status: 'completed' | 'archived') => {\r\n    const payload: Record<string, string> = { status };\r\n    if (status === 'completed') payload.workflow_stage = 'completed';\r\n    const res = await apiService.patch(`/api/service/projects/projects/${projectId}/`, payload);\r\n    return res;\r\n  };\r\n\r\n  // â”€â”€ í‰ê°€ ìš”ì²­ ë°œì†¡ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\r\n  const handleSendEmails = async () => {\r\n    const pending = evaluationsData.filter((e) => e.status === 'pending');\r\n    if (pending.length === 0) {\r\n      showActionMessage('info', 'ëŒ€ê¸° ì¤‘ì¸ í‰ê°€ìê°€ ì—†ìŠµë‹ˆë‹¤. ëª¨ë“  í‰ê°€ìê°€ ì´ë¯¸ í‰ê°€ë¥¼ ì‹œì‘í–ˆìŠµë‹ˆë‹¤.');\r\n      return;\r\n    }\r\n    // ë°±ì—”ë“œì— ì´ë©”ì¼ ë°œì†¡ API ë¯¸êµ¬í˜„ â†’ ì•ˆë‚´ ë©”ì‹œì§€\r\n    showActionMessage(\r\n      'info',\r\n      `ì´ë©”ì¼ ë°œì†¡ ê¸°ëŠ¥ì€ ë°±ì—”ë“œ SMTP ì„¤ì • í›„ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤. ëŒ€ê¸° ì¤‘ì¸ í‰ê°€ì: ${pending.length}ëª…`\r\n    );\r\n  };\r\n\r\n  // â”€â”€ ë‚´ë³´ë‚´ê¸° â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\r\n  const handleExport = async () => {\r\n    // ë¡œì»¬ CSV ìƒì„± (ë°±ì—”ë“œ export APIëŠ” ë³„ë„ ì—°ë™ ê°€ëŠ¥)\r\n    const rows = [\r\n      ['í‰ê°€ì', 'ìƒíƒœ', 'ì§„í–‰ë¥ ', 'ì¼ê´€ì„±ë¹„ìœ¨', 'ì¼ê´€ì„±ì—¬ë¶€'],\r\n      ...evaluationsData.map((e) => [\r\n        e.evaluator_name,\r\n        e.status === 'completed' ? 'ì™„ë£Œ' : e.status === 'in_progress' ? 'ì§„í–‰ì¤‘' : 'ëŒ€ê¸°',\r\n        `${Math.round(e.progress)}%`,\r\n        e.consistency_ratio !== null ? e.consistency_ratio.toFixed(4) : '-',\r\n        e.is_consistent === true ? 'ì í•©' : e.is_consistent === false ? 'ë¶€ì í•©' : '-',\r\n      ]),\r\n    ];\r\n    const csv = rows.map((r) => r.join(',')).join('\\n');\r\n    const blob = new Blob(['\\uFEFF' + csv], { type: 'text/csv;charset=utf-8;' });\r\n    const url = URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = `${projectTitle}_í‰ê°€ê²°ê³¼.csv`;\r\n    a.click();\r\n    URL.revokeObjectURL(url);\r\n    showActionMessage('success', 'CSV íŒŒì¼ ë‹¤ìš´ë¡œë“œê°€ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤.');\r\n  };\r\n\r\n  // â”€â”€ ì‹¤í–‰ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\r\n  const handleExecute = async () => {\r\n    if (!selectedAction) return;\r\n    setIsExecuting(true);\r\n    try {\r\n      switch (selectedAction) {\r\n        case 'test': {\r\n          const testLink = `${window.location.origin}${process.env.PUBLIC_URL || ''}/?project=${projectId}&test=true`;\r\n          window.open(testLink, '_blank');\r\n          showActionMessage('info', 'í…ŒìŠ¤íŠ¸ ëª¨ë“œë¡œ í‰ê°€ í™”ë©´ì„ ì—´ì—ˆìŠµë‹ˆë‹¤. í…ŒìŠ¤íŠ¸ ë°ì´í„°ëŠ” ì €ì¥ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.');\r\n          break;\r\n        }\r\n        case 'sendEmail':\r\n          await handleSendEmails();\r\n          break;\r\n        case 'terminate':\r\n          await updateProjectStatus('archived');\r\n          showActionMessage('info', 'í”„ë¡œì íŠ¸ê°€ ë³´ê´€(ì¤‘ë‹¨) ì²˜ë¦¬ë˜ì—ˆìŠµë‹ˆë‹¤.');\r\n          onProjectStatusChange('terminated');\r\n          break;\r\n        case 'complete':\r\n          await updateProjectStatus('completed');\r\n          showActionMessage('success', 'í”„ë¡œì íŠ¸ê°€ ì™„ë£Œ ì²˜ë¦¬ë˜ì—ˆìŠµë‹ˆë‹¤.');\r\n          onProjectStatusChange('completed');\r\n          break;\r\n        case 'lock':\r\n          showActionMessage('success', 'ê²°ê³¼ ì ê¸ˆ ê¸°ëŠ¥ì€ ì¶”í›„ ì œê³µë  ì˜ˆì •ì…ë‹ˆë‹¤.');\r\n          break;\r\n        case 'export':\r\n          await handleExport();\r\n          break;\r\n      }\r\n    } catch (err: unknown) {\r\n      const e = err as { response?: { data?: { detail?: string; status?: string[] } } };\r\n      const msg =\r\n        e?.response?.data?.detail ??\r\n        e?.response?.data?.status?.[0] ??\r\n        'ì‘ì—… ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.';\r\n      showActionMessage('error', msg);\r\n    } finally {\r\n      setIsExecuting(false);\r\n      setSelectedAction(null);\r\n      setIsConfirming(false);\r\n    }\r\n  };\r\n\r\n  const actions = [\r\n    {\r\n      id: 'test',\r\n      label: 'í‰ê°€ í…ŒìŠ¤íŠ¸',\r\n      icon: 'ğŸ§ª',\r\n      description: 'ì—°êµ¬ìê°€ í‰ê°€ í™”ë©´ì„ ë¯¸ë¦¬ í…ŒìŠ¤íŠ¸í•´ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.',\r\n      warning: 'í…ŒìŠ¤íŠ¸ ë°ì´í„°ëŠ” ì €ì¥ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.',\r\n      danger: false,\r\n    },\r\n    {\r\n      id: 'sendEmail',\r\n      label: 'í‰ê°€ ìš”ì²­ ë°œì†¡',\r\n      icon: 'ğŸ“§',\r\n      description: 'ëŒ€ê¸° ì¤‘ì¸ í‰ê°€ìì—ê²Œ í‰ê°€ ìš”ì²­ì„ ì•Œë¦½ë‹ˆë‹¤.',\r\n      warning: 'ë°±ì—”ë“œ SMTP ì„¤ì • í›„ ì‹¤ì œ ì´ë©”ì¼ ë°œì†¡ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.',\r\n      danger: false,\r\n    },\r\n    {\r\n      id: 'complete',\r\n      label: 'í”„ë¡œì íŠ¸ ì™„ë£Œ',\r\n      icon: 'âœ…',\r\n      description: 'í”„ë¡œì íŠ¸ë¥¼ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œ ì²˜ë¦¬í•©ë‹ˆë‹¤.',\r\n      warning: 'ì™„ë£Œëœ í”„ë¡œì íŠ¸ëŠ” ë” ì´ìƒ ìˆ˜ì •í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.',\r\n      danger: false,\r\n    },\r\n    {\r\n      id: 'terminate',\r\n      label: 'í”„ë¡œì íŠ¸ ì¤‘ë‹¨',\r\n      icon: 'â¹ï¸',\r\n      description: 'í”„ë¡œì íŠ¸ë¥¼ ë³´ê´€(ì¤‘ë‹¨) ì²˜ë¦¬í•©ë‹ˆë‹¤.',\r\n      warning: 'ì¤‘ë‹¨ëœ í”„ë¡œì íŠ¸ëŠ” ë³´ê´€ ìƒíƒœë¡œ ì „í™˜ë©ë‹ˆë‹¤.',\r\n      danger: true,\r\n    },\r\n    {\r\n      id: 'lock',\r\n      label: 'ê²°ê³¼ ì ê¸ˆ',\r\n      icon: 'ğŸ”’',\r\n      description: 'í˜„ì¬ ê²°ê³¼ë¥¼ ì ê¸ˆ ì²˜ë¦¬í•˜ì—¬ ë³€ê²½ì„ ë°©ì§€í•©ë‹ˆë‹¤.',\r\n      warning: 'ì ê¸ˆëœ ê²°ê³¼ëŠ” ê´€ë¦¬ìë§Œ í•´ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.',\r\n      danger: false,\r\n    },\r\n    {\r\n      id: 'export',\r\n      label: 'ê²°ê³¼ ë‚´ë³´ë‚´ê¸° (CSV)',\r\n      icon: 'ğŸ“¤',\r\n      description: 'í‰ê°€ì í˜„í™©ê³¼ ê²°ê³¼ë¥¼ CSV íŒŒì¼ë¡œ ë‚´ë³´ëƒ…ë‹ˆë‹¤.',\r\n      warning: 'ë‚´ë³´ë‚´ê¸° í›„ì—ë„ í”„ë¡œì íŠ¸ëŠ” ê³„ì† ì§„í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.',\r\n      danger: false,\r\n    },\r\n  ];\r\n\r\n  // â”€â”€ ë¡œë”© / ì˜¤ë¥˜ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-64\">\r\n        <div className=\"text-gray-500\">í”„ë¡œì íŠ¸ ì •ë³´ ë¡œë”© ì¤‘...</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!projectSummary) {\r\n    return (\r\n      <div className=\"text-center py-8 text-red-600\">í”„ë¡œì íŠ¸ ì •ë³´ë¥¼ ë¡œë“œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</div>\r\n    );\r\n  }\r\n\r\n  // â”€â”€ ë Œë” â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\r\n  return (\r\n    <div className=\"max-w-4xl mx-auto\">\r\n      {actionMessage && (\r\n        <div\r\n          className={`fixed top-4 right-4 z-50 px-4 py-3 rounded-lg text-sm font-medium shadow-lg max-w-sm ${\r\n            actionMessage.type === 'success'\r\n              ? 'bg-green-100 text-green-800'\r\n              : actionMessage.type === 'info'\r\n              ? 'bg-blue-100 text-blue-800'\r\n              : 'bg-red-100 text-red-800'\r\n          }`}\r\n        >\r\n          {actionMessage.text}\r\n        </div>\r\n      )}\r\n\r\n      {/* í—¤ë” */}\r\n      <div className=\"mb-6\">\r\n        <div className=\"flex items-center justify-between mb-4\">\r\n          <div>\r\n            <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">ë‹¨ê³„ 4 â€” í”„ë¡œì íŠ¸ ì¤‘ë‹¨/ì™„ë£Œ</h1>\r\n            <p className=\"text-gray-600\">\r\n              í”„ë¡œì íŠ¸: <span className=\"font-medium\">{projectTitle}</span>\r\n            </p>\r\n          </div>\r\n          <div className=\"flex gap-2\">\r\n            <Button variant=\"secondary\" onClick={loadProjectSummary}>\r\n              ğŸ”„ ìƒˆë¡œê³ ì¹¨\r\n            </Button>\r\n            <Button variant=\"secondary\" onClick={onBack}>\r\n              ì´ì „ ë‹¨ê³„ë¡œ\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"space-y-6\">\r\n        {/* ë°ì´í„° ì¹´ë“œ 3ê°œ */}\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n          {/* í‰ê°€ ê¸°ì¤€ */}\r\n          <Card title=\"ğŸ“‹ í‰ê°€ ê¸°ì¤€ êµ¬ì¡°\">\r\n            {criteriaData.length === 0 ? (\r\n              <div className=\"text-gray-500 text-center py-4 text-sm\">í‰ê°€ ê¸°ì¤€ì´ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.</div>\r\n            ) : (\r\n              <div>\r\n                <div className=\"text-sm text-gray-600 mb-2\">ì´ {criteriaData.length}ê°œì˜ í‰ê°€ ê¸°ì¤€</div>\r\n                <div className=\"max-h-48 overflow-y-auto border border-gray-200 rounded-lg p-2\">\r\n                  {criteriaData.map((criterion) => (\r\n                    <div\r\n                      key={criterion.id}\r\n                      className=\"py-1 text-sm\"\r\n                      style={{ paddingLeft: `${(criterion.level - 1) * 16}px` }}\r\n                    >\r\n                      <span className=\"text-gray-400 mr-1\">\r\n                        {criterion.level === 1 ? 'ğŸ“' : criterion.level === 2 ? 'ğŸ“‚' : 'ğŸ“„'}\r\n                      </span>\r\n                      <span className=\"font-medium\">{criterion.name}</span>\r\n                      {criterion.description && (\r\n                        <span className=\"ml-1 text-gray-500 text-xs\">({criterion.description})</span>\r\n                      )}\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </Card>\r\n\r\n          {/* í‰ê°€ì í˜„í™© */}\r\n          <Card title=\"ğŸ‘¥ í‰ê°€ì í˜„í™©\">\r\n            {evaluationsData.length === 0 ? (\r\n              <div className=\"text-gray-500 text-center py-4 text-sm\">ë°°ì •ëœ í‰ê°€ìê°€ ì—†ìŠµë‹ˆë‹¤.</div>\r\n            ) : (\r\n              <div>\r\n                <div className=\"text-sm text-gray-600 mb-2\">ì´ {evaluationsData.length}ëª…ì˜ í‰ê°€ì</div>\r\n                <div className=\"max-h-48 overflow-y-auto border border-gray-200 rounded-lg p-2 space-y-1\">\r\n                  {evaluationsData.map((ev) => (\r\n                    <div\r\n                      key={ev.id}\r\n                      className=\"flex items-center justify-between py-1.5 px-2 hover:bg-gray-50 rounded\"\r\n                    >\r\n                      <span className=\"text-sm font-medium text-gray-700\">{ev.evaluator_name}</span>\r\n                      <div className=\"flex items-center gap-2\">\r\n                        {ev.status === 'completed' && (\r\n                          <>\r\n                            <span className=\"text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded-full\">ì™„ë£Œ</span>\r\n                            {ev.consistency_ratio !== null && (\r\n                              <span className={`text-xs ${ev.is_consistent ? 'text-green-600' : 'text-red-600'}`}>\r\n                                CR={ev.consistency_ratio.toFixed(3)}\r\n                              </span>\r\n                            )}\r\n                          </>\r\n                        )}\r\n                        {ev.status === 'in_progress' && (\r\n                          <span className=\"text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full\">\r\n                            ì§„í–‰ {Math.round(ev.progress)}%\r\n                          </span>\r\n                        )}\r\n                        {(ev.status === 'pending' || ev.status === 'cancelled') && (\r\n                          <span className=\"text-xs bg-gray-100 text-gray-600 px-2 py-0.5 rounded-full\">ëŒ€ê¸°</span>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </Card>\r\n        </div>\r\n\r\n        {/* ìš”ì•½ í†µê³„ */}\r\n        <Card title=\"ğŸ“Š í”„ë¡œì íŠ¸ ìš”ì•½ í˜„í™©\">\r\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n            {[\r\n              { label: 'í‰ê°€ ê¸°ì¤€', value: projectSummary.totalCriteria, bg: 'bg-blue-50 border-blue-200', text: 'text-blue-900', sub: 'text-blue-700' },\r\n              { label: 'ì´ í‰ê°€ì', value: projectSummary.totalEvaluators, bg: 'bg-purple-50 border-purple-200', text: 'text-purple-900', sub: 'text-purple-700' },\r\n              { label: 'ì™„ë£Œ', value: projectSummary.completedEvaluators, bg: 'bg-green-50 border-green-200', text: 'text-green-900', sub: 'text-green-700' },\r\n              { label: 'ì§„í–‰ë¥ ', value: `${projectSummary.completionRate}%`, bg: 'bg-orange-50 border-orange-200', text: 'text-orange-900', sub: 'text-orange-700' },\r\n            ].map(({ label, value, bg, text, sub }) => (\r\n              <div key={label} className={`text-center p-4 ${bg} border rounded-lg`}>\r\n                <div className={`text-2xl font-bold ${text}`}>{value}</div>\r\n                <div className={`text-sm ${sub}`}>{label}</div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          <div className=\"mt-4 grid grid-cols-3 gap-4\">\r\n            <div className=\"p-3 bg-yellow-50 border border-yellow-200 rounded-lg text-center\">\r\n              <div className=\"text-xl font-bold text-yellow-900\">{projectSummary.pendingEvaluators}</div>\r\n              <div className=\"text-sm text-yellow-700\">ëŒ€ê¸° ì¤‘</div>\r\n            </div>\r\n            <div className=\"p-3 bg-indigo-50 border border-indigo-200 rounded-lg text-center\">\r\n              <div className=\"text-xl font-bold text-indigo-900\">{projectSummary.activeEvaluators}</div>\r\n              <div className=\"text-sm text-indigo-700\">ì§„í–‰ ì¤‘</div>\r\n            </div>\r\n            <div className=\"p-3 bg-teal-50 border border-teal-200 rounded-lg text-center\">\r\n              <div className=\"text-xl font-bold text-teal-900\">{projectSummary.completedEvaluators}</div>\r\n              <div className=\"text-sm text-teal-700\">ì™„ë£Œ</div>\r\n            </div>\r\n          </div>\r\n\r\n          {projectSummary.avgConsistencyRatio !== null && (\r\n            <div className=\"mt-4 p-4 bg-gray-50 border border-gray-200 rounded-lg\">\r\n              <h4 className=\"font-medium text-gray-900 mb-1\">í‰ê·  ì¼ê´€ì„± ë¹„ìœ¨ (CR)</h4>\r\n              <div className=\"flex items-center gap-3\">\r\n                <div className=\"text-2xl font-bold\">{projectSummary.avgConsistencyRatio.toFixed(3)}</div>\r\n                {projectSummary.avgConsistencyRatio <= 0.1 ? (\r\n                  <span className=\"text-green-600 text-sm\">âœ… ì í•© (CR â‰¤ 0.1)</span>\r\n                ) : (\r\n                  <span className=\"text-red-600 text-sm\">âš ï¸ ì¬ê²€í†  í•„ìš” (CR &gt; 0.1)</span>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </Card>\r\n\r\n        {/* ì‘ì—… ì„ íƒ */}\r\n        <Card title=\"ğŸ¯ ì‘ì—… ì„ íƒ\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            {actions.map((action) => (\r\n              <button\r\n                key={action.id}\r\n                onClick={() => { setSelectedAction(action.id as 'test' | 'sendEmail' | 'terminate' | 'complete' | 'lock' | 'export'); setIsConfirming(false); }}\r\n                className={`p-4 border-2 rounded-lg text-left transition-all hover:shadow-md ${\r\n                  selectedAction === action.id\r\n                    ? action.danger\r\n                      ? 'border-red-500 bg-red-50'\r\n                      : 'border-blue-500 bg-blue-50'\r\n                    : 'border-gray-200 hover:border-gray-300'\r\n                }`}\r\n              >\r\n                <div className=\"flex items-start gap-3\">\r\n                  <span className=\"text-2xl\">{action.icon}</span>\r\n                  <div className=\"flex-1\">\r\n                    <h4 className={`font-medium ${action.danger ? 'text-red-800' : 'text-gray-900'}`}>\r\n                      {action.label}\r\n                    </h4>\r\n                    <p className=\"text-sm text-gray-600 mt-1\">{action.description}</p>\r\n                    {selectedAction === action.id && (\r\n                      <p className=\"text-xs text-orange-600 mt-2\">âš ï¸ {action.warning}</p>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </Card>\r\n\r\n        {/* ì´ë©”ì¼ ë°œì†¡ ìƒì„¸ */}\r\n        {selectedAction === 'sendEmail' && (\r\n          <Card title=\"ğŸ“§ í‰ê°€ ìš”ì²­ ë°œì†¡\">\r\n            <div className=\"space-y-3\">\r\n              <div className=\"p-4 bg-blue-50 border border-blue-200 rounded-lg\">\r\n                <h4 className=\"font-medium text-blue-900 mb-2\">ëŒ€ê¸° ì¤‘ì¸ í‰ê°€ì ({evaluationsData.filter(e => e.status === 'pending').length}ëª…)</h4>\r\n                {evaluationsData.filter(e => e.status === 'pending').length === 0 ? (\r\n                  <p className=\"text-sm text-gray-600\">ëª¨ë“  í‰ê°€ìê°€ ì´ë¯¸ í‰ê°€ë¥¼ ì‹œì‘í–ˆìŠµë‹ˆë‹¤.</p>\r\n                ) : (\r\n                  <ul className=\"text-sm text-blue-700 space-y-1\">\r\n                    {evaluationsData.filter(e => e.status === 'pending').map(e => (\r\n                      <li key={e.id}>â€¢ {e.evaluator_name} (@{e.evaluator_username})</li>\r\n                    ))}\r\n                  </ul>\r\n                )}\r\n              </div>\r\n              <div className=\"p-3 bg-yellow-50 border border-yellow-200 rounded-lg text-sm text-yellow-800\">\r\n                âš ï¸ ì‹¤ì œ ì´ë©”ì¼ ë°œì†¡ì€ ë°±ì—”ë“œ SMTP(SendGrid ë“±) ì„¤ì • í›„ í™œì„±í™”ë©ë‹ˆë‹¤.\r\n              </div>\r\n            </div>\r\n          </Card>\r\n        )}\r\n\r\n        {/* ë‚´ë³´ë‚´ê¸° ì„¤ì • */}\r\n        {selectedAction === 'export' && (\r\n          <Card title=\"ğŸ“¤ ë‚´ë³´ë‚´ê¸° ì„¤ì •\">\r\n            <div className=\"space-y-3\">\r\n              {[\r\n                { value: 'excel', label: 'CSV íŒŒì¼', description: 'í‰ê°€ì í˜„í™© ë° CR í¬í•¨ (ë¡œì»¬ ìƒì„±)' },\r\n                { value: 'pdf', label: 'PDF ë¬¸ì„œ', description: 'ì¶”í›„ ì œê³µ ì˜ˆì •' },\r\n                { value: 'both', label: 'CSV + PDF', description: 'ì¶”í›„ ì œê³µ ì˜ˆì •' },\r\n              ].map((format) => (\r\n                <label\r\n                  key={format.value}\r\n                  className=\"flex items-center gap-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer\"\r\n                >\r\n                  <input\r\n                    type=\"radio\"\r\n                    value={format.value}\r\n                    checked={exportFormat === format.value}\r\n                    onChange={(e) => setExportFormat(e.target.value as 'excel' | 'pdf' | 'both')}\r\n                    className=\"text-blue-600\"\r\n                  />\r\n                  <div>\r\n                    <div className=\"font-medium text-sm\">{format.label}</div>\r\n                    <div className=\"text-xs text-gray-500\">{format.description}</div>\r\n                  </div>\r\n                </label>\r\n              ))}\r\n            </div>\r\n          </Card>\r\n        )}\r\n\r\n        {/* ì‹¤í–‰ ë²„íŠ¼ */}\r\n        {selectedAction && !isConfirming && (\r\n          <div className=\"text-center\">\r\n            <Button onClick={() => setIsConfirming(true)} variant=\"primary\" size=\"lg\">\r\n              {actions.find((a) => a.id === selectedAction)?.label} ì§„í–‰\r\n            </Button>\r\n          </div>\r\n        )}\r\n\r\n        {/* ìµœì¢… í™•ì¸ */}\r\n        {isConfirming && (\r\n          <Card title=\"ğŸš¨ ìµœì¢… í™•ì¸\">\r\n            <div className=\"text-center space-y-4\">\r\n              <div className=\"p-4 bg-red-50 border border-red-200 rounded-lg\">\r\n                <h4 className=\"font-medium text-red-900 mb-1\">\r\n                  {actions.find((a) => a.id === selectedAction)?.label}ì„(ë¥¼) ì‹¤í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\r\n                </h4>\r\n                <p className=\"text-sm text-red-700\">\r\n                  {actions.find((a) => a.id === selectedAction)?.warning}\r\n                </p>\r\n              </div>\r\n              <div className=\"flex justify-center gap-3\">\r\n                <Button onClick={handleExecute} variant=\"error\" size=\"lg\" disabled={isExecuting}>\r\n                  {isExecuting ? 'ì²˜ë¦¬ ì¤‘...' : 'í™•ì¸í•˜ê³  ì‹¤í–‰'}\r\n                </Button>\r\n                <Button onClick={() => setIsConfirming(false)} variant=\"secondary\" size=\"lg\" disabled={isExecuting}>\r\n                  ì·¨ì†Œ\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </Card>\r\n        )}\r\n\r\n        {/* í”„ë¡œì íŠ¸ ì •ë³´ */}\r\n        <div className=\"bg-gray-50 border border-gray-200 rounded-lg p-4\">\r\n          <h4 className=\"font-medium text-gray-900 mb-2\">ğŸ“‹ í”„ë¡œì íŠ¸ ì •ë³´</h4>\r\n          <div className=\"grid grid-cols-2 gap-4 text-sm text-gray-600 mb-3\">\r\n            <div>ìƒì„±ì¼: {projectSummary.createdDate}</div>\r\n            <div>ìµœì¢… ìˆ˜ì •: {projectSummary.lastModified}</div>\r\n          </div>\r\n          <div className=\"grid grid-cols-3 gap-2 text-sm border-t border-gray-300 pt-3\">\r\n            <div className=\"bg-white p-2 rounded text-center\">\r\n              <span className=\"font-medium\">ê¸°ì¤€: </span>{projectSummary.totalCriteria}ê°œ\r\n            </div>\r\n            <div className=\"bg-white p-2 rounded text-center\">\r\n              <span className=\"font-medium\">í‰ê°€ì: </span>{projectSummary.totalEvaluators}ëª…\r\n            </div>\r\n            <div className=\"bg-white p-2 rounded text-center\">\r\n              <span className=\"font-medium\">ì™„ë£Œìœ¨: </span>{projectSummary.completionRate}%\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProjectCompletion;\r\n"],"names":["_ref","_actions$find","_actions$find2","_actions$find3","projectId","projectTitle","onBack","onProjectStatusChange","criteriaCount","evaluatorsCount","selectedAction","setSelectedAction","useState","isConfirming","setIsConfirming","isExecuting","setIsExecuting","exportFormat","setExportFormat","projectSummary","setProjectSummary","loading","setLoading","criteriaData","setCriteriaData","evaluationsData","setEvaluationsData","actionMessage","setActionMessage","showActionMessage","type","text","setTimeout","loadProjectSummary","useCallback","async","projectRes","criteriaRes","evalsRes","Promise","allSettled","apiService","get","concat","status","_criteriaData$results","value","data","list","Array","isArray","results","map","c","_c$name","_c$level","_c$parent_id","id","String","name","description","level","parent_id","evals","_evalsData$results","evalsData","e","_e$evaluator_username","_e$status","_e$progress","_e$consistency_ratio","_e$is_consistent","evaluator_name","evaluator_username","progress","consistency_ratio","is_consistent","critCount","_ref2","_d$count","_d$results","d","length","count","completed","filter","active","pending","completionRate","Math","round","crs","cr","avgCR","reduce","a","b","createdDate","Date","toLocaleDateString","lastModified","proj","created_at","updated_at","totalCriteria","totalEvaluators","completedEvaluators","activeEvaluators","pendingEvaluators","avgConsistencyRatio","error","useEffect","updateProjectStatus","payload","workflow_stage","patch","actions","label","icon","warning","danger","_jsx","className","children","_jsxs","Button","variant","onClick","Card","title","criterion","style","paddingLeft","ev","_Fragment","toFixed","bg","sub","_ref4","action","format","checked","onChange","target","size","find","testLink","window","location","origin","process","open","handleSendEmails","csv","r","join","blob","Blob","url","URL","createObjectURL","document","createElement","href","download","click","revokeObjectURL","handleExport","err","_ref3","_e$response$data$deta","_e$response","_e$response$data","_e$response2","_e$response2$data","_e$response2$data$sta","msg","response","detail","disabled"],"sourceRoot":""}