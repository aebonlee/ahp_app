{"version":3,"file":"static/js/484.d9fb5609.chunk.js","mappings":"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","sources":["services/subscriptionService.ts","components/subscription/SubscriptionDashboard.tsx","components/visualization/InteractiveCharts.tsx","services/systemManagementService.ts","components/admin/SystemManagement.tsx","components/admin/EnhancedSuperAdminDashboard.tsx","components/common/PageHeader.tsx"],"sourcesContent":["// Subscription and Payment Service\r\nimport { API_BASE_URL } from '../config/api';\r\nimport {\r\n  SubscriptionPlan,\r\n  UserSubscription,\r\n  SubscriptionUsage,\r\n  PaymentRequest,\r\n  PaymentResponse,\r\n  SubscriptionResponse,\r\n  ExtendedUser,\r\n  ProjectLimits,\r\n  UsageAlert\r\n} from '../types/subscription';\r\n\r\ninterface PaymentRecord {\r\n  id: string;\r\n  amount: number;\r\n  currency: string;\r\n  status: string;\r\n  createdAt: string;\r\n  planId?: string;\r\n  subscriptionId?: string;\r\n}\r\n\r\nclass SubscriptionService {\r\n  private async request<T>(endpoint: string, options: RequestInit = {}): Promise<T> {\r\n    const response = await fetch(`${API_BASE_URL}${endpoint}`, {\r\n      credentials: 'include',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        ...options.headers,\r\n      },\r\n      ...options,\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const error = await response.json().catch(() => ({ message: 'Request failed' }));\r\n      throw new Error(error.message || 'Request failed');\r\n    }\r\n\r\n    return response.json();\r\n  }\r\n\r\n  //   \r\n  async getAvailablePlans(): Promise<SubscriptionPlan[]> {\r\n    return this.request<SubscriptionPlan[]>('/api/subscriptions/plans/');\r\n  }\r\n\r\n  async getPlanDetails(planId: string): Promise<SubscriptionPlan> {\r\n    return this.request<SubscriptionPlan>(`/api/subscriptions/plans/${planId}/`);\r\n  }\r\n\r\n  //   \r\n  async getCurrentSubscription(userId: string): Promise<UserSubscription | null> {\r\n    try {\r\n      return await this.request<UserSubscription>('/api/subscriptions/subscriptions/current/');\r\n    } catch (error) {\r\n      //    null \r\n      return null;\r\n    }\r\n  }\r\n\r\n  async subscribeToPlan(request: PaymentRequest): Promise<PaymentResponse> {\r\n    return this.request<PaymentResponse>('/api/subscriptions/subscribe/', {\r\n      method: 'POST',\r\n      body: JSON.stringify(request),\r\n    });\r\n  }\r\n\r\n  async cancelSubscription(subscriptionId: string): Promise<SubscriptionResponse> {\r\n    return this.request<SubscriptionResponse>(`/api/subscriptions/subscriptions/${subscriptionId}/cancel/`, {\r\n      method: 'POST',\r\n    });\r\n  }\r\n\r\n  async renewSubscription(subscriptionId: string): Promise<SubscriptionResponse> {\r\n    return this.request<SubscriptionResponse>(`/api/subscriptions/subscriptions/${subscriptionId}/renew/`, {\r\n      method: 'POST',\r\n    });\r\n  }\r\n\r\n  //  \r\n  async getUsage(userId: string): Promise<SubscriptionUsage> {\r\n    return this.request<SubscriptionUsage>('/api/subscriptions/usage/current/');\r\n  }\r\n\r\n  async checkLimits(userId: string, resource: string, required: number = 1): Promise<boolean> {\r\n    const response = await this.request<{ allowed: boolean; remaining: number }>('/api/subscriptions/check-limits/', {\r\n      method: 'POST',\r\n      body: JSON.stringify({ resource_type: resource, required_amount: required }),\r\n    });\r\n    return response.allowed;\r\n  }\r\n\r\n  async getProjectLimits(userId: string, projectId?: string): Promise<ProjectLimits> {\r\n    //     \r\n    const subscription = await this.getCurrentSubscription(userId);\r\n    if (subscription) {\r\n      //  \r\n      return {\r\n        maxEvaluators: 100,\r\n        maxSurveys: 50,\r\n        maxCriteria: 15,\r\n        maxAlternatives: 10,\r\n        remainingEvaluators: 100,\r\n        remainingSurveys: 50,\r\n        remainingCriteria: 15,\r\n        remainingAlternatives: 10\r\n      };\r\n    }\r\n    \r\n    //  \r\n    return {\r\n      maxEvaluators: 10,\r\n      maxSurveys: 50,\r\n      maxCriteria: 15,\r\n      maxAlternatives: 10,\r\n      remainingEvaluators: 10,\r\n      remainingSurveys: 50,\r\n      remainingCriteria: 15,\r\n      remainingAlternatives: 10\r\n    };\r\n  }\r\n\r\n  //    ( )\r\n  async createPersonalAdmin(adminData: {\r\n    email: string;\r\n    firstName: string;\r\n    lastName: string;\r\n    maxProjects: number;\r\n  }): Promise<ExtendedUser> {\r\n    return this.request<ExtendedUser>('/api/accounts/personal-admin', {\r\n      method: 'POST',\r\n      body: JSON.stringify(adminData),\r\n    });\r\n  }\r\n\r\n  async getPersonalAdmins(superAdminId: string): Promise<ExtendedUser[]> {\r\n    return this.request<ExtendedUser[]>(`/api/accounts/personal-admins/${superAdminId}`);\r\n  }\r\n\r\n  async updatePersonalAdminLimits(adminId: string, limits: Partial<ProjectLimits>): Promise<void> {\r\n    await this.request(`/api/accounts/personal-admin/${adminId}/limits`, {\r\n      method: 'PUT',\r\n      body: JSON.stringify(limits),\r\n    });\r\n  }\r\n\r\n  async deactivatePersonalAdmin(adminId: string): Promise<void> {\r\n    await this.request(`/api/accounts/personal-admin/${adminId}/deactivate`, {\r\n      method: 'POST',\r\n    });\r\n  }\r\n\r\n  //   \r\n  async getUsageAlerts(userId: string): Promise<UsageAlert[]> {\r\n    return this.request<UsageAlert[]>('/api/subscriptions/alerts/');\r\n  }\r\n\r\n  async markAlertAsRead(alertId: string): Promise<void> {\r\n    await this.request(`/api/subscriptions/alerts/${alertId}/mark_read/`, {\r\n      method: 'POST',\r\n    });\r\n  }\r\n\r\n  //  \r\n  async getPaymentHistory(userId: string): Promise<PaymentRecord[]> {\r\n    return this.request<PaymentRecord[]>('/api/subscriptions/payment-records/');\r\n  }\r\n\r\n  //   \r\n  async updatePaymentMethod(subscriptionId: string, paymentMethodData: Record<string, unknown>): Promise<void> {\r\n    await this.request('/api/subscriptions/payment-methods/', {\r\n      method: 'POST',\r\n      body: JSON.stringify(paymentMethodData),\r\n    });\r\n  }\r\n\r\n  //   \r\n  async validateCoupon(couponCode: string, planId: string): Promise<{\r\n    valid: boolean;\r\n    discount: number;\r\n    discountType: 'percentage' | 'fixed';\r\n    message: string;\r\n  }> {\r\n    return this.request('/api/subscriptions/validate-coupon/', {\r\n      method: 'POST',\r\n      body: JSON.stringify({ coupon_code: couponCode, plan_id: planId }),\r\n    });\r\n  }\r\n\r\n  //   \r\n  async getAllSubscriptions(): Promise<UserSubscription[]> {\r\n    return this.request<UserSubscription[]>('/api/subscriptions/subscriptions/');\r\n  }\r\n\r\n  async getSubscriptionStats(): Promise<{\r\n    totalActiveSubscriptions: number;\r\n    totalRevenue: number;\r\n    planDistribution: { [planId: string]: number };\r\n    monthlyGrowth: number;\r\n  }> {\r\n    return this.request('/api/subscriptions/stats/');\r\n  }\r\n\r\n  async createCustomPlan(planData: Omit<SubscriptionPlan, 'id'>): Promise<SubscriptionPlan> {\r\n    return this.request<SubscriptionPlan>('/api/subscriptions/plans/', {\r\n      method: 'POST',\r\n      body: JSON.stringify(planData),\r\n    });\r\n  }\r\n\r\n  async updatePlan(planId: string, planData: Partial<SubscriptionPlan>): Promise<SubscriptionPlan> {\r\n    return this.request<SubscriptionPlan>(`/api/subscriptions/plans/${planId}/`, {\r\n      method: 'PUT',\r\n      body: JSON.stringify(planData),\r\n    });\r\n  }\r\n\r\n  //     ()\r\n  getDefaultPlans(): SubscriptionPlan[] {\r\n    return [\r\n      {\r\n        id: 'basic',\r\n        name: ' ',\r\n        description: '       ',\r\n        price: 29000,\r\n        currency: 'KRW',\r\n        duration: 1,\r\n        features: [\r\n          { id: 'personal_admins', name: ' ', description: '  5', included: true, limit: 5 },\r\n          { id: 'projects', name: '', description: '  3', included: true, limit: 3 },\r\n          { id: 'surveys', name: ' ', description: ' 50 ', included: true, limit: 50 },\r\n          { id: 'basic_support', name: ' ', description: ' ', included: true },\r\n        ],\r\n        limits: {\r\n          maxPersonalAdmins: 5,\r\n          maxProjectsPerAdmin: 3,\r\n          maxSurveysPerProject: 50,\r\n          maxEvaluatorsPerProject: 10,\r\n          maxCriteriaPerProject: 15,\r\n          maxAlternativesPerProject: 10,\r\n          storageLimit: 1,\r\n          supportLevel: 'basic',\r\n          advancedFeatures: false\r\n        },\r\n        isActive: true\r\n      },\r\n      {\r\n        id: 'professional',\r\n        name: ' ',\r\n        description: '     ',\r\n        price: 89000,\r\n        currency: 'KRW',\r\n        duration: 1,\r\n        features: [\r\n          { id: 'personal_admins', name: ' ', description: '  20', included: true, limit: 20 },\r\n          { id: 'projects', name: '', description: '  10', included: true, limit: 10 },\r\n          { id: 'surveys', name: ' ', description: ' 200 ', included: true, limit: 200 },\r\n          { id: 'advanced_features', name: ' ', description: 'Group AHP,  ', included: true },\r\n          { id: 'priority_support', name: ' ', description: '   ', included: true },\r\n        ],\r\n        limits: {\r\n          maxPersonalAdmins: 20,\r\n          maxProjectsPerAdmin: 10,\r\n          maxSurveysPerProject: 200,\r\n          maxEvaluatorsPerProject: 50,\r\n          maxCriteriaPerProject: 30,\r\n          maxAlternativesPerProject: 20,\r\n          storageLimit: 10,\r\n          supportLevel: 'premium',\r\n          advancedFeatures: true\r\n        },\r\n        isActive: true,\r\n        isPopular: true\r\n      },\r\n      {\r\n        id: 'enterprise',\r\n        name: ' ',\r\n        description: '    ',\r\n        price: 299000,\r\n        currency: 'KRW',\r\n        duration: 1,\r\n        features: [\r\n          { id: 'unlimited_admins', name: ' ', description: '  ', included: true },\r\n          { id: 'unlimited_projects', name: ' ', description: '  ', included: true },\r\n          { id: 'unlimited_surveys', name: ' ', description: '  ', included: true },\r\n          { id: 'all_features', name: '  ', description: '    ', included: true },\r\n          { id: 'dedicated_support', name: ' ', description: '  ', included: true },\r\n          { id: 'custom_integration', name: ' ', description: 'API   ', included: true },\r\n        ],\r\n        limits: {\r\n          maxPersonalAdmins: -1, // unlimited\r\n          maxProjectsPerAdmin: -1, // unlimited\r\n          maxSurveysPerProject: -1, // unlimited\r\n          maxEvaluatorsPerProject: -1, // unlimited\r\n          maxCriteriaPerProject: -1, // unlimited\r\n          maxAlternativesPerProject: -1, // unlimited\r\n          storageLimit: -1, // unlimited\r\n          supportLevel: 'enterprise',\r\n          advancedFeatures: true\r\n        },\r\n        isActive: true\r\n      }\r\n    ];\r\n  }\r\n}\r\n\r\nexport const subscriptionService = new SubscriptionService();\r\nexport default SubscriptionService;","import React, { useState, useEffect, useCallback } from 'react';\r\nimport Card from '../common/Card';\r\nimport { subscriptionService } from '../../services/subscriptionService';\r\nimport { SubscriptionPlan, UserSubscription, SubscriptionUsage, ExtendedUser } from '../../types/subscription';\r\n\r\ninterface SubscriptionDashboardProps {\r\n  user: ExtendedUser;\r\n  className?: string;\r\n}\r\n\r\nconst SubscriptionDashboard: React.FC<SubscriptionDashboardProps> = ({\r\n  user,\r\n  className = ''\r\n}) => {\r\n  const [subscription, setSubscription] = useState<UserSubscription | null>(null);\r\n  const [usage, setUsage] = useState<SubscriptionUsage | null>(null);\r\n  const [plans, setPlans] = useState<SubscriptionPlan[]>([]);\r\n  const [personalAdmins, setPersonalAdmins] = useState<ExtendedUser[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [activeTab, setActiveTab] = useState<'overview' | 'plans' | 'admins' | 'billing'>('overview');\r\n  const [actionMessage, setActionMessage] = useState<{type:'success'|'error'|'info', text:string}|null>(null);\r\n\r\n  const showActionMessage = (type: 'success'|'error'|'info', text: string) => {\r\n    setActionMessage({type, text});\r\n    setTimeout(() => setActionMessage(null), 3000);\r\n  };\r\n\r\n  const loadSubscriptionData = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      \r\n      //   API     \r\n      const isDemoMode = process.env.NODE_ENV === 'production' || window.location.hostname.includes('render.com');\r\n      \r\n      if (isDemoMode) {\r\n        //   \r\n        const demoSubscription: UserSubscription = {\r\n          id: 'demo-sub-1',\r\n          userId: user.id,\r\n          planId: 'professional',\r\n          status: 'active',\r\n          startDate: new Date().toISOString(),\r\n          endDate: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString(),\r\n          autoRenew: true,\r\n          currentUsage: {\r\n            personalAdminsCount: 3,\r\n            totalProjectsCount: 7,\r\n            totalSurveysCount: 45,\r\n            storageUsed: 2.5,\r\n            lastUpdated: new Date().toISOString()\r\n          },\r\n          paymentHistory: []\r\n        };\r\n\r\n        const demoUsage: SubscriptionUsage = {\r\n          personalAdminsCount: 3,\r\n          totalProjectsCount: 7,\r\n          totalSurveysCount: 45,\r\n          storageUsed: 2.5,\r\n          lastUpdated: new Date().toISOString()\r\n        };\r\n\r\n        const demoPlans = subscriptionService.getDefaultPlans();\r\n\r\n        setSubscription(demoSubscription);\r\n        setUsage(demoUsage);\r\n        setPlans(demoPlans);\r\n\r\n        //    \r\n        if (user.role === 'super_admin') {\r\n          const demoAdmins: ExtendedUser[] = [\r\n            {\r\n              id: 'admin-1',\r\n              email: 'admin1@demo.com',\r\n              first_name: '',\r\n              last_name: '',\r\n              role: 'admin',\r\n              subscription: undefined,\r\n              parentAdminId: user.id,\r\n              createdBy: user.id,\r\n              isActive: true,\r\n              createdAt: new Date().toISOString(),\r\n              updatedAt: new Date().toISOString()\r\n            },\r\n            {\r\n              id: 'admin-2', \r\n              email: 'admin2@demo.com',\r\n              first_name: '',\r\n              last_name: '',\r\n              role: 'admin',\r\n              subscription: undefined,\r\n              parentAdminId: user.id,\r\n              createdBy: user.id,\r\n              isActive: true,\r\n              createdAt: new Date().toISOString(),\r\n              updatedAt: new Date().toISOString()\r\n            }\r\n          ];\r\n          setPersonalAdmins(demoAdmins);\r\n        }\r\n\r\n        setError(null);\r\n      } else {\r\n        //     API \r\n        const [subData, usageData, plansData] = await Promise.all([\r\n          subscriptionService.getCurrentSubscription(user.id),\r\n          subscriptionService.getUsage(user.id),\r\n          subscriptionService.getAvailablePlans().catch(() => subscriptionService.getDefaultPlans())\r\n        ]);\r\n\r\n        setSubscription(subData);\r\n        setUsage(usageData);\r\n        setPlans(plansData);\r\n\r\n        //       \r\n        if (user.role === 'super_admin') {\r\n          const adminsData = await subscriptionService.getPersonalAdmins(user.id);\r\n          setPersonalAdmins(adminsData);\r\n        }\r\n      }\r\n    } catch (err) {\r\n      showActionMessage('error', '     .   .');\r\n      //      \r\n      setError(null);\r\n      const demoPlans = subscriptionService.getDefaultPlans();\r\n      setPlans(demoPlans);\r\n      setSubscription(null);\r\n      setUsage(null);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [user.id, user.role]);\r\n\r\n  useEffect(() => {\r\n    loadSubscriptionData();\r\n  }, [loadSubscriptionData]);\r\n\r\n  const handleSubscribe = async (planId: string) => {\r\n    try {\r\n      setLoading(true);\r\n      const result = await subscriptionService.subscribeToPlan({\r\n        planId,\r\n        paymentMethod: 'card'\r\n      });\r\n      \r\n      if (result.success) {\r\n        await loadSubscriptionData();\r\n        showActionMessage('success', '  !');\r\n      } else {\r\n        showActionMessage('error', result.error || '    .');\r\n      }\r\n    } catch (err) {\r\n      showActionMessage('error', err instanceof Error ? err.message : '  ');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getCurrentPlan = (): SubscriptionPlan | null => {\r\n    if (!subscription) return null;\r\n    return plans.find(p => p.id === subscription.planId) || null;\r\n  };\r\n\r\n  const getUsagePercentage = (current: number, limit: number): number => {\r\n    if (limit === -1) return 0; // unlimited\r\n    return Math.min((current / limit) * 100, 100);\r\n  };\r\n\r\n  const getUsageColor = (percentage: number): string => {\r\n    if (percentage >= 90) return 'red';\r\n    if (percentage >= 70) return 'yellow';\r\n    return 'green';\r\n  };\r\n\r\n  const formatPrice = (price: number, currency: string): string => {\r\n    return new Intl.NumberFormat('ko-KR', {\r\n      style: 'currency',\r\n      currency: currency === 'KRW' ? 'KRW' : 'USD'\r\n    }).format(price);\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className={`p-6 ${className}`}>\r\n        <div className=\"animate-pulse space-y-4\">\r\n          <div className=\"h-6 bg-gray-200 rounded w-1/4\"></div>\r\n          <div className=\"h-32 bg-gray-200 rounded\"></div>\r\n          <div className=\"h-32 bg-gray-200 rounded\"></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className={`p-6 ${className}`}>\r\n        <Card title=\"\">\r\n          <div className=\"text-red-600\">{error}</div>\r\n          <button\r\n            onClick={loadSubscriptionData}\r\n            className=\"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600\"\r\n          >\r\n             \r\n          </button>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const currentPlan = getCurrentPlan();\r\n\r\n  return (\r\n    <div className={`space-y-6 ${className}`}>\r\n      {actionMessage && (\r\n        <div className={`fixed top-4 right-4 z-50 px-4 py-3 rounded-lg text-sm font-medium shadow-lg ${actionMessage.type === 'success' ? 'bg-green-100 text-green-800' : actionMessage.type === 'info' ? 'bg-blue-100 text-blue-800' : 'bg-red-100 text-red-800'}`}>\r\n          {actionMessage.text}\r\n        </div>\r\n      )}\r\n      {/*   */}\r\n      <div className=\"border-b border-gray-200\">\r\n        <nav className=\"-mb-px flex space-x-8\">\r\n          {[\r\n            { id: 'overview', name: '', icon: '' },\r\n            { id: 'plans', name: '', icon: '' },\r\n            ...(user.role === 'super_admin' ? [{ id: 'admins', name: ' ', icon: '' }] : []),\r\n            { id: 'billing', name: ' ', icon: '' }\r\n          ].map(tab => (\r\n            <button\r\n              key={tab.id}\r\n              onClick={() => setActiveTab(tab.id as 'overview' | 'plans' | 'admins' | 'billing')}\r\n              className={`py-2 px-1 border-b-2 font-medium text-sm ${\r\n                activeTab === tab.id\r\n                  ? 'border-blue-500 text-blue-600'\r\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n              }`}\r\n            >\r\n              <span className=\"mr-2\">{tab.icon}</span>\r\n              {tab.name}\r\n            </button>\r\n          ))}\r\n        </nav>\r\n      </div>\r\n\r\n      {/*   */}\r\n      {activeTab === 'overview' && (\r\n        <div className=\"space-y-6\">\r\n          {/*    */}\r\n          <Card title=\"  \">\r\n            {subscription && currentPlan ? (\r\n              <div className=\"space-y-4\">\r\n                <div className=\"flex justify-between items-center\">\r\n                  <div>\r\n                    <h3 className=\"text-lg font-medium\">{currentPlan.name}</h3>\r\n                    <p className=\"text-gray-600\">{currentPlan.description}</p>\r\n                  </div>\r\n                  <div className=\"text-right\">\r\n                    <div className=\"text-2xl font-bold\">{formatPrice(currentPlan.price, currentPlan.currency)}</div>\r\n                    <div className=\"text-sm text-gray-500\"></div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"grid grid-cols-2 gap-4 p-4 bg-gray-50 rounded\">\r\n                  <div>\r\n                    <div className=\"text-sm text-gray-600\"> </div>\r\n                    <div className=\"font-medium\">{new Date(subscription.startDate).toLocaleDateString('ko-KR')}</div>\r\n                  </div>\r\n                  <div>\r\n                    <div className=\"text-sm text-gray-600\"> </div>\r\n                    <div className=\"font-medium\">{new Date(subscription.endDate).toLocaleDateString('ko-KR')}</div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className={`px-4 py-2 rounded ${\r\n                  subscription.status === 'active' ? 'bg-green-100 text-green-800' :\r\n                  subscription.status === 'cancelled' ? 'bg-red-100 text-red-800' :\r\n                  'bg-yellow-100 text-yellow-800'\r\n                }`}>\r\n                  : {subscription.status === 'active' ? '' : \r\n                        subscription.status === 'cancelled' ? '' : ''}\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div className=\"text-center py-8\">\r\n                <div className=\"text-gray-500 mb-4\">   .</div>\r\n                <button\r\n                  onClick={() => setActiveTab('plans')}\r\n                  className=\"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600\"\r\n                >\r\n                   \r\n                </button>\r\n              </div>\r\n            )}\r\n          </Card>\r\n\r\n          {/*   */}\r\n          {usage && currentPlan && (\r\n            <Card title=\" \">\r\n              <div className=\"space-y-4\">\r\n                {[\r\n                  { label: ' ', current: usage.personalAdminsCount, limit: currentPlan.limits.maxPersonalAdmins },\r\n                  { label: ' ', current: usage.totalProjectsCount, limit: currentPlan.limits.maxPersonalAdmins * currentPlan.limits.maxProjectsPerAdmin },\r\n                  { label: ' ', current: usage.totalSurveysCount, limit: usage.totalProjectsCount * currentPlan.limits.maxSurveysPerProject },\r\n                  { label: '  (GB)', current: usage.storageUsed, limit: currentPlan.limits.storageLimit }\r\n                ].map(item => {\r\n                  const percentage = getUsagePercentage(item.current, item.limit);\r\n                  const color = getUsageColor(percentage);\r\n                  \r\n                  return (\r\n                    <div key={item.label}>\r\n                      <div className=\"flex justify-between text-sm mb-1\">\r\n                        <span>{item.label}</span>\r\n                        <span>\r\n                          {item.current} / {item.limit === -1 ? '' : item.limit}\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n                        <div\r\n                          className={`h-2 rounded-full bg-${color}-500`}\r\n                          style={{ width: `${percentage}%` }}\r\n                        ></div>\r\n                      </div>\r\n                      {percentage >= 90 && item.limit !== -1 && (\r\n                        <div className=\"text-red-600 text-xs mt-1\">\r\n                            .  .\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            </Card>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/*   */}\r\n      {activeTab === 'plans' && (\r\n        <div className=\"space-y-6\">\r\n          <Card title=\" \">\r\n            <div className=\"grid md:grid-cols-3 gap-6\">\r\n              {plans.map(plan => (\r\n                <div\r\n                  key={plan.id}\r\n                  className={`border rounded-lg p-6 relative ${\r\n                    plan.isPopular ? 'border-blue-500 bg-blue-50' : 'border-gray-200'\r\n                  } ${currentPlan?.id === plan.id ? 'ring-2 ring-green-500' : ''}`}\r\n                >\r\n                  {plan.isPopular && (\r\n                    <div className=\"absolute -top-3 left-1/2 transform -translate-x-1/2\">\r\n                      <span className=\"bg-blue-500 text-white px-3 py-1 rounded-full text-sm\"></span>\r\n                    </div>\r\n                  )}\r\n                  \r\n                  {currentPlan?.id === plan.id && (\r\n                    <div className=\"absolute -top-3 right-4\">\r\n                      <span className=\"bg-green-500 text-white px-3 py-1 rounded-full text-sm\"> </span>\r\n                    </div>\r\n                  )}\r\n\r\n                  <div className=\"text-center mb-4\">\r\n                    <h3 className=\"text-xl font-bold\">{plan.name}</h3>\r\n                    <p className=\"text-gray-600 text-sm mt-1\">{plan.description}</p>\r\n                    <div className=\"mt-4\">\r\n                      <span className=\"text-3xl font-bold\">{formatPrice(plan.price, plan.currency)}</span>\r\n                      <span className=\"text-gray-500\">/</span>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <ul className=\"space-y-2 mb-6\">\r\n                    {plan.features.map(feature => (\r\n                      <li key={feature.id} className=\"flex items-center text-sm\">\r\n                        <span className=\"text-green-500 mr-2\"></span>\r\n                        <span>\r\n                          {feature.name}\r\n                          {feature.limit && feature.limit > 0 && (\r\n                            <span className=\"text-gray-500\"> ({feature.limit})</span>\r\n                          )}\r\n                          {feature.limit === -1 && (\r\n                            <span className=\"text-green-600\"> ()</span>\r\n                          )}\r\n                        </span>\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n\r\n                  <button\r\n                    onClick={() => handleSubscribe(plan.id)}\r\n                    disabled={currentPlan?.id === plan.id || loading}\r\n                    className={`w-full py-2 px-4 rounded font-medium ${\r\n                      currentPlan?.id === plan.id\r\n                        ? 'bg-gray-300 text-gray-500 cursor-not-allowed'\r\n                        : 'bg-blue-500 text-white hover:bg-blue-600'\r\n                    }`}\r\n                  >\r\n                    {currentPlan?.id === plan.id ? ' ' : ''}\r\n                  </button>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </Card>\r\n        </div>\r\n      )}\r\n\r\n      {/*    ( ) */}\r\n      {activeTab === 'admins' && user.role === 'super_admin' && (\r\n        <div className=\"space-y-6\">\r\n          <Card title=\"  \">\r\n            <div className=\"space-y-4\">\r\n              <div className=\"flex justify-between items-center\">\r\n                <h3 className=\"text-lg font-medium\">  </h3>\r\n                <button className=\"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600\">\r\n                    \r\n                </button>\r\n              </div>\r\n\r\n              {personalAdmins.length > 0 ? (\r\n                <div className=\"overflow-x-auto\">\r\n                  <table className=\"w-full text-sm\">\r\n                    <thead className=\"bg-gray-50\">\r\n                      <tr>\r\n                        <th className=\"px-4 py-2 text-left\"></th>\r\n                        <th className=\"px-4 py-2 text-left\"></th>\r\n                        <th className=\"px-4 py-2 text-left\"> </th>\r\n                        <th className=\"px-4 py-2 text-left\"></th>\r\n                        <th className=\"px-4 py-2 text-left\"></th>\r\n                        <th className=\"px-4 py-2 text-left\"></th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {personalAdmins.map(admin => (\r\n                        <tr key={admin.id} className=\"border-t\">\r\n                          <td className=\"px-4 py-2\">{admin.first_name} {admin.last_name}</td>\r\n                          <td className=\"px-4 py-2\">{admin.email}</td>\r\n                          <td className=\"px-4 py-2\">0 / {currentPlan?.limits.maxProjectsPerAdmin || 0}</td>\r\n                          <td className=\"px-4 py-2\">{new Date(admin.createdAt).toLocaleDateString('ko-KR')}</td>\r\n                          <td className=\"px-4 py-2\">\r\n                            <span className={`px-2 py-1 rounded text-xs ${\r\n                              admin.isActive ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'\r\n                            }`}>\r\n                              {admin.isActive ? '' : ''}\r\n                            </span>\r\n                          </td>\r\n                          <td className=\"px-4 py-2\">\r\n                            <button className=\"text-blue-600 hover:text-blue-800 mr-2\"></button>\r\n                            <button className=\"text-red-600 hover:text-red-800\"></button>\r\n                          </td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              ) : (\r\n                <div className=\"text-center py-8 text-gray-500\">\r\n                     .\r\n                </div>\r\n              )}\r\n\r\n              {currentPlan && (\r\n                <div className=\"bg-blue-50 p-4 rounded\">\r\n                  <div className=\"text-sm text-blue-800\">\r\n                        {currentPlan.limits.maxPersonalAdmins === -1 ? '' : currentPlan.limits.maxPersonalAdmins} \r\n                        ,   {currentPlan.limits.maxProjectsPerAdmin === -1 ? '' : currentPlan.limits.maxProjectsPerAdmin} \r\n                       .\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </Card>\r\n        </div>\r\n      )}\r\n\r\n      {/*    */}\r\n      {activeTab === 'billing' && (\r\n        <div className=\"space-y-6\">\r\n          <Card title=\" \">\r\n            <div className=\"text-center py-8 text-gray-500\">\r\n                 ...\r\n            </div>\r\n          </Card>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SubscriptionDashboard;","import React, { useState } from 'react';\r\nimport Card from '../common/Card';\r\n\r\ninterface ChartData {\r\n  labels: string[];\r\n  datasets: Array<{\r\n    label: string;\r\n    data: number[];\r\n    backgroundColor?: string[];\r\n    borderColor?: string;\r\n    borderWidth?: number;\r\n  }>;\r\n}\r\n\r\ninterface InteractiveChartsProps {\r\n  data: ChartData;\r\n  chartType?: 'bar' | 'pie' | 'radar' | 'line';\r\n  title?: string;\r\n  className?: string;\r\n}\r\n\r\nconst InteractiveCharts: React.FC<InteractiveChartsProps> = ({\r\n  data,\r\n  chartType = 'bar',\r\n  title = ' ',\r\n  className = ''\r\n}) => {\r\n  const [selectedChart, setSelectedChart] = useState(chartType);\r\n  const [hoveredIndex, setHoveredIndex] = useState<number | null>(null);\r\n\r\n  //   \r\n  const colors = [\r\n    '#3B82F6', // blue-500\r\n    '#10B981', // emerald-500\r\n    '#F59E0B', // amber-500\r\n    '#EF4444', // red-500\r\n    '#8B5CF6', // violet-500\r\n    '#F97316', // orange-500\r\n    '#06B6D4', // cyan-500\r\n    '#84CC16'  // lime-500\r\n  ];\r\n\r\n  // SVG   \r\n  const BarChart: React.FC<{ data: ChartData }> = ({ data }) => {\r\n    const maxValue = Math.max(...data.datasets[0].data);\r\n    const chartHeight = 300;\r\n    const chartWidth = 400;\r\n    const barWidth = chartWidth / data.labels.length * 0.6;\r\n    const barSpacing = chartWidth / data.labels.length;\r\n\r\n    return (\r\n      <div className=\"relative\">\r\n        <svg width={chartWidth + 100} height={chartHeight + 80} className=\"overflow-visible\">\r\n          {/* Y */}\r\n          <line x1=\"50\" y1=\"20\" x2=\"50\" y2={chartHeight + 20} stroke=\"#374151\" strokeWidth=\"1\"/>\r\n          {/* X */}\r\n          <line x1=\"50\" y1={chartHeight + 20} x2={chartWidth + 50} y2={chartHeight + 20} stroke=\"#374151\" strokeWidth=\"1\"/>\r\n          \r\n          {/* Y  */}\r\n          {[0, 0.25, 0.5, 0.75, 1].map((tick, i) => (\r\n            <g key={i}>\r\n              <line \r\n                x1=\"45\" \r\n                y1={chartHeight + 20 - (tick * chartHeight)} \r\n                x2=\"50\" \r\n                y2={chartHeight + 20 - (tick * chartHeight)} \r\n                stroke=\"#374151\" \r\n              />\r\n              <text \r\n                x=\"40\" \r\n                y={chartHeight + 25 - (tick * chartHeight)} \r\n                textAnchor=\"end\" \r\n                fontSize=\"12\" \r\n                fill=\"#6B7280\"\r\n              >\r\n                {(tick * maxValue).toFixed(2)}\r\n              </text>\r\n            </g>\r\n          ))}\r\n\r\n          {/*  */}\r\n          {data.datasets[0].data.map((value, index) => {\r\n            const barHeight = (value / maxValue) * chartHeight;\r\n            const x = 50 + index * barSpacing + (barSpacing - barWidth) / 2;\r\n            const y = chartHeight + 20 - barHeight;\r\n            \r\n            return (\r\n              <g key={index}>\r\n                <rect\r\n                  x={x}\r\n                  y={y}\r\n                  width={barWidth}\r\n                  height={barHeight}\r\n                  fill={hoveredIndex === index ? colors[index % colors.length] + 'CC' : colors[index % colors.length]}\r\n                  stroke={hoveredIndex === index ? '#1F2937' : 'none'}\r\n                  strokeWidth={hoveredIndex === index ? 2 : 0}\r\n                  onMouseEnter={() => setHoveredIndex(index)}\r\n                  onMouseLeave={() => setHoveredIndex(null)}\r\n                  className=\"cursor-pointer transition-all duration-200\"\r\n                />\r\n                \r\n                {/*   */}\r\n                <text\r\n                  x={x + barWidth / 2}\r\n                  y={y - 5}\r\n                  textAnchor=\"middle\"\r\n                  fontSize=\"11\"\r\n                  fill=\"#374151\"\r\n                  fontWeight=\"500\"\r\n                >\r\n                  {(value * 100).toFixed(1)}%\r\n                </text>\r\n                \r\n                {/*  */}\r\n                <text\r\n                  x={x + barWidth / 2}\r\n                  y={chartHeight + 40}\r\n                  textAnchor=\"middle\"\r\n                  fontSize=\"10\"\r\n                  fill=\"#6B7280\"\r\n                  className=\"cursor-pointer\"\r\n                  onMouseEnter={() => setHoveredIndex(index)}\r\n                  onMouseLeave={() => setHoveredIndex(null)}\r\n                >\r\n                  {data.labels[index].length > 10 ? data.labels[index].substring(0, 10) + '...' : data.labels[index]}\r\n                </text>\r\n              </g>\r\n            );\r\n          })}\r\n        </svg>\r\n        \r\n        {/*  */}\r\n        {hoveredIndex !== null && (\r\n          <div className=\"absolute top-4 right-4 bg-black text-white px-2 py-1 rounded text-sm\">\r\n            {data.labels[hoveredIndex]}: {(data.datasets[0].data[hoveredIndex] * 100).toFixed(1)}%\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const PieChart: React.FC<{ data: ChartData }> = ({ data }) => {\r\n    const centerX = 150;\r\n    const centerY = 150;\r\n    const radius = 100;\r\n    const total = data.datasets[0].data.reduce((sum, value) => sum + value, 0);\r\n    \r\n    let currentAngle = -90; // 12  \r\n\r\n    return (\r\n      <div className=\"relative\">\r\n        <svg width=\"300\" height=\"300\" className=\"overflow-visible\">\r\n          {data.datasets[0].data.map((value, index) => {\r\n            const percentage = value / total;\r\n            const angle = percentage * 360;\r\n            const startAngle = currentAngle;\r\n            const endAngle = currentAngle + angle;\r\n            \r\n            const startX = centerX + radius * Math.cos((startAngle * Math.PI) / 180);\r\n            const startY = centerY + radius * Math.sin((startAngle * Math.PI) / 180);\r\n            const endX = centerX + radius * Math.cos((endAngle * Math.PI) / 180);\r\n            const endY = centerY + radius * Math.sin((endAngle * Math.PI) / 180);\r\n            \r\n            const largeArcFlag = angle > 180 ? 1 : 0;\r\n            \r\n            const pathData = [\r\n              `M ${centerX} ${centerY}`,\r\n              `L ${startX} ${startY}`,\r\n              `A ${radius} ${radius} 0 ${largeArcFlag} 1 ${endX} ${endY}`,\r\n              'Z'\r\n            ].join(' ');\r\n\r\n            currentAngle += angle;\r\n\r\n            //   \r\n            const labelAngle = startAngle + angle / 2;\r\n            const labelRadius = radius * 0.7;\r\n            const labelX = centerX + labelRadius * Math.cos((labelAngle * Math.PI) / 180);\r\n            const labelY = centerY + labelRadius * Math.sin((labelAngle * Math.PI) / 180);\r\n\r\n            return (\r\n              <g key={index}>\r\n                <path\r\n                  d={pathData}\r\n                  fill={hoveredIndex === index ? colors[index % colors.length] + 'CC' : colors[index % colors.length]}\r\n                  stroke=\"#fff\"\r\n                  strokeWidth=\"2\"\r\n                  onMouseEnter={() => setHoveredIndex(index)}\r\n                  onMouseLeave={() => setHoveredIndex(null)}\r\n                  className=\"cursor-pointer transition-all duration-200\"\r\n                />\r\n                \r\n                {/*   */}\r\n                {percentage > 0.05 && ( // 5%   \r\n                  <text\r\n                    x={labelX}\r\n                    y={labelY}\r\n                    textAnchor=\"middle\"\r\n                    dominantBaseline=\"middle\"\r\n                    fontSize=\"12\"\r\n                    fill=\"white\"\r\n                    fontWeight=\"bold\"\r\n                  >\r\n                    {(percentage * 100).toFixed(0)}%\r\n                  </text>\r\n                )}\r\n              </g>\r\n            );\r\n          })}\r\n        </svg>\r\n        \r\n        {/*  */}\r\n        <div className=\"mt-4 grid grid-cols-2 gap-2\">\r\n          {data.labels.map((label, index) => (\r\n            <div \r\n              key={index} \r\n              className=\"flex items-center space-x-2 cursor-pointer\"\r\n              onMouseEnter={() => setHoveredIndex(index)}\r\n              onMouseLeave={() => setHoveredIndex(null)}\r\n            >\r\n              <div \r\n                className=\"w-4 h-4 rounded\" \r\n                style={{ backgroundColor: colors[index % colors.length] }}\r\n              ></div>\r\n              <span className=\"text-sm\">{label}</span>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        \r\n        {/*  */}\r\n        {hoveredIndex !== null && (\r\n          <div className=\"absolute top-4 right-4 bg-black text-white px-2 py-1 rounded text-sm\">\r\n            {data.labels[hoveredIndex]}: {(data.datasets[0].data[hoveredIndex] * 100).toFixed(1)}%\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const RadarChart: React.FC<{ data: ChartData }> = ({ data }) => {\r\n    const centerX = 150;\r\n    const centerY = 150;\r\n    const radius = 100;\r\n    const numPoints = data.labels.length;\r\n    const maxValue = Math.max(...data.datasets[0].data);\r\n\r\n    //    \r\n    const getPoint = (index: number, value: number) => {\r\n      const angle = (index / numPoints) * 2 * Math.PI - Math.PI / 2; // -90 \r\n      const r = (value / maxValue) * radius;\r\n      return {\r\n        x: centerX + r * Math.cos(angle),\r\n        y: centerY + r * Math.sin(angle)\r\n      };\r\n    };\r\n\r\n    //   \r\n    const getAxisEndPoint = (index: number) => {\r\n      const angle = (index / numPoints) * 2 * Math.PI - Math.PI / 2;\r\n      return {\r\n        x: centerX + radius * Math.cos(angle),\r\n        y: centerY + radius * Math.sin(angle)\r\n      };\r\n    };\r\n\r\n    //    \r\n    const dataPath = data.datasets[0].data.map((value, index) => {\r\n      const point = getPoint(index, value);\r\n      return `${index === 0 ? 'M' : 'L'} ${point.x} ${point.y}`;\r\n    }).join(' ') + ' Z';\r\n\r\n    return (\r\n      <div className=\"relative\">\r\n        <svg width=\"300\" height=\"300\" className=\"overflow-visible\">\r\n          {/*  () */}\r\n          {[0.2, 0.4, 0.6, 0.8, 1].map((scale, i) => (\r\n            <circle\r\n              key={i}\r\n              cx={centerX}\r\n              cy={centerY}\r\n              r={radius * scale}\r\n              fill=\"none\"\r\n              stroke=\"#E5E7EB\"\r\n              strokeWidth=\"1\"\r\n            />\r\n          ))}\r\n\r\n          {/*  */}\r\n          {data.labels.map((_, index) => {\r\n            const endPoint = getAxisEndPoint(index);\r\n            return (\r\n              <line\r\n                key={index}\r\n                x1={centerX}\r\n                y1={centerY}\r\n                x2={endPoint.x}\r\n                y2={endPoint.y}\r\n                stroke=\"#D1D5DB\"\r\n                strokeWidth=\"1\"\r\n              />\r\n            );\r\n          })}\r\n\r\n          {/*   */}\r\n          <path\r\n            d={dataPath}\r\n            fill={colors[0] + '40'}\r\n            stroke={colors[0]}\r\n            strokeWidth=\"2\"\r\n          />\r\n\r\n          {/*   */}\r\n          {data.datasets[0].data.map((value, index) => {\r\n            const point = getPoint(index, value);\r\n            return (\r\n              <circle\r\n                key={index}\r\n                cx={point.x}\r\n                cy={point.y}\r\n                r=\"4\"\r\n                fill={colors[0]}\r\n                stroke=\"white\"\r\n                strokeWidth=\"2\"\r\n                onMouseEnter={() => setHoveredIndex(index)}\r\n                onMouseLeave={() => setHoveredIndex(null)}\r\n                className=\"cursor-pointer\"\r\n              />\r\n            );\r\n          })}\r\n\r\n          {/*  */}\r\n          {data.labels.map((label, index) => {\r\n            const endPoint = getAxisEndPoint(index);\r\n            const labelOffset = 20;\r\n            const labelX = endPoint.x + (endPoint.x > centerX ? labelOffset : -labelOffset);\r\n            const labelY = endPoint.y + (endPoint.y > centerY ? labelOffset : -labelOffset);\r\n            \r\n            return (\r\n              <text\r\n                key={index}\r\n                x={labelX}\r\n                y={labelY}\r\n                textAnchor={endPoint.x > centerX ? 'start' : 'end'}\r\n                dominantBaseline=\"middle\"\r\n                fontSize=\"12\"\r\n                fill=\"#374151\"\r\n                onMouseEnter={() => setHoveredIndex(index)}\r\n                onMouseLeave={() => setHoveredIndex(null)}\r\n                className=\"cursor-pointer\"\r\n              >\r\n                {label.length > 8 ? label.substring(0, 8) + '...' : label}\r\n              </text>\r\n            );\r\n          })}\r\n\r\n          {/*   */}\r\n          {[0.2, 0.4, 0.6, 0.8, 1].map((scale, i) => (\r\n            <text\r\n              key={i}\r\n              x={centerX + 5}\r\n              y={centerY - radius * scale}\r\n              fontSize=\"10\"\r\n              fill=\"#9CA3AF\"\r\n            >\r\n              {(scale * maxValue).toFixed(1)}\r\n            </text>\r\n          ))}\r\n        </svg>\r\n        \r\n        {/*  */}\r\n        {hoveredIndex !== null && (\r\n          <div className=\"absolute top-4 right-4 bg-black text-white px-2 py-1 rounded text-sm\">\r\n            {data.labels[hoveredIndex]}: {(data.datasets[0].data[hoveredIndex] * 100).toFixed(1)}%\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const LineChart: React.FC<{ data: ChartData }> = ({ data }) => {\r\n    const chartHeight = 300;\r\n    const chartWidth = 400;\r\n    const maxValue = Math.max(...data.datasets[0].data);\r\n    const pointSpacing = chartWidth / (data.labels.length - 1);\r\n\r\n    const points = data.datasets[0].data.map((value, index) => ({\r\n      x: 50 + index * pointSpacing,\r\n      y: chartHeight + 20 - (value / maxValue) * chartHeight\r\n    }));\r\n\r\n    const pathData = points.map((point, index) => \r\n      `${index === 0 ? 'M' : 'L'} ${point.x} ${point.y}`\r\n    ).join(' ');\r\n\r\n    return (\r\n      <div className=\"relative\">\r\n        <svg width={chartWidth + 100} height={chartHeight + 80} className=\"overflow-visible\">\r\n          {/* Y */}\r\n          <line x1=\"50\" y1=\"20\" x2=\"50\" y2={chartHeight + 20} stroke=\"#374151\" strokeWidth=\"1\"/>\r\n          {/* X */}\r\n          <line x1=\"50\" y1={chartHeight + 20} x2={chartWidth + 50} y2={chartHeight + 20} stroke=\"#374151\" strokeWidth=\"1\"/>\r\n          \r\n          {/*  */}\r\n          {[0.25, 0.5, 0.75].map((tick, i) => (\r\n            <line \r\n              key={i}\r\n              x1=\"50\" \r\n              y1={chartHeight + 20 - (tick * chartHeight)} \r\n              x2={chartWidth + 50} \r\n              y2={chartHeight + 20 - (tick * chartHeight)} \r\n              stroke=\"#F3F4F6\" \r\n              strokeWidth=\"1\"\r\n            />\r\n          ))}\r\n\r\n          {/* Y  */}\r\n          {[0, 0.25, 0.5, 0.75, 1].map((tick, i) => (\r\n            <text \r\n              key={i}\r\n              x=\"40\" \r\n              y={chartHeight + 25 - (tick * chartHeight)} \r\n              textAnchor=\"end\" \r\n              fontSize=\"12\" \r\n              fill=\"#6B7280\"\r\n            >\r\n              {(tick * maxValue).toFixed(2)}\r\n            </text>\r\n          ))}\r\n\r\n          {/*  */}\r\n          <path\r\n            d={pathData}\r\n            fill=\"none\"\r\n            stroke={colors[0]}\r\n            strokeWidth=\"3\"\r\n            strokeLinejoin=\"round\"\r\n            strokeLinecap=\"round\"\r\n          />\r\n\r\n          {/*  */}\r\n          {points.map((point, index) => (\r\n            <g key={index}>\r\n              <circle\r\n                cx={point.x}\r\n                cy={point.y}\r\n                r={hoveredIndex === index ? 6 : 4}\r\n                fill={colors[0]}\r\n                stroke=\"white\"\r\n                strokeWidth=\"2\"\r\n                onMouseEnter={() => setHoveredIndex(index)}\r\n                onMouseLeave={() => setHoveredIndex(null)}\r\n                className=\"cursor-pointer transition-all duration-200\"\r\n              />\r\n              \r\n              {/*   */}\r\n              {hoveredIndex === index && (\r\n                <text\r\n                  x={point.x}\r\n                  y={point.y - 15}\r\n                  textAnchor=\"middle\"\r\n                  fontSize=\"12\"\r\n                  fill=\"#374151\"\r\n                  fontWeight=\"bold\"\r\n                >\r\n                  {(data.datasets[0].data[index] * 100).toFixed(1)}%\r\n                </text>\r\n              )}\r\n              \r\n              {/* X  */}\r\n              <text\r\n                x={point.x}\r\n                y={chartHeight + 40}\r\n                textAnchor=\"middle\"\r\n                fontSize=\"10\"\r\n                fill=\"#6B7280\"\r\n                className=\"cursor-pointer\"\r\n                onMouseEnter={() => setHoveredIndex(index)}\r\n                onMouseLeave={() => setHoveredIndex(null)}\r\n              >\r\n                {data.labels[index].length > 8 ? data.labels[index].substring(0, 8) + '...' : data.labels[index]}\r\n              </text>\r\n            </g>\r\n          ))}\r\n        </svg>\r\n        \r\n        {/*  */}\r\n        {hoveredIndex !== null && (\r\n          <div className=\"absolute top-4 right-4 bg-black text-white px-2 py-1 rounded text-sm\">\r\n            {data.labels[hoveredIndex]}: {(data.datasets[0].data[hoveredIndex] * 100).toFixed(1)}%\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderChart = () => {\r\n    switch (selectedChart) {\r\n      case 'pie':\r\n        return <PieChart data={data} />;\r\n      case 'radar':\r\n        return <RadarChart data={data} />;\r\n      case 'line':\r\n        return <LineChart data={data} />;\r\n      case 'bar':\r\n      default:\r\n        return <BarChart data={data} />;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={`${className}`}>\r\n      <Card title={title}>\r\n        <div className=\"space-y-4\">\r\n          {/*    */}\r\n          <div className=\"flex space-x-2\">\r\n            {[\r\n              { type: 'bar', name: ' ', icon: '' },\r\n              { type: 'pie', name: ' ', icon: '' },\r\n              { type: 'radar', name: ' ', icon: '' },\r\n              { type: 'line', name: ' ', icon: '' }\r\n            ].map(chart => (\r\n              <button\r\n                key={chart.type}\r\n                onClick={() => setSelectedChart(chart.type as 'bar' | 'pie' | 'radar' | 'line')}\r\n                className={`px-3 py-1 text-sm rounded border ${\r\n                  selectedChart === chart.type\r\n                    ? 'bg-blue-500 text-white border-blue-500'\r\n                    : 'bg-white text-gray-700 border-gray-300 hover:bg-gray-50'\r\n                }`}\r\n              >\r\n                <span className=\"mr-1\">{chart.icon}</span>\r\n                {chart.name}\r\n              </button>\r\n            ))}\r\n          </div>\r\n\r\n          {/*   */}\r\n          <div className=\"flex justify-center\">\r\n            {renderChart()}\r\n          </div>\r\n\r\n          {/*   */}\r\n          <div className=\"mt-6 bg-gray-50 p-4 rounded\">\r\n            <h4 className=\"font-medium mb-2\"> </h4>\r\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\">\r\n              <div>\r\n                <div className=\"text-gray-600\"> </div>\r\n                <div className=\"font-bold\">{data.labels.length}</div>\r\n              </div>\r\n              <div>\r\n                <div className=\"text-gray-600\"> </div>\r\n                <div className=\"font-bold\">{(Math.max(...data.datasets[0].data) * 100).toFixed(1)}%</div>\r\n              </div>\r\n              <div>\r\n                <div className=\"text-gray-600\"> </div>\r\n                <div className=\"font-bold\">{(Math.min(...data.datasets[0].data) * 100).toFixed(1)}%</div>\r\n              </div>\r\n              <div>\r\n                <div className=\"text-gray-600\"> </div>\r\n                <div className=\"font-bold\">\r\n                  {(data.datasets[0].data.reduce((sum, val) => sum + val, 0) / data.datasets[0].data.length * 100).toFixed(1)}%\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InteractiveCharts;","import { API_BASE_URL } from '../config/api';\r\nimport { ApiResponse } from './api';\r\n\r\n// System Management Interfaces\r\nexport interface SystemConfiguration {\r\n  id: string;\r\n  category: 'general' | 'security' | 'performance' | 'notification' | 'backup';\r\n  key: string;\r\n  value: string;\r\n  description: string;\r\n  type: 'string' | 'number' | 'boolean' | 'select';\r\n  options?: string[];\r\n  sensitive?: boolean;\r\n  default_value?: string;\r\n  validation_regex?: string;\r\n  restart_required?: boolean;\r\n}\r\n\r\nexport interface BackupStatus {\r\n  id: string;\r\n  timestamp: string;\r\n  type: 'full' | 'incremental' | 'differential';\r\n  status: 'completed' | 'running' | 'failed' | 'scheduled';\r\n  size: string;\r\n  duration: string;\r\n  location: string;\r\n  checksum?: string;\r\n  compression_ratio?: number;\r\n}\r\n\r\nexport interface SystemHealth {\r\n  cpu_usage: number;\r\n  memory_usage: number;\r\n  disk_usage: number;\r\n  network_status: 'good' | 'warning' | 'error';\r\n  database_status: 'connected' | 'disconnected' | 'slow';\r\n  cache_status: 'active' | 'inactive' | 'error';\r\n  external_apis: Record<string, 'online' | 'offline' | 'degraded'>;\r\n  last_checked: string;\r\n}\r\n\r\nexport interface SystemUpdate {\r\n  version: string;\r\n  release_date: string;\r\n  type: 'major' | 'minor' | 'patch';\r\n  description: string;\r\n  changelog: string[];\r\n  required: boolean;\r\n  size: string;\r\n  download_url?: string;\r\n}\r\n\r\nexport interface MaintenanceTask {\r\n  id: string;\r\n  name: string;\r\n  category: 'database' | 'cache' | 'logs' | 'system';\r\n  description: string;\r\n  last_run?: string;\r\n  next_run?: string;\r\n  status: 'idle' | 'running' | 'completed' | 'failed';\r\n  duration?: string;\r\n  auto_schedule?: boolean;\r\n}\r\n\r\n// HTTP Headers for system management requests\r\nconst getSystemHeaders = (): HeadersInit => {\r\n  const headers: HeadersInit = {\r\n    'Content-Type': 'application/json',\r\n    'X-Admin-Required': 'true', // Indicates admin-only endpoint\r\n  };\r\n  \r\n  const accessToken = localStorage.getItem('ahp_access_token') || sessionStorage.getItem('ahp_access_token');\r\n  if (accessToken) {\r\n    headers['Authorization'] = `Bearer ${accessToken}`;\r\n  }\r\n  \r\n  return headers;\r\n};\r\n\r\n// Make system management API request\r\nconst makeSystemRequest = async <T>(\r\n  endpoint: string, \r\n  options: RequestInit = {}\r\n): Promise<ApiResponse<T>> => {\r\n  try {\r\n    const url = `${API_BASE_URL}${endpoint}`;\r\n    \r\n    const response = await fetch(url, {\r\n      credentials: 'include',\r\n      ...options,\r\n      headers: {\r\n        ...getSystemHeaders(),\r\n        ...options.headers\r\n      }\r\n    });\r\n    \r\n    const contentType = response.headers.get('content-type');\r\n    let data: Record<string, unknown> | null = null;\r\n\r\n    if (contentType && contentType.includes('application/json')) {\r\n      data = await response.json() as Record<string, unknown>;\r\n    } else if (response.ok && options.method === 'DELETE') {\r\n      // DELETE requests might not return JSON\r\n      data = { success: true };\r\n    } else {\r\n      const text = await response.text();\r\n      void text; // non-JSON response body discarded\r\n    }\r\n\r\n    if (!response.ok) {\r\n      throw new Error((data?.message || data?.error || `HTTP ${response.status}: System API  `) as string);\r\n    }\r\n\r\n    return {\r\n      success: true,\r\n      data: (data?.data ?? data) as T,\r\n      message: data?.message as string | undefined\r\n    };\r\n  } catch (error: unknown) {\r\n    console.error(`System API Error [${endpoint}]:`, error);\r\n    const errorMessage = error instanceof Error ? error.message : '';\r\n    return {\r\n      success: false,\r\n      error: errorMessage || 'Unknown system error occurred'\r\n    };\r\n  }\r\n};\r\n\r\n// System Management Service\r\nexport const systemManagementService = {\r\n  // Configuration Management\r\n  getConfigurations: async (): Promise<ApiResponse<SystemConfiguration[]>> => {\r\n    return makeSystemRequest<SystemConfiguration[]>('/api/admin/system/config/');\r\n  },\r\n\r\n  updateConfiguration: async (configId: string, value: string): Promise<ApiResponse<SystemConfiguration>> => {\r\n    return makeSystemRequest<SystemConfiguration>(`/api/admin/system/config/${configId}/`, {\r\n      method: 'PATCH',\r\n      body: JSON.stringify({ value })\r\n    });\r\n  },\r\n\r\n  resetConfiguration: async (configId: string): Promise<ApiResponse<SystemConfiguration>> => {\r\n    return makeSystemRequest<SystemConfiguration>(`/api/admin/system/config/${configId}/reset/`, {\r\n      method: 'POST'\r\n    });\r\n  },\r\n\r\n  // Backup Management\r\n  getBackups: async (): Promise<ApiResponse<BackupStatus[]>> => {\r\n    return makeSystemRequest<BackupStatus[]>('/api/admin/system/backups/');\r\n  },\r\n\r\n  createBackup: async (type: 'full' | 'incremental' | 'differential'): Promise<ApiResponse<{ task_id: string }>> => {\r\n    return makeSystemRequest<{ task_id: string }>('/api/admin/system/backups/', {\r\n      method: 'POST',\r\n      body: JSON.stringify({ backup_type: type })\r\n    });\r\n  },\r\n\r\n  downloadBackup: async (backupId: string): Promise<ApiResponse<Blob>> => {\r\n    const response = await makeSystemRequest<Blob>(`/api/admin/system/backups/${backupId}/download/`, {\r\n      method: 'GET'\r\n    });\r\n    \r\n    if (response.success) {\r\n      // Return blob for download\r\n      return response;\r\n    }\r\n    return response;\r\n  },\r\n\r\n  restoreBackup: async (backupId: string): Promise<ApiResponse<{ task_id: string }>> => {\r\n    return makeSystemRequest<{ task_id: string }>(`/api/admin/system/backups/${backupId}/restore/`, {\r\n      method: 'POST'\r\n    });\r\n  },\r\n\r\n  deleteBackup: async (backupId: string): Promise<ApiResponse<void>> => {\r\n    return makeSystemRequest<void>(`/api/admin/system/backups/${backupId}/`, {\r\n      method: 'DELETE'\r\n    });\r\n  },\r\n\r\n  // System Health Monitoring\r\n  getSystemHealth: async (): Promise<ApiResponse<SystemHealth>> => {\r\n    return makeSystemRequest<SystemHealth>('/api/admin/system/health/');\r\n  },\r\n\r\n  runHealthCheck: async (): Promise<ApiResponse<SystemHealth>> => {\r\n    return makeSystemRequest<SystemHealth>('/api/admin/system/health/check/', {\r\n      method: 'POST'\r\n    });\r\n  },\r\n\r\n  // Maintenance Tasks\r\n  getMaintenanceTasks: async (): Promise<ApiResponse<MaintenanceTask[]>> => {\r\n    return makeSystemRequest<MaintenanceTask[]>('/api/admin/system/maintenance/');\r\n  },\r\n\r\n  runMaintenanceTask: async (taskId: string): Promise<ApiResponse<{ task_id: string }>> => {\r\n    return makeSystemRequest<{ task_id: string }>(`/api/admin/system/maintenance/${taskId}/run/`, {\r\n      method: 'POST'\r\n    });\r\n  },\r\n\r\n  scheduleMaintenanceTask: async (taskId: string, schedule: string): Promise<ApiResponse<MaintenanceTask>> => {\r\n    return makeSystemRequest<MaintenanceTask>(`/api/admin/system/maintenance/${taskId}/schedule/`, {\r\n      method: 'POST',\r\n      body: JSON.stringify({ cron_schedule: schedule })\r\n    });\r\n  },\r\n\r\n  // Cache Management\r\n  clearCache: async (cacheType: 'application' | 'images' | 'sessions' | 'all'): Promise<ApiResponse<{ cleared: boolean }>> => {\r\n    return makeSystemRequest<{ cleared: boolean }>('/api/admin/system/cache/clear/', {\r\n      method: 'POST',\r\n      body: JSON.stringify({ cache_type: cacheType })\r\n    });\r\n  },\r\n\r\n  getCacheStats: async (): Promise<ApiResponse<Record<string, any>>> => {\r\n    return makeSystemRequest<Record<string, any>>('/api/admin/system/cache/stats/');\r\n  },\r\n\r\n  // Database Management\r\n  optimizeDatabase: async (): Promise<ApiResponse<{ task_id: string }>> => {\r\n    return makeSystemRequest<{ task_id: string }>('/api/admin/system/database/optimize/', {\r\n      method: 'POST'\r\n    });\r\n  },\r\n\r\n  rebuildIndexes: async (): Promise<ApiResponse<{ task_id: string }>> => {\r\n    return makeSystemRequest<{ task_id: string }>('/api/admin/system/database/rebuild-indexes/', {\r\n      method: 'POST'\r\n    });\r\n  },\r\n\r\n  updateStatistics: async (): Promise<ApiResponse<{ task_id: string }>> => {\r\n    return makeSystemRequest<{ task_id: string }>('/api/admin/system/database/update-stats/', {\r\n      method: 'POST'\r\n    });\r\n  },\r\n\r\n  cleanupData: async (olderThanDays: number): Promise<ApiResponse<{ task_id: string }>> => {\r\n    return makeSystemRequest<{ task_id: string }>('/api/admin/system/database/cleanup/', {\r\n      method: 'POST',\r\n      body: JSON.stringify({ older_than_days: olderThanDays })\r\n    });\r\n  },\r\n\r\n  // Log Management\r\n  archiveLogs: async (): Promise<ApiResponse<{ task_id: string }>> => {\r\n    return makeSystemRequest<{ task_id: string }>('/api/admin/system/logs/archive/', {\r\n      method: 'POST'\r\n    });\r\n  },\r\n\r\n  analyzeLogs: async (logLevel: 'error' | 'warning' | 'info', hours?: number): Promise<ApiResponse<Record<string, unknown>>> => {\r\n    return makeSystemRequest<Record<string, unknown>>('/api/admin/system/logs/analyze/', {\r\n      method: 'POST',\r\n      body: JSON.stringify({ log_level: logLevel, hours: hours || 24 })\r\n    });\r\n  },\r\n\r\n  deleteOldLogs: async (olderThanDays: number): Promise<ApiResponse<{ deleted_count: number }>> => {\r\n    return makeSystemRequest<{ deleted_count: number }>('/api/admin/system/logs/cleanup/', {\r\n      method: 'POST',\r\n      body: JSON.stringify({ older_than_days: olderThanDays })\r\n    });\r\n  },\r\n\r\n  compressLogs: async (): Promise<ApiResponse<{ task_id: string }>> => {\r\n    return makeSystemRequest<{ task_id: string }>('/api/admin/system/logs/compress/', {\r\n      method: 'POST'\r\n    });\r\n  },\r\n\r\n  // System Updates\r\n  checkForUpdates: async (): Promise<ApiResponse<SystemUpdate[]>> => {\r\n    return makeSystemRequest<SystemUpdate[]>('/api/admin/system/updates/check/', {\r\n      method: 'POST'\r\n    });\r\n  },\r\n\r\n  downloadUpdate: async (version: string): Promise<ApiResponse<{ task_id: string }>> => {\r\n    return makeSystemRequest<{ task_id: string }>('/api/admin/system/updates/download/', {\r\n      method: 'POST',\r\n      body: JSON.stringify({ version })\r\n    });\r\n  },\r\n\r\n  installUpdate: async (version: string): Promise<ApiResponse<{ task_id: string }>> => {\r\n    return makeSystemRequest<{ task_id: string }>('/api/admin/system/updates/install/', {\r\n      method: 'POST',\r\n      body: JSON.stringify({ version })\r\n    });\r\n  },\r\n\r\n  getUpdateHistory: async (): Promise<ApiResponse<SystemUpdate[]>> => {\r\n    return makeSystemRequest<SystemUpdate[]>('/api/admin/system/updates/history/');\r\n  },\r\n\r\n  // Task Status Monitoring\r\n  getTaskStatus: async (taskId: string): Promise<ApiResponse<{\r\n    id: string;\r\n    status: 'pending' | 'running' | 'completed' | 'failed';\r\n    progress: number;\r\n    message?: string;\r\n    result?: Record<string, unknown>;\r\n    started_at?: string;\r\n    completed_at?: string;\r\n  }>> => {\r\n    return makeSystemRequest(`/api/admin/system/tasks/${taskId}/status/`);\r\n  },\r\n\r\n  // System Information\r\n  getSystemInfo: async (): Promise<ApiResponse<{\r\n    version: string;\r\n    database_version: string;\r\n    python_version: string;\r\n    django_version: string;\r\n    server_time: string;\r\n    uptime: string;\r\n    environment: string;\r\n  }>> => {\r\n    return makeSystemRequest('/api/admin/system/info/');\r\n  },\r\n\r\n  // Export System Configuration\r\n  exportConfiguration: async (): Promise<ApiResponse<Blob>> => {\r\n    return makeSystemRequest('/api/admin/system/config/export/', {\r\n      method: 'GET'\r\n    });\r\n  },\r\n\r\n  // Import System Configuration\r\n  importConfiguration: async (configFile: File): Promise<ApiResponse<{ imported_count: number }>> => {\r\n    const formData = new FormData();\r\n    formData.append('config_file', configFile);\r\n    \r\n    const response = await fetch(`${API_BASE_URL}/api/admin/system/config/import/`, {\r\n      method: 'POST',\r\n      headers: getSystemHeaders(),\r\n      body: formData\r\n    });\r\n    \r\n    const data = await response.json();\r\n    \r\n    if (!response.ok) {\r\n      throw new Error(data?.message || 'Configuration import failed');\r\n    }\r\n    \r\n    return {\r\n      success: true,\r\n      data,\r\n      message: data.message\r\n    };\r\n  }\r\n};\r\n\r\n// Utility functions for system management\r\nexport const systemUtils = {\r\n  // Format file sizes\r\n  formatFileSize: (bytes: number): string => {\r\n    if (bytes === 0) return '0 Bytes';\r\n    const k = 1024;\r\n    const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\r\n  },\r\n\r\n  // Format duration\r\n  formatDuration: (seconds: number): string => {\r\n    const hours = Math.floor(seconds / 3600);\r\n    const minutes = Math.floor((seconds % 3600) / 60);\r\n    const secs = Math.floor(seconds % 60);\r\n    \r\n    if (hours > 0) {\r\n      return `${hours} ${minutes} ${secs}`;\r\n    } else if (minutes > 0) {\r\n      return `${minutes} ${secs}`;\r\n    } else {\r\n      return `${secs}`;\r\n    }\r\n  },\r\n\r\n  // Validate configuration value\r\n  validateConfigValue: (config: SystemConfiguration, value: string): { valid: boolean; error?: string } => {\r\n    if (config.type === 'number') {\r\n      const num = parseFloat(value);\r\n      if (isNaN(num)) {\r\n        return { valid: false, error: '  .' };\r\n      }\r\n    }\r\n    \r\n    if (config.type === 'boolean') {\r\n      if (value !== 'true' && value !== 'false') {\r\n        return { valid: false, error: 'true  false  .' };\r\n      }\r\n    }\r\n    \r\n    if (config.validation_regex) {\r\n      const regex = new RegExp(config.validation_regex);\r\n      if (!regex.test(value)) {\r\n        return { valid: false, error: '   .' };\r\n      }\r\n    }\r\n    \r\n    return { valid: true };\r\n  },\r\n\r\n  // Get configuration category display name\r\n  getCategoryDisplayName: (category: SystemConfiguration['category']): string => {\r\n    const names = {\r\n      general: '',\r\n      security: '',\r\n      performance: '',\r\n      notification: '',\r\n      backup: ''\r\n    };\r\n    return names[category] || category;\r\n  },\r\n\r\n  // Get backup type display name\r\n  getBackupTypeDisplayName: (type: BackupStatus['type']): string => {\r\n    const names = {\r\n      full: ' ',\r\n      incremental: ' ',\r\n      differential: ' '\r\n    };\r\n    return names[type] || type;\r\n  },\r\n\r\n  // Get status color for UI\r\n  getStatusColor: (status: string): string => {\r\n    const colors = {\r\n      completed: 'green',\r\n      running: 'yellow',\r\n      failed: 'red',\r\n      scheduled: 'blue',\r\n      pending: 'gray',\r\n      good: 'green',\r\n      warning: 'yellow',\r\n      error: 'red',\r\n      connected: 'green',\r\n      disconnected: 'red',\r\n      slow: 'yellow',\r\n      active: 'green',\r\n      inactive: 'gray',\r\n      online: 'green',\r\n      offline: 'red',\r\n      degraded: 'yellow'\r\n    };\r\n    return colors[status as keyof typeof colors] || 'gray';\r\n  }\r\n};\r\n\r\nexport default systemManagementService;","import React, { useState, useEffect, useRef } from 'react';\r\nimport { CheckCircleIcon, ExclamationTriangleIcon } from '@heroicons/react/24/outline';\r\nimport Card from '../common/Card';\r\nimport Button from '../common/Button';\r\nimport Modal from '../common/Modal';\r\nimport { \r\n  systemManagementService, \r\n  systemUtils,\r\n  SystemConfiguration,\r\n  BackupStatus,\r\n  SystemHealth,\r\n  MaintenanceTask\r\n} from '../../services/systemManagementService';\r\n\r\ninterface SystemManagementProps {\r\n  className?: string;\r\n  onError?: (error: string) => void;\r\n  onSuccess?: (message: string) => void;\r\n}\r\n\r\nconst SystemManagement: React.FC<SystemManagementProps> = ({\r\n  className = '',\r\n  onError,\r\n  onSuccess\r\n}) => {\r\n  const [activeSection, setActiveSection] = useState<'config' | 'backup' | 'maintenance' | 'updates'>('config');\r\n  const [configurations, setConfigurations] = useState<SystemConfiguration[]>([]);\r\n  const [backups, setBackups] = useState<BackupStatus[]>([]);\r\n  const [systemHealth, setSystemHealth] = useState<SystemHealth | null>(null);\r\n  const [maintenanceTasks, setMaintenanceTasks] = useState<MaintenanceTask[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string>('');\r\n  const [success, setSuccess] = useState<string>('');\r\n  const [, setRunningTasks] = useState<Set<string>>(new Set());\r\n  const [showConfirmModal, setShowConfirmModal] = useState(false);\r\n  const [confirmAction, setConfirmAction] = useState<{ action: () => Promise<void>; message: string } | null>(null);\r\n  const monitorIntervalsRef = useRef<Set<ReturnType<typeof setInterval>>>(new Set());\r\n\r\n  useEffect(() => {\r\n    loadSystemData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  // Cleanup all monitor intervals on unmount\r\n  useEffect(() => {\r\n    const intervals = monitorIntervalsRef.current;\r\n    return () => { intervals.forEach(clearInterval); };\r\n  }, []);\r\n\r\n  const loadSystemData = async () => {\r\n    setLoading(true);\r\n    setError('');\r\n    \r\n    try {\r\n      // Load configurations\r\n      const configResponse = await systemManagementService.getConfigurations();\r\n      if (configResponse.success && configResponse.data) {\r\n        setConfigurations(configResponse.data);\r\n      } else {\r\n        // Fallback to default configurations\r\n        setConfigurations(getDefaultConfigurations());\r\n      }\r\n\r\n      // Load backup status\r\n      const backupResponse = await systemManagementService.getBackups();\r\n      if (backupResponse.success && backupResponse.data) {\r\n        setBackups(backupResponse.data);\r\n      } else {\r\n        setBackups([]);\r\n      }\r\n\r\n      // Load system health\r\n      const healthResponse = await systemManagementService.getSystemHealth();\r\n      if (healthResponse.success && healthResponse.data) {\r\n        setSystemHealth(healthResponse.data);\r\n      }\r\n\r\n      // Load maintenance tasks\r\n      const tasksResponse = await systemManagementService.getMaintenanceTasks();\r\n      if (tasksResponse.success && tasksResponse.data) {\r\n        setMaintenanceTasks(tasksResponse.data);\r\n      } else {\r\n        // Fallback to default tasks\r\n        setMaintenanceTasks(getDefaultMaintenanceTasks());\r\n      }\r\n\r\n    } catch (err: unknown) {\r\n      const errorMessage = (err instanceof Error ? err.message : '') || '     .';\r\n      setError(errorMessage);\r\n      onError?.(errorMessage);\r\n      \r\n      // Use fallback data\r\n      setConfigurations(getDefaultConfigurations());\r\n      setMaintenanceTasks(getDefaultMaintenanceTasks());\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Default configurations for fallback\r\n  const getDefaultConfigurations = (): SystemConfiguration[] => [\r\n    {\r\n      id: '1',\r\n      category: 'general',\r\n      key: 'system_name',\r\n      value: 'AHP Decision System',\r\n      description: ' ',\r\n      type: 'string'\r\n    },\r\n    {\r\n      id: '2',\r\n      category: 'general',\r\n      key: 'max_users_per_project',\r\n      value: '100',\r\n      description: '   ',\r\n      type: 'number'\r\n    },\r\n    {\r\n      id: '3',\r\n      category: 'security',\r\n      key: 'password_min_length',\r\n      value: '8',\r\n      description: '  ',\r\n      type: 'number'\r\n    },\r\n    {\r\n      id: '4',\r\n      category: 'security',\r\n      key: 'login_attempts_limit',\r\n      value: '5',\r\n      description: '   ',\r\n      type: 'number'\r\n    },\r\n    {\r\n      id: '5',\r\n      category: 'security',\r\n      key: 'session_timeout',\r\n      value: '3600',\r\n      description: '  ()',\r\n      type: 'number'\r\n    },\r\n    {\r\n      id: '6',\r\n      category: 'performance',\r\n      key: 'api_rate_limit',\r\n      value: '1000',\r\n      description: ' API  ',\r\n      type: 'number'\r\n    },\r\n    {\r\n      id: '7',\r\n      category: 'notification',\r\n      key: 'email_notifications',\r\n      value: 'true',\r\n      description: '  ',\r\n      type: 'boolean'\r\n    },\r\n    {\r\n      id: '8',\r\n      category: 'backup',\r\n      key: 'auto_backup_enabled',\r\n      value: 'true',\r\n      description: '  ',\r\n      type: 'boolean'\r\n    },\r\n    {\r\n      id: '9',\r\n      category: 'backup',\r\n      key: 'backup_frequency',\r\n      value: 'daily',\r\n      description: ' ',\r\n      type: 'select',\r\n      options: ['hourly', 'daily', 'weekly', 'monthly']\r\n    }\r\n  ];\r\n\r\n  // Default maintenance tasks for fallback\r\n  const getDefaultMaintenanceTasks = (): MaintenanceTask[] => [\r\n    {\r\n      id: 'db_optimize',\r\n      name: ' ',\r\n      category: 'database',\r\n      description: '   ',\r\n      status: 'idle'\r\n    },\r\n    {\r\n      id: 'index_rebuild',\r\n      name: ' ',\r\n      category: 'database', \r\n      description: '  ',\r\n      status: 'idle'\r\n    },\r\n    {\r\n      id: 'cache_clear',\r\n      name: ' ',\r\n      category: 'cache',\r\n      description: '  ',\r\n      status: 'idle'\r\n    },\r\n    {\r\n      id: 'log_archive',\r\n      name: ' ',\r\n      category: 'logs',\r\n      description: '   ',\r\n      status: 'idle'\r\n    }\r\n  ];\r\n\r\n  const handleConfigUpdate = async (configId: string, newValue: string) => {\r\n    const config = configurations.find(c => c.id === configId);\r\n    if (!config) return;\r\n    \r\n    // Validate value\r\n    const validation = systemUtils.validateConfigValue(config, newValue);\r\n    if (!validation.valid) {\r\n      setError(validation.error || ' .');\r\n      return;\r\n    }\r\n    \r\n    setLoading(true);\r\n    setError('');\r\n    \r\n    try {\r\n      const response = await systemManagementService.updateConfiguration(configId, newValue);\r\n      \r\n      if (response.success && response.data) {\r\n        // Update local state\r\n        setConfigurations(prev => prev.map(config => \r\n          config.id === configId ? { ...config, value: newValue } : config\r\n        ));\r\n        \r\n        const successMessage = ` : ${config.key}`;\r\n        setSuccess(successMessage);\r\n        onSuccess?.(successMessage);\r\n        \r\n        // Clear success message after 3 seconds\r\n        setTimeout(() => setSuccess(''), 3000);\r\n        \r\n        if (response.data.restart_required) {\r\n          setError('      .');\r\n        }\r\n        \r\n      } else {\r\n        throw new Error(response.error || '  .');\r\n      }\r\n      \r\n    } catch (err: unknown) {\r\n      const errorMessage = (err instanceof Error ? err.message : '') || '    .';\r\n      setError(errorMessage);\r\n      onError?.(errorMessage);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleBackupCreate = async (type: 'full' | 'incremental' | 'differential') => {\r\n    const confirmMessage = `${systemUtils.getBackupTypeDisplayName(type)}() ?`;\r\n    \r\n    setConfirmAction({\r\n      action: async () => {\r\n        setLoading(true);\r\n        setError('');\r\n        \r\n        try {\r\n          const response = await systemManagementService.createBackup(type);\r\n          \r\n          if (response.success && response.data) {\r\n            const successMessage = `${systemUtils.getBackupTypeDisplayName(type)}() .`;\r\n            setSuccess(successMessage);\r\n            onSuccess?.(successMessage);\r\n            \r\n            // Monitor backup progress if task_id is provided\r\n            if (response.data?.task_id) {\r\n              const taskId = response.data.task_id;\r\n              setRunningTasks(prev => {\r\n                const newSet = new Set(prev);\r\n                newSet.add(taskId);\r\n                return newSet;\r\n              });\r\n              monitorTask(taskId);\r\n            }\r\n            \r\n            // Refresh backup list\r\n            setTimeout(() => {\r\n              loadSystemData();\r\n            }, 1000);\r\n            \r\n          } else {\r\n            throw new Error(response.error || '  .');\r\n          }\r\n          \r\n        } catch (err: unknown) {\r\n          const errorMessage = (err instanceof Error ? err.message : '') || '    .';\r\n          setError(errorMessage);\r\n          onError?.(errorMessage);\r\n        } finally {\r\n          setLoading(false);\r\n        }\r\n      },\r\n      message: confirmMessage\r\n    });\r\n    \r\n    setShowConfirmModal(true);\r\n  };\r\n\r\n  // Monitor background tasks\r\n  const monitorTask = async (taskId: string) => {\r\n    const checkInterval = setInterval(async () => {\r\n      try {\r\n        const response = await systemManagementService.getTaskStatus(taskId);\r\n\r\n        if (response.success && response.data) {\r\n          const { status, message } = response.data;\r\n\r\n          if (status === 'completed') {\r\n            clearInterval(checkInterval);\r\n            monitorIntervalsRef.current.delete(checkInterval);\r\n            setRunningTasks(prev => {\r\n              const newTasks = new Set(prev);\r\n              newTasks.delete(taskId);\r\n              return newTasks;\r\n            });\r\n\r\n            setSuccess(' .');\r\n            loadSystemData(); // Refresh data\r\n\r\n          } else if (status === 'failed') {\r\n            clearInterval(checkInterval);\r\n            monitorIntervalsRef.current.delete(checkInterval);\r\n            setRunningTasks(prev => {\r\n              const newTasks = new Set(prev);\r\n              newTasks.delete(taskId);\r\n              return newTasks;\r\n            });\r\n\r\n            setError(message || ' .');\r\n          }\r\n        }\r\n      } catch (err) {\r\n        clearInterval(checkInterval);\r\n        monitorIntervalsRef.current.delete(checkInterval);\r\n        setError('     .');\r\n      }\r\n\r\n    }, 2000); // Check every 2 seconds\r\n\r\n    monitorIntervalsRef.current.add(checkInterval);\r\n\r\n    // Stop monitoring after 10 minutes\r\n    setTimeout(() => {\r\n      clearInterval(checkInterval);\r\n      monitorIntervalsRef.current.delete(checkInterval);\r\n      setRunningTasks(prev => {\r\n        const newTasks = new Set(prev);\r\n        newTasks.delete(taskId);\r\n        return newTasks;\r\n      });\r\n    }, 600000);\r\n  };\r\n\r\n  // Handle maintenance tasks\r\n  const handleMaintenanceTask = async (taskId: string) => {\r\n    const task = maintenanceTasks.find(t => t.id === taskId);\r\n    if (!task) return;\r\n    \r\n    setConfirmAction({\r\n      action: async () => {\r\n        setLoading(true);\r\n        setError('');\r\n        \r\n        try {\r\n          const response = await systemManagementService.runMaintenanceTask(taskId);\r\n          \r\n          if (response.success && response.data) {\r\n            const successMessage = `  : ${task.name}`;\r\n            setSuccess(successMessage);\r\n            onSuccess?.(successMessage);\r\n            \r\n            // Update task status locally\r\n            setMaintenanceTasks(prev => prev.map(t => \r\n              t.id === taskId ? { ...t, status: 'running' } : t\r\n            ));\r\n            \r\n            if (response.data?.task_id) {\r\n              const taskId = response.data.task_id;\r\n              setRunningTasks(prev => {\r\n                const newSet = new Set(prev);\r\n                newSet.add(taskId);\r\n                return newSet;\r\n              });\r\n              monitorTask(taskId);\r\n            }\r\n            \r\n          } else {\r\n            throw new Error(response.error || '   .');\r\n          }\r\n          \r\n        } catch (err: unknown) {\r\n          const errorMessage = (err instanceof Error ? err.message : '') || '    .';\r\n          setError(errorMessage);\r\n          onError?.(errorMessage);\r\n        } finally {\r\n          setLoading(false);\r\n        }\r\n      },\r\n      message: `'${task.name}'  ?`\r\n    });\r\n    \r\n    setShowConfirmModal(true);\r\n  };\r\n\r\n  // Handle backup actions\r\n  const handleBackupDownload = async (backupId: string) => {\r\n    setLoading(true);\r\n    setError('');\r\n    \r\n    try {\r\n      const response = await systemManagementService.downloadBackup(backupId);\r\n      \r\n      if (response.success) {\r\n        // Handle file download\r\n        setSuccess('  .');\r\n        onSuccess?.('  .');\r\n      } else {\r\n        throw new Error(response.error || '  .');\r\n      }\r\n      \r\n    } catch (err: unknown) {\r\n      const errorMessage = (err instanceof Error ? err.message : '') || '    .';\r\n      setError(errorMessage);\r\n      onError?.(errorMessage);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleBackupRestore = async (backupId: string) => {\r\n    setConfirmAction({\r\n      action: async () => {\r\n        setLoading(true);\r\n        setError('');\r\n        \r\n        try {\r\n          const response = await systemManagementService.restoreBackup(backupId);\r\n          \r\n          if (response.success && response.data) {\r\n            const successMessage = '  .';\r\n            setSuccess(successMessage);\r\n            onSuccess?.(successMessage);\r\n            \r\n            if (response.data?.task_id) {\r\n              const taskId = response.data.task_id;\r\n              setRunningTasks(prev => {\r\n                const newSet = new Set(prev);\r\n                newSet.add(taskId);\r\n                return newSet;\r\n              });\r\n              monitorTask(taskId);\r\n            }\r\n            \r\n          } else {\r\n            throw new Error(response.error || '  .');\r\n          }\r\n          \r\n        } catch (err: unknown) {\r\n          const errorMessage = (err instanceof Error ? err.message : '') || '    .';\r\n          setError(errorMessage);\r\n          onError?.(errorMessage);\r\n        } finally {\r\n          setLoading(false);\r\n        }\r\n      },\r\n      message: '  ?     .'\r\n    });\r\n    \r\n    setShowConfirmModal(true);\r\n  };\r\n\r\n  const handleBackupDelete = async (backupId: string) => {\r\n    setConfirmAction({\r\n      action: async () => {\r\n        setLoading(true);\r\n        setError('');\r\n        \r\n        try {\r\n          const response = await systemManagementService.deleteBackup(backupId);\r\n          \r\n          if (response.success) {\r\n            const successMessage = ' .';\r\n            setSuccess(successMessage);\r\n            onSuccess?.(successMessage);\r\n            \r\n            // Remove from local state\r\n            setBackups(prev => prev.filter(b => b.id !== backupId));\r\n            \r\n          } else {\r\n            throw new Error(response.error || '  .');\r\n          }\r\n          \r\n        } catch (err: unknown) {\r\n          const errorMessage = (err instanceof Error ? err.message : '') || '    .';\r\n          setError(errorMessage);\r\n          onError?.(errorMessage);\r\n        } finally {\r\n          setLoading(false);\r\n        }\r\n      },\r\n      message: '   ?'\r\n    });\r\n    \r\n    setShowConfirmModal(true);\r\n  };\r\n\r\n  // Handle cache clearing\r\n  const handleCacheClear = async (cacheType: 'application' | 'images' | 'sessions' | 'all') => {\r\n    const typeNames = {\r\n      application: ' ',\r\n      images: ' ',\r\n      sessions: ' ',\r\n      all: ' '\r\n    };\r\n    \r\n    setConfirmAction({\r\n      action: async () => {\r\n        setLoading(true);\r\n        setError('');\r\n        \r\n        try {\r\n          const response = await systemManagementService.clearCache(cacheType);\r\n          \r\n          if (response.success) {\r\n            const successMessage = `${typeNames[cacheType]} .`;\r\n            setSuccess(successMessage);\r\n            onSuccess?.(successMessage);\r\n          } else {\r\n            throw new Error(response.error || '  .');\r\n          }\r\n          \r\n        } catch (err: unknown) {\r\n          const errorMessage = (err instanceof Error ? err.message : '') || '    .';\r\n          setError(errorMessage);\r\n          onError?.(errorMessage);\r\n        } finally {\r\n          setLoading(false);\r\n        }\r\n      },\r\n      message: `${typeNames[cacheType]} ?`\r\n    });\r\n    \r\n    setShowConfirmModal(true);\r\n  };\r\n\r\n  // Handle system health check\r\n  const handleHealthCheck = async () => {\r\n    setLoading(true);\r\n    setError('');\r\n    \r\n    try {\r\n      const response = await systemManagementService.runHealthCheck();\r\n      \r\n      if (response.success && response.data) {\r\n        setSystemHealth(response.data);\r\n        setSuccess('   .');\r\n        onSuccess?.('   .');\r\n      } else {\r\n        throw new Error(response.error || '   .');\r\n      }\r\n      \r\n    } catch (err: unknown) {\r\n      const errorMessage = (err instanceof Error ? err.message : '') || '     .';\r\n      setError(errorMessage);\r\n      onError?.(errorMessage);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const renderConfigurationSection = () => (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex justify-between items-center\">\r\n        <h3 className=\"text-lg font-semibold\"> </h3>\r\n        <Button variant=\"primary\"> </Button>\r\n      </div>\r\n\r\n      {(['general', 'security', 'performance', 'notification', 'backup'] as const).map(category => {\r\n        const categoryConfigs = configurations.filter(c => c.category === category);\r\n        if (categoryConfigs.length === 0) return null;\r\n\r\n        return (\r\n          <Card key={category} title={`${systemUtils.getCategoryDisplayName(category)} `}>\r\n            <div className=\"space-y-4\">\r\n              {categoryConfigs.map(config => (\r\n                <div key={config.id} className=\"grid grid-cols-1 md:grid-cols-3 gap-4 items-center p-4 border rounded\">\r\n                  <div>\r\n                    <div className=\"font-medium\">{config.key}</div>\r\n                    <div className=\"text-sm text-gray-600\">{config.description}</div>\r\n                  </div>\r\n                  <div>\r\n                    {config.type === 'boolean' ? (\r\n                      <select\r\n                        value={config.value}\r\n                        onChange={(e) => handleConfigUpdate(config.id, e.target.value)}\r\n                        className=\"border rounded px-3 py-2 w-full\"\r\n                      >\r\n                        <option value=\"true\"></option>\r\n                        <option value=\"false\"></option>\r\n                      </select>\r\n                    ) : config.type === 'select' ? (\r\n                      <select\r\n                        value={config.value}\r\n                        onChange={(e) => handleConfigUpdate(config.id, e.target.value)}\r\n                        disabled={loading}\r\n                        className=\"border rounded px-3 py-2 w-full disabled:opacity-50\"\r\n                      >\r\n                        {config.options?.map(option => (\r\n                          <option key={option} value={option}>{option}</option>\r\n                        ))}\r\n                      </select>\r\n                    ) : config.type === 'number' ? (\r\n                      <input\r\n                        type=\"number\"\r\n                        value={config.value}\r\n                        onChange={(e) => handleConfigUpdate(config.id, e.target.value)}\r\n                        disabled={loading}\r\n                        className=\"border rounded px-3 py-2 w-full disabled:opacity-50\"\r\n                      />\r\n                    ) : (\r\n                      <input\r\n                        type={config.sensitive ? 'password' : 'text'}\r\n                        value={config.value}\r\n                        onChange={(e) => handleConfigUpdate(config.id, e.target.value)}\r\n                        disabled={loading}\r\n                        className=\"border rounded px-3 py-2 w-full disabled:opacity-50\"\r\n                      />\r\n                    )}\r\n                  </div>\r\n                  <div className=\"text-sm text-gray-500\">\r\n                    : <code className=\"bg-gray-100 px-1 rounded\">{config.value}</code>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </Card>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n\r\n  const renderBackupSection = () => (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex justify-between items-center\">\r\n        <h3 className=\"text-lg font-semibold\"> </h3>\r\n        <div className=\"flex space-x-2\">\r\n          <Button variant=\"secondary\" onClick={() => handleBackupCreate('incremental')}>\r\n             \r\n          </Button>\r\n          <Button variant=\"primary\" onClick={() => handleBackupCreate('full')}>\r\n             \r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {/*   */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n        <Card title=\"  \">\r\n          <div className=\"text-center\">\r\n            <div className=\"text-2xl font-bold text-blue-600\">\r\n              {backups.length > 0 \r\n                ? backups.reduce((total, backup) => {\r\n                    const sizeInMB = backup.size.includes('GB') \r\n                      ? parseFloat(backup.size) * 1024 \r\n                      : parseFloat(backup.size);\r\n                    return total + sizeInMB;\r\n                  }, 0).toFixed(1) + ' MB'\r\n                : '0 MB'\r\n              }\r\n            </div>\r\n            <div className=\"text-sm text-gray-600\">  </div>\r\n          </div>\r\n        </Card>\r\n        <Card title=\" \">\r\n          <div className=\"text-center\">\r\n            <div className=\"text-2xl font-bold text-green-600\">\r\n              {backups.length > 0 \r\n                ? new Date(backups[0].timestamp).toLocaleString('ko-KR')\r\n                : ' '\r\n              }\r\n            </div>\r\n            <div className=\"text-sm text-gray-600\">\r\n              {backups.length > 0 ? systemUtils.getBackupTypeDisplayName(backups[0].type) : '-'}\r\n            </div>\r\n          </div>\r\n        </Card>\r\n        <Card title=\" \">\r\n          <div className=\"text-center\">\r\n            <div className=\"text-2xl font-bold text-purple-600\">\r\n              {backups.length > 0 \r\n                ? ((backups.filter(b => b.status === 'completed').length / backups.length) * 100).toFixed(1) + '%'\r\n                : '0%'\r\n              }\r\n            </div>\r\n            <div className=\"text-sm text-gray-600\"> </div>\r\n          </div>\r\n        </Card>\r\n      </div>\r\n\r\n      {/*   */}\r\n      <Card title=\" \">\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"w-full text-sm\">\r\n            <thead className=\"bg-gray-50\">\r\n              <tr>\r\n                <th className=\"px-4 py-2 text-left\"></th>\r\n                <th className=\"px-4 py-2 text-left\"></th>\r\n                <th className=\"px-4 py-2 text-left\"></th>\r\n                <th className=\"px-4 py-2 text-left\"></th>\r\n                <th className=\"px-4 py-2 text-left\"></th>\r\n                <th className=\"px-4 py-2 text-left\"></th>\r\n                <th className=\"px-4 py-2 text-left\"></th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {backups.map(backup => (\r\n                <tr key={backup.id} className=\"border-t hover:bg-gray-50\">\r\n                  <td className=\"px-4 py-2\">\r\n                    {new Date(backup.timestamp).toLocaleString('ko-KR')}\r\n                  </td>\r\n                  <td className=\"px-4 py-2\">\r\n                    <span className={`px-2 py-1 rounded text-xs ${\r\n                      backup.type === 'full' ? 'bg-blue-100 text-blue-800' :\r\n                      backup.type === 'incremental' ? 'bg-green-100 text-green-800' :\r\n                      'bg-purple-100 text-purple-800'\r\n                    }`}>\r\n                      {systemUtils.getBackupTypeDisplayName(backup.type)}\r\n                    </span>\r\n                  </td>\r\n                  <td className=\"px-4 py-2\">\r\n                    <span className={`px-2 py-1 rounded text-xs bg-${systemUtils.getStatusColor(backup.status)}-100 text-${systemUtils.getStatusColor(backup.status)}-800`}>\r\n                      {backup.status}\r\n                    </span>\r\n                  </td>\r\n                  <td className=\"px-4 py-2 font-mono\">{backup.size}</td>\r\n                  <td className=\"px-4 py-2\">{backup.duration}</td>\r\n                  <td className=\"px-4 py-2 font-mono text-xs\">{backup.location}</td>\r\n                  <td className=\"px-4 py-2\">\r\n                    <div className=\"flex space-x-1\">\r\n                      <button \r\n                        onClick={() => handleBackupDownload(backup.id)}\r\n                        disabled={loading}\r\n                        className=\"text-blue-600 hover:text-blue-800 text-xs disabled:opacity-50\"\r\n                      >\r\n                        \r\n                      </button>\r\n                      <button \r\n                        onClick={() => handleBackupRestore(backup.id)}\r\n                        disabled={loading}\r\n                        className=\"text-green-600 hover:text-green-800 text-xs disabled:opacity-50\"\r\n                      >\r\n                        \r\n                      </button>\r\n                      <button \r\n                        onClick={() => handleBackupDelete(backup.id)}\r\n                        disabled={loading}\r\n                        className=\"text-red-600 hover:text-red-800 text-xs disabled:opacity-50\"\r\n                      >\r\n                        \r\n                      </button>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  );\r\n\r\n  const renderMaintenanceSection = () => (\r\n    <div className=\"space-y-6\">\r\n      <h3 className=\"text-lg font-semibold\"> </h3>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n        <Card title=\" \">\r\n          <div className=\"space-y-4\">\r\n            {maintenanceTasks.filter(task => task.category === 'database').map(task => (\r\n              <div key={task.id} className=\"flex justify-between items-center\">\r\n                <div>\r\n                  <span className=\"font-medium\">{task.name}</span>\r\n                  {task.status === 'running' && (\r\n                    <span className=\"ml-2 text-xs text-yellow-600\"> ...</span>\r\n                  )}\r\n                </div>\r\n                <Button \r\n                  variant=\"secondary\" \r\n                  size=\"sm\" \r\n                  onClick={() => handleMaintenanceTask(task.id)}\r\n                  disabled={loading || task.status === 'running'}\r\n                >\r\n                  \r\n                </Button>\r\n              </div>\r\n            ))}\r\n            {maintenanceTasks.filter(task => task.category === 'database').length === 0 && (\r\n              <div className=\"text-gray-500 text-sm text-center py-4\">  .</div>\r\n            )}\r\n          </div>\r\n        </Card>\r\n\r\n        <Card title=\" \">\r\n          <div className=\"space-y-4\">\r\n            <div className=\"flex justify-between items-center\">\r\n              <span>  </span>\r\n              <Button \r\n                variant=\"secondary\" \r\n                size=\"sm\" \r\n                onClick={() => handleCacheClear('application')}\r\n                disabled={loading}\r\n              >\r\n                \r\n              </Button>\r\n            </div>\r\n            <div className=\"flex justify-between items-center\">\r\n              <span>  </span>\r\n              <Button \r\n                variant=\"secondary\" \r\n                size=\"sm\" \r\n                onClick={() => handleCacheClear('images')}\r\n                disabled={loading}\r\n              >\r\n                \r\n              </Button>\r\n            </div>\r\n            <div className=\"flex justify-between items-center\">\r\n              <span>  </span>\r\n              <Button \r\n                variant=\"secondary\" \r\n                size=\"sm\" \r\n                onClick={() => handleCacheClear('sessions')}\r\n                disabled={loading}\r\n              >\r\n                \r\n              </Button>\r\n            </div>\r\n            <div className=\"flex justify-between items-center\">\r\n              <span>  </span>\r\n              <Button \r\n                variant=\"primary\" \r\n                size=\"sm\" \r\n                onClick={() => handleCacheClear('all')}\r\n                disabled={loading}\r\n              >\r\n                \r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card title=\" \">\r\n          <div className=\"space-y-4\">\r\n            {maintenanceTasks.filter(task => task.category === 'logs').map(task => (\r\n              <div key={task.id} className=\"flex justify-between items-center\">\r\n                <div>\r\n                  <span className=\"font-medium\">{task.name}</span>\r\n                  {task.status === 'running' && (\r\n                    <span className=\"ml-2 text-xs text-yellow-600\"> ...</span>\r\n                  )}\r\n                </div>\r\n                <Button \r\n                  variant=\"secondary\" \r\n                  size=\"sm\" \r\n                  onClick={() => handleMaintenanceTask(task.id)}\r\n                  disabled={loading || task.status === 'running'}\r\n                >\r\n                  \r\n                </Button>\r\n              </div>\r\n            ))}\r\n            {maintenanceTasks.filter(task => task.category === 'logs').length === 0 && (\r\n              <div className=\"text-gray-500 text-sm text-center py-4\">  .</div>\r\n            )}\r\n          </div>\r\n        </Card>\r\n\r\n        <Card title=\"  \">\r\n          <div className=\"space-y-4\">\r\n            {systemHealth ? (\r\n              <>\r\n                <div className=\"flex justify-between items-center\">\r\n                  <span> </span>\r\n                  <span className={`text-sm text-${systemUtils.getStatusColor(\r\n                    systemHealth.disk_usage > 90 ? 'error' : \r\n                    systemHealth.disk_usage > 75 ? 'warning' : 'good'\r\n                  )}-600`}>\r\n                    {systemHealth.disk_usage}%\r\n                  </span>\r\n                </div>\r\n                <div className=\"flex justify-between items-center\">\r\n                  <span> </span>\r\n                  <span className={`text-sm text-${systemUtils.getStatusColor(\r\n                    systemHealth.memory_usage > 90 ? 'error' : \r\n                    systemHealth.memory_usage > 75 ? 'warning' : 'good'\r\n                  )}-600`}>\r\n                    {systemHealth.memory_usage}%\r\n                  </span>\r\n                </div>\r\n                <div className=\"flex justify-between items-center\">\r\n                  <span> </span>\r\n                  <span className={`text-sm text-${systemUtils.getStatusColor(systemHealth.network_status)}-600`}>\r\n                    {systemHealth.network_status === 'good' ? '' : \r\n                     systemHealth.network_status === 'warning' ? '' : ''}\r\n                  </span>\r\n                </div>\r\n                <div className=\"flex justify-between items-center\">\r\n                  <span></span>\r\n                  <span className={`text-sm text-${systemUtils.getStatusColor(systemHealth.database_status)}-600`}>\r\n                    {systemHealth.database_status === 'connected' ? '' : \r\n                     systemHealth.database_status === 'slow' ? '' : ' '}\r\n                  </span>\r\n                </div>\r\n              </>\r\n            ) : (\r\n              <div className=\"space-y-2\">\r\n                <div className=\"flex justify-between items-center\">\r\n                  <span> </span>\r\n                  <span className=\"text-gray-500 text-sm\"> ...</span>\r\n                </div>\r\n              </div>\r\n            )}\r\n            <Button \r\n              variant=\"primary\" \r\n              className=\"w-full mt-4\"\r\n              onClick={handleHealthCheck}\r\n              disabled={loading}\r\n            >\r\n              {loading ? ' ...' : '   '}\r\n            </Button>\r\n          </div>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderUpdatesSection = () => (\r\n    <div className=\"space-y-6\">\r\n      <h3 className=\"text-lg font-semibold\"> </h3>\r\n\r\n      <Card title=\"  \">\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n          <div>\r\n            <div className=\"text-sm text-gray-600\"> </div>\r\n            <div className=\"text-lg font-medium\">v2.1.3</div>\r\n          </div>\r\n          <div>\r\n            <div className=\"text-sm text-gray-600\"> </div>\r\n            <div className=\"text-lg font-medium\">v1.8.2</div>\r\n          </div>\r\n          <div>\r\n            <div className=\"text-sm text-gray-600\"> </div>\r\n            <div className=\"text-lg font-medium\">2024-03-01</div>\r\n          </div>\r\n          <div>\r\n            <div className=\"text-sm text-gray-600\"> </div>\r\n            <div className=\"text-lg font-medium text-green-600\"></div>\r\n          </div>\r\n        </div>\r\n      </Card>\r\n\r\n      <Card title=\"  \">\r\n        <div className=\"space-y-4\">\r\n          <div className=\"p-4 border rounded\">\r\n            <div className=\"flex justify-between items-start\">\r\n              <div>\r\n                <div className=\"font-medium\">v2.2.0 -  </div>\r\n                <div className=\"text-sm text-gray-600 mt-1\">\r\n                    AHP  <br/>\r\n                       <br/>\r\n                    \r\n                </div>\r\n                <div className=\"text-xs text-gray-500 mt-2\">\r\n                   : 2024-03-15\r\n                </div>\r\n              </div>\r\n              <Button variant=\"primary\" size=\"sm\"></Button>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"p-4 border rounded bg-gray-50\">\r\n            <div className=\"text-center text-gray-600\">\r\n                .   .\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Card>\r\n\r\n      <Card title=\" \">\r\n        <div className=\"space-y-3\">\r\n          {[\r\n            { version: 'v2.1.3', date: '2024-03-01', type: '', description: '    ' },\r\n            { version: 'v2.1.0', date: '2024-02-15', type: '', description: '   ' },\r\n            { version: 'v2.0.0', date: '2024-01-30', type: '', description: '    AHP  ' }\r\n          ].map((update, index) => (\r\n            <div key={index} className=\"flex justify-between items-center p-3 border rounded\">\r\n              <div>\r\n                <div className=\"font-medium\">{update.version}</div>\r\n                <div className=\"text-sm text-gray-600\">{update.description}</div>\r\n              </div>\r\n              <div className=\"text-right\">\r\n                <div className=\"text-sm font-medium\">{update.date}</div>\r\n                <div className={`text-xs px-2 py-1 rounded ${\r\n                  update.type === '' ? 'bg-red-100 text-red-800' :\r\n                  update.type === '' ? 'bg-blue-100 text-blue-800' :\r\n                  'bg-green-100 text-green-800'\r\n                }`}>\r\n                  {update.type}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  );\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className={`flex justify-center items-center h-64 ${className}`}>\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={`space-y-6 ${className}`}>\r\n      {/* Error Alert */}\r\n      {error && (\r\n        <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\r\n          <div className=\"flex\">\r\n            <ExclamationTriangleIcon className=\"h-5 w-5 text-red-400\" />\r\n            <div className=\"ml-2\">\r\n              <h4 className=\"text-sm font-medium text-red-800\"></h4>\r\n              <p className=\"text-sm text-red-700 mt-1\">{error}</p>\r\n            </div>\r\n            <button\r\n              onClick={() => setError('')}\r\n              className=\"ml-auto text-red-400 hover:text-red-600\"\r\n            >\r\n              \r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Success Alert */}\r\n      {success && (\r\n        <div className=\"bg-green-50 border border-green-200 rounded-lg p-4\">\r\n          <div className=\"flex\">\r\n            <CheckCircleIcon className=\"h-5 w-5 text-green-400\" />\r\n            <div className=\"ml-2\">\r\n              <h4 className=\"text-sm font-medium text-green-800\"></h4>\r\n              <p className=\"text-sm text-green-700 mt-1\">{success}</p>\r\n            </div>\r\n            <button\r\n              onClick={() => setSuccess('')}\r\n              className=\"ml-auto text-green-400 hover:text-green-600\"\r\n            >\r\n              \r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n      {/*   */}\r\n      <div className=\"border-b border-gray-200\">\r\n        <nav className=\"flex space-x-8\">\r\n          {[\r\n            { id: 'config', name: ' ', icon: '' },\r\n            { id: 'backup', name: ' ', icon: '' },\r\n            { id: 'maintenance', name: '', icon: '' },\r\n            { id: 'updates', name: '', icon: '' }\r\n          ].map(section => (\r\n            <button\r\n              key={section.id}\r\n              onClick={() => setActiveSection(section.id as 'config' | 'backup' | 'maintenance' | 'updates')}\r\n              className={`py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${\r\n                activeSection === section.id\r\n                  ? 'border-blue-500 text-blue-600'\r\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n              }`}\r\n            >\r\n              <span>{section.icon}</span>\r\n              <span>{section.name}</span>\r\n            </button>\r\n          ))}\r\n        </nav>\r\n      </div>\r\n\r\n      {/*   */}\r\n      {activeSection === 'config' && renderConfigurationSection()}\r\n      {activeSection === 'backup' && renderBackupSection()}\r\n      {activeSection === 'maintenance' && renderMaintenanceSection()}\r\n      {activeSection === 'updates' && renderUpdatesSection()}\r\n\r\n      {/* Confirmation Modal */}\r\n      <Modal\r\n        isOpen={showConfirmModal}\r\n        onClose={() => setShowConfirmModal(false)}\r\n        title=\" \"\r\n      >\r\n        <div className=\"space-y-4\">\r\n          <div className=\"flex items-center\">\r\n            <ExclamationTriangleIcon className=\"h-6 w-6 text-yellow-400 mr-3\" />\r\n            <p className=\"text-gray-700\">{confirmAction?.message}</p>\r\n          </div>\r\n          \r\n          <div className=\"flex justify-end space-x-3\">\r\n            <Button\r\n              variant=\"outline\"\r\n              onClick={() => setShowConfirmModal(false)}\r\n              disabled={loading}\r\n            >\r\n              \r\n            </Button>\r\n            <Button\r\n              variant=\"primary\"\r\n              onClick={async () => {\r\n                if (confirmAction) {\r\n                  await confirmAction.action();\r\n                  setShowConfirmModal(false);\r\n                  setConfirmAction(null);\r\n                }\r\n              }}\r\n              disabled={loading}\r\n            >\r\n              {loading ? ' ...' : ''}\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SystemManagement;","import React, { useState, useEffect, useCallback } from 'react';\r\nimport Card from '../common/Card';\r\nimport Button from '../common/Button';\r\nimport PageHeader from '../common/PageHeader';\r\nimport SubscriptionDashboard from '../subscription/SubscriptionDashboard';\r\nimport InteractiveCharts from '../visualization/InteractiveCharts';\r\nimport SystemManagement from './SystemManagement';\r\nimport { subscriptionService } from '../../services/subscriptionService';\r\nimport { ExtendedUser, SubscriptionPlan, UserSubscription } from '../../types/subscription';\r\n\r\ninterface SystemStats {\r\n  totalUsers: number;\r\n  totalPersonalAdmins: number;\r\n  totalProjects: number;\r\n  activeProjects: number;\r\n  totalEvaluations: number;\r\n  totalRevenue: number;\r\n  activeSubscriptions: number;\r\n  systemUptime: string;\r\n  storageUsed: string;\r\n  monthlyGrowth: number;\r\n}\r\n\r\ninterface SystemMetrics {\r\n  cpu: number;\r\n  memory: number;\r\n  responseTime: number;\r\n  activeConnections: number;\r\n  errors24h: number;\r\n  successRate: number;\r\n}\r\n\r\ninterface UserActivity {\r\n  id: string;\r\n  timestamp: string;\r\n  userId: string;\r\n  userName: string;\r\n  action: string;\r\n  category: 'login' | 'project' | 'evaluation' | 'subscription' | 'admin';\r\n  details: string;\r\n  ipAddress: string;\r\n  userAgent: string;\r\n  status: 'success' | 'warning' | 'error';\r\n}\r\n\r\ninterface SecurityEvent {\r\n  id: string;\r\n  timestamp: string;\r\n  type: 'login_failure' | 'suspicious_activity' | 'data_breach' | 'unauthorized_access';\r\n  severity: 'low' | 'medium' | 'high' | 'critical';\r\n  description: string;\r\n  userId?: string;\r\n  ipAddress: string;\r\n  resolved: boolean;\r\n}\r\n\r\ninterface PerformanceMetric {\r\n  timestamp: string;\r\n  responseTime: number;\r\n  throughput: number;\r\n  errorRate: number;\r\n  activeUsers: number;\r\n}\r\n\r\ninterface EnhancedSuperAdminDashboardProps {\r\n  user: ExtendedUser;\r\n  activeTab?: string;\r\n  onTabChange?: (tab: string) => void;\r\n}\r\n\r\nconst EnhancedSuperAdminDashboard: React.FC<EnhancedSuperAdminDashboardProps> = ({\r\n  user,\r\n  activeTab: externalActiveTab,\r\n  onTabChange: externalOnTabChange\r\n}) => {\r\n  const [activeMenu, setActiveMenu] = useState<string>(\r\n    externalActiveTab || 'overview'\r\n  );\r\n  const [stats, setStats] = useState<SystemStats>({\r\n    totalUsers: 0,\r\n    totalPersonalAdmins: 0,\r\n    totalProjects: 0,\r\n    activeProjects: 0,\r\n    totalEvaluations: 0,\r\n    totalRevenue: 0,\r\n    activeSubscriptions: 0,\r\n    systemUptime: '0',\r\n    storageUsed: '0MB',\r\n    monthlyGrowth: 0\r\n  });\r\n  const [systemMetrics, setSystemMetrics] = useState<SystemMetrics>({\r\n    cpu: 0,\r\n    memory: 0,\r\n    responseTime: 0,\r\n    activeConnections: 0,\r\n    errors24h: 0,\r\n    successRate: 0\r\n  });\r\n  const [recentActivity, setRecentActivity] = useState<UserActivity[]>([]);\r\n  const [securityEvents, setSecurityEvents] = useState<SecurityEvent[]>([]);\r\n  const [performanceData, setPerformanceData] = useState<PerformanceMetric[]>([]);\r\n  const [subscriptions, setSubscriptions] = useState<UserSubscription[]>([]);\r\n  const [plans, setPlans] = useState<SubscriptionPlan[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [selectedTimeRange, setSelectedTimeRange] = useState<'1h' | '24h' | '7d' | '30d'>('24h');\r\n  const [refreshInterval, setRefreshInterval] = useState<number>(30000); // 30\r\n  const [actionMessage, setActionMessage] = useState<{type:'success'|'error'|'info', text:string}|null>(null);\r\n\r\n  const showActionMessage = (type: 'success'|'error'|'info', text: string) => {\r\n    setActionMessage({type, text});\r\n    setTimeout(() => setActionMessage(null), 3000);\r\n  };\r\n\r\n  //    \r\n  useEffect(() => {\r\n    if (externalActiveTab) {\r\n      setActiveMenu(externalActiveTab);\r\n    }\r\n  }, [externalActiveTab]);\r\n\r\n  const handleTabChange = (tab: string) => {\r\n    setActiveMenu(tab);\r\n    if (externalOnTabChange) {\r\n      externalOnTabChange(tab);\r\n    }\r\n  };\r\n\r\n  //  \r\n  const loadDashboardData = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      \r\n      //  \r\n      const subscriptionStats = await subscriptionService.getSubscriptionStats();\r\n      const allSubscriptions = await subscriptionService.getAllSubscriptions();\r\n      const availablePlans = await subscriptionService.getAvailablePlans().catch(() => \r\n        subscriptionService.getDefaultPlans()\r\n      );\r\n\r\n      setSubscriptions(allSubscriptions);\r\n      setPlans(availablePlans);\r\n\r\n      //   ( API )\r\n      setStats({\r\n        totalUsers: 847,\r\n        totalPersonalAdmins: 156,\r\n        totalProjects: 2341,\r\n        activeProjects: 892,\r\n        totalEvaluations: 15647,\r\n        totalRevenue: subscriptionStats.totalRevenue || 2847350,\r\n        activeSubscriptions: subscriptionStats.totalActiveSubscriptions || 134,\r\n        systemUptime: '99.8%',\r\n        storageUsed: '2.3GB',\r\n        monthlyGrowth: subscriptionStats.monthlyGrowth || 12.5\r\n      });\r\n\r\n      // TODO: replace with real monitoring API call for system metrics\r\n      setSystemMetrics({\r\n        cpu: 0,\r\n        memory: 0,\r\n        responseTime: 0,\r\n        activeConnections: 0,\r\n        errors24h: 0,\r\n        successRate: 0\r\n      });\r\n\r\n      //   ( )\r\n      setRecentActivity([\r\n        {\r\n          id: '1',\r\n          timestamp: new Date(Date.now() - 5 * 60000).toISOString(),\r\n          userId: 'u123',\r\n          userName: '',\r\n          action: '  ',\r\n          category: 'project',\r\n          details: 'AI   ',\r\n          ipAddress: '192.168.1.100',\r\n          userAgent: 'Chrome/91.0',\r\n          status: 'success'\r\n        },\r\n        {\r\n          id: '2',\r\n          timestamp: new Date(Date.now() - 15 * 60000).toISOString(),\r\n          userId: 'u456',\r\n          userName: '',\r\n          action: ' ',\r\n          category: 'evaluation',\r\n          details: ' A vs B ',\r\n          ipAddress: '192.168.1.101',\r\n          userAgent: 'Firefox/89.0',\r\n          status: 'success'\r\n        },\r\n        {\r\n          id: '3',\r\n          timestamp: new Date(Date.now() - 30 * 60000).toISOString(),\r\n          userId: 'u789',\r\n          userName: '',\r\n          action: '  ',\r\n          category: 'subscription',\r\n          details: '  ',\r\n          ipAddress: '192.168.1.102',\r\n          userAgent: 'Safari/14.1',\r\n          status: 'success'\r\n        }\r\n      ]);\r\n\r\n      //   ( )\r\n      setSecurityEvents([\r\n        {\r\n          id: 's1',\r\n          timestamp: new Date(Date.now() - 2 * 3600000).toISOString(),\r\n          type: 'login_failure',\r\n          severity: 'medium',\r\n          description: '5   ',\r\n          userId: 'u999',\r\n          ipAddress: '192.168.1.200',\r\n          resolved: false\r\n        },\r\n        {\r\n          id: 's2',\r\n          timestamp: new Date(Date.now() - 4 * 3600000).toISOString(),\r\n          type: 'suspicious_activity',\r\n          severity: 'high',\r\n          description: ' API  ',\r\n          ipAddress: '10.0.0.50',\r\n          resolved: true\r\n        }\r\n      ]);\r\n\r\n      // TODO: replace with real monitoring API call for performance history\r\n      // Performance data placeholder  real API should return time-series metrics\r\n      setPerformanceData([]);\r\n\r\n    } catch (error) {\r\n      showActionMessage('error', '     .');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    loadDashboardData();\r\n    \r\n    //   \r\n    const interval = setInterval(loadDashboardData, refreshInterval);\r\n    return () => clearInterval(interval);\r\n  }, [loadDashboardData, refreshInterval]);\r\n\r\n  const renderOverview = () => (\r\n    <div className=\"space-y-6\">\r\n      {/*    */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n        <Card title=\" \">\r\n          <div className=\"text-center\">\r\n            <div className=\"text-3xl font-bold text-blue-600\">{stats.totalUsers.toLocaleString()}</div>\r\n            <div className=\"text-sm text-gray-600 mt-1\">\r\n              : {stats.totalPersonalAdmins}\r\n            </div>\r\n            <div className=\"text-xs text-green-600 mt-1\">\r\n              +{stats.monthlyGrowth}%  \r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card title=\"\">\r\n          <div className=\"text-center\">\r\n            <div className=\"text-3xl font-bold text-green-600\">{stats.totalProjects.toLocaleString()}</div>\r\n            <div className=\"text-sm text-gray-600 mt-1\">\r\n              : {stats.activeProjects.toLocaleString()}\r\n            </div>\r\n            <div className=\"w-full bg-gray-200 rounded-full h-2 mt-2\">\r\n              <div \r\n                className=\"bg-green-600 h-2 rounded-full\" \r\n                style={{ width: `${(stats.activeProjects / stats.totalProjects) * 100}%` }}\r\n              ></div>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card title=\"\">\r\n          <div className=\"text-center\">\r\n            <div className=\"text-3xl font-bold text-purple-600\">\r\n              {stats.totalRevenue.toLocaleString()}\r\n            </div>\r\n            <div className=\"text-sm text-gray-600 mt-1\">\r\n               : {stats.activeSubscriptions}\r\n            </div>\r\n            <div className=\"text-xs text-green-600 mt-1\">\r\n               : {stats.monthlyGrowth}%\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card title=\" \">\r\n          <div className=\"text-center\">\r\n            <div className=\"text-3xl font-bold text-orange-600\">{stats.systemUptime}</div>\r\n            <div className=\"text-sm text-gray-600 mt-1\"></div>\r\n            <div className=\"flex justify-between text-xs mt-2\">\r\n              <span>CPU: {systemMetrics.cpu.toFixed(1)}%</span>\r\n              <span>: {systemMetrics.memory.toFixed(1)}%</span>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n      </div>\r\n\r\n      {/*    */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n        <Card title=\" \">\r\n          <div className=\"space-y-4\">\r\n            <div className=\"flex justify-between items-center\">\r\n              <span className=\"text-sm\">CPU </span>\r\n              <span className=\"text-sm font-medium\">{systemMetrics.cpu.toFixed(1)}%</span>\r\n            </div>\r\n            <div className=\"w-full bg-gray-200 rounded-full h-3\">\r\n              <div \r\n                className={`h-3 rounded-full transition-all duration-500 ${\r\n                  systemMetrics.cpu > 80 ? 'bg-red-500' : \r\n                  systemMetrics.cpu > 60 ? 'bg-yellow-500' : 'bg-green-500'\r\n                }`}\r\n                style={{ width: `${systemMetrics.cpu}%` }}\r\n              ></div>\r\n            </div>\r\n\r\n            <div className=\"flex justify-between items-center\">\r\n              <span className=\"text-sm\"> </span>\r\n              <span className=\"text-sm font-medium\">{systemMetrics.memory.toFixed(1)}%</span>\r\n            </div>\r\n            <div className=\"w-full bg-gray-200 rounded-full h-3\">\r\n              <div \r\n                className={`h-3 rounded-full transition-all duration-500 ${\r\n                  systemMetrics.memory > 80 ? 'bg-red-500' : \r\n                  systemMetrics.memory > 60 ? 'bg-yellow-500' : 'bg-green-500'\r\n                }`}\r\n                style={{ width: `${systemMetrics.memory}%` }}\r\n              ></div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-2 gap-4 pt-4 border-t\">\r\n              <div className=\"text-center\">\r\n                <div className=\"text-lg font-bold text-blue-600\">\r\n                  {systemMetrics.responseTime.toFixed(0)}ms\r\n                </div>\r\n                <div className=\"text-xs text-gray-600\"> </div>\r\n              </div>\r\n              <div className=\"text-center\">\r\n                <div className=\"text-lg font-bold text-green-600\">\r\n                  {systemMetrics.activeConnections}\r\n                </div>\r\n                <div className=\"text-xs text-gray-600\"> </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card title=\" \">\r\n          <div className=\"space-y-3 max-h-64 overflow-y-auto\">\r\n            {recentActivity.map((activity, index) => (\r\n              <div key={activity.id} className=\"flex items-start space-x-3 p-3 bg-gray-50 rounded\">\r\n                <div className={`w-2 h-2 rounded-full mt-2 ${\r\n                  activity.status === 'success' ? 'bg-green-500' :\r\n                  activity.status === 'warning' ? 'bg-yellow-500' : 'bg-red-500'\r\n                }`}></div>\r\n                <div className=\"flex-1\">\r\n                  <div className=\"text-sm font-medium\">{activity.action}</div>\r\n                  <div className=\"text-xs text-gray-600\">\r\n                    {activity.userName}  {activity.details}\r\n                  </div>\r\n                  <div className=\"text-xs text-gray-500 mt-1\">\r\n                    {new Date(activity.timestamp).toLocaleString('ko-KR')}\r\n                  </div>\r\n                </div>\r\n                <div className={`px-2 py-1 rounded text-xs ${\r\n                  activity.category === 'project' ? 'bg-blue-100 text-blue-800' :\r\n                  activity.category === 'evaluation' ? 'bg-green-100 text-green-800' :\r\n                  activity.category === 'subscription' ? 'bg-purple-100 text-purple-800' :\r\n                  'bg-gray-100 text-gray-800'\r\n                }`}>\r\n                  {activity.category}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </Card>\r\n      </div>\r\n\r\n      {/*   */}\r\n      <Card title=\"  \">\r\n        <div className=\"mb-4 flex justify-between items-center\">\r\n          <div className=\"flex space-x-2\">\r\n            {(['1h', '24h', '7d', '30d'] as const).map(range => (\r\n              <button\r\n                key={range}\r\n                onClick={() => setSelectedTimeRange(range)}\r\n                className={`px-3 py-1 text-sm rounded ${\r\n                  selectedTimeRange === range\r\n                    ? 'bg-blue-500 text-white'\r\n                    : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\r\n                }`}\r\n              >\r\n                {range}\r\n              </button>\r\n            ))}\r\n          </div>\r\n          <select\r\n            value={refreshInterval}\r\n            onChange={(e) => setRefreshInterval(Number(e.target.value))}\r\n            className=\"text-sm border rounded px-2 py-1\"\r\n          >\r\n            <option value={5000}>5</option>\r\n            <option value={10000}>10</option>\r\n            <option value={30000}>30</option>\r\n            <option value={60000}>1</option>\r\n          </select>\r\n        </div>\r\n        \r\n        <InteractiveCharts\r\n          data={{\r\n            labels: performanceData.slice(-12).map(d => \r\n              new Date(d.timestamp).toLocaleTimeString('ko-KR', { \r\n                hour: '2-digit', \r\n                minute: '2-digit' \r\n              })\r\n            ),\r\n            datasets: [{\r\n              label: ' (ms)',\r\n              data: performanceData.slice(-12).map(d => d.responseTime / 100), //  \r\n              backgroundColor: ['#3B82F6', '#10B981', '#F59E0B', '#EF4444']\r\n            }]\r\n          }}\r\n          chartType=\"line\"\r\n          title=\" \"\r\n        />\r\n      </Card>\r\n    </div>\r\n  );\r\n\r\n  const renderUserManagement = () => (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex justify-between items-center\">\r\n        <h2 className=\"text-2xl font-bold\"> </h2>\r\n        <div className=\"flex space-x-2\">\r\n          <Button variant=\"secondary\"> </Button>\r\n          <Button variant=\"primary\">  </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {/*   */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n        <Card title=\" \">\r\n          <div className=\"text-center\">\r\n            <div className=\"text-2xl font-bold text-blue-600\">12</div>\r\n            <div className=\"text-sm text-gray-600\"> </div>\r\n          </div>\r\n        </Card>\r\n        <Card title=\" \">\r\n          <div className=\"text-center\">\r\n            <div className=\"text-2xl font-bold text-green-600\">{stats.totalPersonalAdmins}</div>\r\n            <div className=\"text-sm text-gray-600\"></div>\r\n          </div>\r\n        </Card>\r\n        <Card title=\"\">\r\n          <div className=\"text-center\">\r\n            <div className=\"text-2xl font-bold text-purple-600\">\r\n              {stats.totalUsers - stats.totalPersonalAdmins - 12}\r\n            </div>\r\n            <div className=\"text-sm text-gray-600\"> </div>\r\n          </div>\r\n        </Card>\r\n      </div>\r\n\r\n      {/*   */}\r\n      <Card title=\" \">\r\n        <div className=\"space-y-4\">\r\n          <div className=\"flex space-x-4\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\" ...\"\r\n              className=\"border rounded px-3 py-2 flex-1\"\r\n            />\r\n            <select className=\"border rounded px-3 py-2\">\r\n              <option value=\"\"> </option>\r\n              <option value=\"super_admin\"> </option>\r\n              <option value=\"admin\"></option>\r\n              <option value=\"service_tester\"> </option>\r\n              <option value=\"evaluator\"></option>\r\n            </select>\r\n            <select className=\"border rounded px-3 py-2\">\r\n              <option value=\"\"> </option>\r\n              <option value=\"active\"></option>\r\n              <option value=\"inactive\"></option>\r\n              <option value=\"pending\"></option>\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"w-full text-sm\">\r\n              <thead className=\"bg-gray-50\">\r\n                <tr>\r\n                  <th className=\"px-4 py-2 text-left\"></th>\r\n                  <th className=\"px-4 py-2 text-left\"></th>\r\n                  <th className=\"px-4 py-2 text-left\"></th>\r\n                  <th className=\"px-4 py-2 text-left\"></th>\r\n                  <th className=\"px-4 py-2 text-left\"> </th>\r\n                  <th className=\"px-4 py-2 text-left\"></th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {/*    */}\r\n                {[\r\n                  { id: '1', name: '', email: 'kim@company.com', role: ' ', status: '', joinDate: '2024-01-15', lastLogin: '2024-03-10 09:30' },\r\n                  { id: '2', name: '', email: 'lee@startup.com', role: ' ', status: '', joinDate: '2024-02-01', lastLogin: '2024-03-10 14:20' },\r\n                  { id: '3', name: '', email: 'park@eval.com', role: '', status: '', joinDate: '2024-02-15', lastLogin: '2024-03-09 16:45' }\r\n                ].map(user => (\r\n                  <tr key={user.id} className=\"border-t hover:bg-gray-50\">\r\n                    <td className=\"px-4 py-2\">\r\n                      <div>\r\n                        <div className=\"font-medium\">{user.name}</div>\r\n                        <div className=\"text-gray-500\">{user.email}</div>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-4 py-2\">\r\n                      <span className={`px-2 py-1 rounded text-xs ${\r\n                        user.role === ' ' ? 'bg-red-100 text-red-800' :\r\n                        user.role === ' ' ? 'bg-blue-100 text-blue-800' :\r\n                        'bg-green-100 text-green-800'\r\n                      }`}>\r\n                        {user.role}\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"px-4 py-2\">\r\n                      <span className={`px-2 py-1 rounded text-xs ${\r\n                        user.status === '' ? 'bg-green-100 text-green-800' :\r\n                        user.status === '' ? 'bg-gray-100 text-gray-800' :\r\n                        'bg-yellow-100 text-yellow-800'\r\n                      }`}>\r\n                        {user.status}\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"px-4 py-2\">{user.joinDate}</td>\r\n                    <td className=\"px-4 py-2\">{user.lastLogin}</td>\r\n                    <td className=\"px-4 py-2\">\r\n                      <div className=\"flex space-x-1\">\r\n                        <button className=\"text-blue-600 hover:text-blue-800 text-xs\"></button>\r\n                        <button className=\"text-red-600 hover:text-red-800 text-xs\"></button>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  );\r\n\r\n  const renderSecurityMonitoring = () => (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex justify-between items-center\">\r\n        <h2 className=\"text-2xl font-bold\"> </h2>\r\n        <div className=\"flex space-x-2\">\r\n          <Button variant=\"secondary\"> </Button>\r\n          <Button variant=\"primary\"> </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {/*   */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\r\n        <Card title=\" \">\r\n          <div className=\"text-center\">\r\n            <div className=\"text-3xl font-bold text-green-600\">94</div>\r\n            <div className=\"text-sm text-gray-600\">/ 100</div>\r\n            <div className=\"text-xs text-green-600 mt-1\"></div>\r\n          </div>\r\n        </Card>\r\n        <Card title=\"  \">\r\n          <div className=\"text-center\">\r\n            <div className=\"text-3xl font-bold text-yellow-600\">{systemMetrics.errors24h}</div>\r\n            <div className=\"text-sm text-gray-600\"></div>\r\n            <div className=\"text-xs text-yellow-600 mt-1\"> </div>\r\n          </div>\r\n        </Card>\r\n        <Card title=\" \">\r\n          <div className=\"text-center\">\r\n            <div className=\"text-3xl font-bold text-red-600\">2</div>\r\n            <div className=\"text-sm text-gray-600\"></div>\r\n            <div className=\"text-xs text-red-600 mt-1\"> </div>\r\n          </div>\r\n        </Card>\r\n        <Card title=\"\">\r\n          <div className=\"text-center\">\r\n            <div className=\"text-3xl font-bold text-blue-600\">\r\n              {systemMetrics.successRate.toFixed(1)}%\r\n            </div>\r\n            <div className=\"text-sm text-gray-600\">24</div>\r\n            <div className=\"text-xs text-blue-600 mt-1\"></div>\r\n          </div>\r\n        </Card>\r\n      </div>\r\n\r\n      {/*   */}\r\n      <Card title=\"  \">\r\n        <div className=\"space-y-3\">\r\n          {securityEvents.map(event => (\r\n            <div key={event.id} className=\"flex items-start space-x-3 p-4 border rounded\">\r\n              <div className={`w-3 h-3 rounded-full mt-1 ${\r\n                event.severity === 'critical' ? 'bg-red-500' :\r\n                event.severity === 'high' ? 'bg-orange-500' :\r\n                event.severity === 'medium' ? 'bg-yellow-500' : 'bg-blue-500'\r\n              }`}></div>\r\n              <div className=\"flex-1\">\r\n                <div className=\"flex justify-between items-start\">\r\n                  <div>\r\n                    <div className=\"font-medium\">{event.description}</div>\r\n                    <div className=\"text-sm text-gray-600 mt-1\">\r\n                      IP: {event.ipAddress}  {new Date(event.timestamp).toLocaleString('ko-KR')}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <span className={`px-2 py-1 rounded text-xs ${\r\n                      event.severity === 'critical' ? 'bg-red-100 text-red-800' :\r\n                      event.severity === 'high' ? 'bg-orange-100 text-orange-800' :\r\n                      event.severity === 'medium' ? 'bg-yellow-100 text-yellow-800' : \r\n                      'bg-blue-100 text-blue-800'\r\n                    }`}>\r\n                      {event.severity}\r\n                    </span>\r\n                    {event.resolved ? (\r\n                      <span className=\"px-2 py-1 rounded text-xs bg-green-100 text-green-800\">\r\n                        \r\n                      </span>\r\n                    ) : (\r\n                      <button className=\"px-2 py-1 text-xs bg-red-600 text-white rounded hover:bg-red-700\">\r\n                        \r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  );\r\n\r\n  const renderSubscriptionManagement = () => (\r\n    <div className=\"space-y-6\">\r\n      <SubscriptionDashboard user={user} />\r\n      \r\n      {/*     */}\r\n      <Card title=\"  \">\r\n        <div className=\"space-y-4\">\r\n          {plans.map(plan => (\r\n            <div key={plan.id} className=\"border rounded p-4\">\r\n              <div className=\"flex justify-between items-start\">\r\n                <div>\r\n                  <h4 className=\"font-medium\">{plan.name}</h4>\r\n                  <p className=\"text-gray-600 text-sm\">{plan.description}</p>\r\n                  <div className=\"mt-2\">\r\n                    <span className=\"text-lg font-bold\">\r\n                      {plan.price.toLocaleString()}/\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"text-right\">\r\n                  <div className=\"text-sm text-gray-600\">\r\n                    : {subscriptions.filter(s => s.planId === plan.id).length}\r\n                  </div>\r\n                  <div className=\"mt-2 space-x-2\">\r\n                    <button className=\"text-blue-600 hover:text-blue-800 text-sm\"></button>\r\n                    <button className=\"text-red-600 hover:text-red-800 text-sm\"></button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  );\r\n\r\n  const renderSystemLogs = () => (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex justify-between items-center\">\r\n        <h2 className=\"text-2xl font-bold\"> </h2>\r\n        <div className=\"flex space-x-2\">\r\n          <select className=\"border rounded px-3 py-2 text-sm\">\r\n            <option value=\"\"> </option>\r\n            <option value=\"login\"></option>\r\n            <option value=\"project\"></option>\r\n            <option value=\"evaluation\"></option>\r\n            <option value=\"subscription\"></option>\r\n            <option value=\"admin\"></option>\r\n          </select>\r\n          <Button variant=\"secondary\"> </Button>\r\n        </div>\r\n      </div>\r\n\r\n      <Card title=\" \">\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"w-full text-sm\">\r\n            <thead className=\"bg-gray-50\">\r\n              <tr>\r\n                <th className=\"px-4 py-2 text-left\"></th>\r\n                <th className=\"px-4 py-2 text-left\"></th>\r\n                <th className=\"px-4 py-2 text-left\"></th>\r\n                <th className=\"px-4 py-2 text-left\"></th>\r\n                <th className=\"px-4 py-2 text-left\"></th>\r\n                <th className=\"px-4 py-2 text-left\">IP </th>\r\n                <th className=\"px-4 py-2 text-left\"></th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {recentActivity.map((activity, index) => (\r\n                <tr key={activity.id} className=\"border-t hover:bg-gray-50\">\r\n                  <td className=\"px-4 py-2\">\r\n                    {new Date(activity.timestamp).toLocaleString('ko-KR')}\r\n                  </td>\r\n                  <td className=\"px-4 py-2\">{activity.userName}</td>\r\n                  <td className=\"px-4 py-2\">{activity.action}</td>\r\n                  <td className=\"px-4 py-2\">\r\n                    <span className={`px-2 py-1 rounded text-xs ${\r\n                      activity.category === 'project' ? 'bg-blue-100 text-blue-800' :\r\n                      activity.category === 'evaluation' ? 'bg-green-100 text-green-800' :\r\n                      activity.category === 'subscription' ? 'bg-purple-100 text-purple-800' :\r\n                      'bg-gray-100 text-gray-800'\r\n                    }`}>\r\n                      {activity.category}\r\n                    </span>\r\n                  </td>\r\n                  <td className=\"px-4 py-2\">\r\n                    <span className={`px-2 py-1 rounded text-xs ${\r\n                      activity.status === 'success' ? 'bg-green-100 text-green-800' :\r\n                      activity.status === 'warning' ? 'bg-yellow-100 text-yellow-800' :\r\n                      'bg-red-100 text-red-800'\r\n                    }`}>\r\n                      {activity.status}\r\n                    </span>\r\n                  </td>\r\n                  <td className=\"px-4 py-2 font-mono text-xs\">{activity.ipAddress}</td>\r\n                  <td className=\"px-4 py-2\">{activity.details}</td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  );\r\n\r\n  const renderSystemManagement = () => (\r\n    <SystemManagement className=\"space-y-6\" />\r\n  );\r\n\r\n  const renderContent = () => {\r\n    if (loading) {\r\n      return (\r\n        <div className=\"flex justify-center items-center h-64\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    switch (activeMenu) {\r\n      case 'users':\r\n        return renderUserManagement();\r\n      case 'security':\r\n        return renderSecurityMonitoring();\r\n      case 'subscriptions':\r\n        return renderSubscriptionManagement();\r\n      case 'logs':\r\n        return renderSystemLogs();\r\n      case 'system':\r\n        return renderSystemManagement();\r\n      case 'overview':\r\n      default:\r\n        return renderOverview();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {actionMessage && (\r\n        <div className={`fixed top-4 right-4 z-50 px-4 py-3 rounded-lg text-sm font-medium shadow-lg ${actionMessage.type === 'success' ? 'bg-green-100 text-green-800' : actionMessage.type === 'info' ? 'bg-blue-100 text-blue-800' : 'bg-red-100 text-red-800'}`}>\r\n          {actionMessage.text}\r\n        </div>\r\n      )}\r\n      <PageHeader\r\n        title=\"  \"\r\n        description=\"     \"\r\n        icon=\"\"\r\n        actions={\r\n          <div className=\"flex items-center space-x-4\">\r\n            <div className=\"flex items-center space-x-2\">\r\n              <div className={`w-3 h-3 rounded-full ${\r\n                systemMetrics.successRate > 99 ? 'bg-green-500' :\r\n                systemMetrics.successRate > 95 ? 'bg-yellow-500' : 'bg-red-500'\r\n              }`}></div>\r\n              <span className=\"text-sm text-gray-600\">\r\n                  ({systemMetrics.successRate.toFixed(1)}%)\r\n              </span>\r\n            </div>\r\n            <Button variant=\"secondary\" onClick={loadDashboardData}>\r\n              \r\n            </Button>\r\n          </div>\r\n        }\r\n        className=\"bg-white\"\r\n      />\r\n\r\n      {/*   */}\r\n      <div className=\"bg-white border-b border-gray-200\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <nav className=\"flex space-x-8\">\r\n            {[\r\n              { id: 'overview', name: '', icon: '' },\r\n              { id: 'users', name: ' ', icon: '' },\r\n              { id: 'subscriptions', name: ' ', icon: '' },\r\n              { id: 'security', name: ' ', icon: '' },\r\n              { id: 'system', name: ' ', icon: '' },\r\n              { id: 'logs', name: ' ', icon: '' }\r\n            ].map(tab => (\r\n              <button\r\n                key={tab.id}\r\n                onClick={() => handleTabChange(tab.id)}\r\n                className={`py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${\r\n                  activeMenu === tab.id\r\n                    ? 'border-blue-500 text-blue-600'\r\n                    : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n                }`}\r\n              >\r\n                <span>{tab.icon}</span>\r\n                <span>{tab.name}</span>\r\n              </button>\r\n            ))}\r\n          </nav>\r\n        </div>\r\n      </div>\r\n\r\n      {/*   */}\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        {renderContent()}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EnhancedSuperAdminDashboard;","import React from 'react';\r\n\r\ninterface PageHeaderProps {\r\n  /**   */\r\n  title: string;\r\n  /**   */\r\n  description?: string;\r\n  /**  (  SVG) */\r\n  icon?: React.ReactNode;\r\n  /**     */\r\n  onBack?: () => void;\r\n  /**    */\r\n  actions?: React.ReactNode;\r\n  /**     */\r\n  children?: React.ReactNode;\r\n  /**    */\r\n  className?: string;\r\n}\r\n\r\n/**\r\n *    \r\n * \r\n *      .\r\n * Sticky ,  ,    .\r\n */\r\nconst PageHeader: React.FC<PageHeaderProps> = ({\r\n  title,\r\n  description,\r\n  icon,\r\n  onBack,\r\n  actions,\r\n  children,\r\n  className = ''\r\n}) => {\r\n  return (\r\n    <div className={`bg-white border-b border-gray-200 sticky top-0 z-10 ${className}`}>\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        <div className=\"py-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            {/*  :  +  */}\r\n            <div className=\"flex items-center\">\r\n              {onBack && (\r\n                <button \r\n                  onClick={onBack}\r\n                  className=\"mr-4 text-gray-500 hover:text-gray-700 transition-colors text-2xl\"\r\n                  title=\"\"\r\n                >\r\n                  \r\n                </button>\r\n              )}\r\n              <div>\r\n                <h1 className=\"text-3xl font-bold text-gray-900 flex items-center\">\r\n                  {icon && (\r\n                    <span className=\"text-4xl mr-3\">\r\n                      {icon}\r\n                    </span>\r\n                  )}\r\n                  {title}\r\n                </h1>\r\n                {description && (\r\n                  <p className=\"text-gray-600 mt-2\">\r\n                    {description}\r\n                  </p>\r\n                )}\r\n              </div>\r\n            </div>\r\n            \r\n            {/*  :   */}\r\n            {actions && (\r\n              <div className=\"flex items-center space-x-3\">\r\n                {actions}\r\n              </div>\r\n            )}\r\n          </div>\r\n          \r\n          {/*    */}\r\n          {children && (\r\n            <div className=\"mt-6\">\r\n              {children}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PageHeader;"],"names":["SubscriptionService","request","endpoint","options","arguments","length","undefined","response","fetch","concat","API_BASE_URL","_objectSpread","credentials","headers","ok","error","json","catch","message","Error","getAvailablePlans","this","getPlanDetails","planId","getCurrentSubscription","userId","subscribeToPlan","method","body","JSON","stringify","cancelSubscription","subscriptionId","renewSubscription","getUsage","checkLimits","resource","required","resource_type","required_amount","allowed","getProjectLimits","projectId","maxEvaluators","maxSurveys","maxCriteria","maxAlternatives","remainingEvaluators","remainingSurveys","remainingCriteria","remainingAlternatives","createPersonalAdmin","adminData","getPersonalAdmins","superAdminId","updatePersonalAdminLimits","adminId","limits","deactivatePersonalAdmin","getUsageAlerts","markAlertAsRead","alertId","getPaymentHistory","updatePaymentMethod","paymentMethodData","validateCoupon","couponCode","coupon_code","plan_id","getAllSubscriptions","getSubscriptionStats","createCustomPlan","planData","updatePlan","getDefaultPlans","id","name","description","price","currency","duration","features","included","limit","maxPersonalAdmins","maxProjectsPerAdmin","maxSurveysPerProject","maxEvaluatorsPerProject","maxCriteriaPerProject","maxAlternativesPerProject","storageLimit","supportLevel","advancedFeatures","isActive","isPopular","subscriptionService","_ref","user","className","subscription","setSubscription","useState","usage","setUsage","plans","setPlans","personalAdmins","setPersonalAdmins","loading","setLoading","setError","activeTab","setActiveTab","actionMessage","setActionMessage","showActionMessage","type","text","setTimeout","loadSubscriptionData","useCallback","async","process","demoSubscription","status","startDate","Date","toISOString","endDate","now","autoRenew","currentUsage","personalAdminsCount","totalProjectsCount","totalSurveysCount","storageUsed","lastUpdated","paymentHistory","demoUsage","demoPlans","role","demoAdmins","email","first_name","last_name","parentAdminId","createdBy","createdAt","updatedAt","subData","usageData","plansData","Promise","all","adminsData","err","useEffect","formatPrice","Intl","NumberFormat","style","format","_jsx","children","_jsxs","Card","title","onClick","currentPlan","find","p","icon","map","tab","toLocaleDateString","label","current","item","percentage","Math","min","getUsagePercentage","color","getUsageColor","width","plan","feature","result","paymentMethod","success","handleSubscribe","disabled","admin","data","chartType","selectedChart","setSelectedChart","hoveredIndex","setHoveredIndex","colors","BarChart","_ref2","maxValue","max","datasets","chartHeight","chartWidth","barWidth","labels","barSpacing","height","x1","y1","x2","y2","stroke","strokeWidth","tick","i","x","y","textAnchor","fontSize","fill","toFixed","value","index","barHeight","onMouseEnter","onMouseLeave","fontWeight","substring","PieChart","_ref3","centerX","centerY","radius","total","reduce","sum","currentAngle","angle","startAngle","endAngle","startX","cos","PI","startY","sin","endX","endY","largeArcFlag","pathData","join","labelAngle","labelX","labelY","d","dominantBaseline","backgroundColor","RadarChart","_ref4","numPoints","getPoint","r","getAxisEndPoint","dataPath","point","scale","cx","cy","_","endPoint","LineChart","_ref5","pointSpacing","points","strokeLinejoin","strokeLinecap","chart","renderChart","val","getSystemHeaders","accessToken","localStorage","getItem","sessionStorage","makeSystemRequest","_data$data","_data3","_data4","url","contentType","get","includes","_data","_data2","console","systemManagementService","getConfigurations","updateConfiguration","configId","resetConfiguration","getBackups","createBackup","backup_type","downloadBackup","backupId","restoreBackup","deleteBackup","getSystemHealth","runHealthCheck","getMaintenanceTasks","runMaintenanceTask","taskId","scheduleMaintenanceTask","schedule","cron_schedule","clearCache","cache_type","cacheType","getCacheStats","optimizeDatabase","rebuildIndexes","updateStatistics","cleanupData","older_than_days","olderThanDays","archiveLogs","analyzeLogs","logLevel","hours","log_level","deleteOldLogs","compressLogs","checkForUpdates","downloadUpdate","version","installUpdate","getUpdateHistory","getTaskStatus","getSystemInfo","exportConfiguration","importConfiguration","formData","FormData","append","configFile","systemUtils","validateConfigValue","config","num","parseFloat","isNaN","valid","validation_regex","RegExp","test","category","general","security","performance","notification","backup","full","incremental","differential","completed","running","failed","scheduled","pending","good","warning","connected","disconnected","slow","active","inactive","online","offline","degraded","onError","onSuccess","activeSection","setActiveSection","configurations","setConfigurations","backups","setBackups","systemHealth","setSystemHealth","maintenanceTasks","setMaintenanceTasks","setSuccess","setRunningTasks","Set","showConfirmModal","setShowConfirmModal","confirmAction","setConfirmAction","monitorIntervalsRef","useRef","loadSystemData","intervals","forEach","clearInterval","configResponse","getDefaultConfigurations","backupResponse","healthResponse","tasksResponse","getDefaultMaintenanceTasks","errorMessage","key","handleConfigUpdate","newValue","c","validation","prev","successMessage","restart_required","handleBackupCreate","confirmMessage","action","_response$data","task_id","newSet","add","monitorTask","checkInterval","setInterval","delete","newTasks","handleMaintenanceTask","task","t","_response$data2","handleCacheClear","typeNames","application","images","sessions","handleHealthCheck","ExclamationTriangleIcon","CheckCircleIcon","section","Button","variant","categoryConfigs","filter","_config$options","onChange","e","target","option","sensitive","size","timestamp","toLocaleString","b","location","handleBackupDownload","_response$data3","handleBackupRestore","handleBackupDelete","_Fragment","disk_usage","memory_usage","network_status","database_status","date","update","Modal","isOpen","onClose","externalActiveTab","onTabChange","externalOnTabChange","activeMenu","setActiveMenu","stats","setStats","totalUsers","totalPersonalAdmins","totalProjects","activeProjects","totalEvaluations","totalRevenue","activeSubscriptions","systemUptime","monthlyGrowth","systemMetrics","setSystemMetrics","cpu","memory","responseTime","activeConnections","errors24h","successRate","recentActivity","setRecentActivity","securityEvents","setSecurityEvents","performanceData","setPerformanceData","subscriptions","setSubscriptions","selectedTimeRange","setSelectedTimeRange","refreshInterval","setRefreshInterval","loadDashboardData","subscriptionStats","allSubscriptions","availablePlans","totalActiveSubscriptions","userName","details","ipAddress","userAgent","severity","resolved","interval","PageHeader","actions","handleTabChange","renderContent","placeholder","joinDate","lastLogin","event","SubscriptionDashboard","s","activity","SystemManagement","range","Number","InteractiveCharts","slice","toLocaleTimeString","hour","minute","onBack"],"sourceRoot":""}