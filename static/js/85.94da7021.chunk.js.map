{"version":3,"file":"static/js/85.94da7021.chunk.js","mappings":"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","sources":["components/admin/UserManagement.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport Card from '../common/Card';\r\nimport Button from '../common/Button';\r\nimport Input from '../common/Input';\r\nimport Modal from '../common/Modal';\r\nimport type { UserRole } from '../../types';\r\n\r\ninterface User {\r\n  id: string;\r\n  email: string;\r\n  first_name: string;\r\n  last_name: string;\r\n  role: UserRole;\r\n  created_at: string;\r\n  last_login?: string;\r\n  status: 'active' | 'inactive';\r\n}\r\n\r\ninterface UserManagementProps {\r\n  users: User[];\r\n  loading: boolean;\r\n  onCreateUser: (userData: Omit<User, 'id' | 'created_at' | 'last_login'>) => Promise<void>;\r\n  onUpdateUser: (userId: string, userData: Partial<User>) => Promise<void>;\r\n  onDeleteUser: (userId: string) => Promise<void>;\r\n  onRefresh: () => Promise<void>;\r\n}\r\n\r\nconst UserManagement: React.FC<UserManagementProps> = ({\r\n  users,\r\n  loading,\r\n  onCreateUser,\r\n  onUpdateUser,\r\n  onDeleteUser,\r\n  onRefresh\r\n}) => {\r\n  const [showCreateForm, setShowCreateForm] = useState(false);\r\n  const [editingUser, setEditingUser] = useState<User | null>(null);\r\n  const [pendingDeleteUser, setPendingDeleteUser] = useState<User | null>(null);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [roleFilter, setRoleFilter] = useState<'all' | UserRole>('all');\r\n  const [createLoading, setCreateLoading] = useState(false);\r\n  const [actionMessage, setActionMessage] = useState<{type:'success'|'error'|'info', text:string}|null>(null);\r\n\r\n  const showActionMessage = (type: 'success'|'error'|'info', text: string) => {\r\n    setActionMessage({type, text});\r\n    setTimeout(() => setActionMessage(null), 3000);\r\n  };\r\n  const [formData, setFormData] = useState({\r\n    email: '',\r\n    first_name: '',\r\n    last_name: '',\r\n    role: 'evaluator' as UserRole,\r\n    password: '',\r\n    confirmPassword: '',\r\n    status: 'active' as 'active' | 'inactive'\r\n  });\r\n  const [errors, setErrors] = useState<Record<string, string>>({});\r\n\r\n  // 필터링된 사용자 목록\r\n  const filteredUsers = users.filter(user => {\r\n    const matchesSearch = \r\n      user.email.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      `${user.first_name} ${user.last_name}`.toLowerCase().includes(searchTerm.toLowerCase());\r\n    \r\n    const matchesRole = roleFilter === 'all' || user.role === roleFilter;\r\n    \r\n    return matchesSearch && matchesRole;\r\n  });\r\n\r\n  const validateForm = (): boolean => {\r\n    const newErrors: Record<string, string> = {};\r\n\r\n    if (!formData.email.trim()) {\r\n      newErrors.email = '이메일을 입력해주세요.';\r\n    } else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(formData.email)) {\r\n      newErrors.email = '올바른 이메일 형식을 입력해주세요.';\r\n    }\r\n\r\n    if (!formData.first_name.trim()) {\r\n      newErrors.first_name = '이름을 입력해주세요.';\r\n    }\r\n\r\n    if (!formData.last_name.trim()) {\r\n      newErrors.last_name = '성을 입력해주세요.';\r\n    }\r\n\r\n    if (!editingUser) {\r\n      if (!formData.password) {\r\n        newErrors.password = '비밀번호를 입력해주세요.';\r\n      } else if (formData.password.length < 6) {\r\n        newErrors.password = '비밀번호는 6자 이상이어야 합니다.';\r\n      }\r\n\r\n      if (formData.password !== formData.confirmPassword) {\r\n        newErrors.confirmPassword = '비밀번호가 일치하지 않습니다.';\r\n      }\r\n    }\r\n\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    if (!validateForm()) {\r\n      return;\r\n    }\r\n\r\n    setCreateLoading(true);\r\n    \r\n    try {\r\n      if (editingUser) {\r\n        // 수정\r\n        await onUpdateUser(editingUser.id, {\r\n          email: formData.email,\r\n          first_name: formData.first_name,\r\n          last_name: formData.last_name,\r\n          role: formData.role,\r\n          status: formData.status\r\n        });\r\n      } else {\r\n        // 생성\r\n        await onCreateUser({\r\n          email: formData.email,\r\n          first_name: formData.first_name,\r\n          last_name: formData.last_name,\r\n          role: formData.role,\r\n          status: formData.status\r\n        });\r\n      }\r\n      \r\n      resetForm();\r\n      setShowCreateForm(false);\r\n      setEditingUser(null);\r\n    } catch (error) {\r\n      setErrors({ \r\n        general: error instanceof Error ? error.message : '사용자 처리에 실패했습니다.' \r\n      });\r\n    } finally {\r\n      setCreateLoading(false);\r\n    }\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setFormData({\r\n      email: '',\r\n      first_name: '',\r\n      last_name: '',\r\n      role: 'evaluator',\r\n      password: '',\r\n      confirmPassword: '',\r\n      status: 'active'\r\n    });\r\n    setErrors({});\r\n  };\r\n\r\n  const handleEdit = (user: User) => {\r\n    setEditingUser(user);\r\n    setFormData({\r\n      email: user.email,\r\n      first_name: user.first_name,\r\n      last_name: user.last_name,\r\n      role: user.role,\r\n      password: '',\r\n      confirmPassword: '',\r\n      status: user.status\r\n    });\r\n    setShowCreateForm(true);\r\n    setErrors({});\r\n  };\r\n\r\n  const handleDelete = (user: User) => {\r\n    setPendingDeleteUser(user);\r\n  };\r\n\r\n  const handleConfirmDelete = async () => {\r\n    if (!pendingDeleteUser) return;\r\n    const user = pendingDeleteUser;\r\n    setPendingDeleteUser(null);\r\n    try {\r\n      await onDeleteUser(user.id);\r\n    } catch (error) {\r\n      showActionMessage('error', error instanceof Error ? error.message : '사용자 삭제에 실패했습니다.');\r\n    }\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setShowCreateForm(false);\r\n    setEditingUser(null);\r\n    resetForm();\r\n  };\r\n\r\n  const handleInputChange = (field: string, value: string) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [field]: value\r\n    }));\r\n    \r\n    // Clear error when user starts typing\r\n    if (errors[field]) {\r\n      setErrors(prev => ({\r\n        ...prev,\r\n        [field]: ''\r\n      }));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-6xl mx-auto\">\r\n      {actionMessage && (\r\n        <div className={`fixed top-4 right-4 z-50 px-4 py-3 rounded-lg text-sm font-medium shadow-lg ${actionMessage.type === 'success' ? 'bg-green-100 text-green-800' : actionMessage.type === 'info' ? 'bg-blue-100 text-blue-800' : 'bg-red-100 text-red-800'}`}>\r\n          {actionMessage.text}\r\n        </div>\r\n      )}\r\n\r\n      <Modal\r\n        isOpen={pendingDeleteUser !== null}\r\n        onClose={() => setPendingDeleteUser(null)}\r\n        title=\"사용자 삭제\"\r\n        size=\"sm\"\r\n        footer={\r\n          <div className=\"flex justify-end space-x-3\">\r\n            <Button variant=\"secondary\" onClick={() => setPendingDeleteUser(null)}>\r\n              취소\r\n            </Button>\r\n            <Button variant=\"error\" onClick={handleConfirmDelete}>\r\n              삭제\r\n            </Button>\r\n          </div>\r\n        }\r\n      >\r\n        <p className=\"text-sm text-gray-600\">\r\n          사용자 \"{pendingDeleteUser?.first_name} {pendingDeleteUser?.last_name}\"를 정말 삭제하시겠습니까?\r\n        </p>\r\n      </Modal>\r\n\r\n      <div className=\"mb-6\">\r\n        <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">\r\n          사용자 관리\r\n        </h1>\r\n        <p className=\"text-gray-600\">\r\n          시스템 사용자를 생성, 수정, 삭제할 수 있습니다.\r\n        </p>\r\n      </div>\r\n\r\n      {/* 액션 버튼 및 필터 */}\r\n      <Card>\r\n        <div className=\"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0 mb-6\">\r\n          <div className=\"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4\">\r\n            <Input\r\n              id=\"search\"\r\n              placeholder=\"이름 또는 이메일로 검색...\"\r\n              value={searchTerm}\r\n              onChange={setSearchTerm}\r\n              className=\"min-w-[200px]\"\r\n            />\r\n            \r\n            <select\r\n              value={roleFilter}\r\n              onChange={(e) => setRoleFilter(e.target.value as 'all' | UserRole)}\r\n              className=\"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n            >\r\n              <option value=\"all\">모든 역할</option>\r\n              <option value=\"super_admin\">총괄 관리자</option>\r\n              <option value=\"admin\">관리자</option>\r\n              <option value=\"evaluator\">평가자</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"flex space-x-2\">\r\n            <Button\r\n              variant=\"secondary\"\r\n              onClick={onRefresh}\r\n              loading={loading}\r\n            >\r\n              새로고침\r\n            </Button>\r\n            <Button\r\n              variant=\"primary\"\r\n              onClick={() => setShowCreateForm(true)}\r\n            >\r\n              새 사용자 추가\r\n            </Button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* 통계 */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6\">\r\n          <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\r\n            <div className=\"text-2xl font-bold text-blue-900\">{users.length}</div>\r\n            <div className=\"text-sm text-blue-700\">전체 사용자</div>\r\n          </div>\r\n          <div className=\"bg-purple-50 border border-purple-200 rounded-lg p-4\">\r\n            <div className=\"text-2xl font-bold text-purple-900\">\r\n              {users.filter(u => u.role === 'super_admin').length}\r\n            </div>\r\n            <div className=\"text-sm text-purple-700\">총괄 관리자</div>\r\n          </div>\r\n          <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\r\n            <div className=\"text-2xl font-bold text-red-900\">\r\n              {users.filter(u => u.role === 'service_admin').length}\r\n            </div>\r\n            <div className=\"text-sm text-red-700\">관리자</div>\r\n          </div>\r\n          <div className=\"bg-green-50 border border-green-200 rounded-lg p-4\">\r\n            <div className=\"text-2xl font-bold text-green-900\">\r\n              {users.filter(u => u.role === 'evaluator').length}\r\n            </div>\r\n            <div className=\"text-sm text-green-700\">평가자</div>\r\n          </div>\r\n          <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\r\n            <div className=\"text-2xl font-bold text-yellow-900\">\r\n              {users.filter(u => u.status === 'active').length}\r\n            </div>\r\n            <div className=\"text-sm text-yellow-700\">활성 사용자</div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* 사용자 목록 */}\r\n        {loading ? (\r\n          <div className=\"text-center py-8\">데이터 로딩 중...</div>\r\n        ) : filteredUsers.length === 0 ? (\r\n          <div className=\"text-gray-500 text-center py-8\">\r\n            {searchTerm || roleFilter !== 'all' ? '검색 조건에 맞는 사용자가 없습니다.' : '등록된 사용자가 없습니다.'}\r\n          </div>\r\n        ) : (\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"min-w-full divide-y divide-gray-200\">\r\n              <thead className=\"bg-gray-50\">\r\n                <tr>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">사용자</th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">이메일</th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">역할</th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">상태</th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">가입일</th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">마지막 로그인</th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">작업</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                {filteredUsers.map((user) => (\r\n                  <tr key={user.id} className=\"hover:bg-gray-50\">\r\n                    <td className=\"px-6 py-4\">\r\n                      <div className=\"text-sm font-medium text-gray-900\">\r\n                        {user.first_name} {user.last_name}\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 text-sm text-gray-500\">\r\n                      {user.email}\r\n                    </td>\r\n                    <td className=\"px-6 py-4\">\r\n                      <span className={`px-2 py-1 rounded-full text-xs font-medium ${\r\n                        user.role === 'super_admin' \r\n                          ? 'bg-purple-100 text-purple-800'\r\n                          : user.role === 'service_admin' \r\n                          ? 'bg-red-100 text-red-800'\r\n                          : user.role === 'service_user'\r\n                          ? 'bg-green-100 text-green-800'\r\n                          : 'bg-blue-100 text-blue-800'\r\n                      }`}>\r\n                        {user.role === 'super_admin' ? '시스템 관리자' : user.role === 'service_admin' ? '서비스 관리자' : user.role === 'service_user' ? '서비스 사용자' : '평가자'}\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"px-6 py-4\">\r\n                      <span className={`px-2 py-1 rounded-full text-xs font-medium ${\r\n                        user.status === 'active'\r\n                          ? 'bg-green-100 text-green-800'\r\n                          : 'bg-gray-100 text-gray-800'\r\n                      }`}>\r\n                        {user.status === 'active' ? '활성' : '비활성'}\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 text-sm text-gray-500\">\r\n                      {new Date(user.created_at).toLocaleDateString()}\r\n                    </td>\r\n                    <td className=\"px-6 py-4 text-sm text-gray-500\">\r\n                      {user.last_login \r\n                        ? new Date(user.last_login).toLocaleDateString()\r\n                        : '없음'\r\n                      }\r\n                    </td>\r\n                    <td className=\"px-6 py-4 text-sm space-x-2\">\r\n                      <Button\r\n                        variant=\"secondary\"\r\n                        size=\"sm\"\r\n                        onClick={() => handleEdit(user)}\r\n                      >\r\n                        수정\r\n                      </Button>\r\n                      <Button\r\n                        variant=\"error\"\r\n                        size=\"sm\"\r\n                        onClick={() => handleDelete(user)}\r\n                      >\r\n                        삭제\r\n                      </Button>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        )}\r\n      </Card>\r\n\r\n      {/* 사용자 생성/수정 폼 */}\r\n      {showCreateForm && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\r\n          <div className=\"bg-white rounded-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto\">\r\n            <h3 className=\"text-lg font-medium text-gray-900 mb-4\">\r\n              {editingUser ? '사용자 수정' : '새 사용자 추가'}\r\n            </h3>\r\n\r\n            {errors.general && (\r\n              <div className=\"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg\">\r\n                <p className=\"text-sm text-red-600\">{errors.general}</p>\r\n              </div>\r\n            )}\r\n\r\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n              <Input\r\n                id=\"email\"\r\n                label=\"이메일\"\r\n                type=\"email\"\r\n                placeholder=\"user@example.com\"\r\n                value={formData.email}\r\n                onChange={(value) => handleInputChange('email', value)}\r\n                error={errors.email}\r\n                required\r\n              />\r\n\r\n              <Input\r\n                id=\"first_name\"\r\n                label=\"이름\"\r\n                placeholder=\"홍길동\"\r\n                value={formData.first_name}\r\n                onChange={(value) => handleInputChange('first_name', value)}\r\n                error={errors.first_name}\r\n                required\r\n              />\r\n\r\n              <Input\r\n                id=\"last_name\"\r\n                label=\"성\"\r\n                placeholder=\"홍\"\r\n                value={formData.last_name}\r\n                onChange={(value) => handleInputChange('last_name', value)}\r\n                error={errors.last_name}\r\n                required\r\n              />\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  역할 <span className=\"text-red-500\">*</span>\r\n                </label>\r\n                <select\r\n                  value={formData.role}\r\n                  onChange={(e) => handleInputChange('role', e.target.value)}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                  required\r\n                >\r\n                  <option value=\"evaluator\">평가자</option>\r\n                  <option value=\"admin\">관리자</option>\r\n                  <option value=\"super_admin\">총괄 관리자</option>\r\n                </select>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  상태 <span className=\"text-red-500\">*</span>\r\n                </label>\r\n                <select\r\n                  value={formData.status}\r\n                  onChange={(e) => handleInputChange('status', e.target.value)}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                  required\r\n                >\r\n                  <option value=\"active\">활성</option>\r\n                  <option value=\"inactive\">비활성</option>\r\n                </select>\r\n              </div>\r\n\r\n              {!editingUser && (\r\n                <>\r\n                  <Input\r\n                    id=\"password\"\r\n                    label=\"비밀번호\"\r\n                    type=\"password\"\r\n                    placeholder=\"6자 이상 입력하세요\"\r\n                    value={formData.password}\r\n                    onChange={(value) => handleInputChange('password', value)}\r\n                    error={errors.password}\r\n                    required\r\n                  />\r\n\r\n                  <Input\r\n                    id=\"confirmPassword\"\r\n                    label=\"비밀번호 확인\"\r\n                    type=\"password\"\r\n                    placeholder=\"비밀번호를 다시 입력하세요\"\r\n                    value={formData.confirmPassword}\r\n                    onChange={(value) => handleInputChange('confirmPassword', value)}\r\n                    error={errors.confirmPassword}\r\n                    required\r\n                  />\r\n                </>\r\n              )}\r\n\r\n              <div className=\"flex justify-end space-x-4 pt-4\">\r\n                <Button\r\n                  type=\"button\"\r\n                  variant=\"secondary\"\r\n                  onClick={handleCancel}\r\n                  disabled={createLoading}\r\n                >\r\n                  취소\r\n                </Button>\r\n                <Button\r\n                  type=\"submit\"\r\n                  variant=\"primary\"\r\n                  loading={createLoading}\r\n                  disabled={createLoading}\r\n                >\r\n                  {editingUser ? '수정' : '생성'}\r\n                </Button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserManagement;"],"names":["_ref","users","loading","onCreateUser","onUpdateUser","onDeleteUser","onRefresh","showCreateForm","setShowCreateForm","useState","editingUser","setEditingUser","pendingDeleteUser","setPendingDeleteUser","searchTerm","setSearchTerm","roleFilter","setRoleFilter","createLoading","setCreateLoading","actionMessage","setActionMessage","formData","setFormData","email","first_name","last_name","role","password","confirmPassword","status","errors","setErrors","filteredUsers","filter","user","matchesSearch","toLowerCase","includes","concat","matchesRole","resetForm","handleInputChange","field","value","prev","_objectSpread","_jsxs","className","children","_jsx","type","text","Modal","isOpen","onClose","title","size","footer","Button","variant","onClick","async","id","error","Error","message","setTimeout","showActionMessage","Card","Input","placeholder","onChange","e","target","length","u","map","Date","created_at","toLocaleDateString","last_login","handleEdit","handleDelete","general","onSubmit","preventDefault","validateForm","newErrors","trim","test","Object","keys","label","required","_Fragment","handleCancel","disabled"],"sourceRoot":""}