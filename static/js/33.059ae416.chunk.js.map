{"version":3,"file":"static/js/33.059ae416.chunk.js","mappings":"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","sources":["components/admin/ProjectCompletion.tsx","components/admin/ProjectWorkflow.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport Card from '../common/Card';\nimport Button from '../common/Button';\nimport apiService from '../../services/api';\n\ninterface Criterion {\n  id: string;\n  name: string;\n  description?: string;\n  level: number;\n  parent_id?: string | null;\n}\n\ninterface EvaluationItem {\n  id: string;\n  evaluator_name: string;\n  evaluator_username: string;\n  status: 'pending' | 'in_progress' | 'completed' | 'cancelled';\n  progress: number;\n  consistency_ratio: number | null;\n  is_consistent: boolean | null;\n}\n\ninterface ProjectCompletionProps {\n  projectId: string;\n  projectTitle: string;\n  onBack: () => void;\n  onProjectStatusChange: (status: 'terminated' | 'completed') => void;\n  criteriaCount?: number;\n  alternativesCount?: number;\n  evaluatorsCount?: number;\n}\n\ninterface ProjectSummary {\n  totalCriteria: number;\n  totalEvaluators: number;\n  completedEvaluators: number;\n  activeEvaluators: number;\n  pendingEvaluators: number;\n  completionRate: number;\n  avgConsistencyRatio: number | null;\n  createdDate: string;\n  lastModified: string;\n}\n\nconst ProjectCompletion: React.FC<ProjectCompletionProps> = ({\n  projectId,\n  projectTitle,\n  onBack,\n  onProjectStatusChange,\n  criteriaCount = 0,\n  evaluatorsCount = 0,\n}) => {\n  const [selectedAction, setSelectedAction] = useState<\n    'test' | 'sendEmail' | 'terminate' | 'complete' | 'lock' | 'export' | null\n  >(null);\n  const [isConfirming, setIsConfirming] = useState(false);\n  const [isExecuting, setIsExecuting] = useState(false);\n  const [exportFormat, setExportFormat] = useState<'excel' | 'pdf' | 'both'>('both');\n  const [projectSummary, setProjectSummary] = useState<ProjectSummary | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [criteriaData, setCriteriaData] = useState<Criterion[]>([]);\n  const [evaluationsData, setEvaluationsData] = useState<EvaluationItem[]>([]);\n  const [actionMessage, setActionMessage] = useState<{\n    type: 'success' | 'error' | 'info';\n    text: string;\n  } | null>(null);\n\n  const showActionMessage = (type: 'success' | 'error' | 'info', text: string) => {\n    setActionMessage({ type, text });\n    setTimeout(() => setActionMessage(null), 4000);\n  };\n\n  const loadProjectSummary = useCallback(async () => {\n    setLoading(true);\n    try {\n      const [projectRes, criteriaRes, evalsRes] = await Promise.allSettled([\n        apiService.get(`/api/service/projects/projects/${projectId}/`),\n        apiService.get(`/api/service/projects/criteria/?project=${projectId}&page_size=200`),\n        apiService.get(`/api/service/evaluations/evaluations/?project=${projectId}&page_size=200`),\n      ]);\n\n      // ê¸°ì¤€ ì²˜ë¦¬\n      if (criteriaRes.status === 'fulfilled') {\n        const criteriaData = criteriaRes.value.data as Criterion[] | { results?: Criterion[]; count?: number };\n        const list: Criterion[] = Array.isArray(criteriaData) ? criteriaData : (criteriaData.results ?? []);\n        setCriteriaData(\n          list.map((c) => ({\n            id: String(c.id),\n            name: c.name ?? '',\n            description: c.description,\n            level: c.level ?? 1,\n            parent_id: c.parent_id ?? null,\n          }))\n        );\n      }\n\n      // í‰ê°€ ì²˜ë¦¬\n      let evals: EvaluationItem[] = [];\n      if (evalsRes.status === 'fulfilled') {\n        const evalsData = evalsRes.value.data as EvaluationItem[] | { results?: EvaluationItem[] };\n        const list: EvaluationItem[] = Array.isArray(evalsData) ? evalsData : (evalsData.results ?? []);\n        evals = list.map((e) => ({\n          id: String(e.id),\n          evaluator_name: e.evaluator_name || e.evaluator_username || 'ì•Œ ìˆ˜ ì—†ìŒ',\n          evaluator_username: e.evaluator_username ?? '',\n          status: e.status ?? 'pending',\n          progress: e.progress ?? 0,\n          consistency_ratio: e.consistency_ratio ?? null,\n          is_consistent: e.is_consistent ?? null,\n        }));\n        setEvaluationsData(evals);\n      }\n\n      // ìš”ì•½ ê³„ì‚°\n      const critCount =\n        criteriaRes.status === 'fulfilled'\n          ? (() => {\n              const d = criteriaRes.value.data as Criterion[] | { count?: number; results?: Criterion[] };\n              return Array.isArray(d) ? d.length : (d.count ?? d.results?.length ?? 0);\n            })()\n          : criteriaCount;\n\n      const completed = evals.filter((e) => e.status === 'completed');\n      const active = evals.filter((e) => e.status === 'in_progress');\n      const pending = evals.filter((e) => e.status === 'pending' || e.status === 'cancelled');\n      const completionRate =\n        evals.length > 0 ? Math.round((completed.length / evals.length) * 100) : 0;\n\n      const crs = completed\n        .map((e) => e.consistency_ratio)\n        .filter((cr): cr is number => cr !== null);\n      const avgCR = crs.length > 0 ? crs.reduce((a, b) => a + b, 0) / crs.length : null;\n\n      // í”„ë¡œì íŠ¸ ë‚ ì§œ\n      let createdDate = new Date().toLocaleDateString('ko-KR');\n      let lastModified = new Date().toLocaleDateString('ko-KR');\n      if (projectRes.status === 'fulfilled') {\n        const proj = projectRes.value.data as { created_at?: string; updated_at?: string };\n        if (proj.created_at) createdDate = new Date(proj.created_at).toLocaleDateString('ko-KR');\n        if (proj.updated_at) lastModified = new Date(proj.updated_at).toLocaleDateString('ko-KR');\n      }\n\n      setProjectSummary({\n        totalCriteria: critCount,\n        totalEvaluators: evals.length || evaluatorsCount,\n        completedEvaluators: completed.length,\n        activeEvaluators: active.length,\n        pendingEvaluators: pending.length,\n        completionRate,\n        avgConsistencyRatio: avgCR,\n        createdDate,\n        lastModified,\n      });\n    } catch (error) {\n      setProjectSummary({\n        totalCriteria: criteriaCount,\n        totalEvaluators: evaluatorsCount,\n        completedEvaluators: 0,\n        activeEvaluators: 0,\n        pendingEvaluators: evaluatorsCount,\n        completionRate: 0,\n        avgConsistencyRatio: null,\n        createdDate: new Date().toLocaleDateString('ko-KR'),\n        lastModified: new Date().toLocaleDateString('ko-KR'),\n      });\n    } finally {\n      setLoading(false);\n    }\n  }, [projectId, criteriaCount, evaluatorsCount]);\n\n  useEffect(() => {\n    loadProjectSummary();\n  }, [loadProjectSummary]);\n\n  // â”€â”€ í”„ë¡œì íŠ¸ ìƒíƒœ ì—…ë°ì´íŠ¸ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n  const updateProjectStatus = async (status: 'completed' | 'archived') => {\n    const payload: Record<string, string> = { status };\n    if (status === 'completed') payload.workflow_stage = 'completed';\n    const res = await apiService.patch(`/api/service/projects/projects/${projectId}/`, payload);\n    return res;\n  };\n\n  // â”€â”€ í‰ê°€ ìš”ì²­ ë°œì†¡ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n  const handleSendEmails = async () => {\n    const pending = evaluationsData.filter((e) => e.status === 'pending');\n    if (pending.length === 0) {\n      showActionMessage('info', 'ëŒ€ê¸° ì¤‘ì¸ í‰ê°€ìê°€ ì—†ìŠµë‹ˆë‹¤. ëª¨ë“  í‰ê°€ìê°€ ì´ë¯¸ í‰ê°€ë¥¼ ì‹œì‘í–ˆìŠµë‹ˆë‹¤.');\n      return;\n    }\n    // ë°±ì—”ë“œì— ì´ë©”ì¼ ë°œì†¡ API ë¯¸êµ¬í˜„ â†’ ì•ˆë‚´ ë©”ì‹œì§€\n    showActionMessage(\n      'info',\n      `ì´ë©”ì¼ ë°œì†¡ ê¸°ëŠ¥ì€ ë°±ì—”ë“œ SMTP ì„¤ì • í›„ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤. ëŒ€ê¸° ì¤‘ì¸ í‰ê°€ì: ${pending.length}ëª…`\n    );\n  };\n\n  // â”€â”€ ë‚´ë³´ë‚´ê¸° â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n  const handleExport = async () => {\n    // ë¡œì»¬ CSV ìƒì„± (ë°±ì—”ë“œ export APIëŠ” ë³„ë„ ì—°ë™ ê°€ëŠ¥)\n    const rows = [\n      ['í‰ê°€ì', 'ìƒíƒœ', 'ì§„í–‰ë¥ ', 'ì¼ê´€ì„±ë¹„ìœ¨', 'ì¼ê´€ì„±ì—¬ë¶€'],\n      ...evaluationsData.map((e) => [\n        e.evaluator_name,\n        e.status === 'completed' ? 'ì™„ë£Œ' : e.status === 'in_progress' ? 'ì§„í–‰ì¤‘' : 'ëŒ€ê¸°',\n        `${Math.round(e.progress)}%`,\n        e.consistency_ratio !== null ? e.consistency_ratio.toFixed(4) : '-',\n        e.is_consistent === true ? 'ì í•©' : e.is_consistent === false ? 'ë¶€ì í•©' : '-',\n      ]),\n    ];\n    const csv = rows.map((r) => r.join(',')).join('\\n');\n    const blob = new Blob(['\\uFEFF' + csv], { type: 'text/csv;charset=utf-8;' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `${projectTitle}_í‰ê°€ê²°ê³¼.csv`;\n    a.click();\n    URL.revokeObjectURL(url);\n    showActionMessage('success', 'CSV íŒŒì¼ ë‹¤ìš´ë¡œë“œê°€ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤.');\n  };\n\n  // â”€â”€ ì‹¤í–‰ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n  const handleExecute = async () => {\n    if (!selectedAction) return;\n    setIsExecuting(true);\n    try {\n      switch (selectedAction) {\n        case 'test': {\n          const testLink = `${window.location.origin}${process.env.PUBLIC_URL || ''}/?project=${projectId}&test=true`;\n          window.open(testLink, '_blank');\n          showActionMessage('info', 'í…ŒìŠ¤íŠ¸ ëª¨ë“œë¡œ í‰ê°€ í™”ë©´ì„ ì—´ì—ˆìŠµë‹ˆë‹¤. í…ŒìŠ¤íŠ¸ ë°ì´í„°ëŠ” ì €ì¥ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.');\n          break;\n        }\n        case 'sendEmail':\n          await handleSendEmails();\n          break;\n        case 'terminate':\n          await updateProjectStatus('archived');\n          showActionMessage('info', 'í”„ë¡œì íŠ¸ê°€ ë³´ê´€(ì¤‘ë‹¨) ì²˜ë¦¬ë˜ì—ˆìŠµë‹ˆë‹¤.');\n          onProjectStatusChange('terminated');\n          break;\n        case 'complete':\n          await updateProjectStatus('completed');\n          showActionMessage('success', 'í”„ë¡œì íŠ¸ê°€ ì™„ë£Œ ì²˜ë¦¬ë˜ì—ˆìŠµë‹ˆë‹¤.');\n          onProjectStatusChange('completed');\n          break;\n        case 'lock':\n          showActionMessage('success', 'ê²°ê³¼ ì ê¸ˆ ê¸°ëŠ¥ì€ ì¶”í›„ ì œê³µë  ì˜ˆì •ì…ë‹ˆë‹¤.');\n          break;\n        case 'export':\n          await handleExport();\n          break;\n      }\n    } catch (err: unknown) {\n      const e = err as { response?: { data?: { detail?: string; status?: string[] } } };\n      const msg =\n        e?.response?.data?.detail ??\n        e?.response?.data?.status?.[0] ??\n        'ì‘ì—… ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.';\n      showActionMessage('error', msg);\n    } finally {\n      setIsExecuting(false);\n      setSelectedAction(null);\n      setIsConfirming(false);\n    }\n  };\n\n  const actions = [\n    {\n      id: 'test',\n      label: 'í‰ê°€ í…ŒìŠ¤íŠ¸',\n      icon: 'ğŸ§ª',\n      description: 'ì—°êµ¬ìê°€ í‰ê°€ í™”ë©´ì„ ë¯¸ë¦¬ í…ŒìŠ¤íŠ¸í•´ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.',\n      warning: 'í…ŒìŠ¤íŠ¸ ë°ì´í„°ëŠ” ì €ì¥ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.',\n      danger: false,\n    },\n    {\n      id: 'sendEmail',\n      label: 'í‰ê°€ ìš”ì²­ ë°œì†¡',\n      icon: 'ğŸ“§',\n      description: 'ëŒ€ê¸° ì¤‘ì¸ í‰ê°€ìì—ê²Œ í‰ê°€ ìš”ì²­ì„ ì•Œë¦½ë‹ˆë‹¤.',\n      warning: 'ë°±ì—”ë“œ SMTP ì„¤ì • í›„ ì‹¤ì œ ì´ë©”ì¼ ë°œì†¡ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.',\n      danger: false,\n    },\n    {\n      id: 'complete',\n      label: 'í”„ë¡œì íŠ¸ ì™„ë£Œ',\n      icon: 'âœ…',\n      description: 'í”„ë¡œì íŠ¸ë¥¼ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œ ì²˜ë¦¬í•©ë‹ˆë‹¤.',\n      warning: 'ì™„ë£Œëœ í”„ë¡œì íŠ¸ëŠ” ë” ì´ìƒ ìˆ˜ì •í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.',\n      danger: false,\n    },\n    {\n      id: 'terminate',\n      label: 'í”„ë¡œì íŠ¸ ì¤‘ë‹¨',\n      icon: 'â¹ï¸',\n      description: 'í”„ë¡œì íŠ¸ë¥¼ ë³´ê´€(ì¤‘ë‹¨) ì²˜ë¦¬í•©ë‹ˆë‹¤.',\n      warning: 'ì¤‘ë‹¨ëœ í”„ë¡œì íŠ¸ëŠ” ë³´ê´€ ìƒíƒœë¡œ ì „í™˜ë©ë‹ˆë‹¤.',\n      danger: true,\n    },\n    {\n      id: 'lock',\n      label: 'ê²°ê³¼ ì ê¸ˆ',\n      icon: 'ğŸ”’',\n      description: 'í˜„ì¬ ê²°ê³¼ë¥¼ ì ê¸ˆ ì²˜ë¦¬í•˜ì—¬ ë³€ê²½ì„ ë°©ì§€í•©ë‹ˆë‹¤.',\n      warning: 'ì ê¸ˆëœ ê²°ê³¼ëŠ” ê´€ë¦¬ìë§Œ í•´ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.',\n      danger: false,\n    },\n    {\n      id: 'export',\n      label: 'ê²°ê³¼ ë‚´ë³´ë‚´ê¸° (CSV)',\n      icon: 'ğŸ“¤',\n      description: 'í‰ê°€ì í˜„í™©ê³¼ ê²°ê³¼ë¥¼ CSV íŒŒì¼ë¡œ ë‚´ë³´ëƒ…ë‹ˆë‹¤.',\n      warning: 'ë‚´ë³´ë‚´ê¸° í›„ì—ë„ í”„ë¡œì íŠ¸ëŠ” ê³„ì† ì§„í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.',\n      danger: false,\n    },\n  ];\n\n  // â”€â”€ ë¡œë”© / ì˜¤ë¥˜ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"text-gray-500\">í”„ë¡œì íŠ¸ ì •ë³´ ë¡œë”© ì¤‘...</div>\n      </div>\n    );\n  }\n\n  if (!projectSummary) {\n    return (\n      <div className=\"text-center py-8 text-red-600\">í”„ë¡œì íŠ¸ ì •ë³´ë¥¼ ë¡œë“œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</div>\n    );\n  }\n\n  // â”€â”€ ë Œë” â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n  return (\n    <div className=\"max-w-4xl mx-auto\">\n      {actionMessage && (\n        <div\n          className={`fixed top-4 right-4 z-50 px-4 py-3 rounded-lg text-sm font-medium shadow-lg max-w-sm ${\n            actionMessage.type === 'success'\n              ? 'bg-green-100 text-green-800'\n              : actionMessage.type === 'info'\n              ? 'bg-blue-100 text-blue-800'\n              : 'bg-red-100 text-red-800'\n          }`}\n        >\n          {actionMessage.text}\n        </div>\n      )}\n\n      {/* í—¤ë” */}\n      <div className=\"mb-6\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <div>\n            <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">ë‹¨ê³„ 4 â€” í”„ë¡œì íŠ¸ ì¤‘ë‹¨/ì™„ë£Œ</h1>\n            <p className=\"text-gray-600\">\n              í”„ë¡œì íŠ¸: <span className=\"font-medium\">{projectTitle}</span>\n            </p>\n          </div>\n          <div className=\"flex gap-2\">\n            <Button variant=\"secondary\" onClick={loadProjectSummary}>\n              ğŸ”„ ìƒˆë¡œê³ ì¹¨\n            </Button>\n            <Button variant=\"secondary\" onClick={onBack}>\n              ì´ì „ ë‹¨ê³„ë¡œ\n            </Button>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"space-y-6\">\n        {/* ë°ì´í„° ì¹´ë“œ 3ê°œ */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n          {/* í‰ê°€ ê¸°ì¤€ */}\n          <Card title=\"ğŸ“‹ í‰ê°€ ê¸°ì¤€ êµ¬ì¡°\">\n            {criteriaData.length === 0 ? (\n              <div className=\"text-gray-500 text-center py-4 text-sm\">í‰ê°€ ê¸°ì¤€ì´ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.</div>\n            ) : (\n              <div>\n                <div className=\"text-sm text-gray-600 mb-2\">ì´ {criteriaData.length}ê°œì˜ í‰ê°€ ê¸°ì¤€</div>\n                <div className=\"max-h-48 overflow-y-auto border border-gray-200 rounded-lg p-2\">\n                  {criteriaData.map((criterion) => (\n                    <div\n                      key={criterion.id}\n                      className=\"py-1 text-sm\"\n                      style={{ paddingLeft: `${(criterion.level - 1) * 16}px` }}\n                    >\n                      <span className=\"text-gray-400 mr-1\">\n                        {criterion.level === 1 ? 'ğŸ“' : criterion.level === 2 ? 'ğŸ“‚' : 'ğŸ“„'}\n                      </span>\n                      <span className=\"font-medium\">{criterion.name}</span>\n                      {criterion.description && (\n                        <span className=\"ml-1 text-gray-500 text-xs\">({criterion.description})</span>\n                      )}\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n          </Card>\n\n          {/* í‰ê°€ì í˜„í™© */}\n          <Card title=\"ğŸ‘¥ í‰ê°€ì í˜„í™©\">\n            {evaluationsData.length === 0 ? (\n              <div className=\"text-gray-500 text-center py-4 text-sm\">ë°°ì •ëœ í‰ê°€ìê°€ ì—†ìŠµë‹ˆë‹¤.</div>\n            ) : (\n              <div>\n                <div className=\"text-sm text-gray-600 mb-2\">ì´ {evaluationsData.length}ëª…ì˜ í‰ê°€ì</div>\n                <div className=\"max-h-48 overflow-y-auto border border-gray-200 rounded-lg p-2 space-y-1\">\n                  {evaluationsData.map((ev) => (\n                    <div\n                      key={ev.id}\n                      className=\"flex items-center justify-between py-1.5 px-2 hover:bg-gray-50 rounded\"\n                    >\n                      <span className=\"text-sm font-medium text-gray-700\">{ev.evaluator_name}</span>\n                      <div className=\"flex items-center gap-2\">\n                        {ev.status === 'completed' && (\n                          <>\n                            <span className=\"text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded-full\">ì™„ë£Œ</span>\n                            {ev.consistency_ratio !== null && (\n                              <span className={`text-xs ${ev.is_consistent ? 'text-green-600' : 'text-red-600'}`}>\n                                CR={ev.consistency_ratio.toFixed(3)}\n                              </span>\n                            )}\n                          </>\n                        )}\n                        {ev.status === 'in_progress' && (\n                          <span className=\"text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full\">\n                            ì§„í–‰ {Math.round(ev.progress)}%\n                          </span>\n                        )}\n                        {(ev.status === 'pending' || ev.status === 'cancelled') && (\n                          <span className=\"text-xs bg-gray-100 text-gray-600 px-2 py-0.5 rounded-full\">ëŒ€ê¸°</span>\n                        )}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n          </Card>\n        </div>\n\n        {/* ìš”ì•½ í†µê³„ */}\n        <Card title=\"ğŸ“Š í”„ë¡œì íŠ¸ ìš”ì•½ í˜„í™©\">\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n            {[\n              { label: 'í‰ê°€ ê¸°ì¤€', value: projectSummary.totalCriteria, bg: 'bg-blue-50 border-blue-200', text: 'text-blue-900', sub: 'text-blue-700' },\n              { label: 'ì´ í‰ê°€ì', value: projectSummary.totalEvaluators, bg: 'bg-purple-50 border-purple-200', text: 'text-purple-900', sub: 'text-purple-700' },\n              { label: 'ì™„ë£Œ', value: projectSummary.completedEvaluators, bg: 'bg-green-50 border-green-200', text: 'text-green-900', sub: 'text-green-700' },\n              { label: 'ì§„í–‰ë¥ ', value: `${projectSummary.completionRate}%`, bg: 'bg-orange-50 border-orange-200', text: 'text-orange-900', sub: 'text-orange-700' },\n            ].map(({ label, value, bg, text, sub }) => (\n              <div key={label} className={`text-center p-4 ${bg} border rounded-lg`}>\n                <div className={`text-2xl font-bold ${text}`}>{value}</div>\n                <div className={`text-sm ${sub}`}>{label}</div>\n              </div>\n            ))}\n          </div>\n\n          <div className=\"mt-4 grid grid-cols-3 gap-4\">\n            <div className=\"p-3 bg-yellow-50 border border-yellow-200 rounded-lg text-center\">\n              <div className=\"text-xl font-bold text-yellow-900\">{projectSummary.pendingEvaluators}</div>\n              <div className=\"text-sm text-yellow-700\">ëŒ€ê¸° ì¤‘</div>\n            </div>\n            <div className=\"p-3 bg-indigo-50 border border-indigo-200 rounded-lg text-center\">\n              <div className=\"text-xl font-bold text-indigo-900\">{projectSummary.activeEvaluators}</div>\n              <div className=\"text-sm text-indigo-700\">ì§„í–‰ ì¤‘</div>\n            </div>\n            <div className=\"p-3 bg-teal-50 border border-teal-200 rounded-lg text-center\">\n              <div className=\"text-xl font-bold text-teal-900\">{projectSummary.completedEvaluators}</div>\n              <div className=\"text-sm text-teal-700\">ì™„ë£Œ</div>\n            </div>\n          </div>\n\n          {projectSummary.avgConsistencyRatio !== null && (\n            <div className=\"mt-4 p-4 bg-gray-50 border border-gray-200 rounded-lg\">\n              <h4 className=\"font-medium text-gray-900 mb-1\">í‰ê·  ì¼ê´€ì„± ë¹„ìœ¨ (CR)</h4>\n              <div className=\"flex items-center gap-3\">\n                <div className=\"text-2xl font-bold\">{projectSummary.avgConsistencyRatio.toFixed(3)}</div>\n                {projectSummary.avgConsistencyRatio <= 0.1 ? (\n                  <span className=\"text-green-600 text-sm\">âœ… ì í•© (CR â‰¤ 0.1)</span>\n                ) : (\n                  <span className=\"text-red-600 text-sm\">âš ï¸ ì¬ê²€í†  í•„ìš” (CR &gt; 0.1)</span>\n                )}\n              </div>\n            </div>\n          )}\n        </Card>\n\n        {/* ì‘ì—… ì„ íƒ */}\n        <Card title=\"ğŸ¯ ì‘ì—… ì„ íƒ\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            {actions.map((action) => (\n              <button\n                key={action.id}\n                onClick={() => { setSelectedAction(action.id as 'test' | 'sendEmail' | 'terminate' | 'complete' | 'lock' | 'export'); setIsConfirming(false); }}\n                className={`p-4 border-2 rounded-lg text-left transition-all hover:shadow-md ${\n                  selectedAction === action.id\n                    ? action.danger\n                      ? 'border-red-500 bg-red-50'\n                      : 'border-blue-500 bg-blue-50'\n                    : 'border-gray-200 hover:border-gray-300'\n                }`}\n              >\n                <div className=\"flex items-start gap-3\">\n                  <span className=\"text-2xl\">{action.icon}</span>\n                  <div className=\"flex-1\">\n                    <h4 className={`font-medium ${action.danger ? 'text-red-800' : 'text-gray-900'}`}>\n                      {action.label}\n                    </h4>\n                    <p className=\"text-sm text-gray-600 mt-1\">{action.description}</p>\n                    {selectedAction === action.id && (\n                      <p className=\"text-xs text-orange-600 mt-2\">âš ï¸ {action.warning}</p>\n                    )}\n                  </div>\n                </div>\n              </button>\n            ))}\n          </div>\n        </Card>\n\n        {/* ì´ë©”ì¼ ë°œì†¡ ìƒì„¸ */}\n        {selectedAction === 'sendEmail' && (\n          <Card title=\"ğŸ“§ í‰ê°€ ìš”ì²­ ë°œì†¡\">\n            <div className=\"space-y-3\">\n              <div className=\"p-4 bg-blue-50 border border-blue-200 rounded-lg\">\n                <h4 className=\"font-medium text-blue-900 mb-2\">ëŒ€ê¸° ì¤‘ì¸ í‰ê°€ì ({evaluationsData.filter(e => e.status === 'pending').length}ëª…)</h4>\n                {evaluationsData.filter(e => e.status === 'pending').length === 0 ? (\n                  <p className=\"text-sm text-gray-600\">ëª¨ë“  í‰ê°€ìê°€ ì´ë¯¸ í‰ê°€ë¥¼ ì‹œì‘í–ˆìŠµë‹ˆë‹¤.</p>\n                ) : (\n                  <ul className=\"text-sm text-blue-700 space-y-1\">\n                    {evaluationsData.filter(e => e.status === 'pending').map(e => (\n                      <li key={e.id}>â€¢ {e.evaluator_name} (@{e.evaluator_username})</li>\n                    ))}\n                  </ul>\n                )}\n              </div>\n              <div className=\"p-3 bg-yellow-50 border border-yellow-200 rounded-lg text-sm text-yellow-800\">\n                âš ï¸ ì‹¤ì œ ì´ë©”ì¼ ë°œì†¡ì€ ë°±ì—”ë“œ SMTP(SendGrid ë“±) ì„¤ì • í›„ í™œì„±í™”ë©ë‹ˆë‹¤.\n              </div>\n            </div>\n          </Card>\n        )}\n\n        {/* ë‚´ë³´ë‚´ê¸° ì„¤ì • */}\n        {selectedAction === 'export' && (\n          <Card title=\"ğŸ“¤ ë‚´ë³´ë‚´ê¸° ì„¤ì •\">\n            <div className=\"space-y-3\">\n              {[\n                { value: 'excel', label: 'CSV íŒŒì¼', description: 'í‰ê°€ì í˜„í™© ë° CR í¬í•¨ (ë¡œì»¬ ìƒì„±)' },\n                { value: 'pdf', label: 'PDF ë¬¸ì„œ', description: 'ì¶”í›„ ì œê³µ ì˜ˆì •' },\n                { value: 'both', label: 'CSV + PDF', description: 'ì¶”í›„ ì œê³µ ì˜ˆì •' },\n              ].map((format) => (\n                <label\n                  key={format.value}\n                  className=\"flex items-center gap-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer\"\n                >\n                  <input\n                    type=\"radio\"\n                    value={format.value}\n                    checked={exportFormat === format.value}\n                    onChange={(e) => setExportFormat(e.target.value as 'excel' | 'pdf' | 'both')}\n                    className=\"text-blue-600\"\n                  />\n                  <div>\n                    <div className=\"font-medium text-sm\">{format.label}</div>\n                    <div className=\"text-xs text-gray-500\">{format.description}</div>\n                  </div>\n                </label>\n              ))}\n            </div>\n          </Card>\n        )}\n\n        {/* ì‹¤í–‰ ë²„íŠ¼ */}\n        {selectedAction && !isConfirming && (\n          <div className=\"text-center\">\n            <Button onClick={() => setIsConfirming(true)} variant=\"primary\" size=\"lg\">\n              {actions.find((a) => a.id === selectedAction)?.label} ì§„í–‰\n            </Button>\n          </div>\n        )}\n\n        {/* ìµœì¢… í™•ì¸ */}\n        {isConfirming && (\n          <Card title=\"ğŸš¨ ìµœì¢… í™•ì¸\">\n            <div className=\"text-center space-y-4\">\n              <div className=\"p-4 bg-red-50 border border-red-200 rounded-lg\">\n                <h4 className=\"font-medium text-red-900 mb-1\">\n                  {actions.find((a) => a.id === selectedAction)?.label}ì„(ë¥¼) ì‹¤í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\n                </h4>\n                <p className=\"text-sm text-red-700\">\n                  {actions.find((a) => a.id === selectedAction)?.warning}\n                </p>\n              </div>\n              <div className=\"flex justify-center gap-3\">\n                <Button onClick={handleExecute} variant=\"error\" size=\"lg\" disabled={isExecuting}>\n                  {isExecuting ? 'ì²˜ë¦¬ ì¤‘...' : 'í™•ì¸í•˜ê³  ì‹¤í–‰'}\n                </Button>\n                <Button onClick={() => setIsConfirming(false)} variant=\"secondary\" size=\"lg\" disabled={isExecuting}>\n                  ì·¨ì†Œ\n                </Button>\n              </div>\n            </div>\n          </Card>\n        )}\n\n        {/* í”„ë¡œì íŠ¸ ì •ë³´ */}\n        <div className=\"bg-gray-50 border border-gray-200 rounded-lg p-4\">\n          <h4 className=\"font-medium text-gray-900 mb-2\">ğŸ“‹ í”„ë¡œì íŠ¸ ì •ë³´</h4>\n          <div className=\"grid grid-cols-2 gap-4 text-sm text-gray-600 mb-3\">\n            <div>ìƒì„±ì¼: {projectSummary.createdDate}</div>\n            <div>ìµœì¢… ìˆ˜ì •: {projectSummary.lastModified}</div>\n          </div>\n          <div className=\"grid grid-cols-3 gap-2 text-sm border-t border-gray-300 pt-3\">\n            <div className=\"bg-white p-2 rounded text-center\">\n              <span className=\"font-medium\">ê¸°ì¤€: </span>{projectSummary.totalCriteria}ê°œ\n            </div>\n            <div className=\"bg-white p-2 rounded text-center\">\n              <span className=\"font-medium\">í‰ê°€ì: </span>{projectSummary.totalEvaluators}ëª…\n            </div>\n            <div className=\"bg-white p-2 rounded text-center\">\n              <span className=\"font-medium\">ì™„ë£Œìœ¨: </span>{projectSummary.completionRate}%\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProjectCompletion;\n","import React, { useState } from 'react';\nimport Card from '../common/Card';\nimport Button from '../common/Button';\nimport Modal from '../common/Modal';\nimport ProjectCreation from './ProjectCreation';\nimport CriteriaManagement from './CriteriaManagement';\nimport AlternativeManagement from './AlternativeManagement';\nimport EvaluatorAssignment from './EvaluatorAssignment';\nimport ProjectCompletion from './ProjectCompletion';\nimport dataService from '../../services/dataService_clean';\nimport apiService from '../../services/api';\nimport { ProjectData } from '../../services/api';\n\ninterface ProjectWorkflowProps {\n  onComplete?: () => void;\n  onCancel?: () => void;\n}\n\ninterface WorkflowState {\n  currentStep: number;\n  projectId: string | null;\n  projectData: ProjectData | null;\n  criteriaCount: number;\n  alternativesCount: number;\n  evaluatorsCount: number;\n}\n\nconst ProjectWorkflow: React.FC<ProjectWorkflowProps> = ({ onComplete, onCancel }) => {\n  const [workflowState, setWorkflowState] = useState<WorkflowState>({\n    currentStep: 1,\n    projectId: null,\n    projectData: null,\n    criteriaCount: 0,\n    alternativesCount: 0,\n    evaluatorsCount: 0\n  });\n\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [showCancelModal, setShowCancelModal] = useState(false);\n\n  // ë‹¨ê³„ë³„ ì œëª©\n  const stepTitles = [\n    'í”„ë¡œì íŠ¸ ìƒì„±',\n    'í‰ê°€ ê¸°ì¤€ ì„¤ì •',\n    'ëŒ€ì•ˆ ì„¤ì •',\n    'í‰ê°€ì ë°°ì •',\n    'í”„ë¡œì íŠ¸ ì™„ë£Œ'\n  ];\n\n  // í”„ë¡œì íŠ¸ ìƒì„± í•¸ë“¤ëŸ¬\n  const handleProjectCreated = async (projectData: { title: string; description?: string; objective?: string; ahpType?: 'general' | 'fuzzy'; evaluationMode?: 'practical' | 'theoretical' | 'direct_input' | 'fuzzy_ahp' }) => {\n    try {\n      setLoading(true);\n      const createdProject = await dataService.createProject({\n        title: projectData.title,\n        description: projectData.description ?? '',\n        objective: projectData.objective,\n        ahp_type: projectData.ahpType,\n        status: 'active',\n        evaluation_mode: projectData.evaluationMode || 'practical',\n        workflow_stage: 'creating'\n      });\n\n      if (createdProject && createdProject.id) {\n        setWorkflowState(prev => ({\n          ...prev,\n          currentStep: 2,\n          projectId: createdProject.id || null,\n          projectData: createdProject\n        }));\n      }\n    } catch (error) {\n      setError('í”„ë¡œì íŠ¸ ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // ê¸°ì¤€ ì„¤ì • ì™„ë£Œ í•¸ë“¤ëŸ¬\n  const handleCriteriaComplete = () => {\n    setWorkflowState(prev => ({\n      ...prev,\n      currentStep: 3\n    }));\n  };\n\n  // ëŒ€ì•ˆ ì„¤ì • ì™„ë£Œ í•¸ë“¤ëŸ¬\n  const handleAlternativesComplete = () => {\n    setWorkflowState(prev => ({\n      ...prev,\n      currentStep: 4\n    }));\n  };\n\n  // í‰ê°€ì ë°°ì • ì™„ë£Œ í•¸ë“¤ëŸ¬\n  const handleEvaluatorsComplete = () => {\n    setWorkflowState(prev => ({\n      ...prev,\n      currentStep: 5\n    }));\n  };\n\n  // í”„ë¡œì íŠ¸ ìƒíƒœ ë³€ê²½ í•¸ë“¤ëŸ¬\n  const handleProjectStatusChange = async (status: 'terminated' | 'completed') => {\n    try {\n      if (workflowState.projectId) {\n        const apiStatus = status === 'completed' ? 'completed' : 'archived';\n        await apiService.patch(\n          `/api/service/projects/projects/${workflowState.projectId}/`,\n          { status: apiStatus, workflow_stage: status === 'completed' ? 'completed' : 'terminated' }\n        );\n        if (status === 'completed' && onComplete) {\n          onComplete();\n        } else if (status === 'terminated' && onCancel) {\n          onCancel();\n        }\n      }\n    } catch (error: unknown) {\n      setError((error instanceof Error ? error.message : '') || 'í”„ë¡œì íŠ¸ ìƒíƒœ ë³€ê²½ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');\n    }\n  };\n\n  // ì´ì „ ë‹¨ê³„ë¡œ ì´ë™\n  const handleGoBack = () => {\n    if (workflowState.currentStep > 1) {\n      setWorkflowState(prev => ({\n        ...prev,\n        currentStep: prev.currentStep - 1\n      }));\n    }\n  };\n\n  // ì›Œí¬í”Œë¡œìš° ì·¨ì†Œ\n  const handleCancel = () => {\n    setShowCancelModal(true);\n  };\n\n  const handleConfirmCancel = async () => {\n    setShowCancelModal(false);\n    try {\n      if (workflowState.projectId) {\n        // í”„ë¡œì íŠ¸ ì‚­ì œ\n        await dataService.deleteProject(workflowState.projectId);\n      }\n      if (onCancel) {\n        onCancel();\n      }\n    } catch (error: unknown) {\n      setError((error instanceof Error ? error.message : '') || 'í”„ë¡œì íŠ¸ ì·¨ì†Œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');\n    }\n  };\n\n  // ì§„í–‰ ìƒí™© í‘œì‹œ\n  const renderProgressBar = () => {\n    return (\n      <div className=\"mb-8\">\n        <div className=\"flex items-center justify-between mb-4\">\n          {stepTitles.map((title, index) => {\n            const stepNum = index + 1;\n            const isActive = workflowState.currentStep === stepNum;\n            const isCompleted = workflowState.currentStep > stepNum;\n            \n            return (\n              <div key={stepNum} className=\"flex-1 flex items-center\">\n                <div className=\"flex flex-col items-center flex-1\">\n                  <div \n                    className={`w-10 h-10 rounded-full flex items-center justify-center font-bold transition-colors ${\n                      isActive ? 'bg-blue-500 text-white' : \n                      isCompleted ? 'bg-green-500 text-white' : \n                      'bg-gray-200 text-gray-500'\n                    }`}\n                  >\n                    {isCompleted ? 'âœ“' : stepNum}\n                  </div>\n                  <span className={`mt-2 text-xs ${\n                    isActive ? 'text-blue-600 font-semibold' : \n                    isCompleted ? 'text-green-600' : \n                    'text-gray-500'\n                  }`}>\n                    {title}\n                  </span>\n                </div>\n                {index < stepTitles.length - 1 && (\n                  <div className={`h-1 flex-1 mx-2 ${\n                    workflowState.currentStep > stepNum ? 'bg-green-500' : 'bg-gray-200'\n                  }`} />\n                )}\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    );\n  };\n\n  // í˜„ì¬ ë‹¨ê³„ ì»´í¬ë„ŒíŠ¸ ë Œë”ë§\n  const renderCurrentStep = () => {\n    if (error) {\n      return (\n        <Card>\n          <div className=\"text-center py-8\">\n            <div className=\"text-red-600 mb-4\">{error}</div>\n            <Button onClick={() => setError(null)} variant=\"primary\">\n              ë‹¤ì‹œ ì‹œë„\n            </Button>\n          </div>\n        </Card>\n      );\n    }\n\n    switch (workflowState.currentStep) {\n      case 1:\n        return (\n          <ProjectCreation\n            onProjectCreated={() => {}} // ì‹¤ì œ ë¡œì§ì€ createProjectì—ì„œ ì²˜ë¦¬\n            onCancel={handleCancel}\n            loading={loading}\n            createProject={handleProjectCreated}\n          />\n        );\n      \n      case 2:\n        return workflowState.projectId ? (\n          <CriteriaManagement\n            projectId={workflowState.projectId}\n            projectTitle={workflowState.projectData?.title}\n            onComplete={handleCriteriaComplete}\n            onCriteriaChange={(count) => setWorkflowState(prev => ({\n              ...prev,\n              criteriaCount: count\n            }))}\n          />\n        ) : null;\n      \n      case 3:\n        return workflowState.projectId ? (\n          <AlternativeManagement\n            projectId={workflowState.projectId}\n            onComplete={handleAlternativesComplete}\n            onAlternativesChange={(count) => setWorkflowState(prev => ({\n              ...prev,\n              alternativesCount: count\n            }))}\n          />\n        ) : null;\n      \n      case 4:\n        return workflowState.projectId ? (\n          <EvaluatorAssignment\n            projectId={workflowState.projectId}\n            onComplete={handleEvaluatorsComplete}\n            onEvaluatorsChange={(count) => setWorkflowState(prev => ({\n              ...prev,\n              evaluatorsCount: count\n            }))}\n          />\n        ) : null;\n      \n      case 5:\n        return workflowState.projectId && workflowState.projectData ? (\n          <ProjectCompletion\n            projectId={workflowState.projectId}\n            projectTitle={workflowState.projectData.title}\n            onBack={handleGoBack}\n            onProjectStatusChange={handleProjectStatusChange}\n            criteriaCount={workflowState.criteriaCount}\n            alternativesCount={workflowState.alternativesCount}\n            evaluatorsCount={workflowState.evaluatorsCount}\n          />\n        ) : null;\n      \n      default:\n        return null;\n    }\n  };\n\n  return (\n    <div className=\"max-w-6xl mx-auto px-4 py-8\">\n      <Modal\n        isOpen={showCancelModal}\n        onClose={() => setShowCancelModal(false)}\n        title=\"í”„ë¡œì íŠ¸ ìƒì„± ì·¨ì†Œ\"\n        size=\"sm\"\n        footer={\n          <div className=\"flex justify-end space-x-3\">\n            <Button variant=\"secondary\" onClick={() => setShowCancelModal(false)}>\n              ê³„ì† ì§„í–‰\n            </Button>\n            <Button variant=\"error\" onClick={handleConfirmCancel}>\n              ì·¨ì†Œ í™•ì¸\n            </Button>\n          </div>\n        }\n      >\n        <p className=\"text-sm text-gray-600\">\n          í”„ë¡œì íŠ¸ ìƒì„±ì„ ì·¨ì†Œí•˜ì‹œê² ìŠµë‹ˆê¹Œ? ì…ë ¥í•œ ëª¨ë“  ë°ì´í„°ê°€ ì‚­ì œë©ë‹ˆë‹¤.\n        </p>\n      </Modal>\n\n      {/* í—¤ë” */}\n      <div className=\"mb-6\">\n        <h1 className=\"text-3xl font-bold text-gray-900\">\n          AHP í”„ë¡œì íŠ¸ ìƒì„± ì›Œí¬í”Œë¡œìš°\n        </h1>\n        <p className=\"text-gray-600 mt-2\">\n          ë‹¨ê³„ë³„ë¡œ í”„ë¡œì íŠ¸ë¥¼ êµ¬ì„±í•˜ê³  í‰ê°€ë¥¼ ì¤€ë¹„í•©ë‹ˆë‹¤.\n        </p>\n      </div>\n\n      {/* ì§„í–‰ ìƒí™© ë°” */}\n      {renderProgressBar()}\n\n      {/* í˜„ì¬ ë‹¨ê³„ ì •ë³´ */}\n      {workflowState.projectData && (\n        <div className=\"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h3 className=\"font-semibold text-blue-900\">\n                í”„ë¡œì íŠ¸: {workflowState.projectData.title}\n              </h3>\n              <p className=\"text-sm text-blue-700 mt-1\">\n                ID: {workflowState.projectId} | \n                ê¸°ì¤€: {workflowState.criteriaCount}ê°œ | \n                ëŒ€ì•ˆ: {workflowState.alternativesCount}ê°œ | \n                í‰ê°€ì: {workflowState.evaluatorsCount}ëª…\n              </p>\n            </div>\n            {workflowState.currentStep > 1 && workflowState.currentStep < 5 && (\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={handleGoBack}\n              >\n                â† ì´ì „ ë‹¨ê³„\n              </Button>\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* í˜„ì¬ ë‹¨ê³„ ì»´í¬ë„ŒíŠ¸ */}\n      {renderCurrentStep()}\n\n      {/* ë””ë²„ê·¸ ì •ë³´ (ê°œë°œ ëª¨ë“œì—ì„œë§Œ) */}\n      {process.env.NODE_ENV === 'development' && (\n        <div className=\"mt-8 p-4 bg-gray-100 rounded text-xs text-gray-600\">\n          <strong>Debug Info:</strong>\n          <pre>{JSON.stringify(workflowState, null, 2)}</pre>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ProjectWorkflow;"],"names":["_ref","_actions$find","_actions$find2","_actions$find3","projectId","projectTitle","onBack","onProjectStatusChange","criteriaCount","evaluatorsCount","selectedAction","setSelectedAction","useState","isConfirming","setIsConfirming","isExecuting","setIsExecuting","exportFormat","setExportFormat","projectSummary","setProjectSummary","loading","setLoading","criteriaData","setCriteriaData","evaluationsData","setEvaluationsData","actionMessage","setActionMessage","showActionMessage","type","text","setTimeout","loadProjectSummary","useCallback","async","projectRes","criteriaRes","evalsRes","Promise","allSettled","apiService","get","concat","status","_criteriaData$results","value","data","list","Array","isArray","results","map","c","_c$name","_c$level","_c$parent_id","id","String","name","description","level","parent_id","evals","_evalsData$results","evalsData","e","_e$evaluator_username","_e$status","_e$progress","_e$consistency_ratio","_e$is_consistent","evaluator_name","evaluator_username","progress","consistency_ratio","is_consistent","critCount","_ref2","_d$count","_d$results","d","length","count","completed","filter","active","pending","completionRate","Math","round","crs","cr","avgCR","reduce","a","b","createdDate","Date","toLocaleDateString","lastModified","proj","created_at","updated_at","totalCriteria","totalEvaluators","completedEvaluators","activeEvaluators","pendingEvaluators","avgConsistencyRatio","error","useEffect","updateProjectStatus","payload","workflow_stage","patch","actions","label","icon","warning","danger","_jsx","className","children","_jsxs","Button","variant","onClick","Card","title","criterion","style","paddingLeft","ev","_Fragment","toFixed","bg","sub","_ref4","action","format","checked","onChange","target","size","find","testLink","window","location","origin","process","open","handleSendEmails","csv","r","join","blob","Blob","url","URL","createObjectURL","document","createElement","href","download","click","revokeObjectURL","handleExport","err","_ref3","_e$response$data$deta","_e$response","_e$response$data","_e$response2","_e$response2$data","_e$response2$data$sta","msg","response","detail","disabled","onComplete","onCancel","workflowState","setWorkflowState","currentStep","projectData","alternativesCount","setError","showCancelModal","setShowCancelModal","stepTitles","handleProjectCreated","_projectData$descript","createdProject","dataService","createProject","objective","ahp_type","ahpType","evaluation_mode","evaluationMode","prev","_objectSpread","handleCriteriaComplete","handleAlternativesComplete","handleEvaluatorsComplete","handleProjectStatusChange","apiStatus","Error","message","handleGoBack","handleCancel","Modal","isOpen","onClose","footer","deleteProject","index","stepNum","isActive","isCompleted","renderCurrentStep","_workflowState$projec","ProjectCreation","onProjectCreated","CriteriaManagement","onCriteriaChange","AlternativeManagement","onAlternativesChange","EvaluatorAssignment","onEvaluatorsChange","ProjectCompletion"],"sourceRoot":""}