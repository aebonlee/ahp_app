{"version":3,"file":"static/js/381.921edd91.chunk.js","mappings":"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","sources":["components/superadmin/RoleSwitcher.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { User, UserRole } from '../../types';\nimport apiService from '../../services/api';\n\ninterface RoleSwitcherProps {\n  currentUser: User;\n  targetRole: UserRole;\n  onRoleSwitch: (role: UserRole) => void;\n  onBack: () => void;\n}\n\nconst RoleSwitcher: React.FC<RoleSwitcherProps> = ({ \n  currentUser, \n  targetRole, \n  onRoleSwitch, \n  onBack \n}) => {\n  const [isConfirming, setIsConfirming] = useState(false);\n  const [password, setPassword] = useState('');\n  const [isVerifying, setIsVerifying] = useState(false);\n  const [actionMessage, setActionMessage] = useState<{type:'success'|'error'|'info', text:string}|null>(null);\n\n  const showActionMessage = (type: 'success'|'error'|'info', text: string) => {\n    setActionMessage({type, text});\n    setTimeout(() => setActionMessage(null), 3000);\n  };\n\n  const roleInfo = {\n    service_admin: {\n      title: 'ì„œë¹„ìŠ¤ ê´€ë¦¬ì',\n      icon: 'ğŸ‘¨â€ğŸ’¼',\n      color: 'blue',\n      description: 'í”„ë¡œì íŠ¸ì™€ ì‚¬ìš©ìë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” ê¶Œí•œ',\n      permissions: [\n        'í”„ë¡œì íŠ¸ ìƒì„±/ìˆ˜ì •/ì‚­ì œ',\n        'ì‚¬ìš©ì ê´€ë¦¬',\n        'í‰ê°€ì í• ë‹¹',\n        'ê²°ê³¼ ë¶„ì„ ë° ë³´ê³ ì„œ ìƒì„±',\n        'ì‹œìŠ¤í…œ ì„¤ì • ì¼ë¶€ ì ‘ê·¼'\n      ]\n    },\n    service_user: {\n      title: 'ì„œë¹„ìŠ¤ ì‚¬ìš©ì',\n      icon: 'ğŸ‘¤',\n      color: 'green',\n      description: 'ì¼ë°˜ ì‚¬ìš©ì ê¶Œí•œìœ¼ë¡œ í”„ë¡œì íŠ¸ ì°¸ì—¬',\n      permissions: [\n        'í• ë‹¹ëœ í”„ë¡œì íŠ¸ ì¡°íšŒ',\n        'í‰ê°€ ì°¸ì—¬',\n        'ê°œì¸ ì„¤ì • ê´€ë¦¬',\n        'ê²°ê³¼ ì¡°íšŒ (ì œí•œì )'\n      ]\n    },\n    evaluator: {\n      title: 'í‰ê°€ì',\n      icon: 'âš–ï¸',\n      color: 'purple',\n      description: 'í‰ê°€ ì‘ì—…ì—ë§Œ ì§‘ì¤‘í•˜ëŠ” ì œí•œëœ ê¶Œí•œ',\n      permissions: [\n        'í• ë‹¹ëœ í‰ê°€ ìˆ˜í–‰',\n        'ìŒëŒ€ë¹„êµ í‰ê°€',\n        'ì§ì ‘ì…ë ¥ í‰ê°€',\n        'ì¼ê´€ì„± ê²€ì¦',\n        'í‰ê°€ ì´ë ¥ ì¡°íšŒ'\n      ]\n    },\n    super_admin: {\n      title: 'ìŠˆí¼ ê´€ë¦¬ì',\n      icon: 'ğŸ‘‘',\n      color: 'red',\n      description: 'ì‹œìŠ¤í…œ ì „ì²´ë¥¼ ê´€ë¦¬í•˜ëŠ” ìµœê³  ê¶Œí•œ',\n      permissions: [\n        'ëª¨ë“  ê¸°ëŠ¥ ì ‘ê·¼',\n        'ì‹œìŠ¤í…œ ì´ˆê¸°í™”',\n        'ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬',\n        'ì—­í•  ì „í™˜',\n        'ì‹œìŠ¤í…œ ëª¨ë‹ˆí„°ë§'\n      ]\n    }\n  };\n\n  const info = roleInfo[targetRole];\n\n  const handleConfirmSwitch = async () => {\n    if (!password) {\n      showActionMessage('error', 'ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');\n      return;\n    }\n    setIsVerifying(true);\n    try {\n      const result = await apiService.post('/api/service/accounts/verify-password/', { password });\n      if (result.data && (result.data as { valid?: boolean }).valid) {\n        onRoleSwitch(targetRole);\n        showActionMessage('success', `${info.title} ëª¨ë“œë¡œ ì „í™˜ë˜ì—ˆìŠµë‹ˆë‹¤.`);\n        setIsConfirming(false);\n      } else {\n        showActionMessage('error', 'ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.');\n      }\n    } catch {\n      showActionMessage('error', 'ë¹„ë°€ë²ˆí˜¸ í™•ì¸ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');\n    } finally {\n      setIsVerifying(false);\n      setPassword('');\n    }\n  };\n\n  return (\n    <div className=\"max-w-4xl mx-auto space-y-6\">\n      {actionMessage && (\n        <div className={`fixed top-4 right-4 z-50 px-4 py-3 rounded-lg text-sm font-medium shadow-lg ${actionMessage.type === 'success' ? 'bg-green-100 text-green-800' : actionMessage.type === 'info' ? 'bg-blue-100 text-blue-800' : 'bg-red-100 text-red-800'}`}>\n          {actionMessage.text}\n        </div>\n      )}\n      {/* í—¤ë” */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold\" style={{ color: 'var(--text-primary)' }}>\n            ì—­í•  ì „í™˜\n          </h1>\n          <p className=\"text-lg mt-2\" style={{ color: 'var(--text-secondary)' }}>\n            ë‹¤ë¥¸ ì‚¬ìš©ì ì—­í• ë¡œ ì „í™˜í•˜ì—¬ ì‹œìŠ¤í…œì„ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤\n          </p>\n        </div>\n        <button\n          onClick={onBack}\n          className=\"px-4 py-2 rounded-lg transition-colors\"\n          style={{ \n            backgroundColor: 'var(--bg-secondary)',\n            color: 'var(--text-primary)',\n            border: '1px solid var(--border-light)'\n          }}\n        >\n          â† ëŒì•„ê°€ê¸°\n        </button>\n      </div>\n\n      {/* í˜„ì¬ ì—­í•  */}\n      <div className=\"p-6 rounded-xl\" style={{ \n        backgroundColor: 'var(--bg-secondary)',\n        border: '2px solid var(--accent-primary)'\n      }}>\n        <h3 className=\"text-sm font-semibold mb-3\" style={{ color: 'var(--text-muted)' }}>\n          í˜„ì¬ ì—­í• \n        </h3>\n        <div className=\"flex items-center space-x-4\">\n          <div className=\"text-5xl\">ğŸ‘‘</div>\n          <div>\n            <h2 className=\"text-2xl font-bold\" style={{ color: 'var(--text-primary)' }}>\n              ìŠˆí¼ ê´€ë¦¬ì\n            </h2>\n            <p className=\"mt-1\" style={{ color: 'var(--text-secondary)' }}>\n              {currentUser.email} â€¢ ìµœê³  ê¶Œí•œ ë³´ìœ \n            </p>\n          </div>\n        </div>\n      </div>\n\n      {/* ì „í™˜í•  ì—­í•  */}\n      <div className={`p-6 rounded-xl border-2`} style={{ \n        backgroundColor: 'var(--bg-primary)',\n        borderColor: info.color === 'blue' ? '#3B82F6' :\n                     info.color === 'green' ? '#10B981' :\n                     info.color === 'purple' ? '#8B5CF6' :\n                     '#EF4444'\n      }}>\n        <h3 className=\"text-sm font-semibold mb-3\" style={{ color: 'var(--text-muted)' }}>\n          ì „í™˜í•  ì—­í• \n        </h3>\n        <div className=\"flex items-start space-x-4\">\n          <div className=\"text-5xl\">{info.icon}</div>\n          <div className=\"flex-1\">\n            <h2 className=\"text-2xl font-bold mb-2\" style={{ color: 'var(--text-primary)' }}>\n              {info.title}\n            </h2>\n            <p className=\"mb-4\" style={{ color: 'var(--text-secondary)' }}>\n              {info.description}\n            </p>\n            \n            <div className=\"space-y-2\">\n              <h4 className=\"font-semibold text-sm\" style={{ color: 'var(--text-primary)' }}>\n                ì‚¬ìš© ê°€ëŠ¥í•œ ê¶Œí•œ:\n              </h4>\n              <ul className=\"space-y-1\">\n                {info.permissions.map((permission, index) => (\n                  <li key={index} className=\"flex items-start space-x-2 text-sm\" style={{ color: 'var(--text-secondary)' }}>\n                    <span className=\"text-green-500 mt-0.5\">âœ“</span>\n                    <span>{permission}</span>\n                  </li>\n                ))}\n              </ul>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* ê²½ê³  ë©”ì‹œì§€ */}\n      <div className=\"p-4 rounded-lg bg-yellow-50 border border-yellow-200\">\n        <div className=\"flex items-start space-x-3\">\n          <span className=\"text-2xl\">âš ï¸</span>\n          <div>\n            <h4 className=\"font-semibold text-yellow-900\">ì£¼ì˜ì‚¬í•­</h4>\n            <ul className=\"mt-2 space-y-1 text-sm text-yellow-800\">\n              <li>â€¢ ì—­í•  ì „í™˜ ì‹œ í˜„ì¬ ì‘ì—… ì¤‘ì¸ ë‚´ìš©ì´ ì €ì¥ë˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤</li>\n              <li>â€¢ ì „í™˜ëœ ì—­í• ì˜ ê¶Œí•œìœ¼ë¡œë§Œ ì‹œìŠ¤í…œì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤</li>\n              <li>â€¢ ì›ë˜ ì—­í• ë¡œ ëŒì•„ì˜¤ë ¤ë©´ ë‹¤ì‹œ ë¡œê·¸ì¸í•´ì•¼ í•©ë‹ˆë‹¤</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n\n      {/* ì „í™˜ ë²„íŠ¼ */}\n      {!isConfirming ? (\n        <div className=\"flex justify-center\">\n          <button\n            onClick={() => setIsConfirming(true)}\n            className=\"px-8 py-3 rounded-lg font-semibold text-white transition-transform hover:scale-105\"\n            style={{ \n              backgroundColor: info.color === 'blue' ? '#3B82F6' :\n                             info.color === 'green' ? '#10B981' :\n                             info.color === 'purple' ? '#8B5CF6' :\n                             '#EF4444'\n            }}\n          >\n            {info.icon} {info.title}ë¡œ ì „í™˜í•˜ê¸°\n          </button>\n        </div>\n      ) : (\n        <div className=\"p-6 rounded-xl\" style={{ backgroundColor: 'var(--bg-secondary)' }}>\n          <h3 className=\"text-lg font-semibold mb-4\" style={{ color: 'var(--text-primary)' }}>\n            ë¹„ë°€ë²ˆí˜¸ í™•ì¸\n          </h3>\n          <p className=\"mb-4 text-sm\" style={{ color: 'var(--text-secondary)' }}>\n            ë³´ì•ˆì„ ìœ„í•´ ìŠˆí¼ ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸ë¥¼ ë‹¤ì‹œ ì…ë ¥í•´ì£¼ì„¸ìš”\n          </p>\n          <div className=\"flex space-x-3\">\n            <input\n              type=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              placeholder=\"ë¹„ë°€ë²ˆí˜¸ ì…ë ¥\"\n              className=\"flex-1 px-4 py-2 rounded-lg border\"\n              style={{ \n                backgroundColor: 'var(--bg-primary)',\n                borderColor: 'var(--border-light)',\n                color: 'var(--text-primary)'\n              }}\n              autoFocus\n            />\n            <button\n              onClick={handleConfirmSwitch}\n              disabled={isVerifying}\n              className=\"px-6 py-2 rounded-lg font-semibold text-white bg-green-600 hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              {isVerifying ? 'í™•ì¸ ì¤‘...' : 'í™•ì¸'}\n            </button>\n            <button\n              onClick={() => {\n                setIsConfirming(false);\n                setPassword('');\n              }}\n              className=\"px-6 py-2 rounded-lg font-semibold\"\n              style={{ \n                backgroundColor: 'var(--bg-subtle)',\n                color: 'var(--text-primary)'\n              }}\n            >\n              ì·¨ì†Œ\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default RoleSwitcher;"],"names":["_ref","currentUser","targetRole","onRoleSwitch","onBack","isConfirming","setIsConfirming","useState","password","setPassword","isVerifying","setIsVerifying","actionMessage","setActionMessage","showActionMessage","type","text","setTimeout","info","service_admin","title","icon","color","description","permissions","service_user","evaluator","super_admin","_jsxs","className","children","_jsx","concat","style","onClick","backgroundColor","border","email","borderColor","map","permission","index","value","onChange","e","target","placeholder","autoFocus","async","result","apiService","post","data","valid","_unused","disabled"],"sourceRoot":""}