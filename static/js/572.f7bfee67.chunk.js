"use strict";(self.webpackChunkahp_research_platform=self.webpackChunkahp_research_platform||[]).push([[572],{1546:(e,s,t)=>{t.d(s,{fileUploadService:()=>o,v:()=>c});var a=t(2555),r=t(6910);const l=function(){const e={};arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(e["Content-Type"]="application/json");const s=localStorage.getItem("ahp_access_token")||sessionStorage.getItem("ahp_access_token");return s&&(e.Authorization="Bearer ".concat(s)),e},i=async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var t,i,o;const d="".concat(r.API_BASE_URL).concat(e),m=await fetch(d,(0,a.A)((0,a.A)({credentials:"include"},s),{},{headers:(0,a.A)((0,a.A)({},l(!1)),s.headers)})),p=m.headers.get("content-type");let u=null;if(p&&p.includes("application/json"))u=await m.json();else if(m.ok&&"DELETE"===s.method)u={success:!0};else{await m.text()}var c,n;if(!m.ok)throw new Error((null===(c=u)||void 0===c?void 0:c.message)||(null===(n=u)||void 0===n?void 0:n.error)||"HTTP ".concat(m.status,": File upload API \uc694\uccad \uc2e4\ud328"));return{success:!0,data:null!==(t=null===(i=u)||void 0===i?void 0:i.data)&&void 0!==t?t:u,message:null===(o=u)||void 0===o?void 0:o.message}}catch(d){console.error("File Upload API Error [".concat(e,"]:"),d);return{success:!1,error:(d instanceof Error?d.message:"")||"Unknown file upload error occurred"}}},o={uploadFile:async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document",t=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;const o=new FormData;o.append("file",e),o.append("category",s),t&&o.append("metadata",JSON.stringify(t)),a&&o.append("project_id",a);const c=await async function(e){const s=await e.arrayBuffer(),t=await crypto.subtle.digest("SHA-256",s);return Array.from(new Uint8Array(t)).map(e=>e.toString(16).padStart(2,"0")).join("")}(e);o.append("file_hash",c);try{return new Promise((e,s)=>{const t=new XMLHttpRequest,a="file_"+Date.now()+"_"+Math.random().toString(36).substr(2,9);t.upload.addEventListener("progress",e=>{if(e.lengthComputable&&i){const s={file_id:a,progress_percentage:Math.round(e.loaded/e.total*100),bytes_uploaded:e.loaded,total_bytes:e.total,status:"uploading"};i(s)}}),t.addEventListener("load",()=>{if(t.status>=200&&t.status<300)try{const s=JSON.parse(t.responseText);s.data&&function(e){try{const s=d();s[e.id]=e,localStorage.setItem("ahp_uploaded_files",JSON.stringify(s))}catch(s){console.error("Failed to store file info locally:",s)}}(s.data),e({success:!0,data:s.data||s,message:s.message})}catch(a){s(new Error("Failed to parse upload response"))}else s(new Error("Upload failed: ".concat(t.status," ").concat(t.statusText)))}),t.addEventListener("error",()=>{s(new Error("Network error during upload"))});const c=l(!1);t.open("POST","".concat(r.API_BASE_URL,"/api/files/upload/")),Object.entries(c).forEach(e=>{let[s,a]=e;t.setRequestHeader(s,a)}),t.send(o)})}catch(n){return{success:!1,error:(n instanceof Error?n.message:"")||"File upload failed"}}},getFileInfo:async e=>i("/api/files/".concat(e,"/")),getFiles:async function(){let e=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0,t=arguments.length>3?arguments[3]:void 0,a="?page=".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1);return e&&(a+="&category=".concat(e)),s&&(a+="&project_id=".concat(s)),t&&(a+="&search=".concat(encodeURIComponent(t))),i("/api/files/".concat(a))},downloadFile:async e=>{const s=await i("/api/files/".concat(e,"/download/"),{method:"POST"});return s.success&&s.data&&await o.incrementDownloadCount(e),s},deleteFile:async e=>{const s=await i("/api/files/".concat(e,"/"),{method:"DELETE"});return s.success&&n(e),s},updateFileMetadata:async(e,s)=>i("/api/files/".concat(e,"/metadata/"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({metadata:s})}),validateFile:async e=>{const s={is_valid:!0,file_size_valid:!0,file_type_valid:!0,issues:[],warnings:[]};e.size>52428800&&(s.file_size_valid=!1,s.is_valid=!1,s.issues.push("\ud30c\uc77c \ud06c\uae30\uac00 50MB\ub97c \ucd08\uacfc\ud569\ub2c8\ub2e4. (\ud604\uc7ac: ".concat(m(e.size),")")));["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain","image/jpeg","image/png","image/gif","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/csv"].includes(e.type)||(s.file_type_valid=!1,s.is_valid=!1,s.issues.push("\uc9c0\uc6d0\ub418\uc9c0 \uc54a\ub294 \ud30c\uc77c \ud615\uc2dd\uc785\ub2c8\ub2e4: ".concat(e.type))),e.name.length>255&&(s.is_valid=!1,s.issues.push("\ud30c\uc77c\uba85\uc774 \ub108\ubb34 \uae41\ub2c8\ub2e4 (\ucd5c\ub300 255\uc790)"));const t=e.name.toLowerCase().substring(e.name.lastIndexOf("."));return[".exe",".bat",".cmd",".scr",".pif",".com"].includes(t)&&(s.file_type_valid=!1,s.is_valid=!1,s.issues.push("\ubcf4\uc548\uc0c1 \uc704\ud5d8\ud55c \ud30c\uc77c \ud655\uc7a5\uc790\uc785\ub2c8\ub2e4: ".concat(t))),s},bulkDeleteFiles:async e=>{const s=await i("/api/files/bulk-delete/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({file_ids:e})});return s.success&&e.forEach(e=>n(e)),s},createShareLink:async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24,t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return i("/api/files/".concat(e,"/share/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({expires_in_hours:s,is_public:t})})},createFileBackup:async e=>i("/api/files/".concat(e,"/backup/"),{method:"POST"}),restoreFileFromBackup:async e=>i("/api/files/restore/".concat(e,"/"),{method:"POST"}),getUploadStatistics:async()=>i("/api/files/statistics/"),cleanupExpiredFiles:async()=>i("/api/files/cleanup/",{method:"POST"}),incrementDownloadCount:async e=>i("/api/files/".concat(e,"/download-count/"),{method:"POST"})},c={validateFileBeforeUpload:async e=>o.validateFile(e),formatFileSize:m,getFileTypeIcon:e=>e.startsWith("image/")?"\ud83d\uddbc\ufe0f":e.startsWith("video/")?"\ud83c\udfa5":e.startsWith("audio/")?"\ud83c\udfb5":e.includes("pdf")?"\ud83d\udcc4":e.includes("word")||e.includes("document")?"\ud83d\udcdd":e.includes("excel")||e.includes("spreadsheet")?"\ud83d\udcca":e.includes("powerpoint")||e.includes("presentation")?"\ud83d\udcfa":e.includes("zip")||e.includes("rar")||e.includes("archive")?"\ud83d\udce6":"\ud83d\udcc1",isImageFile:e=>e.startsWith("image/"),isDocumentFile:e=>e.includes("pdf")||e.includes("word")||e.includes("document")||e.includes("text"),generateImageThumbnail:async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;return e.type.startsWith("image/")?new Promise(t=>{const a=document.createElement("canvas"),r=a.getContext("2d"),l=new Image;l.onload=()=>{const e=Math.min(s/l.width,s/l.height);a.width=l.width*e,a.height=l.height*e,null===r||void 0===r||r.drawImage(l,0,0,a.width,a.height),t(a.toDataURL())},l.onerror=()=>t(null),l.src=URL.createObjectURL(e)}):null},categorizeFile:e=>{const s=e.type.toLowerCase();return s.startsWith("image/")?"image":s.includes("pdf")||s.includes("document")||s.includes("text")?"document":s.includes("excel")||s.includes("csv")||s.includes("spreadsheet")?"data":"other"},storeUploadProgress:(e,s)=>{try{const t="upload_progress_".concat(e);localStorage.setItem(t,JSON.stringify(s))}catch(t){console.error("Failed to store upload progress:",t)}},getUploadProgress:e=>{try{const s="upload_progress_".concat(e),t=localStorage.getItem(s);if(t)return JSON.parse(t)}catch(s){console.error("Failed to get upload progress:",s)}return null},clearUploadProgress:e=>{try{const s="upload_progress_".concat(e);localStorage.removeItem(s)}catch(s){console.error("Failed to clear upload progress:",s)}}};function n(e){try{const s=d();delete s[e],localStorage.setItem("ahp_uploaded_files",JSON.stringify(s))}catch(s){console.error("Failed to remove file info locally:",s)}}function d(){try{const e=localStorage.getItem("ahp_uploaded_files");return e?JSON.parse(e):{}}catch(e){return console.error("Failed to get local file infos:",e),{}}}function m(e){if(0===e)return"0 Bytes";const s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(2))+" "+["Bytes","KB","MB","GB","TB"][s]}},4572:(e,s,t)=>{t.r(s),t.d(s,{default:()=>C});var a=t(2555),r=t(9950),l=t(4732),i=t(4225),o=t(5516),c=t(2765),n=t(3986);const d=["title","titleId"];function m(e,s){let{title:t,titleId:a}=e,l=(0,n.A)(e,d);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},l),t?r.createElement("title",{id:a},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16.5V9.75m0 0 3 3m-3-3-3 3M6.75 19.5a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z"}))}const p=r.forwardRef(m);var u=t(6923);const x=["title","titleId"];function h(e,s){let{title:t,titleId:a}=e,l=(0,n.A)(e,x);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},l),t?r.createElement("title",{id:a},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const g=r.forwardRef(h),v=["title","titleId"];function y(e,s){let{title:t,titleId:a}=e,l=(0,n.A)(e,v);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},l),t?r.createElement("title",{id:a},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const f=r.forwardRef(y);var j=t(6467),b=t(3206),N=t(2687),w=t(1546),k=t(4414);const A=e=>{var s;let{onFileUploaded:t,onFileDeleted:l,allowMultiple:i=!1,accept:n=".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png,.gif,.xlsx,.xls,.csv",maxFileSize:d=52428800,category:m="document",projectId:x,className:h="",disabled:v=!1,showPreview:y=!0,allowDownload:A=!0}=e;const[C,_]=(0,r.useState)({files:[],uploadProgress:{},dragActive:!1,previewFile:null,showDeleteConfirm:null}),S=(0,r.useRef)(null),[F,E]=(0,r.useState)(""),[I,P]=(0,r.useState)(""),[D,O]=(0,r.useState)(!1);r.useEffect(()=>{L()},[x,m]);const L=async()=>{try{const e=await w.fileUploadService.getFiles(1,m,x);e.success&&e.data?_(s=>{var t;return(0,a.A)((0,a.A)({},s),{},{files:(null===(t=e.data)||void 0===t?void 0:t.results)||[]})}):e.success||E("\uae30\uc874 \ud30c\uc77c \ubaa9\ub85d\uc744 \ubd88\ub7ec\uc624\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4.")}catch(e){const s=e instanceof Error?e.message:"\uc54c \uc218 \uc5c6\ub294 \uc624\ub958";E("\ud30c\uc77c \ubaa9\ub85d \ub85c\ub4dc \uc2e4\ud328: ".concat(s))}},M=async e=>{const s=await w.v.validateFileBeforeUpload(e);return e.size>d&&(s.file_size_valid=!1,s.is_valid=!1,s.issues.push("\ud30c\uc77c \ud06c\uae30\uac00 \uc81c\ud55c\uc744 \ucd08\uacfc\ud569\ub2c8\ub2e4. (\ucd5c\ub300: ".concat(w.v.formatFileSize(d),")"))),s},T=async e=>{if(v)return;E(""),P(""),O(!0);const s=Array.from(e);if(!i&&s.length>1)return E("\ud55c \ubc88\uc5d0 \ud558\ub098\uc758 \ud30c\uc77c\ub9cc \uc5c5\ub85c\ub4dc\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),void O(!1);for(const r of s){const e=await M(r);if(!e.is_valid){E("\ud30c\uc77c \uc5c5\ub85c\ub4dc \uc2e4\ud328 (".concat(r.name,"): ").concat(e.issues.join(", ")));continue}const s={description:"Uploaded ".concat(r.name),tags:[m],public:!1};try{const e=await w.fileUploadService.uploadFile(r,m,s,x,e=>{_(s=>(0,a.A)((0,a.A)({},s),{},{uploadProgress:(0,a.A)((0,a.A)({},s.uploadProgress),{},{[e.file_id]:e})})),w.v.storeUploadProgress(e.file_id,e)});if(!e.success||!e.data)throw new Error(e.error||"\ud30c\uc77c \uc5c5\ub85c\ub4dc\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.");{const s=e.data;_(e=>(0,a.A)((0,a.A)({},e),{},{files:[...e.files,s],uploadProgress:(0,a.A)((0,a.A)({},e.uploadProgress),{},{[s.id]:{file_id:s.id,progress_percentage:100,bytes_uploaded:s.file_size,total_bytes:s.file_size,status:"completed"}})})),setTimeout(()=>{_(e=>{const t=(0,a.A)({},e.uploadProgress);return delete t[s.id],(0,a.A)((0,a.A)({},e),{},{uploadProgress:t})}),w.v.clearUploadProgress(s.id)},2e3),P("\ud30c\uc77c \uc5c5\ub85c\ub4dc \uc644\ub8cc: ".concat(r.name)),null===t||void 0===t||t(s)}}catch(F){E("\ud30c\uc77c \uc5c5\ub85c\ub4dc \uc2e4\ud328 (".concat(r.name,"): ").concat(F instanceof Error?F.message:String(F))),_(s=>(0,a.A)((0,a.A)({},s),{},{uploadProgress:(0,a.A)((0,a.A)({},s.uploadProgress),{},{[r.name]:{file_id:r.name,progress_percentage:0,bytes_uploaded:0,total_bytes:r.size,status:"failed",error_message:F instanceof Error?F.message:String(F)}})}))}}O(!1),S.current&&(S.current.value="")},z=(0,r.useCallback)(e=>{if(e.preventDefault(),_(e=>(0,a.A)((0,a.A)({},e),{},{dragActive:!1})),v)return;const s=e.dataTransfer.files;s.length>0&&T(s)},[v]),U=(0,r.useCallback)(e=>{e.preventDefault(),v||_(e=>(0,a.A)((0,a.A)({},e),{},{dragActive:!0}))},[v]),B=(0,r.useCallback)(e=>{e.preventDefault(),_(e=>(0,a.A)((0,a.A)({},e),{},{dragActive:!1}))},[]),R=async e=>{try{const s=await w.fileUploadService.downloadFile(e.id);if(!s.success||!s.data)throw new Error(s.error||"\ud30c\uc77c \ub2e4\uc6b4\ub85c\ub4dc\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.");window.open(s.data.download_url,"_blank")}catch(F){E("\ud30c\uc77c \ub2e4\uc6b4\ub85c\ub4dc \uc2e4\ud328: ".concat(F instanceof Error?F.message:String(F)))}},W=e=>(0,k.jsxs)("div",{className:"mt-2",children:[(0,k.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[(0,k.jsx)("span",{children:"completed"===e.status?"\uc644\ub8cc":"".concat(e.progress_percentage,"%")}),e.upload_speed&&(0,k.jsxs)("span",{children:[w.v.formatFileSize(e.upload_speed),"/s"]})]}),(0,k.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,k.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat((()=>{switch(e.status){case"completed":return"bg-green-500";case"failed":return"bg-red-500";case"paused":return"bg-yellow-500";default:return"bg-blue-500"}})()),style:{width:"".concat(e.progress_percentage,"%")}})}),e.error_message&&(0,k.jsx)("p",{className:"text-xs text-red-600 mt-1",children:e.error_message})]});return(0,k.jsxs)("div",{className:"space-y-4 ".concat(h),children:[F&&(0,k.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:(0,k.jsxs)("div",{className:"flex items-center",children:[(0,k.jsx)(o.A,{className:"h-5 w-5 text-red-400 mr-2"}),(0,k.jsx)("p",{className:"text-sm text-red-700",children:F})]})}),I&&(0,k.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:(0,k.jsxs)("div",{className:"flex items-center",children:[(0,k.jsx)(c.A,{className:"h-5 w-5 text-green-400 mr-2"}),(0,k.jsx)("p",{className:"text-sm text-green-700",children:I})]})}),(0,k.jsxs)("div",{className:"border-2 border-dashed rounded-lg p-8 text-center transition-colors cursor-pointer ".concat(v?"border-gray-200 bg-gray-50 cursor-not-allowed":C.dragActive?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-gray-400"),onDrop:z,onDragOver:U,onDragLeave:B,onClick:()=>{var e;return!v&&(null===(e=S.current)||void 0===e?void 0:e.click())},children:[(0,k.jsx)(p,{className:"h-12 w-12 mx-auto mb-4 ".concat(v?"text-gray-300":"text-gray-400")}),(0,k.jsxs)("div",{className:"space-y-2",children:[(0,k.jsx)("p",{className:"text-lg font-medium ".concat(v?"text-gray-400":"text-gray-700"),children:i?"\ud30c\uc77c\ub4e4\uc744 \ub4dc\ub798\uadf8\ud558\uac70\ub098 \ud074\ub9ad\ud558\uc5ec \uc5c5\ub85c\ub4dc":"\ud30c\uc77c\uc744 \ub4dc\ub798\uadf8\ud558\uac70\ub098 \ud074\ub9ad\ud558\uc5ec \uc5c5\ub85c\ub4dc"}),(0,k.jsxs)("p",{className:"text-sm ".concat(v?"text-gray-300":"text-gray-500"),children:["\uc9c0\uc6d0 \ud615\uc2dd: ",n.split(",").join(", ")]}),(0,k.jsxs)("p",{className:"text-xs ".concat(v?"text-gray-300":"text-gray-400"),children:["\ucd5c\ub300 \ud30c\uc77c \ud06c\uae30: ",w.v.formatFileSize(d)]})]}),D&&(0,k.jsx)("div",{className:"mt-4",children:(0,k.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"})})]}),(0,k.jsx)("input",{ref:S,type:"file",accept:n,multiple:i,onChange:e=>e.target.files&&T(e.target.files),className:"hidden",disabled:v}),Object.keys(C.uploadProgress).length>0&&(0,k.jsxs)("div",{className:"space-y-2",children:[(0,k.jsx)("h4",{className:"font-medium text-gray-700",children:"\uc5c5\ub85c\ub4dc \uc9c4\ud589 \uc0c1\ud669"}),Object.values(C.uploadProgress).map(e=>(0,k.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,k.jsxs)("div",{className:"flex items-center justify-between",children:[(0,k.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"\ud30c\uc77c \uc5c5\ub85c\ub4dc \uc911..."}),"uploading"===e.status&&(0,k.jsx)(u.A,{className:"h-4 w-4 text-gray-400"})]}),W(e)]},e.file_id))]}),C.files.length>0&&(0,k.jsxs)("div",{className:"space-y-2",children:[(0,k.jsx)("h4",{className:"font-medium text-gray-700",children:"\uc5c5\ub85c\ub4dc\ub41c \ud30c\uc77c"}),(0,k.jsx)("div",{className:"grid grid-cols-1 gap-3",children:C.files.map(e=>{var s;return(0,k.jsxs)("div",{className:"bg-white border rounded-lg p-4",children:[(0,k.jsxs)("div",{className:"flex items-center justify-between",children:[(0,k.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,k.jsx)("span",{className:"text-2xl",children:w.v.getFileTypeIcon(e.mime_type)}),(0,k.jsxs)("div",{children:[(0,k.jsx)("h5",{className:"font-medium text-gray-900",children:e.original_name}),(0,k.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[(0,k.jsx)("span",{children:w.v.formatFileSize(e.file_size)}),(0,k.jsx)("span",{children:"\u2022"}),(0,k.jsx)("span",{children:new Date(e.upload_date).toLocaleDateString("ko-KR")}),(0,k.jsx)("span",{children:"\u2022"}),(0,k.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat("completed"===e.status?"bg-green-100 text-green-800":"processing"===e.status?"bg-yellow-100 text-yellow-800":"failed"===e.status?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:"completed"===e.status?"\uc644\ub8cc":"processing"===e.status?"\ucc98\ub9ac \uc911":"failed"===e.status?"\uc2e4\ud328":e.status})]})]})]}),(0,k.jsxs)("div",{className:"flex items-center space-x-2",children:[y&&w.v.isImageFile(e.mime_type)&&(0,k.jsxs)(b.A,{size:"sm",variant:"outline",onClick:()=>_(s=>(0,a.A)((0,a.A)({},s),{},{previewFile:e})),className:"flex items-center",children:[(0,k.jsx)(g,{className:"h-4 w-4 mr-1"}),"\ubbf8\ub9ac\ubcf4\uae30"]}),A&&"completed"===e.status&&(0,k.jsxs)(b.A,{size:"sm",variant:"outline",onClick:()=>R(e),className:"flex items-center",children:[(0,k.jsx)(f,{className:"h-4 w-4 mr-1"}),"\ub2e4\uc6b4\ub85c\ub4dc"]}),(0,k.jsxs)(b.A,{size:"sm",variant:"outline",onClick:()=>_(s=>(0,a.A)((0,a.A)({},s),{},{showDeleteConfirm:e.id})),className:"flex items-center text-red-600 hover:text-red-700",children:[(0,k.jsx)(j.A,{className:"h-4 w-4 mr-1"}),"\uc0ad\uc81c"]})]})]}),(null===(s=e.metadata)||void 0===s?void 0:s.description)&&(0,k.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:e.metadata.description})]},e.id)})})]}),(0,k.jsx)(N.A,{isOpen:!!C.previewFile,onClose:()=>_(e=>(0,a.A)((0,a.A)({},e),{},{previewFile:null})),title:"\ud30c\uc77c \ubbf8\ub9ac\ubcf4\uae30",size:"lg",children:C.previewFile&&(0,k.jsxs)("div",{className:"space-y-4",children:[(0,k.jsxs)("div",{className:"text-center",children:[(0,k.jsx)("h3",{className:"font-medium text-gray-900",children:C.previewFile.original_name}),(0,k.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[w.v.formatFileSize(C.previewFile.file_size)," \u2022",new Date(C.previewFile.upload_date).toLocaleDateString("ko-KR")]})]}),w.v.isImageFile(C.previewFile.mime_type)&&(0,k.jsx)("div",{className:"flex justify-center",children:(0,k.jsx)("img",{src:"".concat(C.previewFile.file_path),alt:C.previewFile.original_name,className:"max-w-full max-h-96 rounded-lg"})}),(0,k.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,k.jsx)(b.A,{variant:"outline",onClick:()=>_(e=>(0,a.A)((0,a.A)({},e),{},{previewFile:null})),children:"\ub2eb\uae30"}),(0,k.jsx)(b.A,{variant:"primary",onClick:()=>C.previewFile&&R(C.previewFile),children:"\ub2e4\uc6b4\ub85c\ub4dc"})]})]})}),(0,k.jsx)(N.A,{isOpen:!!C.showDeleteConfirm,onClose:()=>_(e=>(0,a.A)((0,a.A)({},e),{},{showDeleteConfirm:null})),title:"\ud30c\uc77c \uc0ad\uc81c \ud655\uc778",children:(0,k.jsxs)("div",{className:"space-y-4",children:[(0,k.jsx)("p",{className:"text-gray-700",children:"\uc815\ub9d0\ub85c \uc774 \ud30c\uc77c\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c? \uc774 \uc791\uc5c5\uc740 \ub418\ub3cc\ub9b4 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."}),C.showDeleteConfirm&&(0,k.jsx)("div",{className:"bg-gray-50 rounded-lg p-3",children:(0,k.jsx)("p",{className:"font-medium text-gray-900",children:null===(s=C.files.find(e=>e.id===C.showDeleteConfirm))||void 0===s?void 0:s.original_name})}),(0,k.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,k.jsx)(b.A,{variant:"outline",onClick:()=>_(e=>(0,a.A)((0,a.A)({},e),{},{showDeleteConfirm:null})),children:"\ucde8\uc18c"}),(0,k.jsx)(b.A,{variant:"primary",onClick:()=>C.showDeleteConfirm&&(async e=>{try{const s=await w.fileUploadService.deleteFile(e);if(!s.success)throw new Error(s.error||"\ud30c\uc77c \uc0ad\uc81c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.");_(s=>(0,a.A)((0,a.A)({},s),{},{files:s.files.filter(s=>s.id!==e),showDeleteConfirm:null})),P("\ud30c\uc77c\uc774 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),null===l||void 0===l||l(e)}catch(F){E("\ud30c\uc77c \uc0ad\uc81c \uc2e4\ud328: ".concat(F instanceof Error?F.message:String(F)))}})(C.showDeleteConfirm),className:"bg-red-600 hover:bg-red-700",children:"\uc0ad\uc81c"})]})]})})]})},C=e=>{let{user:s}=e;const[o,c]=(0,r.useState)("upload"),[n,d]=(0,r.useState)(null),[m,p]=(0,r.useState)(null),u=(e,s)=>{p({type:e,text:s}),setTimeout(()=>p(null),3e3)},[x,h]=(0,r.useState)(""),[g,v]=(0,r.useState)(!1),[y,f]=(0,r.useState)(null),[j,b]=(0,r.useState)({checkGrammar:!0,checkStructure:!0,checkMethodology:!0,checkReferences:!0,checkOriginality:!0,checkClarity:!0,strictMode:!1}),N=async e=>{var s;const a=null===(s=e.target.files)||void 0===s?void 0:s[0];if(a){d(a);try{const{fileUploadService:e}=await Promise.resolve().then(t.bind(t,1546)),s=await e.uploadFile(a,"document",{description:"AI \ud488\uc9c8 \uac80\uc99d\uc6a9 \ub17c\ubb38",tags:["ai-validation","paper"],public:!1});if(s.success&&s.data){const e=new FileReader;e.onload=e=>{var s;const t=null===(s=e.target)||void 0===s?void 0:s.result;h(t.slice(0,1e3)+"...")},e.readAsText(a)}else{const e=new FileReader;e.onload=e=>{var s;const t=null===(s=e.target)||void 0===s?void 0:s.result;h(t.slice(0,1e3)+"...")},e.readAsText(a)}}catch(r){u("error","\ud30c\uc77c \uc5c5\ub85c\ub4dc \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.");const e=new FileReader;e.onload=e=>{var s;const t=null===(s=e.target)||void 0===s?void 0:s.result;h(t.slice(0,1e3)+"...")},e.readAsText(a)}}},w=async()=>{if(n||x.trim()){v(!0),c("validation");try{var e,s;const r=(0,i.mM)();let l=null;if(r)try{const e=x||(null===n||void 0===n?void 0:n.name)||"";l=await r.validatePaperQuality(e,j)}catch(t){u("error","AI \ud488\uc9c8 \uac80\uc99d \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}const o=(0,a.A)((0,a.A)({},l),{},{overallScore:(null===(e=l)||void 0===e?void 0:e.overallScore)||82,overallGrade:(null===(s=l)||void 0===s?void 0:s.overallGrade)||"B+",summary:"\uc804\ubc18\uc801\uc73c\ub85c \uc591\ud638\ud55c \ud488\uc9c8\uc758 \ub17c\ubb38\uc785\ub2c8\ub2e4. \ubc29\ubc95\ub860\uacfc \uacb0\uacfc \ubd84\uc11d \ubd80\ubd84\uc774 \ud2b9\ud788 \uc6b0\uc218\ud558\uba70, \ucc38\uace0\ubb38\ud5cc \uc778\uc6a9\ub3c4 \uc801\uc808\ud569\ub2c8\ub2e4. \ub2e4\ub9cc \uc11c\ub860 \ubd80\ubd84\uc758 \ub17c\ub9ac\uc801 \ud750\ub984\uacfc \uc77c\ubd80 \ubb38\ubc95 \uc624\ub958 \uac1c\uc120\uc774 \ud544\uc694\ud569\ub2c8\ub2e4.",strengths:["AHP \ubc29\ubc95\ub860 \uc801\uc6a9\uc774 \uccb4\uacc4\uc801\uc774\uace0 \uc815\ud655\ud568","\ub370\uc774\ud130 \ubd84\uc11d \uacfc\uc815\uc774 \uba85\ud655\ud558\uace0 \ud22c\uba85\ud568","\uacb0\uacfc \ud574\uc11d\uc774 \uac1d\uad00\uc801\uc774\uace0 \uade0\ud615\uc7a1\ud600 \uc788\uc74c","\ucc38\uace0\ubb38\ud5cc \uc778\uc6a9\uc774 \ucd5c\uc2e0\uc774\uace0 \uc801\uc808\ud568"],improvements:["\uc11c\ub860\uc758 \uc5f0\uad6c \ubc30\uacbd\uacfc \ud544\uc694\uc131 \ub17c\ub9ac \uac15\ud654","\uc77c\ubd80 \ubb38\ubc95 \uc624\ub958 \ubc0f \ud45c\ud604 \uac1c\uc120","\uadf8\ub798\ud504\uc640 \ud45c\uc758 \uc2dc\uac01\uc801 \ud488\uc9c8 \ud5a5\uc0c1","\uacb0\ub860 \ubd80\ubd84\uc758 \uc2e4\ubb34\uc801 \uc2dc\uc0ac\uc810 \ubcf4\uac15"],recommendations:["\uc11c\ub860\uc5d0\uc11c \uc5f0\uad6c \ubb38\uc81c\uc758 \uc911\uc694\uc131\uc744 \ub354 \uad6c\uccb4\uc801\uc73c\ub85c \uc81c\uc2dc","\ubc29\ubc95\ub860 \ubd80\ubd84\uc5d0 \ud55c\uacc4\uc810\uacfc \uac00\uc815\uc0ac\ud56d \ucd94\uac00 \uae30\uc220","\uacb0\uacfc \ud574\uc11d \uc2dc \ud0c0 \uc5f0\uad6c\uc640\uc758 \ube44\uad50 \ubd84\uc11d \uac15\ud654","\ud5a5\ud6c4 \uc5f0\uad6c \ubc29\ud5a5\uc5d0 \ub300\ud55c \uad6c\uccb4\uc801 \uc81c\uc548 \ud3ec\ud568"],checks:[{category:"\ubb38\ubc95 \ubc0f \ud45c\ud604",score:75,maxScore:100,status:"good",issues:[{type:"minor",title:"\uc218\ub3d9\ud0dc \uacfc\ub2e4 \uc0ac\uc6a9",description:"\ubb38\uc11c \uc804\ubc18\uc5d0 \uc218\ub3d9\ud0dc \ud45c\ud604\uc774 \ube48\ubc88\ud558\uac8c \uc0ac\uc6a9\ub418\uc5b4 \uac00\ub3c5\uc131\uc744 \uc800\ud574\ud569\ub2c8\ub2e4.",location:"\uc804\uccb4 \ubb38\uc11c",suggestion:"\ub2a5\ub3d9\ud0dc \ud45c\ud604\uc744 \ud65c\uc6a9\ud558\uc5ec \uba85\ud655\ud558\uace0 \uc9c1\uc811\uc801\uc778 \uc11c\uc220\uc744 \uad8c\uc7a5\ud569\ub2c8\ub2e4.",priority:3},{type:"minor",title:"\uc77c\ubd80 \uc5b4\uc0c9\ud55c \ud45c\ud604",description:"2\ud398\uc774\uc9c0 3\ubc88\uc9f8 \ubb38\ub2e8\uc5d0\uc11c \uc5b4\uc0c9\ud55c \ubc88\uc5ed \ud45c\ud604\uc774 \ubc1c\uacac\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",location:"2\ud398\uc774\uc9c0 3\ubb38\ub2e8",suggestion:'"\uacb0\uacfc\uc801\uc73c\ub85c" \ub300\uc2e0 "\ub530\ub77c\uc11c"\ub97c \uc0ac\uc6a9\ud558\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4.',priority:2}]},{category:"\uad6c\uc870 \ubc0f \ub17c\ub9ac",score:85,maxScore:100,status:"good",issues:[{type:"major",title:"\uc11c\ub860 \ub17c\ub9ac \ud750\ub984 \uac1c\uc120 \ud544\uc694",description:"\uc5f0\uad6c \ubc30\uacbd\uc5d0\uc11c \uc5f0\uad6c \ubb38\uc81c\ub85c\uc758 \ub17c\ub9ac\uc801 \uc5f0\uacb0\uc774 \uc57d\ud569\ub2c8\ub2e4.",location:"\uc11c\ub860 \ubd80\ubd84",suggestion:"\uc120\ud589 \uc5f0\uad6c\uc758 \ud55c\uacc4\uc810\uc744 \ub354 \uba85\ud655\ud788 \uc81c\uc2dc\ud558\uace0 \uc774\ub97c \ubc14\ud0d5\uc73c\ub85c \uc5f0\uad6c \ud544\uc694\uc131\uc744 \uac15\uc870\ud558\uc138\uc694.",priority:4}]},{category:"\ubc29\ubc95\ub860",score:92,maxScore:100,status:"excellent",issues:[{type:"suggestion",title:"\uc0d8\ud50c \ud06c\uae30 \uc815\ub2f9\ud654 \ubcf4\uc644",description:"\ud45c\ubcf8 \ud06c\uae30 \uacb0\uc815 \uadfc\uac70\uac00 \uba85\uc2dc\uc801\uc73c\ub85c \uc81c\uc2dc\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.",location:"\ubc29\ubc95\ub860 3.2\uc808",suggestion:"\ud1b5\uacc4\uc801 \uac80\uc815\ub825 \ubd84\uc11d \uacb0\uacfc\ub97c \ucd94\uac00\ud558\uc5ec \ud45c\ubcf8 \ud06c\uae30\uc758 \uc801\uc808\uc131\uc744 \ub4b7\ubc1b\uce68\ud558\uc138\uc694.",priority:2}]},{category:"\ucc38\uace0\ubb38\ud5cc",score:88,maxScore:100,status:"excellent",issues:[{type:"minor",title:"\uc778\uc6a9 \uc2a4\ud0c0\uc77c \uc77c\uad00\uc131",description:"\uc77c\ubd80 \uc778\uc6a9\uc5d0\uc11c APA \uc2a4\ud0c0\uc77c\uc774 \uc815\ud655\ud788 \uc801\uc6a9\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.",location:"\ucc38\uace0\ubb38\ud5cc \ubaa9\ub85d",suggestion:"DOI \uc815\ubcf4\uac00 \uc788\ub294 \ub17c\ubb38\uc740 DOI\ub97c \ud3ec\ud568\ud558\uc5ec \uc778\uc6a9\ud558\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4.",priority:1}]},{category:"\ub3c5\ucc3d\uc131",score:80,maxScore:100,status:"good",issues:[{type:"minor",title:"\uc120\ud589\uc5f0\uad6c\uc640 \ucc28\ubcc4\uc131 \uac15\ud654",description:"\uae30\uc874 \uc5f0\uad6c\uc640\uc758 \ucc28\ubcc4\uc810\uc774 \ub354 \uba85\ud655\ud788 \ubd80\uac01\ub420 \ud544\uc694\uac00 \uc788\uc2b5\ub2c8\ub2e4.",location:"\uc11c\ub860 \ubc0f \uacb0\ub860",suggestion:"\ubcf8 \uc5f0\uad6c\uc758 \ub3c5\ucc3d\uc801 \uae30\uc5ec\uc810\uc744 \ubcc4\ub3c4 \uc139\uc158\uc73c\ub85c \uc815\ub9ac\ud558\uc5ec \uc81c\uc2dc\ud558\uc138\uc694.",priority:3}]},{category:"\uba85\ud655\uc131",score:78,maxScore:100,status:"good",issues:[{type:"major",title:"\uc804\ubb38\uc6a9\uc5b4 \uc815\uc758 \ud544\uc694",description:"\uc77c\ubd80 AHP \uc804\ubb38\uc6a9\uc5b4\uac00 \uc815\uc758 \uc5c6\uc774 \uc0ac\uc6a9\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",location:"\ubc29\ubc95\ub860 \ubd80\ubd84",suggestion:"\ucc98\uc74c \uc0ac\uc6a9\ud558\ub294 \uc804\ubb38\uc6a9\uc5b4\ub294 \uad04\ud638 \ub0b4\uc5d0 \uc601\ubb38 \uc6d0\uc5b4\uc640 \ud568\uaed8 \uc815\uc758\ub97c \uc81c\uc2dc\ud558\uc138\uc694.",priority:4}]}]});f(o),c("results")}catch(t){u("error","\uac80\uc99d \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}finally{v(!1)}}else u("error","\uac80\uc99d\ud560 \ubb38\uc11c\ub97c \uc5c5\ub85c\ub4dc\ud558\uac70\ub098 \ud14d\uc2a4\ud2b8\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.")},C=e=>e>=90?"var(--success-primary)":e>=80?"var(--accent-primary)":e>=70?"var(--warning-primary)":"var(--error-primary)",_=e=>{switch(e){case"excellent":return"\ud83c\udf1f";case"good":return"\u2705";case"fair":return"\u26a0\ufe0f";case"poor":return"\u274c";default:return"\ud83d\udcca"}},S=e=>{switch(e){case"critical":return"var(--error-primary)";case"major":return"var(--warning-primary)";case"minor":return"var(--accent-primary)";case"suggestion":return"var(--success-primary)";default:return"var(--text-secondary)"}},F=()=>(0,k.jsxs)("div",{className:"space-y-6",children:[(0,k.jsxs)("div",{className:"p-6 rounded-xl",style:{backgroundColor:"var(--bg-secondary)"},children:[(0,k.jsx)("h2",{className:"text-2xl font-bold mb-4",style:{color:"var(--text-primary)"},children:"\ud83d\udce4 \ub17c\ubb38 \ubb38\uc11c \uc5c5\ub85c\ub4dc"}),(0,k.jsx)("p",{className:"text-lg",style:{color:"var(--text-secondary)"},children:"AI\uac00 \ub17c\ubb38\uc758 \ud488\uc9c8\uc744 \ub2e4\uac01\ub3c4\ub85c \uac80\uc99d\ud558\uc5ec \uac1c\uc120\uc810\uc744 \uc81c\uc548\ud569\ub2c8\ub2e4."})]}),(0,k.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,k.jsxs)("div",{className:"p-6 rounded-lg",style:{backgroundColor:"var(--bg-primary)"},children:[(0,k.jsx)("h3",{className:"font-semibold mb-4",style:{color:"var(--text-primary)"},children:"\ud83d\udcbe \ud30c\uc77c \uc5c5\ub85c\ub4dc (\uc601\uad6c \uc800\uc7a5)"}),(0,k.jsx)(A,{onFileUploaded:e=>{d(new File([],e.original_name,{type:e.mime_type})),h("\ub17c\ubb38 \ub0b4\uc6a9\uc774 \uc5c5\ub85c\ub4dc\ub418\uc5c8\uc2b5\ub2c8\ub2e4: ".concat(e.original_name,"\n\n\uc774\uacf3\uc5d0 \uc2e4\uc81c \ub17c\ubb38 \ub0b4\uc6a9\uc774 \ud45c\uc2dc\ub429\ub2c8\ub2e4..."))},onFileDeleted:e=>{d(null),h("")},allowMultiple:!1,accept:".pdf,.doc,.docx,.txt",maxFileSize:52428800,category:"document",showPreview:!0,allowDownload:!0,className:"mt-4"}),(0,k.jsxs)("div",{className:"mt-4",children:[(0,k.jsx)("div",{className:"border-2 border-dashed rounded-lg p-8 text-center transition-colors cursor-pointer hover:border-blue-400",style:{borderColor:"var(--border-light)"},onClick:()=>{var e;return null===(e=document.getElementById("file-upload-backup"))||void 0===e?void 0:e.click()},children:n?(0,k.jsxs)("div",{children:[(0,k.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udcc4"}),(0,k.jsx)("p",{className:"font-medium",style:{color:"var(--text-primary)"},children:n.name}),(0,k.jsxs)("p",{className:"text-sm mt-2",style:{color:"var(--text-secondary)"},children:["\ud06c\uae30: ",(n.size/1024/1024).toFixed(2)," MB"]}),(0,k.jsx)("button",{onClick:e=>{e.stopPropagation(),d(null),h("")},className:"mt-3 text-sm text-red-500 hover:text-red-700",children:"\ud30c\uc77c \uc81c\uac70"})]}):(0,k.jsxs)("div",{children:[(0,k.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udce4"}),(0,k.jsx)("p",{className:"font-medium mb-2",style:{color:"var(--text-primary)"},children:"\ub610\ub294 \uae30\uc874 \ubc29\uc2dd\uc73c\ub85c \ub17c\ubb38 \ud30c\uc77c \uc5c5\ub85c\ub4dc"}),(0,k.jsx)("p",{className:"text-sm",style:{color:"var(--text-muted)"},children:"\uc9c0\uc6d0 \ud615\uc2dd: PDF, DOC, DOCX, TXT (\uc784\uc2dc \uc800\uc7a5)"})]})}),(0,k.jsx)("input",{id:"file-upload-backup",type:"file",accept:".pdf,.doc,.docx,.txt",onChange:N,style:{display:"none"}})]})]}),(0,k.jsxs)("div",{className:"p-6 rounded-lg",style:{backgroundColor:"var(--bg-primary)"},children:[(0,k.jsx)("h3",{className:"font-semibold mb-4",style:{color:"var(--text-primary)"},children:"\ud83d\udcdd \ud14d\uc2a4\ud2b8 \uc9c1\uc811 \uc785\ub825"}),(0,k.jsx)("textarea",{value:x,onChange:e=>h(e.target.value),placeholder:"\ub17c\ubb38 \ub0b4\uc6a9\uc744 \uc9c1\uc811 \ubd99\uc5ec\ub123\uae30\ud558\uc138\uc694...",className:"w-full h-48 p-3 border rounded resize-vertical",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-light)",color:"var(--text-primary)"}}),(0,k.jsxs)("p",{className:"text-sm mt-2",style:{color:"var(--text-muted)"},children:[x.length.toLocaleString(),"\uc790 \uc785\ub825\ub428"]})]})]}),(0,k.jsx)("div",{className:"text-center",children:(0,k.jsx)("button",{onClick:()=>c("settings"),disabled:!n&&!x.trim(),className:"px-8 py-3 rounded-lg font-semibold text-white transition-colors disabled:opacity-50",style:{backgroundColor:"var(--accent-primary)"},children:"\uac80\uc99d \uc124\uc815\ud558\uae30 \u2192"})})]});return(0,k.jsxs)("div",{className:"min-h-screen",style:{backgroundColor:"var(--bg-base)"},children:[m&&(0,k.jsx)("div",{className:"fixed top-4 right-4 z-50 px-4 py-3 rounded-lg text-sm font-medium shadow-lg ".concat("success"===m.type?"bg-green-100 text-green-800":"info"===m.type?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"),children:m.text}),(0,k.jsx)(l.A,{title:"AI \ub17c\ubb38 \ud488\uc9c8 \uac80\uc99d",description:"\uc791\uc131\ub41c \ub17c\ubb38\uc758 \ud559\uc220\uc801 \ud488\uc9c8\uc744 AI\uac00 \ub2e4\uac01\ub3c4\ub85c \uac80\uc99d\ud558\uace0 \uac1c\uc120 \uc81c\uc548\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4",icon:"\u2728",onBack:()=>window.history.back()}),(0,k.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[(0,k.jsx)("div",{className:"mb-8",children:(0,k.jsx)("div",{className:"flex flex-wrap gap-2 p-2 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:[{id:"upload",title:"\ubb38\uc11c \uc5c5\ub85c\ub4dc",icon:"\ud83d\udce4"},{id:"settings",title:"\uac80\uc99d \uc124\uc815",icon:"\u2699\ufe0f"},{id:"validation",title:"\ud488\uc9c8 \uac80\uc99d",icon:"\ud83d\udd0d"},{id:"results",title:"\uac80\uc99d \uacb0\uacfc",icon:"\ud83d\udcca"},{id:"improvements",title:"\uac1c\uc120 \uc81c\uc548",icon:"\u2728"}].map(e=>(0,k.jsxs)("button",{onClick:()=>c(e.id),disabled:"settings"===e.id&&!n&&!x.trim()||"validation"===e.id&&!g&&!y||"results"===e.id&&!y||"improvements"===e.id&&!y,className:"flex items-center space-x-2 px-4 py-2 rounded font-medium transition-all ".concat(o===e.id?"shadow-lg":""),style:{backgroundColor:o===e.id?"var(--accent-primary)":"transparent",color:o===e.id?"white":"var(--text-secondary)",opacity:"settings"===e.id&&!n&&!x.trim()||"validation"===e.id&&!g&&!y||"results"===e.id&&!y||"improvements"===e.id&&!y?.5:1},children:[(0,k.jsx)("span",{children:e.icon}),(0,k.jsx)("span",{children:e.title})]},e.id))})}),(()=>{switch(o){case"upload":default:return F();case"settings":return(0,k.jsxs)("div",{className:"space-y-6",children:[(0,k.jsxs)("div",{className:"p-6 rounded-xl",style:{backgroundColor:"var(--bg-secondary)"},children:[(0,k.jsx)("h2",{className:"text-2xl font-bold mb-4",style:{color:"var(--text-primary)"},children:"\u2699\ufe0f \ud488\uc9c8 \uac80\uc99d \uc124\uc815"}),(0,k.jsx)("p",{className:"text-lg",style:{color:"var(--text-secondary)"},children:"\uac80\uc99d\ud560 \ud56d\ubaa9\uacfc \uae30\uc900\uc744 \uc124\uc815\ud558\uc138\uc694."})]}),(0,k.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,k.jsxs)("div",{className:"p-6 rounded-lg",style:{backgroundColor:"var(--bg-primary)"},children:[(0,k.jsx)("h3",{className:"font-semibold mb-4",style:{color:"var(--text-primary)"},children:"\uac80\uc99d \ud56d\ubaa9 \uc120\ud0dd"}),(0,k.jsx)("div",{className:"space-y-3",children:[{key:"checkGrammar",label:"\ubb38\ubc95 \ubc0f \ub9de\ucda4\ubc95 \uac80\uc0ac",icon:"\u270d\ufe0f"},{key:"checkStructure",label:"\ub17c\ubb38 \uad6c\uc870 \ubc0f \ub17c\ub9ac",icon:"\ud83c\udfd7\ufe0f"},{key:"checkMethodology",label:"AHP \ubc29\ubc95\ub860 \uac80\uc99d",icon:"\u2696\ufe0f"},{key:"checkReferences",label:"\ucc38\uace0\ubb38\ud5cc \ud615\uc2dd",icon:"\ud83d\udcda"},{key:"checkOriginality",label:"\ub3c5\ucc3d\uc131 \ud3c9\uac00",icon:"\ud83d\udca1"},{key:"checkClarity",label:"\uba85\ud655\uc131 \ubc0f \uac00\ub3c5\uc131",icon:"\ud83d\udc41\ufe0f"}].map(e=>(0,k.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,k.jsx)("input",{type:"checkbox",checked:j[e.key],onChange:s=>b(t=>(0,a.A)((0,a.A)({},t),{},{[e.key]:s.target.checked})),className:"w-5 h-5"}),(0,k.jsx)("span",{className:"text-xl",children:e.icon}),(0,k.jsx)("span",{style:{color:"var(--text-primary)"},children:e.label})]},e.key))})]}),(0,k.jsxs)("div",{className:"p-6 rounded-lg",style:{backgroundColor:"var(--bg-primary)"},children:[(0,k.jsx)("h3",{className:"font-semibold mb-4",style:{color:"var(--text-primary)"},children:"\uac80\uc99d \ubaa8\ub4dc"}),(0,k.jsxs)("div",{className:"space-y-4",children:[(0,k.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,k.jsx)("input",{type:"radio",name:"validationMode",checked:!j.strictMode,onChange:()=>b(e=>(0,a.A)((0,a.A)({},e),{},{strictMode:!1}))}),(0,k.jsxs)("div",{children:[(0,k.jsx)("div",{className:"font-medium",style:{color:"var(--text-primary)"},children:"\ud83c\udfaf \ud45c\uc900 \ubaa8\ub4dc"}),(0,k.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\uc77c\ubc18\uc801\uc778 \ud559\uc220 \ub17c\ubb38 \uae30\uc900\uc73c\ub85c \uac80\uc99d"})]})]}),(0,k.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,k.jsx)("input",{type:"radio",name:"validationMode",checked:j.strictMode,onChange:()=>b(e=>(0,a.A)((0,a.A)({},e),{},{strictMode:!0}))}),(0,k.jsxs)("div",{children:[(0,k.jsx)("div",{className:"font-medium",style:{color:"var(--text-primary)"},children:"\ud83d\udd0d \uc5c4\uaca9 \ubaa8\ub4dc"}),(0,k.jsx)("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"\uace0\ud488\uc9c8 \uc800\ub110 \ud22c\uace0 \uae30\uc900\uc73c\ub85c \uc5c4\uaca9 \uac80\uc99d"})]})]})]}),(0,k.jsxs)("div",{className:"mt-6 p-4 rounded",style:{backgroundColor:"var(--accent-pastel)"},children:[(0,k.jsx)("h4",{className:"font-medium mb-2",style:{color:"var(--accent-dark)"},children:"\ud83d\udca1 \uc120\ud0dd\ub41c \uac80\uc99d \ud56d\ubaa9"}),(0,k.jsxs)("div",{className:"text-sm",style:{color:"var(--accent-dark)"},children:[Object.entries(j).filter(e=>{let[s,t]=e;return"strictMode"!==s&&t}).length,"\uac1c \ud56d\ubaa9\uc774 \uc120\ud0dd\ub418\uc5c8\uc2b5\ub2c8\ub2e4"]})]})]})]}),(0,k.jsx)("div",{className:"text-center",children:(0,k.jsx)("button",{onClick:w,className:"px-8 py-3 rounded-lg font-semibold text-white transition-colors",style:{backgroundColor:"var(--success-primary)"},children:"\ud83d\udd0d AI \ud488\uc9c8 \uac80\uc99d \uc2dc\uc791"})})]});case"validation":return(0,k.jsxs)("div",{className:"space-y-6",children:[(0,k.jsxs)("div",{className:"p-6 rounded-xl",style:{backgroundColor:"var(--bg-secondary)"},children:[(0,k.jsx)("h2",{className:"text-2xl font-bold mb-4",style:{color:"var(--text-primary)"},children:"\ud83d\udd0d AI \ud488\uc9c8 \uac80\uc99d \uc9c4\ud589 \uc911"}),(0,k.jsx)("p",{className:"text-lg",style:{color:"var(--text-secondary)"},children:"AI\uac00 \ub17c\ubb38\uc744 \ub2e4\uac01\ub3c4\ub85c \ubd84\uc11d\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4..."})]}),(0,k.jsxs)("div",{className:"text-center py-12",children:[(0,k.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 mx-auto mb-6",style:{borderColor:"var(--accent-primary)"}}),(0,k.jsxs)("div",{className:"space-y-4",children:[(0,k.jsx)("div",{className:"text-lg font-medium",style:{color:"var(--text-primary)"},children:"\uac80\uc99d \uc911..."}),(0,k.jsx)("div",{className:"max-w-md mx-auto space-y-2",children:["\ud83d\udcdd \ubb38\ubc95 \ubc0f \ud45c\ud604 \uac80\uc0ac \uc911...","\ud83c\udfd7\ufe0f \ub17c\ubb38 \uad6c\uc870 \ubd84\uc11d \uc911...","\u2696\ufe0f \ubc29\ubc95\ub860 \uac80\uc99d \uc911...","\ud83d\udcda \ucc38\uace0\ubb38\ud5cc \ud655\uc778 \uc911...","\ud83d\udca1 \ub3c5\ucc3d\uc131 \ud3c9\uac00 \uc911...","\ud83d\udc41\ufe0f \uac00\ub3c5\uc131 \ubd84\uc11d \uc911..."].map((e,s)=>(0,k.jsx)("div",{className:"text-sm p-2 rounded",style:{backgroundColor:g?"var(--accent-pastel)":"var(--bg-primary)",color:"var(--accent-dark)"},children:e},s))}),(0,k.jsx)("p",{className:"text-sm",style:{color:"var(--text-muted)"},children:"\uac80\uc99d\uc5d0\ub294 \uba87 \ubd84\uc774 \uc18c\uc694\ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4."})]})]})]});case"results":return y?(0,k.jsxs)("div",{className:"space-y-6",children:[(0,k.jsxs)("div",{className:"p-6 rounded-xl",style:{backgroundColor:"var(--bg-secondary)"},children:[(0,k.jsx)("h2",{className:"text-2xl font-bold mb-4",style:{color:"var(--text-primary)"},children:"\ud83d\udcca \ud488\uc9c8 \uac80\uc99d \uacb0\uacfc"}),(0,k.jsx)("p",{className:"text-lg",style:{color:"var(--text-secondary)"},children:"AI \ubd84\uc11d\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uc0c1\uc138 \uacb0\uacfc\ub97c \ud655\uc778\ud558\uc138\uc694."})]}),(0,k.jsxs)("div",{className:"p-6 rounded-lg text-center",style:{backgroundColor:"var(--accent-pastel)"},children:[(0,k.jsx)("div",{className:"text-6xl font-bold mb-2",style:{color:C(y.overallScore)},children:y.overallScore}),(0,k.jsx)("div",{className:"text-2xl font-semibold mb-2",style:{color:"var(--accent-dark)"},children:y.overallGrade}),(0,k.jsx)("p",{style:{color:"var(--accent-dark)"},children:y.summary})]}),(0,k.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:y.checks.map((e,s)=>(0,k.jsxs)("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-primary)"},children:[(0,k.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,k.jsx)("h3",{className:"font-semibold",style:{color:"var(--text-primary)"},children:e.category}),(0,k.jsx)("span",{className:"text-2xl",children:_(e.status)})]}),(0,k.jsxs)("div",{className:"text-2xl font-bold mb-2",style:{color:C(e.score)},children:[e.score,"/",e.maxScore]}),(0,k.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:(0,k.jsx)("div",{className:"h-2 rounded-full transition-all",style:{width:"".concat(e.score/e.maxScore*100,"%"),backgroundColor:C(e.score)}})}),(0,k.jsxs)("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:[e.issues.length,"\uac1c \uac1c\uc120\uc810 \ubc1c\uacac"]})]},s))}),(0,k.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,k.jsxs)("div",{className:"p-6 rounded-lg",style:{backgroundColor:"var(--success-pastel)"},children:[(0,k.jsx)("h3",{className:"font-semibold mb-4 flex items-center",style:{color:"var(--success-dark)"},children:"\ud83d\udcaa \uc8fc\uc694 \uac15\uc810"}),(0,k.jsx)("ul",{className:"space-y-2",children:y.strengths.map((e,s)=>(0,k.jsxs)("li",{className:"flex items-start space-x-2",children:[(0,k.jsx)("span",{className:"text-green-500 mt-1",children:"\u2713"}),(0,k.jsx)("span",{className:"text-sm",style:{color:"var(--success-dark)"},children:e})]},s))})]}),(0,k.jsxs)("div",{className:"p-6 rounded-lg",style:{backgroundColor:"var(--warning-pastel)"},children:[(0,k.jsx)("h3",{className:"font-semibold mb-4 flex items-center",style:{color:"var(--warning-dark)"},children:"\ud83d\udd27 \uac1c\uc120 \ud544\uc694 \uc0ac\ud56d"}),(0,k.jsx)("ul",{className:"space-y-2",children:y.improvements.map((e,s)=>(0,k.jsxs)("li",{className:"flex items-start space-x-2",children:[(0,k.jsx)("span",{className:"text-orange-500 mt-1",children:"\u26a0"}),(0,k.jsx)("span",{className:"text-sm",style:{color:"var(--warning-dark)"},children:e})]},s))})]})]}),(0,k.jsx)("div",{className:"text-center",children:(0,k.jsx)("button",{onClick:()=>c("improvements"),className:"px-6 py-3 rounded-lg font-semibold text-white transition-colors",style:{backgroundColor:"var(--accent-primary)"},children:"\u2728 \uc0c1\uc138 \uac1c\uc120 \uc81c\uc548 \ubcf4\uae30"})})]}):null;case"improvements":return(()=>{if(!y)return null;const e=y.checks.flatMap(e=>e.issues.map(s=>(0,a.A)((0,a.A)({},s),{},{category:e.category}))).sort((e,s)=>s.priority-e.priority);return(0,k.jsxs)("div",{className:"space-y-6",children:[(0,k.jsxs)("div",{className:"p-6 rounded-xl",style:{backgroundColor:"var(--bg-secondary)"},children:[(0,k.jsx)("h2",{className:"text-2xl font-bold mb-4",style:{color:"var(--text-primary)"},children:"\u2728 \uc0c1\uc138 \uac1c\uc120 \uc81c\uc548"}),(0,k.jsx)("p",{className:"text-lg",style:{color:"var(--text-secondary)"},children:"\uc6b0\uc120\uc21c\uc704\ubcc4\ub85c \uc815\ub9ac\ub41c \uad6c\uccb4\uc801\uc778 \uac1c\uc120 \ubc29\uc548\uc785\ub2c8\ub2e4."})]}),(0,k.jsx)("div",{className:"space-y-4",children:e.map((e,s)=>(0,k.jsxs)("div",{className:"p-6 rounded-lg border-l-4",style:{backgroundColor:"var(--bg-primary)",borderColor:S(e.type)},children:[(0,k.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,k.jsxs)("div",{children:[(0,k.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,k.jsx)("span",{className:"px-2 py-1 rounded text-xs font-semibold uppercase text-white",style:{backgroundColor:S(e.type)},children:e.type}),(0,k.jsx)("span",{className:"text-sm",style:{color:"var(--text-muted)"},children:e.category})]}),(0,k.jsx)("h3",{className:"font-semibold text-lg",style:{color:"var(--text-primary)"},children:e.title})]}),(0,k.jsxs)("div",{className:"text-sm font-semibold px-2 py-1 rounded",style:{backgroundColor:"var(--accent-pastel)",color:"var(--accent-dark)"},children:["\uc6b0\uc120\uc21c\uc704 ",e.priority]})]}),(0,k.jsxs)("div",{className:"space-y-3",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("h4",{className:"font-medium mb-1",style:{color:"var(--text-primary)"},children:"\ud83d\udd0d \ubb38\uc81c\uc810"}),(0,k.jsx)("p",{style:{color:"var(--text-secondary)"},children:e.description}),(0,k.jsxs)("p",{className:"text-sm mt-1",style:{color:"var(--text-muted)"},children:["\uc704\uce58: ",e.location]})]}),(0,k.jsxs)("div",{className:"p-3 rounded",style:{backgroundColor:"var(--success-pastel)"},children:[(0,k.jsx)("h4",{className:"font-medium mb-1",style:{color:"var(--success-dark)"},children:"\ud83d\udca1 \uac1c\uc120 \uc81c\uc548"}),(0,k.jsx)("p",{style:{color:"var(--success-dark)"},children:e.suggestion})]})]})]},s))}),(0,k.jsxs)("div",{className:"p-6 rounded-lg",style:{backgroundColor:"var(--accent-pastel)"},children:[(0,k.jsx)("h3",{className:"font-semibold mb-4",style:{color:"var(--accent-dark)"},children:"\ud83e\udd16 AI \uc885\ud569 \uad8c\uc7a5\uc0ac\ud56d"}),(0,k.jsx)("ul",{className:"space-y-2",children:y.recommendations.map((e,s)=>(0,k.jsxs)("li",{className:"flex items-start space-x-3",children:[(0,k.jsx)("span",{className:"text-blue-500 mt-1",children:"\ud83c\udfaf"}),(0,k.jsx)("span",{style:{color:"var(--accent-dark)"},children:e})]},s))})]}),(0,k.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,k.jsx)("button",{onClick:()=>{u("info","\uac1c\uc120\ub41c \ubb38\uc11c\uac00 \uc0dd\uc131\ub418\uc5c8\uc2b5\ub2c8\ub2e4. (\uad6c\ud604 \uc608\uc815)")},className:"px-6 py-3 rounded-lg font-semibold text-white transition-colors",style:{backgroundColor:"var(--success-primary)"},children:"\ud83d\udcc4 \uac1c\uc120\ub41c \ubb38\uc11c \uc0dd\uc131"}),(0,k.jsx)("button",{onClick:()=>{u("info","\uac80\uc99d \ubcf4\uace0\uc11c\uac00 \ub2e4\uc6b4\ub85c\ub4dc\ub429\ub2c8\ub2e4. (\uad6c\ud604 \uc608\uc815)")},className:"px-6 py-3 rounded-lg font-semibold text-white transition-colors",style:{backgroundColor:"var(--accent-primary)"},children:"\ud83d\udcca \uac80\uc99d \ubcf4\uace0\uc11c \ub2e4\uc6b4\ub85c\ub4dc"})]})]})})()}})()]})]})}},4732:(e,s,t)=>{t.d(s,{A:()=>r});t(9950);var a=t(4414);const r=e=>{let{title:s,description:t,icon:r,onBack:l,actions:i,children:o,className:c=""}=e;return(0,a.jsx)("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10 ".concat(c),children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"py-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[l&&(0,a.jsx)("button",{onClick:l,className:"mr-4 text-gray-500 hover:text-gray-700 transition-colors text-2xl",title:"\ub4a4\ub85c\uac00\uae30",children:"\u2190"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 flex items-center",children:[r&&(0,a.jsx)("span",{className:"text-4xl mr-3",children:r}),s]}),t&&(0,a.jsx)("p",{className:"text-gray-600 mt-2",children:t})]})]}),i&&(0,a.jsx)("div",{className:"flex items-center space-x-3",children:i})]}),o&&(0,a.jsx)("div",{className:"mt-6",children:o})]})})})}},6467:(e,s,t)=>{t.d(s,{A:()=>o});var a=t(3986),r=t(9950);const l=["title","titleId"];function i(e,s){let{title:t,titleId:i}=e,o=(0,a.A)(e,l);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":i},o),t?r.createElement("title",{id:i},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const o=r.forwardRef(i)},6923:(e,s,t)=>{t.d(s,{A:()=>o});var a=t(3986),r=t(9950);const l=["title","titleId"];function i(e,s){let{title:t,titleId:i}=e,o=(0,a.A)(e,l);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":i},o),t?r.createElement("title",{id:i},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const o=r.forwardRef(i)}}]);