{"version":3,"file":"static/js/281.f9b6fb85.chunk.js","mappings":"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","sources":["components/admin/ModelFinalization.tsx","components/evaluation/QRCodeEvaluatorAssignment.tsx","components/admin/ModelBuilding.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Card from '../common/Card';\r\nimport Button from '../common/Button';\r\nimport HierarchyTreeVisualization from '../common/HierarchyTreeVisualization';\r\nimport api, { CriteriaData } from '../../services/api';\r\n\r\ninterface ModelFinalizationProps {\r\n  projectId: string;\r\n  onFinalize: () => void;\r\n  isReadyToFinalize: boolean;\r\n  onNavigateToEvaluators?: () => void;\r\n}\r\n\r\nconst ModelFinalization: React.FC<ModelFinalizationProps> = ({ \r\n  projectId, \r\n  onFinalize, \r\n  isReadyToFinalize,\r\n  onNavigateToEvaluators\r\n}) => {\r\n  const [workshopMode, setWorkshopMode] = useState<'individual' | 'workshop'>('individual');\r\n  const [isConfirming, setIsConfirming] = useState(false);\r\n  const [criteria, setCriteria] = useState<CriteriaData[]>([]);\r\n  const [alternatives, setAlternatives] = useState<{ id?: string; name: string; description?: string }[]>([]);\r\n  const [evaluators, setEvaluators] = useState<{ id?: string; name: string; email?: string }[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string>('');\r\n\r\n  useEffect(() => {\r\n    const loadProjectData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        \r\n        // ì‹¤ì œ í”„ë¡œì íŠ¸ ë°ì´í„° ë¡œë“œ\r\n        const [criteriaResponse, alternativesResponse, evaluatorsResponse] = await Promise.all([\r\n          api.criteria.getCriteria(projectId),\r\n          api.alternative.getAlternatives(projectId),\r\n          api.evaluator.getEvaluators(projectId)\r\n        ]);\r\n\r\n        if (!criteriaResponse.success) {\r\n          throw new Error(criteriaResponse.error || 'ê¸°ì¤€ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.');\r\n        }\r\n        if (!alternativesResponse.success) {\r\n          throw new Error(alternativesResponse.error || 'ëŒ€ì•ˆ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.');\r\n        }\r\n        if (!evaluatorsResponse.success) {\r\n          throw new Error(evaluatorsResponse.error || 'í‰ê°€ì ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.');\r\n        }\r\n\r\n        const criteriaData = criteriaResponse.data;\r\n        const alternativesData = (alternativesResponse.data as { results?: unknown[] } | null)?.results\r\n          ?? (Array.isArray(alternativesResponse.data) ? alternativesResponse.data : []);\r\n        const evaluatorsData = (evaluatorsResponse.data as { results?: unknown[] } | null)?.results\r\n          ?? (Array.isArray(evaluatorsResponse.data) ? evaluatorsResponse.data : []);\r\n\r\n        // ë°°ì—´ì¸ì§€ í™•ì¸í•˜ê³  ì„¤ì •\r\n        setCriteria(Array.isArray(criteriaData) ? criteriaData : []);\r\n        setAlternatives(Array.isArray(alternativesData) ? alternativesData : []);\r\n        setEvaluators(Array.isArray(evaluatorsData) ? evaluatorsData : []);\r\n\r\n      } catch (err: unknown) {\r\n        setError(err instanceof Error ? err.message : 'í”„ë¡œì íŠ¸ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');\r\n        setCriteria([]);\r\n        setAlternatives([]);\r\n        setEvaluators([]);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    if (projectId) {\r\n      loadProjectData();\r\n    }\r\n  }, [projectId]);\r\n\r\n  const handleFinalize = () => {\r\n    if (isConfirming) {\r\n      onFinalize();\r\n      // ëª¨ë¸ í™•ì • í›„ í‰ê°€ì ê´€ë¦¬ í˜ì´ì§€ë¡œ ìë™ ì´ë™\r\n      if (onNavigateToEvaluators) {\r\n        setTimeout(() => {\r\n          onNavigateToEvaluators();\r\n        }, 1000); // 1ì´ˆ í›„ ì´ë™í•˜ì—¬ ì‚¬ìš©ìê°€ í™•ì • ì™„ë£Œë¥¼ ì¸ì§€í•  ìˆ˜ ìˆë„ë¡ í•¨\r\n      }\r\n    } else {\r\n      setIsConfirming(true);\r\n    }\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setIsConfirming(false);\r\n  };\r\n\r\n  const getModelSummary = () => {\r\n    // ë°°ì—´ ê²€ì¦\r\n    const safeCriteria = Array.isArray(criteria) ? criteria : [];\r\n    const safeAlternatives = Array.isArray(alternatives) ? alternatives : [];\r\n    const safeEvaluators = Array.isArray(evaluators) ? evaluators : [];\r\n    \r\n    const criteriaCount = safeCriteria.length;\r\n    const alternativesCount = safeAlternatives.length;\r\n    const evaluatorsCount = safeEvaluators.length;\r\n    \r\n    // ì‹¤ì œ ë°ì´í„° ê¸°ë°˜ìœ¼ë¡œ ì˜ˆìƒ ë¹„êµ íšŸìˆ˜ ê³„ì‚°\r\n    const criteriaComparisons = criteriaCount > 1 ? (criteriaCount * (criteriaCount - 1)) / 2 : 0;\r\n    const alternativeComparisons = alternativesCount > 1 ? (alternativesCount * (alternativesCount - 1)) / 2 : 0;\r\n    const estimatedComparisons = evaluatorsCount * (criteriaComparisons + (alternativeComparisons * criteriaCount));\r\n    \r\n    return {\r\n      criteria: criteriaCount,\r\n      subCriteria: safeCriteria.filter(c => c && typeof c === 'object' && (c.level ?? 1) > 1).length,\r\n      alternatives: alternativesCount,\r\n      evaluators: evaluatorsCount,\r\n      estimatedComparisons: estimatedComparisons\r\n    };\r\n  };\r\n\r\n  const summary = getModelSummary();\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"space-y-6\">\r\n        <Card title=\"ëª¨ë¸ êµ¬ì¶•\">\r\n          <div className=\"flex items-center justify-center py-12\">\r\n            <div className=\"text-center\">\r\n              <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4\"></div>\r\n              <p className=\"text-gray-600\">í”„ë¡œì íŠ¸ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {error && (\r\n        <div className=\"bg-red-50 border border-red-200 rounded-lg p-3 text-sm text-red-700\">\r\n          {error}\r\n        </div>\r\n      )}\r\n      <Card title=\"2-4ë‹¨ê³„ â€” ëª¨ë¸ êµ¬ì¶•\">\r\n        <div className=\"space-y-6\">\r\n          <div className=\"bg-green-50 border border-green-200 rounded-lg p-4\">\r\n            <h4 className=\"font-medium text-green-900 mb-2\">ğŸ—ï¸ ëª¨ë¸ êµ¬ì¶• ì™„ë£Œ ë‹¨ê³„</h4>\r\n            <p className=\"text-sm text-green-700\">\r\n              ëª¨ë“  ì„¤ì •ì„ í™•ì¸í•˜ê³  ëª¨ë¸ì„ í™•ì •í•˜ì—¬ í‰ê°€ ë‹¨ê³„ë¡œ ì§„í–‰í•©ë‹ˆë‹¤.\r\n            </p>\r\n          </div>\r\n\r\n          {/* Hierarchy Tree Visualization */}\r\n          {!loading && criteria.length > 0 && (\r\n            <div>\r\n              <HierarchyTreeVisualization\r\n                nodes={criteria.map(c => ({ id: c.id ?? '', name: c.name, description: c.description, level: c.level ?? 1, weight: c.weight, parent_id: c.parent_id }))}\r\n                title=\"í”„ë¡œì íŠ¸ ìµœì¢… ê³„ì¸µêµ¬ì¡°\"\r\n                showWeights={true}\r\n                interactive={false}\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          {/* Model Summary */}\r\n          <div>\r\n            <h4 className=\"font-medium text-gray-900 mb-4\">ğŸ“‹ ëª¨ë¸ ìš”ì•½</h4>\r\n            <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4\">\r\n              <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4 text-center\">\r\n                <div className=\"text-2xl font-bold text-blue-900\">{summary.criteria}</div>\r\n                <div className=\"text-sm text-blue-700\">ìƒìœ„ ê¸°ì¤€</div>\r\n              </div>\r\n              <div className=\"bg-indigo-50 border border-indigo-200 rounded-lg p-4 text-center\">\r\n                <div className=\"text-2xl font-bold text-indigo-900\">{summary.subCriteria}</div>\r\n                <div className=\"text-sm text-indigo-700\">ì„¸ë¶€ ê¸°ì¤€</div>\r\n              </div>\r\n              <div className=\"bg-purple-50 border border-purple-200 rounded-lg p-4 text-center\">\r\n                <div className=\"text-2xl font-bold text-purple-900\">{summary.alternatives}</div>\r\n                <div className=\"text-sm text-purple-700\">í‰ê°€ ëŒ€ì•ˆ</div>\r\n              </div>\r\n              <div className=\"bg-green-50 border border-green-200 rounded-lg p-4 text-center\">\r\n                <div className=\"text-2xl font-bold text-green-900\">{summary.evaluators}</div>\r\n                <div className=\"text-sm text-green-700\">ì°¸ì—¬ í‰ê°€ì</div>\r\n              </div>\r\n              <div className=\"bg-orange-50 border border-orange-200 rounded-lg p-4 text-center\">\r\n                <div className=\"text-2xl font-bold text-orange-900\">{summary.estimatedComparisons}</div>\r\n                <div className=\"text-sm text-orange-700\">ì´ í‰ê°€ ìˆ˜</div>\r\n              </div>\r\n              <div className=\"bg-gray-50 border border-gray-200 rounded-lg p-4 text-center\">\r\n                <div className=\"text-2xl font-bold text-gray-900\">â±ï¸</div>\r\n                <div className=\"text-sm text-gray-700\">ì•½ 45ë¶„</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Alternatives Summary */}\r\n          {!loading && (\r\n            <div>\r\n              <h4 className=\"font-medium text-gray-900 mb-4\">ğŸ¯ í‰ê°€ ëŒ€ì•ˆ ëª©ë¡</h4>\r\n              {alternatives.length > 0 ? (\r\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-3\">\r\n                  {alternatives.map((alternative, index) => (\r\n                    <div key={alternative.id} className=\"bg-white border border-gray-200 rounded-lg p-3\">\r\n                      <div className=\"flex items-center justify-between\">\r\n                        <span className=\"text-sm font-medium text-gray-900\">{alternative.name}</span>\r\n                        <span className=\"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded\">\r\n                          #{index + 1}\r\n                        </span>\r\n                      </div>\r\n                      <p className=\"text-xs text-gray-600 mt-1\">{alternative.description || 'ì„¤ëª… ì—†ìŒ'}</p>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              ) : (\r\n                <div className=\"text-center py-8 text-gray-500\">\r\n                  <p>ë“±ë¡ëœ ëŒ€ì•ˆì´ ì—†ìŠµë‹ˆë‹¤.</p>\r\n                  <p className=\"text-sm\">2-2ë‹¨ê³„ì—ì„œ ëŒ€ì•ˆì„ ì¶”ê°€í•´ì£¼ì„¸ìš”.</p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Evaluation Method Selection */}\r\n          <div className=\"border-t pt-6\">\r\n            <h4 className=\"font-medium text-gray-900 mb-4\">âš–ï¸ í‰ê°€ ì§„í–‰ ë°©ì‹ ì„ íƒ</h4>\r\n            <div className=\"space-y-4\">\r\n              <div className=\"flex items-start space-x-3\">\r\n                <input\r\n                  type=\"radio\"\r\n                  id=\"individual\"\r\n                  value=\"individual\"\r\n                  checked={workshopMode === 'individual'}\r\n                  onChange={(e) => setWorkshopMode(e.target.value as 'individual')}\r\n                  className=\"mt-1\"\r\n                />\r\n                <div className=\"flex-1\">\r\n                  <label htmlFor=\"individual\" className=\"block font-medium text-gray-900\">\r\n                    ê°œë³„ í‰ê°€ ì§„í–‰\r\n                  </label>\r\n                  <p className=\"text-sm text-gray-600 mt-1\">\r\n                    ê° í‰ê°€ìê°€ ê°œë³„ì ìœ¼ë¡œ ì˜¨ë¼ì¸ì—ì„œ í‰ê°€ë¥¼ ì§„í–‰í•©ë‹ˆë‹¤. í‰ê°€ìë“¤ì€ ì´ˆëŒ€ ë§í¬ë¥¼ í†µí•´ \r\n                    ì–¸ì œë“ ì§€ ì ‘ì†í•˜ì—¬ í‰ê°€ë¥¼ ì™„ë£Œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\r\n                  </p>\r\n                  <div className=\"text-xs text-gray-500 mt-2\">\r\n                    â€¢ ë¹„ë™ê¸°ì  í‰ê°€ ê°€ëŠ¥ â€¢ ê°œë³„ ì¼ì •ì— ë§ì¶° ì§„í–‰ â€¢ ìë™ ì§„í–‰ë¥  ì¶”ì \r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex items-start space-x-3\">\r\n                <input\r\n                  type=\"radio\"\r\n                  id=\"workshop\"\r\n                  value=\"workshop\"\r\n                  checked={workshopMode === 'workshop'}\r\n                  onChange={(e) => setWorkshopMode(e.target.value as 'workshop')}\r\n                  className=\"mt-1\"\r\n                />\r\n                <div className=\"flex-1\">\r\n                  <label htmlFor=\"workshop\" className=\"block font-medium text-gray-900\">\r\n                    ì›Œí¬ìˆìœ¼ë¡œ ì§„í–‰í•˜ê¸°\r\n                  </label>\r\n                  <p className=\"text-sm text-gray-600 mt-1\">\r\n                    ê´€ë¦¬ìê°€ ì£¼ë„í•˜ëŠ” ì›Œí¬ìˆ í˜•íƒœë¡œ ì§„í–‰í•©ë‹ˆë‹¤. ëª¨ë“  í‰ê°€ìê°€ í•œ ìë¦¬ì— ëª¨ì—¬ \r\n                    ì‹¤ì‹œê°„ìœ¼ë¡œ í† ë¡ í•˜ë©° í•©ì˜ëœ í‰ê°€ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤.\r\n                  </p>\r\n                  <div className=\"text-xs text-gray-500 mt-2\">\r\n                    â€¢ ì‹¤ì‹œê°„ í† ë¡  ë° í•©ì˜ â€¢ ê´€ë¦¬ì ì£¼ë„ ì§„í–‰ â€¢ ì¦‰ì„ ê²°ê³¼ í™•ì¸\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Readiness Check */}\r\n          <div className=\"border-t pt-6\">\r\n            <h4 className=\"font-medium text-gray-900 mb-4\">âœ… ì™„ë£Œ ìƒíƒœ í™•ì¸</h4>\r\n            <div className=\"space-y-3\">\r\n              <div className=\"flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-lg\">\r\n                <span className=\"text-sm text-green-700\">ê¸°ì¤€ ê³„ì¸µêµ¬ì¡° ì„¤ì •</span>\r\n                <span className=\"text-green-600\">âœ“ ì™„ë£Œ</span>\r\n              </div>\r\n              <div className=\"flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-lg\">\r\n                <span className=\"text-sm text-green-700\">ëŒ€ì•ˆ ì •ì˜</span>\r\n                <span className=\"text-green-600\">âœ“ ì™„ë£Œ</span>\r\n              </div>\r\n              <div className=\"flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-lg\">\r\n                <span className=\"text-sm text-green-700\">í‰ê°€ì ë°°ì •</span>\r\n                <span className=\"text-green-600\">âœ“ ì™„ë£Œ</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Warning Messages */}\r\n          {!isReadyToFinalize && (\r\n            <div className=\"bg-orange-50 border border-orange-200 rounded-lg p-4\">\r\n              <h5 className=\"font-medium text-orange-900 mb-2\">âš ï¸ ì•„ì§ ì™„ë£Œë˜ì§€ ì•Šì€ ë‹¨ê³„ê°€ ìˆìŠµë‹ˆë‹¤</h5>\r\n              <p className=\"text-sm text-orange-700\">\r\n                ëª¨ë“  ì„¤ì • ë‹¨ê³„ë¥¼ ì™„ë£Œí•œ í›„ ëª¨ë¸ì„ í™•ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\r\n              </p>\r\n            </div>\r\n          )}\r\n\r\n          {isConfirming && (\r\n            <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\r\n              <h5 className=\"font-medium text-red-900 mb-2\">ğŸš¨ ëª¨ë¸ í™•ì • í™•ì¸</h5>\r\n              <p className=\"text-sm text-red-700 mb-3\">\r\n                ëª¨ë¸ì„ í™•ì •í•˜ë©´ ê¸°ì¤€, ëŒ€ì•ˆ, í‰ê°€ì êµ¬ì„±ì„ ë³€ê²½í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. \r\n                ì •ë§ë¡œ ì§„í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\r\n              </p>\r\n              <div className=\"flex space-x-3\">\r\n                <Button variant=\"error\" onClick={handleFinalize}>\r\n                  í™•ì •í•˜ê³  í‰ê°€ ì‹œì‘\r\n                </Button>\r\n                <Button variant=\"secondary\" onClick={handleCancel}>\r\n                  ì·¨ì†Œ\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Next Steps Preview */}\r\n          <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\r\n            <h5 className=\"font-medium text-blue-900 mb-2\">ğŸ“‹ ë‹¤ìŒ ë‹¨ê³„ ë¯¸ë¦¬ë³´ê¸°</h5>\r\n            <div className=\"text-sm text-blue-700 space-y-1\">\r\n              <p><strong>ëª¨ë¸ í™•ì • í›„:</strong></p>\r\n              <ol className=\"list-decimal list-inside space-y-1 ml-4\">\r\n                <li>í‰ê°€ìë“¤ì—ê²Œ ìë™ìœ¼ë¡œ ì•Œë¦¼ ë°œì†¡</li>\r\n                <li>ìŒëŒ€ë¹„êµ í‰ê°€ ì¸í„°í˜ì´ìŠ¤ í™œì„±í™”</li>\r\n                <li>ì‹¤ì‹œê°„ ì§„í–‰ë¥  ëª¨ë‹ˆí„°ë§ ì‹œì‘</li>\r\n                <li>ì¼ê´€ì„± ê²€ì¦ ë° ê²°ê³¼ ë¶„ì„ ì¤€ë¹„</li>\r\n              </ol>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Action Buttons */}\r\n          <div className=\"flex justify-between items-center pt-6 border-t\">\r\n            <div className=\"text-sm text-gray-600\">\r\n              í‰ê°€ ë°©ì‹: <strong>{workshopMode === 'workshop' ? 'ì›Œí¬ìˆ ì§„í–‰' : 'ê°œë³„ í‰ê°€'}</strong>\r\n            </div>\r\n            <div className=\"flex space-x-3\">\r\n              {!isConfirming ? (\r\n                <>\r\n                  <Button variant=\"secondary\">\r\n                    ì„ì‹œ ì €ì¥\r\n                  </Button>\r\n                  <Button\r\n                    variant=\"primary\"\r\n                    onClick={handleFinalize}\r\n                    disabled={!isReadyToFinalize}\r\n                  >\r\n                    ëª¨ë¸í™•ì •\r\n                  </Button>\r\n                </>\r\n              ) : (\r\n                <div className=\"text-sm text-gray-600\">\r\n                  ìœ„ì˜ í™•ì¸ ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ì§„í–‰í•˜ì„¸ìš”.\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ModelFinalization;","import React, { useState, useEffect } from 'react';\r\nimport Card from '../common/Card';\r\nimport Button from '../common/Button';\r\nimport Input from '../common/Input';\r\nimport cleanDataService from '../../services/dataService_clean';\r\n\r\ninterface QRCodeAssignmentProps {\r\n  projectId: string;\r\n  onComplete: () => void;\r\n}\r\n\r\ninterface EvaluatorSession {\r\n  sessionId: string;\r\n  projectId: string;\r\n  evaluatorName?: string;\r\n  email?: string;\r\n  status: 'pending' | 'active' | 'completed';\r\n  startedAt?: string;\r\n  completedAt?: string;\r\n  progress: number;\r\n  accessUrl: string;\r\n  shortUrl: string;\r\n  qrCode: string;\r\n}\r\n\r\nconst QRCodeEvaluatorAssignment: React.FC<QRCodeAssignmentProps> = ({ \r\n  projectId, \r\n  onComplete \r\n}) => {\r\n  const [sessions, setSessions] = useState<EvaluatorSession[]>([]);\r\n  const [maxEvaluators, setMaxEvaluators] = useState<number>(5);\r\n  const [projectTitle, setProjectTitle] = useState<string>('');\r\n  const [showQRCodes, setShowQRCodes] = useState<boolean>(true);\r\n  const [copiedIndex, setCopiedIndex] = useState<number | null>(null);\r\n  const [initError, setInitError] = useState<string | null>(null);\r\n  const [actionMessage, setActionMessage] = useState<{type:'success'|'error'|'info', text:string}|null>(null);\r\n\r\n  const showActionMessage = (type: 'success'|'error'|'info', text: string) => {\r\n    setActionMessage({type, text});\r\n    setTimeout(() => setActionMessage(null), 3000);\r\n  };\r\n\r\n  // Generate base URL for evaluation\r\n  const getBaseUrl = () => {\r\n    const baseUrl = window.location.origin;\r\n    return `${baseUrl}/ahp_app`;\r\n  };\r\n\r\n  // Generate short URL code (6 characters, cryptographically secure)\r\n  const generateShortCode = (): string => {\r\n    const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'; // 36 chars\r\n    const array = new Uint8Array(6);\r\n    crypto.getRandomValues(array);\r\n    return Array.from(array, byte => chars[byte % 36]).join('');\r\n  };\r\n\r\n  // Initialize evaluation sessions\r\n  useEffect(() => {\r\n    const initializeSessions = async () => {\r\n      try {\r\n        // Get project details\r\n        const project = await cleanDataService.getProject(projectId);\r\n        if (project) {\r\n          setProjectTitle(project.title || 'AHP í‰ê°€');\r\n        }\r\n\r\n        // Create evaluation sessions based on max evaluators\r\n        const newSessions: EvaluatorSession[] = [];\r\n        for (let i = 0; i < maxEvaluators; i++) {\r\n          const sessionId = `session_${Date.now()}_${i}`;\r\n          const shortCode = generateShortCode();\r\n          const accessUrl = `${getBaseUrl()}/evaluate/${projectId}/${sessionId}`;\r\n          const shortUrl = `${getBaseUrl()}/e/${shortCode}`;\r\n          \r\n          newSessions.push({\r\n            sessionId,\r\n            projectId,\r\n            status: 'pending',\r\n            progress: 0,\r\n            accessUrl,\r\n            shortUrl,\r\n            qrCode: accessUrl // QR code will contain the full URL\r\n          });\r\n        }\r\n        setSessions(newSessions);\r\n      } catch (error: unknown) {\r\n        setInitError((error instanceof Error ? error.message : '') || 'ì„¸ì…˜ ì´ˆê¸°í™”ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');\r\n      }\r\n    };\r\n\r\n    if (projectId) {\r\n      initializeSessions();\r\n    }\r\n  }, [projectId, maxEvaluators]);\r\n\r\n  // Handle number of evaluators change\r\n  const handleMaxEvaluatorsChange = (value: string) => {\r\n    const num = parseInt(value) || 1;\r\n    if (num > 0 && num <= 50) {\r\n      setMaxEvaluators(num);\r\n    }\r\n  };\r\n\r\n  // Copy link to clipboard\r\n  const copyToClipboard = async (text: string, index: number) => {\r\n    try {\r\n      await navigator.clipboard.writeText(text);\r\n      setCopiedIndex(index);\r\n      setTimeout(() => setCopiedIndex(null), 2000);\r\n    } catch (err) {\r\n      showActionMessage('error', 'ë§í¬ ë³µì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ìˆ˜ë™ìœ¼ë¡œ ë³µì‚¬í•´ì£¼ì„¸ìš”.');\r\n    }\r\n  };\r\n\r\n  // Generate QR code for printing\r\n  const generatePrintableQRCodes = () => {\r\n    const printWindow = window.open('', '_blank');\r\n    if (!printWindow) return;\r\n\r\n    const qrCodesHtml = sessions.map((session, index) => `\r\n      <div style=\"page-break-after: always; padding: 50px; text-align: center;\">\r\n        <h1 style=\"font-size: 24px; margin-bottom: 20px;\">${projectTitle}</h1>\r\n        <h2 style=\"font-size: 18px; color: #666;\">í‰ê°€ì ${index + 1}</h2>\r\n        <div style=\"margin: 30px auto; width: 200px; height: 200px; border: 2px solid #000; padding: 20px;\">\r\n          <img src=\"https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(session.accessUrl)}\" \r\n               alt=\"QR Code ${index + 1}\" style=\"width: 100%; height: 100%;\" />\r\n        </div>\r\n        <p style=\"font-size: 14px; margin-top: 20px;\">\r\n          <strong>ë‹¨ì¶• ë§í¬:</strong> ${session.shortUrl}\r\n        </p>\r\n        <p style=\"font-size: 12px; color: #666; margin-top: 10px;\">\r\n          QRì½”ë“œë¥¼ ìŠ¤ìº”í•˜ê±°ë‚˜ ë‹¨ì¶• ë§í¬ë¥¼ ì…ë ¥í•˜ì—¬ í‰ê°€ë¥¼ ì‹œì‘í•˜ì„¸ìš”.\r\n        </p>\r\n        <hr style=\"margin-top: 30px; border: 1px dashed #ccc;\">\r\n        <p style=\"font-size: 10px; color: #999; margin-top: 20px;\">\r\n          ì„¸ì…˜ ID: ${session.sessionId}\r\n        </p>\r\n      </div>\r\n    `).join('');\r\n\r\n    printWindow.document.write(`\r\n      <!DOCTYPE html>\r\n      <html>\r\n        <head>\r\n          <title>${projectTitle} - QR ì½”ë“œ</title>\r\n          <meta charset=\"utf-8\">\r\n        </head>\r\n        <body>\r\n          ${qrCodesHtml}\r\n        </body>\r\n      </html>\r\n    `);\r\n    printWindow.document.close();\r\n    printWindow.print();\r\n  };\r\n\r\n  // Session polling: add when real-time session status API is available\r\n\r\n  // Get status color\r\n  const getStatusColor = (status: string) => {\r\n    switch (status) {\r\n      case 'completed': return 'bg-green-100 text-green-800';\r\n      case 'active': return 'bg-blue-100 text-blue-800';\r\n      default: return 'bg-gray-100 text-gray-800';\r\n    }\r\n  };\r\n\r\n  // Get progress color\r\n  const getProgressColor = (progress: number) => {\r\n    if (progress === 100) return 'bg-green-500';\r\n    if (progress > 50) return 'bg-blue-500';\r\n    if (progress > 0) return 'bg-yellow-500';\r\n    return 'bg-gray-300';\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {actionMessage && (\r\n        <div className={`fixed top-4 right-4 z-50 px-4 py-3 rounded-lg text-sm font-medium shadow-lg ${actionMessage.type === 'success' ? 'bg-green-100 text-green-800' : actionMessage.type === 'info' ? 'bg-blue-100 text-blue-800' : 'bg-red-100 text-red-800'}`}>\r\n          {actionMessage.text}\r\n        </div>\r\n      )}\r\n      <Card title=\"5ï¸âƒ£ QRì½”ë“œ ê¸°ë°˜ í‰ê°€ì ë°°ì •\">\r\n        <div className=\"space-y-6\">\r\n          {initError && (\r\n            <div className=\"p-3 bg-red-50 border border-red-200 rounded-lg\">\r\n              <p className=\"text-sm text-red-600\">{initError}</p>\r\n            </div>\r\n          )}\r\n\r\n          {/* Instructions */}\r\n          <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\r\n            <h4 className=\"font-medium text-blue-900 mb-2\">ğŸ“± QRì½”ë“œ í‰ê°€ ì‹œìŠ¤í…œ</h4>\r\n            <ul className=\"text-sm text-blue-700 space-y-1\">\r\n              <li>â€¢ ì´ë©”ì¼ ì´ˆëŒ€ ì—†ì´ QRì½”ë“œë¡œ ì¦‰ì‹œ í‰ê°€ ì°¸ì—¬ ê°€ëŠ¥</li>\r\n              <li>â€¢ ê° QRì½”ë“œëŠ” ë…ë¦½ì ì¸ í‰ê°€ ì„¸ì…˜ ì œê³µ</li>\r\n              <li>â€¢ ì‹¤ì‹œê°„ìœ¼ë¡œ í‰ê°€ ì§„í–‰ ìƒí™© ëª¨ë‹ˆí„°ë§</li>\r\n              <li>â€¢ ìµëª… í‰ê°€ ì§€ì› (ì„ íƒì  ì‹¤ëª… ì…ë ¥)</li>\r\n            </ul>\r\n          </div>\r\n\r\n          {/* Settings */}\r\n          <div className=\"border-b pb-4\">\r\n            <div className=\"flex items-center gap-4\">\r\n              <Input\r\n                id=\"maxEvaluators\"\r\n                label=\"í‰ê°€ì ìˆ˜\"\r\n                type=\"number\"\r\n                value={maxEvaluators.toString()}\r\n                onChange={handleMaxEvaluatorsChange}\r\n                min=\"1\"\r\n                max=\"50\"\r\n                className=\"w-32\"\r\n              />\r\n              <Button\r\n                variant=\"secondary\"\r\n                onClick={() => setShowQRCodes(!showQRCodes)}\r\n              >\r\n                {showQRCodes ? 'ğŸ™ˆ QRì½”ë“œ ìˆ¨ê¸°ê¸°' : 'ğŸ‘ï¸ QRì½”ë“œ ë³´ê¸°'}\r\n              </Button>\r\n              <Button\r\n                variant=\"primary\"\r\n                onClick={generatePrintableQRCodes}\r\n              >\r\n                ğŸ–¨ï¸ QRì½”ë“œ ì¸ì‡„\r\n              </Button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* QR Codes Grid */}\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n            {sessions.map((session, index) => (\r\n              <div\r\n                key={session.sessionId}\r\n                className=\"border rounded-lg p-4 bg-white hover:shadow-lg transition-shadow\"\r\n              >\r\n                {/* Header */}\r\n                <div className=\"flex justify-between items-start mb-3\">\r\n                  <div>\r\n                    <h5 className=\"font-medium text-gray-900\">\r\n                      í‰ê°€ì {index + 1}\r\n                    </h5>\r\n                    {session.evaluatorName && (\r\n                      <p className=\"text-sm text-gray-600 mt-1\">\r\n                        {session.evaluatorName}\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                  <span className={`px-2 py-1 rounded-full text-xs font-medium ${getStatusColor(session.status)}`}>\r\n                    {session.status === 'completed' ? 'ì™„ë£Œ' : \r\n                     session.status === 'active' ? 'ì§„í–‰ì¤‘' : 'ëŒ€ê¸°'}\r\n                  </span>\r\n                </div>\r\n\r\n                {/* QR Code */}\r\n                {showQRCodes && (\r\n                  <div className=\"flex justify-center my-4\">\r\n                    <div className=\"border-2 border-gray-300 p-2 rounded\">\r\n                      <img \r\n                        src={`https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${encodeURIComponent(session.accessUrl)}`}\r\n                        alt={`QR Code ${index + 1}`}\r\n                        className=\"w-36 h-36\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Short URL */}\r\n                <div className=\"space-y-2\">\r\n                  <div className=\"flex items-center justify-between bg-gray-50 p-2 rounded text-xs\">\r\n                    <code className=\"text-blue-600\">{session.shortUrl}</code>\r\n                    <button\r\n                      onClick={() => copyToClipboard(session.shortUrl, index)}\r\n                      className=\"text-gray-500 hover:text-gray-700\"\r\n                    >\r\n                      {copiedIndex === index ? 'âœ…' : 'ğŸ“‹'}\r\n                    </button>\r\n                  </div>\r\n\r\n                  {/* Progress */}\r\n                  {session.status !== 'pending' && (\r\n                    <div className=\"space-y-1\">\r\n                      <div className=\"flex justify-between text-xs text-gray-600\">\r\n                        <span>ì§„í–‰ë¥ </span>\r\n                        <span>{session.progress}%</span>\r\n                      </div>\r\n                      <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n                        <div\r\n                          className={`h-2 rounded-full transition-all ${getProgressColor(session.progress)}`}\r\n                          style={{ width: `${session.progress}%` }}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Timestamps */}\r\n                  {session.startedAt && (\r\n                    <p className=\"text-xs text-gray-500\">\r\n                      ì‹œì‘: {new Date(session.startedAt).toLocaleTimeString()}\r\n                    </p>\r\n                  )}\r\n                  {session.completedAt && (\r\n                    <p className=\"text-xs text-green-600\">\r\n                      ì™„ë£Œ: {new Date(session.completedAt).toLocaleTimeString()}\r\n                    </p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          {/* Summary Statistics */}\r\n          <div className=\"bg-gray-50 rounded-lg p-4\">\r\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-center\">\r\n              <div>\r\n                <div className=\"text-2xl font-bold text-gray-900\">\r\n                  {sessions.length}\r\n                </div>\r\n                <div className=\"text-sm text-gray-600\">ì´ QRì½”ë“œ</div>\r\n              </div>\r\n              <div>\r\n                <div className=\"text-2xl font-bold text-blue-600\">\r\n                  {sessions.filter(s => s.status === 'active').length}\r\n                </div>\r\n                <div className=\"text-sm text-gray-600\">ì§„í–‰ì¤‘</div>\r\n              </div>\r\n              <div>\r\n                <div className=\"text-2xl font-bold text-green-600\">\r\n                  {sessions.filter(s => s.status === 'completed').length}\r\n                </div>\r\n                <div className=\"text-sm text-gray-600\">ì™„ë£Œ</div>\r\n              </div>\r\n              <div>\r\n                <div className=\"text-2xl font-bold text-purple-600\">\r\n                  {sessions.filter(s => s.status !== 'pending').length > 0\r\n                    ? Math.round(\r\n                        sessions.reduce((acc, s) => acc + s.progress, 0) / \r\n                        sessions.filter(s => s.status !== 'pending').length\r\n                      )\r\n                    : 0}%\r\n                </div>\r\n                <div className=\"text-sm text-gray-600\">í‰ê·  ì§„í–‰ë¥ </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Actions */}\r\n          <div className=\"flex justify-between items-center pt-4 border-t\">\r\n            <div className=\"text-sm text-gray-600\">\r\n              <span className=\"text-green-600\">\r\n                âœ¨ QRì½”ë“œë¥¼ ë°°í¬í•˜ë©´ í‰ê°€ìê°€ ìë™ìœ¼ë¡œ ë“±ë¡ë©ë‹ˆë‹¤\r\n              </span>\r\n            </div>\r\n            <Button\r\n              variant=\"primary\"\r\n              onClick={onComplete}\r\n            >\r\n              í‰ê°€ ì‹œì‘í•˜ê¸°\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default QRCodeEvaluatorAssignment;","import React, { useState } from 'react';\r\nimport Button from '../common/Button';\r\nimport CriteriaManagement from './CriteriaManagement';\r\nimport AlternativeManagement from './AlternativeManagement';\r\nimport EvaluatorAssignment from './EvaluatorAssignment';\r\nimport ModelFinalization from './ModelFinalization';\r\nimport QRCodeEvaluatorAssignment from '../evaluation/QRCodeEvaluatorAssignment';\r\n\r\ninterface ModelBuildingProps {\r\n  projectId: string;\r\n  projectTitle: string;\r\n  onModelFinalized: () => void;\r\n  onBack: () => void;\r\n  maxEvaluators?: number;\r\n  currentPlan?: string;\r\n}\r\n\r\nconst ModelBuilding: React.FC<ModelBuildingProps> = ({ \r\n  projectId, \r\n  projectTitle, \r\n  onModelFinalized,\r\n  onBack,\r\n  maxEvaluators = 50,\r\n  currentPlan = 'Standard Plan'\r\n}) => {\r\n  const [activeStep, setActiveStep] = useState<'criteria' | 'alternatives' | 'evaluators' | 'qrcode' | 'finalize'>('criteria');\r\n  const [completedSteps, setCompletedSteps] = useState<Set<string>>(new Set());\r\n  const [evaluationMethod, setEvaluationMethod] = useState<'traditional' | 'qrcode'>('qrcode');\r\n\r\n  const steps = [\r\n    {\r\n      id: 'criteria',\r\n      label: '1ï¸âƒ£ ê¸°ì¤€ ì •ì˜',\r\n      title: '1ë‹¨ê³„ â€” í‰ê°€ ê¸°ì¤€ ì •ì˜',\r\n      icon: 'ğŸ¯',\r\n      description: 'ê³„ì¸µêµ¬ì¡°ì™€ í‰ê°€ê¸°ì¤€ì„ ì„¤ì •í•©ë‹ˆë‹¤'\r\n    },\r\n    {\r\n      id: 'alternatives',\r\n      label: '2ï¸âƒ£ ëŒ€ì•ˆ ì„¤ì •',\r\n      title: '2ë‹¨ê³„ â€” ëŒ€ì•ˆ ì„¤ì •',\r\n      icon: 'ğŸ“',\r\n      description: 'í‰ê°€í•  ëŒ€ì•ˆë“¤ì„ ì •ì˜í•©ë‹ˆë‹¤'\r\n    },\r\n    {\r\n      id: 'evaluators',\r\n      label: '3ï¸âƒ£ í‰ê°€ì ë°°ì •',\r\n      title: '3ë‹¨ê³„ â€” í‰ê°€ì ë°°ì •',\r\n      icon: 'ğŸ‘¥',\r\n      description: 'í‰ê°€ì— ì°¸ì—¬í•  ì‚¬ìš©ìë¥¼ ë°°ì •í•©ë‹ˆë‹¤',\r\n      optional: evaluationMethod === 'qrcode'\r\n    },\r\n    {\r\n      id: 'qrcode',\r\n      label: '4ï¸âƒ£ QRì½”ë“œ ìƒì„±',\r\n      title: '4ë‹¨ê³„ â€” QRì½”ë“œ í‰ê°€ ì„¤ì •',\r\n      icon: 'ğŸ“±',\r\n      description: 'QRì½”ë“œë¡œ ì¦‰ì‹œ í‰ê°€ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤',\r\n      show: evaluationMethod === 'qrcode'\r\n    },\r\n    {\r\n      id: 'finalize',\r\n      label: '5ï¸âƒ£ ëª¨ë¸ êµ¬ì¶•',\r\n      title: '5ë‹¨ê³„ â€” ëª¨ë¸ êµ¬ì¶• ì™„ë£Œ',\r\n      icon: 'ğŸ—ï¸',\r\n      description: 'ëª¨ë¸ì„ í™•ì •í•˜ê³  í‰ê°€ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤'\r\n    }\r\n  ].filter(step => step.show !== false);\r\n\r\n  const handleStepComplete = (stepId: string) => {\r\n    setCompletedSteps(prev => new Set([...Array.from(prev), stepId]));\r\n    \r\n    // Auto-advance to next step\r\n    const currentIndex = steps.findIndex(step => step.id === stepId);\r\n    if (currentIndex < steps.length - 1) {\r\n      const nextStep = steps[currentIndex + 1];\r\n      setActiveStep(nextStep.id as typeof activeStep);\r\n    }\r\n  };\r\n\r\n  const renderStepContent = () => {\r\n    switch (activeStep) {\r\n      case 'criteria':\r\n        return (\r\n          <CriteriaManagement\r\n            projectId={projectId}\r\n            projectTitle={projectTitle}\r\n            onCriteriaChange={() => {}}\r\n            onComplete={() => handleStepComplete('criteria')}\r\n          />\r\n        );\r\n      case 'alternatives':\r\n        return (\r\n          <AlternativeManagement\r\n            projectId={projectId}\r\n            onComplete={() => handleStepComplete('alternatives')}\r\n          />\r\n        );\r\n      case 'evaluators':\r\n        return (\r\n          <>\r\n            <div className=\"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <h4 className=\"font-medium text-blue-900\">í‰ê°€ ë°©ì‹ ì„ íƒ</h4>\r\n                  <p className=\"text-sm text-blue-700 mt-1\">ì›í•˜ëŠ” í‰ê°€ ë°©ì‹ì„ ì„ íƒí•˜ì„¸ìš”</p>\r\n                </div>\r\n                <div className=\"flex gap-2\">\r\n                  <Button\r\n                    variant={evaluationMethod === 'traditional' ? 'primary' : 'secondary'}\r\n                    onClick={() => setEvaluationMethod('traditional')}\r\n                  >\r\n                    ğŸ“§ ì´ë©”ì¼ ì´ˆëŒ€\r\n                  </Button>\r\n                  <Button\r\n                    variant={evaluationMethod === 'qrcode' ? 'primary' : 'secondary'}\r\n                    onClick={() => {\r\n                      setEvaluationMethod('qrcode');\r\n                      setActiveStep('qrcode');\r\n                      handleStepComplete('evaluators');\r\n                    }}\r\n                  >\r\n                    ğŸ“± QRì½”ë“œ í‰ê°€\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            {evaluationMethod === 'traditional' && (\r\n              <EvaluatorAssignment\r\n                projectId={projectId}\r\n                onComplete={() => handleStepComplete('evaluators')}\r\n                maxEvaluators={maxEvaluators}\r\n                currentPlan={currentPlan}\r\n              />\r\n            )}\r\n          </>\r\n        );\r\n      case 'qrcode':\r\n        return (\r\n          <QRCodeEvaluatorAssignment\r\n            projectId={projectId}\r\n            onComplete={() => handleStepComplete('qrcode')}\r\n          />\r\n        );\r\n      case 'finalize':\r\n        return (\r\n          <ModelFinalization\r\n            projectId={projectId}\r\n            onFinalize={onModelFinalized}\r\n            isReadyToFinalize={completedSteps.size >= 3}\r\n          />\r\n        );\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-6xl mx-auto\">\r\n      <div className=\"mb-6\">\r\n        <div className=\"flex items-center justify-between mb-4\">\r\n          <div>\r\n            <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">\r\n              ë‹¨ê³„ 2: ëª¨ë¸êµ¬ì¶•\r\n            </h1>\r\n            <p className=\"text-gray-600\">\r\n              í”„ë¡œì íŠ¸: <span className=\"font-medium\">{projectTitle}</span>\r\n            </p>\r\n          </div>\r\n          <Button variant=\"secondary\" onClick={onBack}>\r\n            ì´ì „ ë‹¨ê³„ë¡œ\r\n          </Button>\r\n        </div>\r\n\r\n        {/* Step Navigation */}\r\n        <div className=\"bg-white border border-gray-200 rounded-lg p-4 mb-6\">\r\n          <div className=\"flex flex-wrap gap-2\">\r\n            {steps.map((step, index) => (\r\n              <button\r\n                key={step.id}\r\n                onClick={() => setActiveStep(step.id as typeof activeStep)}\r\n                className={`flex items-center px-4 py-2 rounded-lg text-sm font-medium transition-colors ${\r\n                  activeStep === step.id\r\n                    ? 'bg-blue-500 text-white'\r\n                    : completedSteps.has(step.id)\r\n                    ? 'bg-green-100 text-green-800 hover:bg-green-200'\r\n                    : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\r\n                }`}\r\n              >\r\n                <span className=\"mr-2\">{step.icon}</span>\r\n                <span>{step.label}</span>\r\n                {completedSteps.has(step.id) && (\r\n                  <span className=\"ml-2 text-green-600\">âœ“</span>\r\n                )}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Progress Indicator */}\r\n        <div className=\"bg-gray-100 rounded-lg p-4 mb-6\">\r\n          <div className=\"flex justify-between items-center mb-2\">\r\n            <span className=\"text-sm font-medium text-gray-700\">ì§„í–‰ë¥ </span>\r\n            <span className=\"text-sm text-gray-600\">\r\n              {completedSteps.size} / {steps.length} ë‹¨ê³„ ì™„ë£Œ\r\n            </span>\r\n          </div>\r\n          <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n            <div \r\n              className=\"bg-blue-500 h-2 rounded-full transition-all duration-300\"\r\n              style={{ width: `${(completedSteps.size / steps.length) * 100}%` }}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Current Step Content */}\r\n      <div>\r\n        {renderStepContent()}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ModelBuilding;"],"names":["_ref","projectId","onFinalize","isReadyToFinalize","onNavigateToEvaluators","workshopMode","setWorkshopMode","useState","isConfirming","setIsConfirming","criteria","setCriteria","alternatives","setAlternatives","evaluators","setEvaluators","loading","setLoading","error","setError","useEffect","async","_results","_alternativesResponse","_results2","_evaluatorsResponse$d","criteriaResponse","alternativesResponse","evaluatorsResponse","Promise","all","api","getCriteria","alternative","getAlternatives","evaluator","getEvaluators","success","Error","criteriaData","data","alternativesData","results","Array","isArray","evaluatorsData","err","message","loadProjectData","handleFinalize","setTimeout","summary","getModelSummary","safeCriteria","safeAlternatives","safeEvaluators","criteriaCount","length","alternativesCount","evaluatorsCount","estimatedComparisons","subCriteria","filter","c","_c$level","level","_jsx","className","children","Card","title","_jsxs","HierarchyTreeVisualization","nodes","map","_c$id","_c$level2","id","name","description","weight","parent_id","showWeights","interactive","index","type","value","checked","onChange","e","target","htmlFor","Button","variant","onClick","handleCancel","_Fragment","disabled","onComplete","sessions","setSessions","maxEvaluators","setMaxEvaluators","projectTitle","setProjectTitle","showQRCodes","setShowQRCodes","copiedIndex","setCopiedIndex","initError","setInitError","actionMessage","setActionMessage","getBaseUrl","baseUrl","window","location","origin","concat","generateShortCode","array","Uint8Array","crypto","getRandomValues","from","byte","join","project","cleanDataService","getProject","newSessions","i","sessionId","Date","now","shortCode","accessUrl","shortUrl","push","status","progress","qrCode","initializeSessions","copyToClipboard","text","navigator","clipboard","writeText","showActionMessage","getStatusColor","Input","label","toString","num","parseInt","min","max","generatePrintableQRCodes","printWindow","open","qrCodesHtml","session","encodeURIComponent","document","write","close","print","evaluatorName","src","alt","style","width","startedAt","toLocaleTimeString","completedAt","s","Math","round","reduce","acc","onModelFinalized","onBack","currentPlan","activeStep","setActiveStep","completedSteps","setCompletedSteps","Set","evaluationMethod","setEvaluationMethod","steps","icon","optional","show","step","handleStepComplete","stepId","prev","currentIndex","findIndex","nextStep","has","size","renderStepContent","CriteriaManagement","onCriteriaChange","AlternativeManagement","EvaluatorAssignment","QRCodeEvaluatorAssignment","ModelFinalization"],"sourceRoot":""}