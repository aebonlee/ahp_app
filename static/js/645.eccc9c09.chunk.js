"use strict";(self.webpackChunkahp_research_platform=self.webpackChunkahp_research_platform||[]).push([[304,645],{5645(e,s,a){a.r(s),a.d(s,{default:()=>u});var t=a(2555),r=a(5043),i=a(9722),c=a(3593),n=a(2301),l=a(795),o=a(8100),d=a(9304),p=a(579);const u=()=>{const[e,s]=(0,r.useState)([]),[a,u]=(0,r.useState)(!1),[m,x]=(0,r.useState)(""),[h,f]=(0,r.useState)("all"),[g,v]=(0,r.useState)(1),[y,j]=(0,r.useState)(1),[b,w]=(0,r.useState)(0),[A,N]=(0,r.useState)(!1),[_,k]=(0,r.useState)(null),[C,P]=(0,r.useState)(!1),[E,S]=(0,r.useState)({username:"",email:"",first_name:"",last_name:"",password:"",confirmPassword:"",is_active:!0,is_staff:!1,is_superuser:!1}),[T,I]=(0,r.useState)({}),[z,q]=(0,r.useState)(""),[L,U]=(0,r.useState)(""),[M,O]=(0,r.useState)(null),R=async()=>{u(!0),U("");try{const r=new URLSearchParams((0,t.A)({page:g.toString(),page_size:10..toString(),search:m},"all"!==h&&{role:h})),i=await d.Ay.get("/api/accounts/?".concat(r));if(!i.data)throw new Error("\ub370\uc774\ud130\ub97c \ubd88\ub7ec\uc62c \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.");{var e,a;const t=i.data,r=Array.isArray(t)?t:null!==(e=t.results)&&void 0!==e?e:[],c=Array.isArray(t)?t.length:null!==(a=t.count)&&void 0!==a?a:r.length;s(r),w(c),j(Math.ceil(c/10))}}catch(r){U("\uc0ac\uc6a9\uc790 \ubaa9\ub85d\uc744 \ubd88\ub7ec\uc624\ub294\ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."),s([])}finally{u(!1)}};(0,r.useEffect)(()=>{R()},[g,m,h]);const D=()=>{const e={};return E.username.trim()?E.username.length<3&&(e.username="\uc0ac\uc6a9\uc790\uba85\uc740 3\uc790 \uc774\uc0c1\uc774\uc5b4\uc57c \ud569\ub2c8\ub2e4."):e.username="\uc0ac\uc6a9\uc790\uba85\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.",E.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(E.email)||(e.email="\uc62c\ubc14\ub978 \uc774\uba54\uc77c \ud615\uc2dd\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."):e.email="\uc774\uba54\uc77c\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.",_?E.password&&E.password!==E.confirmPassword&&(e.confirmPassword="\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."):(E.password?E.password.length<8&&(e.password="\ube44\ubc00\ubc88\ud638\ub294 8\uc790 \uc774\uc0c1\uc774\uc5b4\uc57c \ud569\ub2c8\ub2e4."):e.password="\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.",E.password!==E.confirmPassword&&(e.confirmPassword="\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.")),I(e),0===Object.keys(e).length},B=()=>{S({username:"",email:"",first_name:"",last_name:"",password:"",confirmPassword:"",is_active:!0,is_staff:!1,is_superuser:!1}),I({}),k(null)},K=e=>e.is_superuser?"\uc288\ud37c \uad00\ub9ac\uc790":e.is_staff?"\uc2a4\ud0dc\ud504":"\uc77c\ubc18 \uc0ac\uc6a9\uc790",J=e=>e.is_superuser?"bg-purple-100 text-purple-800":e.is_staff?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800",F=e.filter(e=>!("superuser"===h&&!e.is_superuser)&&!("staff"===h&&!e.is_staff)&&("normal"!==h||!e.is_staff&&!e.is_superuser));return(0,p.jsxs)("div",{className:"max-w-7xl mx-auto p-6",children:[(0,p.jsxs)("div",{className:"mb-6",children:[(0,p.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"\uc0ac\uc6a9\uc790 \uad00\ub9ac"}),(0,p.jsx)("p",{className:"text-gray-600",children:"Django \uc2dc\uc2a4\ud15c\uc5d0 \ub4f1\ub85d\ub41c \uc2e4\uc81c \uc0ac\uc6a9\uc790\ub97c \uad00\ub9ac\ud569\ub2c8\ub2e4."})]}),z&&(0,p.jsx)("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:(0,p.jsx)("p",{className:"text-sm text-green-600",children:z})}),L&&(0,p.jsx)("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,p.jsx)("p",{className:"text-sm text-red-600",children:L})}),(0,p.jsxs)(c.A,{children:[(0,p.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0 mb-6",children:[(0,p.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4",children:[(0,p.jsx)(l.A,{id:"search",placeholder:"\uc0ac\uc6a9\uc790\uba85 \ub610\ub294 \uc774\uba54\uc77c\ub85c \uac80\uc0c9...",value:m,onChange:x,className:"min-w-[250px]"}),(0,p.jsxs)("select",{value:h,onChange:e=>f(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,p.jsx)("option",{value:"all",children:"\ubaa8\ub4e0 \uc5ed\ud560"}),(0,p.jsx)("option",{value:"superuser",children:"\uc288\ud37c \uad00\ub9ac\uc790"}),(0,p.jsx)("option",{value:"staff",children:"\uc2a4\ud0dc\ud504"}),(0,p.jsx)("option",{value:"normal",children:"\uc77c\ubc18 \uc0ac\uc6a9\uc790"})]})]}),(0,p.jsxs)("div",{className:"flex space-x-2",children:[(0,p.jsx)(n.A,{variant:"secondary",onClick:()=>R(),loading:a,icon:"\ud83d\udd04",children:"\uc0c8\ub85c\uace0\uce68"}),(0,p.jsx)(n.A,{variant:"primary",onClick:()=>{B(),N(!0)},icon:"\u2795",children:"\uc0c8 \uc0ac\uc6a9\uc790 \ucd94\uac00"})]})]}),(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[(0,p.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,p.jsx)("div",{className:"text-2xl font-bold text-blue-900",children:b}),(0,p.jsx)("div",{className:"text-sm text-blue-700",children:"\uc804\uccb4 \uc0ac\uc6a9\uc790"})]}),(0,p.jsxs)("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[(0,p.jsx)("div",{className:"text-2xl font-bold text-purple-900",children:e.filter(e=>e.is_superuser).length}),(0,p.jsx)("div",{className:"text-sm text-purple-700",children:"\uc288\ud37c \uad00\ub9ac\uc790"})]}),(0,p.jsxs)("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-4",children:[(0,p.jsx)("div",{className:"text-2xl font-bold text-indigo-900",children:e.filter(e=>e.is_staff&&!e.is_superuser).length}),(0,p.jsx)("div",{className:"text-sm text-indigo-700",children:"\uc2a4\ud0dc\ud504"})]}),(0,p.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[(0,p.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:e.filter(e=>!e.is_staff&&!e.is_superuser).length}),(0,p.jsx)("div",{className:"text-sm text-gray-700",children:"\uc77c\ubc18 \uc0ac\uc6a9\uc790"})]}),(0,p.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,p.jsx)("div",{className:"text-2xl font-bold text-green-900",children:e.filter(e=>e.is_active).length}),(0,p.jsx)("div",{className:"text-sm text-green-700",children:"\ud65c\uc131 \uc0ac\uc6a9\uc790"})]})]}),a?(0,p.jsx)("div",{className:"flex justify-center items-center py-12",children:(0,p.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):0===F.length?(0,p.jsxs)("div",{className:"text-gray-500 text-center py-12",children:[(0,p.jsx)("p",{className:"text-lg mb-2",children:m||"all"!==h?"\uac80\uc0c9 \uc870\uac74\uc5d0 \ub9de\ub294 \uc0ac\uc6a9\uc790\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.":"\ub4f1\ub85d\ub41c \uc0ac\uc6a9\uc790\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."}),(0,p.jsx)("p",{className:"text-sm",children:"\uc0c8 \uc0ac\uc6a9\uc790\ub97c \ucd94\uac00\ud558\uac70\ub098 \uac80\uc0c9 \uc870\uac74\uc744 \ubcc0\uacbd\ud574\ubcf4\uc138\uc694."})]}):(0,p.jsx)("div",{className:"overflow-x-auto",children:(0,p.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,p.jsx)("thead",{className:"bg-gray-50",children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"ID"}),(0,p.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"\uc0ac\uc6a9\uc790\uba85"}),(0,p.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"\uc774\ub984"}),(0,p.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"\uc774\uba54\uc77c"}),(0,p.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"\uc5ed\ud560"}),(0,p.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"\uc0c1\ud0dc"}),(0,p.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"\uac00\uc785\uc77c"}),(0,p.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"\ub9c8\uc9c0\ub9c9 \ub85c\uadf8\uc778"}),(0,p.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"\uc791\uc5c5"})]})}),(0,p.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:F.map(e=>(0,p.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,p.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["#",e.id]}),(0,p.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,p.jsxs)("div",{className:"flex items-center",children:[(0,p.jsx)("div",{className:"flex-shrink-0 h-8 w-8",children:(0,p.jsx)("div",{className:"h-8 w-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:(0,p.jsx)("span",{className:"text-xs font-medium text-white",children:e.username.charAt(0).toUpperCase()})})}),(0,p.jsx)("div",{className:"ml-3",children:(0,p.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.username})})]})}),(0,p.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.first_name||e.last_name?"".concat(e.first_name," ").concat(e.last_name).trim():"-"}),(0,p.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.email||"-"}),(0,p.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,p.jsx)("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(J(e)),children:K(e)})}),(0,p.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,p.jsx)("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(e.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.is_active?"\ud65c\uc131":"\ube44\ud65c\uc131"})}),(0,p.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.date_joined).toLocaleDateString("ko-KR")}),(0,p.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.last_login?new Date(e.last_login).toLocaleDateString("ko-KR"):"\uc5c6\uc74c"}),(0,p.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-center space-x-1",children:[(0,p.jsx)(n.A,{variant:"secondary",size:"sm",onClick:()=>(e=>{k(e),S({username:e.username,email:e.email,first_name:e.first_name,last_name:e.last_name,password:"",confirmPassword:"",is_active:e.is_active,is_staff:e.is_staff,is_superuser:e.is_superuser}),I({}),N(!0)})(e),icon:"\u270f\ufe0f",children:"\uc218\uc815"}),(0,p.jsx)(n.A,{variant:e.is_active?"warning":"success",size:"sm",onClick:()=>(async e=>{u(!0),U("");try{const s=await d.Ay.patch("/api/users/".concat(e.id,"/"),{is_active:!e.is_active});if(!s.data)throw new Error(s.error||"\uc0c1\ud0dc \ubcc0\uacbd\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.");q("\uc0ac\uc6a9\uc790\uac00 ".concat(e.is_active?"\ube44\ud65c\uc131\ud654":"\ud65c\uc131\ud654","\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")),R(),setTimeout(()=>q(""),3e3)}catch(s){U("\uc0ac\uc6a9\uc790 \uc0c1\ud0dc \ubcc0\uacbd\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}finally{u(!1)}})(e),icon:e.is_active?"\ud83d\udd12":"\ud83d\udd13",children:e.is_active?"\ube44\ud65c\uc131":"\ud65c\uc131"}),(0,p.jsx)(n.A,{variant:"danger",size:"sm",onClick:()=>(e=>{O(e)})(e),icon:"\ud83d\uddd1\ufe0f",children:"\uc0ad\uc81c"})]})]},e.id))})]})}),y>1&&(0,p.jsxs)("div",{className:"mt-6 flex justify-between items-center",children:[(0,p.jsxs)("div",{className:"text-sm text-gray-700",children:["\ucd1d ",b,"\uba85 \uc911 ",10*(g-1)+1,"-",Math.min(10*g,b),"\uba85 \ud45c\uc2dc"]}),(0,p.jsxs)("div",{className:"flex space-x-2",children:[(0,p.jsx)(n.A,{variant:"secondary",size:"sm",onClick:()=>v(e=>Math.max(1,e-1)),disabled:1===g,icon:"\u25c0",children:"\uc774\uc804"}),[...Array(Math.min(5,y))].map((e,s)=>{let a;return a=y<=5||g<=3?s+1:g>=y-2?y-4+s:g-2+s,(0,p.jsx)(n.A,{variant:g===a?"primary":"secondary",size:"sm",onClick:()=>v(a),children:a},a)}),(0,p.jsx)(n.A,{variant:"secondary",size:"sm",onClick:()=>v(e=>Math.min(y,e+1)),disabled:g===y,icon:"\u25b6",children:"\ub2e4\uc74c"})]})]})]}),(0,p.jsxs)(o.A,{isOpen:null!==M,onClose:()=>O(null),title:"\uc0ac\uc6a9\uc790 \uc0ad\uc81c \ud655\uc778",size:"sm",footer:(0,p.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,p.jsx)(n.A,{variant:"secondary",onClick:()=>O(null),children:"\ucde8\uc18c"}),(0,p.jsx)(n.A,{variant:"danger",onClick:async()=>{if(M){u(!0),U("");try{const e=await d.Ay.delete("/api/users/".concat(M.id,"/"));if(e.error)throw new Error(e.error);q("\uc0ac\uc6a9\uc790\uac00 \uc131\uacf5\uc801\uc73c\ub85c \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),R(),setTimeout(()=>q(""),3e3)}catch(e){U("\uc0ac\uc6a9\uc790 \uc0ad\uc81c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}finally{u(!1),O(null)}}},children:"\uc0ad\uc81c"})]}),children:[(0,p.jsxs)("p",{className:"text-gray-700",children:["\uc815\ub9d0 ",(0,p.jsxs)("span",{className:"font-semibold",children:['"',null===M||void 0===M?void 0:M.username,'"']})," \uc0ac\uc6a9\uc790\ub97c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"]}),(0,p.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"\uc774 \uc791\uc5c5\uc740 \ub418\ub3cc\ub9b4 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."})]}),A&&(0,p.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,p.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[(0,p.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,p.jsx)("h3",{className:"text-lg font-bold",children:_?"\uc0ac\uc6a9\uc790 \uc815\ubcf4 \uc218\uc815":"\uc0c8 \uc0ac\uc6a9\uc790 \ucd94\uac00"}),(0,p.jsx)("button",{onClick:()=>{N(!1),B()},className:"text-gray-500 hover:text-gray-700",children:"\u2715"})]}),(0,p.jsxs)("form",{onSubmit:e=>{e.preventDefault(),_?(async()=>{if(_&&D()){P(!0),U("");try{const e={username:E.username,email:E.email,first_name:E.first_name,last_name:E.last_name,is_active:E.is_active,is_staff:E.is_staff,is_superuser:E.is_superuser};E.password&&(e.password=E.password);const s=await d.Ay.put("/api/users/".concat(_.id,"/"),e);if(!s.data)throw new Error(s.error||"\uc0ac\uc6a9\uc790 \uc218\uc815\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.");q("\uc0ac\uc6a9\uc790 \uc815\ubcf4\uac00 \uc131\uacf5\uc801\uc73c\ub85c \uc218\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),N(!1),k(null),B(),R(),setTimeout(()=>q(""),3e3)}catch(s){var e;if(i.A.isAxiosError(s)&&null!==(e=s.response)&&void 0!==e&&e.data){const e=s.response.data;if("object"===typeof e){const s={};Object.keys(e).forEach(a=>{s[a]=Array.isArray(e[a])?e[a].join(", "):e[a]}),I(s)}else U("\uc0ac\uc6a9\uc790 \uc218\uc815\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}else U((s instanceof Error?s.message:"")||"\uc0ac\uc6a9\uc790 \uc218\uc815\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}finally{P(!1)}}})():(async()=>{if(D()){P(!0),U("");try{const e={username:E.username,email:E.email,first_name:E.first_name,last_name:E.last_name,password:E.password,is_active:E.is_active,is_staff:E.is_staff,is_superuser:E.is_superuser},s=await d.Ay.post("/api/users/",e);if(!s.data)throw new Error(s.error||"\uc0ac\uc6a9\uc790 \uc0dd\uc131\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.");q("\uc0ac\uc6a9\uc790\uac00 \uc131\uacf5\uc801\uc73c\ub85c \uc0dd\uc131\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),N(!1),B(),R(),setTimeout(()=>q(""),3e3)}catch(s){var e;if(i.A.isAxiosError(s)&&null!==(e=s.response)&&void 0!==e&&e.data){const e=s.response.data;if("object"===typeof e){const s={};Object.keys(e).forEach(a=>{s[a]=Array.isArray(e[a])?e[a].join(", "):e[a]}),I(s)}else U("\uc0ac\uc6a9\uc790 \uc0dd\uc131\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}else U((s instanceof Error?s.message:"")||"\uc0ac\uc6a9\uc790 \uc0dd\uc131\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}finally{P(!1)}}})()},className:"space-y-4",children:[(0,p.jsx)(l.A,{id:"username",label:"\uc0ac\uc6a9\uc790\uba85",placeholder:"\uc0ac\uc6a9\uc790\uba85\uc744 \uc785\ub825\ud558\uc138\uc694",value:E.username,onChange:e=>S((0,t.A)((0,t.A)({},E),{},{username:e})),error:T.username,required:!0,disabled:null!==_}),(0,p.jsx)(l.A,{id:"email",label:"\uc774\uba54\uc77c",type:"email",placeholder:"user@example.com",value:E.email,onChange:e=>S((0,t.A)((0,t.A)({},E),{},{email:e})),error:T.email,required:!0}),(0,p.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,p.jsx)(l.A,{id:"first_name",label:"\uc774\ub984",placeholder:"\uc774\ub984",value:E.first_name,onChange:e=>S((0,t.A)((0,t.A)({},E),{},{first_name:e})),error:T.first_name}),(0,p.jsx)(l.A,{id:"last_name",label:"\uc131",placeholder:"\uc131",value:E.last_name,onChange:e=>S((0,t.A)((0,t.A)({},E),{},{last_name:e})),error:T.last_name})]}),(!_||E.password)&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(l.A,{id:"password",label:_?"\uc0c8 \ube44\ubc00\ubc88\ud638 (\ubcc0\uacbd\uc2dc\uc5d0\ub9cc \uc785\ub825)":"\ube44\ubc00\ubc88\ud638",type:"password",placeholder:"8\uc790 \uc774\uc0c1 \uc785\ub825\ud558\uc138\uc694",value:E.password,onChange:e=>S((0,t.A)((0,t.A)({},E),{},{password:e})),error:T.password,required:!_}),(0,p.jsx)(l.A,{id:"confirmPassword",label:"\ube44\ubc00\ubc88\ud638 \ud655\uc778",type:"password",placeholder:"\ube44\ubc00\ubc88\ud638\ub97c \ub2e4\uc2dc \uc785\ub825\ud558\uc138\uc694",value:E.confirmPassword,onChange:e=>S((0,t.A)((0,t.A)({},E),{},{confirmPassword:e})),error:T.confirmPassword,required:!_||!!E.password})]}),(0,p.jsxs)("div",{className:"space-y-3",children:[(0,p.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,p.jsx)("input",{type:"checkbox",checked:E.is_active,onChange:e=>S((0,t.A)((0,t.A)({},E),{},{is_active:e.target.checked})),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,p.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"\ud65c\uc131 \uc0c1\ud0dc"})]}),(0,p.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,p.jsx)("input",{type:"checkbox",checked:E.is_staff,onChange:e=>S((0,t.A)((0,t.A)({},E),{},{is_staff:e.target.checked})),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,p.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"\uc2a4\ud0dc\ud504 \uad8c\ud55c"})]}),(0,p.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,p.jsx)("input",{type:"checkbox",checked:E.is_superuser,onChange:e=>S((0,t.A)((0,t.A)({},E),{},{is_superuser:e.target.checked})),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,p.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"\uc288\ud37c\uc720\uc800 \uad8c\ud55c"})]})]}),(0,p.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,p.jsx)(n.A,{type:"button",variant:"secondary",onClick:()=>{N(!1),B()},disabled:C,children:"\ucde8\uc18c"}),(0,p.jsx)(n.A,{type:"submit",variant:"primary",loading:C,disabled:C,children:_?"\uc218\uc815":"\uc0dd\uc131"})]})]})]})})]})}},9304(e,s,a){a.d(s,{Ay:()=>g});var t=a(2555),r=a(1801),i=a(1422),c=a(8018);const n=new class{constructor(e){this.baseURL=void 0,this.baseURL=e}async request(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const a=(0,t.A)({"Content-Type":"application/json"},s.headers),r=i.A.getAccessToken();r&&(a.Authorization="Bearer ".concat(r));const c=await fetch("".concat(this.baseURL).concat(e),(0,t.A)((0,t.A)({credentials:"include"},s),{},{headers:a})),n=await c.json();if(!c.ok){if(401===c.status){if((await i.A.refreshAccessToken()).success){const r=i.A.getAccessToken();if(r){a.Authorization="Bearer ".concat(r);const i=await fetch("".concat(this.baseURL).concat(e),(0,t.A)((0,t.A)({credentials:"include"},s),{},{headers:a}));if(i.ok){return{data:await i.json()}}}}else window.dispatchEvent(new CustomEvent("auth:tokenExpired"))}return{error:n.error||n.detail||"Request failed"}}return{data:n}}catch(a){return c.A.error("API request failed:",a),{error:"Network error"}}}get(e){return this.request(e,{method:"GET"})}post(e,s){return this.request(e,{method:"POST",body:s?JSON.stringify(s):void 0})}put(e,s){return this.request(e,{method:"PUT",body:s?JSON.stringify(s):void 0})}delete(e){return this.request(e,{method:"DELETE"})}patch(e,s){return this.request(e,{method:"PATCH",body:s?JSON.stringify(s):void 0})}}(r.API_BASE_URL),l={login:async e=>{try{return{data:{user:(await i.A.login(e.username,e.password)).user},error:null}}catch(s){return{data:null,error:s instanceof Error?s.message:"Login failed"}}},logout:async()=>{try{const e=await i.A.logout();return{data:e.success?{message:"Logout successful"}:null,error:e.success?null:e.error}}catch(e){return{data:null,error:e instanceof Error?e.message:"Logout failed"}}},refreshToken:async()=>{try{const e=await i.A.refreshAccessToken();return{data:e.success?{message:"Token refreshed"}:null,error:e.success?null:e.error}}catch(e){return{data:null,error:e instanceof Error?e.message:"Token refresh failed"}}},verifyToken:async()=>{try{return{data:await i.A.getCurrentUser(),error:null}}catch(e){return{data:null,error:e instanceof Error?e.message:"Token verification failed"}}},isAuthenticated:()=>i.A.isAuthenticated(),getCurrentUser:async()=>{try{return{data:await i.A.getCurrentUser(),error:null}}catch(e){return{data:null,error:e instanceof Error?e.message:"Failed to get user info"}}}},o={save:e=>n.post("/api/evaluate/direct",e),fetch:e=>n.get("/api/evaluate/direct/".concat(e)),normalize:e=>n.post("/api/calculate/normalize",e)},d={save:e=>n.post("/api/evaluate/pairwise",e),fetchMatrix:(e,s)=>n.get("/api/evaluate/pairwise/".concat(e,"/").concat(s))},p={calculate:e=>n.post("/api/calculate/ahp",e),validateMatrix:e=>n.post("/api/calculate/validate-matrix",{matrix:e})},u={assign:e=>n.post("/api/service/evaluations/invitations/",e),fetchByProject:e=>n.get("/api/service/evaluations/invitations/?project=".concat(e)),list:e=>n.get("/api/service/evaluations/evaluations/?project=".concat(e)),updateWeight:(e,s)=>n.patch("/api/service/evaluations/invitations/".concat(e,"/"),s),remove:e=>n.delete("/api/service/evaluations/invitations/".concat(e,"/")),fetchProgress:e=>n.get("/api/service/evaluations/evaluations/?project=".concat(e,"&status=in_progress")),validateAccessKey:e=>n.get("/api/service/evaluations/invitations/by_token/?token=".concat(e))},m={save:e=>n.post("/api/service/analysis/calculate/individual/",e),fetchIndividual:e=>n.get("/api/service/analysis/project-summary/?project_id=".concat(e)),calculateGroup:e=>n.post("/api/service/analysis/calculate/group/",e),fetchProject:e=>n.get("/api/service/analysis/project-summary/?project_id=".concat(e)),sensitivityAnalysis:e=>n.post("/api/service/analysis/sensitivity/",e)},x={fetch:()=>n.get("/api/service/projects/projects/"),fetchById:e=>n.get("/api/service/projects/projects/".concat(e,"/")),create:e=>n.post("/api/service/projects/projects/",e),update:(e,s)=>n.patch("/api/service/projects/projects/".concat(e,"/"),s),delete:e=>n.delete("/api/service/projects/projects/".concat(e,"/"))},h={fetch:e=>n.get("/api/service/projects/criteria/?project=".concat(e)),create:e=>n.post("/api/service/projects/criteria/",e),update:(e,s)=>n.patch("/api/service/projects/criteria/".concat(e,"/"),s),delete:e=>n.delete("/api/service/projects/criteria/".concat(e,"/"))},f={fetch:e=>n.get("/api/service/projects/criteria/?project=".concat(e,"&type=alternative")),create:e=>n.post("/api/service/projects/criteria/",(0,t.A)((0,t.A)({},e),{},{type:"alternative"})),update:(e,s)=>n.patch("/api/service/projects/criteria/".concat(e,"/"),s),delete:e=>n.delete("/api/service/projects/criteria/".concat(e,"/"))},g={get:n.get.bind(n),post:n.post.bind(n),put:n.put.bind(n),delete:n.delete.bind(n),patch:n.patch.bind(n),authAPI:l,directEvaluationAPI:o,pairwiseEvaluationAPI:d,ahpCalculationAPI:p,evaluatorAPI:u,resultsAPI:m,projectAPI:x,criteriaAPI:h,alternativesAPI:f,apiHelpers:{generateMatrixKey:(e,s)=>"criteria"===e?"C:".concat(s||"root"):"A:".concat(s),generateTargetKey:(e,s,a)=>"criterion"===e?"criterion:".concat(s):"alternative:".concat(s,"@criterion:").concat(a),extractErrorMessage:e=>e.error?e.error:"Unknown error occurred",extractSuccessMessage:e=>e.message?e.message:"Operation completed successfully"}}}}]);
//# sourceMappingURL=645.eccc9c09.chunk.js.map