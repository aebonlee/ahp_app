{"version":3,"file":"static/js/895.7494521f.chunk.js","mappings":"8PACA,SAASA,EAAgBC,EAItBC,GAAQ,IAJe,MACxBC,EAAK,QACLC,GAEDH,EADII,GAAKC,EAAAA,EAAAA,GAAAL,EAAAM,GAER,OAAoBC,EAAAA,cAAoB,MAAOC,OAAOC,OAAO,CAC3DC,MAAO,6BACPC,KAAM,OACNC,QAAS,YACTC,YAAa,IACbC,OAAQ,eACR,cAAe,OACf,YAAa,OACbC,IAAKd,EACL,kBAAmBE,GAClBC,GAAQF,EAAqBK,EAAAA,cAAoB,QAAS,CAC3DS,GAAIb,GACHD,GAAS,KAAmBK,EAAAA,cAAoB,OAAQ,CACzDU,cAAe,QACfC,eAAgB,QAChBC,EAAG,wJAEP,CACA,MACA,EADiCZ,EAAAA,WAAiBR,G,0CCvBlD,SAASqB,EAAOpB,EAIbC,GAAQ,IAJM,MACfC,EAAK,QACLC,GAEDH,EADII,GAAKC,EAAAA,EAAAA,GAAAL,EAAAM,GAER,OAAoBC,EAAAA,cAAoB,MAAOC,OAAOC,OAAO,CAC3DC,MAAO,6BACPC,KAAM,OACNC,QAAS,YACTC,YAAa,IACbC,OAAQ,eACR,cAAe,OACf,YAAa,OACbC,IAAKd,EACL,kBAAmBE,GAClBC,GAAQF,EAAqBK,EAAAA,cAAoB,QAAS,CAC3DS,GAAIb,GACHD,GAAS,KAAmBK,EAAAA,cAAoB,OAAQ,CACzDU,cAAe,QACfC,eAAgB,QAChBC,EAAG,6LACYZ,EAAAA,cAAoB,OAAQ,CAC3CU,cAAe,QACfC,eAAgB,QAChBC,EAAG,wCAEP,CACA,MACA,EADiCZ,EAAAA,WAAiBa,G,sBC3BlD,SAASC,EAAiBrB,EAIvBC,GAAQ,IAJgB,MACzBC,EAAK,QACLC,GAEDH,EADII,GAAKC,EAAAA,EAAAA,GAAAL,EAAAM,GAER,OAAoBC,EAAAA,cAAoB,MAAOC,OAAOC,OAAO,CAC3DC,MAAO,6BACPC,KAAM,OACNC,QAAS,YACTC,YAAa,IACbC,OAAQ,eACR,cAAe,OACf,YAAa,OACbC,IAAKd,EACL,kBAAmBE,GAClBC,GAAQF,EAAqBK,EAAAA,cAAoB,QAAS,CAC3DS,GAAIb,GACHD,GAAS,KAAmBK,EAAAA,cAAoB,OAAQ,CACzDU,cAAe,QACfC,eAAgB,QAChBC,EAAG,iHAEP,CACA,MACA,EADiCZ,EAAAA,WAAiBc,G,qDCkBlD,MA+fA,EA/f8CrB,IAYvC,IAADsB,EAAA,IAZyC,eAC7CC,EAAc,cACdC,EAAa,cACbC,GAAgB,EAAK,OACrBC,EAAS,4DAA2D,YACpEC,EAAc,SAAgB,SAC9BC,EAAW,WAAU,UACrBC,EAAS,UACTC,EAAY,GAAE,SACdC,GAAW,EAAK,YAChBC,GAAc,EAAI,cAClBC,GAAgB,GACjBjC,EACC,MAAOkC,EAAOC,IAAYC,EAAAA,EAAAA,UAA0B,CAClDC,MAAO,GACPC,eAAgB,CAAC,EACjBC,YAAY,EACZC,YAAa,KACbC,kBAAmB,OAGfC,GAAeC,EAAAA,EAAAA,QAAyB,OACvCC,EAAOC,IAAYT,EAAAA,EAAAA,UAAiB,KACpCU,EAASC,IAAcX,EAAAA,EAAAA,UAAiB,KACxCY,EAASC,IAAcb,EAAAA,EAAAA,WAAS,GAGvC7B,EAAAA,UAAgB,KACd2C,KAEC,CAACrB,EAAWD,IAEf,MAAMsB,EAAoBC,UACxB,IACE,MAAMC,QAAiBC,EAAkB,kBAAAC,SAAS,EAAG1B,EAAUC,GAC3DuB,EAASN,SAAWM,EAASG,KAC/BpB,EAASqB,IAAI,IAAAC,EAAA,OAAAC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAUF,GAAI,IAAEnB,OAAoB,QAAboB,EAAAL,EAASG,YAAI,IAAAE,OAAA,EAAbA,EAAeE,UAAW,OACpDP,EAASN,SACnBD,EAAS,wGAEb,CAAE,MAAOe,GACP,MAAMC,EAASD,aAAeE,MAAQF,EAAIG,QAAU,0CACpDlB,EAAS,wDAADmB,OAAiBH,GAC3B,GAGII,EAAed,UACnB,MAAMe,QAAmBC,EAAAA,EAAgBC,yBAAyBC,GASlE,OANIA,EAAKC,KAAO3C,IACduC,EAAWK,iBAAkB,EAC7BL,EAAWM,UAAW,EACtBN,EAAWO,OAAOC,KAAK,qGAADV,OAA2BG,EAAAA,EAAgBQ,eAAehD,GAAY,OAGvFuC,GAGHU,EAAmBzB,UACvB,GAAIpB,EAAU,OAEdc,EAAS,IACTE,EAAW,IACXE,GAAW,GAEX,MAAM4B,EAAYC,MAAMC,KAAK1C,GAG7B,IAAKZ,GAAiBoD,EAAUG,OAAS,EAGvC,OAFAnC,EAAS,4HACTI,GAAW,GAKb,IAAK,MAAMoB,KAAQQ,EAAW,CAC5B,MAAMX,QAAmBD,EAAaI,GAEtC,IAAKH,EAAWM,SAAU,CACxB3B,EAAS,iDAADmB,OAAeK,EAAKY,KAAI,OAAAjB,OAAME,EAAWO,OAAOS,KAAK,QAC7D,QACF,CAEA,MAAMC,EAAW,CACfC,YAAY,YAADpB,OAAcK,EAAKY,MAC9BI,KAAM,CAACzD,GACP0D,QAAQ,GAGV,IACE,MAAMlC,QAAiBC,EAAkB,kBAAAkC,WACvClB,EACAzC,EACAuD,EACAtD,EACC2D,IACCrD,EAASqB,IAAIE,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACRF,GAAI,IACPlB,gBAAcoB,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACTF,EAAKlB,gBAAc,IACtB,CAACkD,EAASC,SAAUD,OAKxBrB,EAAAA,EAAgBuB,oBAAoBF,EAASC,QAASD,KAI1D,IAAIpC,EAASN,UAAWM,EAASG,KA+B/B,MAAM,IAAIO,MAAMV,EAASR,OAAS,+EA/BG,CACrC,MAAM+C,EAAevC,EAASG,KAE9BpB,EAASqB,IAAIE,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACRF,GAAI,IACPnB,MAAO,IAAImB,EAAKnB,MAAOsD,GACvBrD,gBAAcoB,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACTF,EAAKlB,gBAAc,IACtB,CAACqD,EAAa3E,IAAK,CACjByE,QAASE,EAAa3E,GACtB4E,oBAAqB,IACrBC,eAAgBF,EAAaG,UAC7BC,YAAaJ,EAAaG,UAC1BE,OAAQ,kBAMdC,WAAW,KACT9D,EAASqB,IACP,MAAM0C,GAAWxC,EAAAA,EAAAA,GAAA,GAAQF,EAAKlB,gBAE9B,cADO4D,EAAYP,EAAa3E,KAChC0C,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAYF,GAAI,IAAElB,eAAgB4D,MAEpC/B,EAAAA,EAAgBgC,oBAAoBR,EAAa3E,KAChD,KAEH+B,EAAW,iDAADiB,OAAeK,EAAKY,OAChB,OAAd1D,QAAc,IAAdA,GAAAA,EAAiBoE,EACnB,CAGF,CAAE,MAAO/C,GACPC,EAAS,iDAADmB,OAAeK,EAAKY,KAAI,OAAAjB,OAAMpB,aAAiBkB,MAAQlB,EAAMmB,QAAUqC,OAAOxD,KAGtFT,EAASqB,IAAIE,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACRF,GAAI,IACPlB,gBAAcoB,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACTF,EAAKlB,gBAAc,IACtB,CAAC+B,EAAKY,MAAO,CACXQ,QAASpB,EAAKY,KACdW,oBAAqB,EACrBC,eAAgB,EAChBE,YAAa1B,EAAKC,KAClB0B,OAAQ,SACRK,cAAezD,aAAiBkB,MAAQlB,EAAMmB,QAAUqC,OAAOxD,QAIvE,CACF,CAEAK,GAAW,GAGPP,EAAa4D,UACf5D,EAAa4D,QAAQC,MAAQ,KAI3BC,GAAaC,EAAAA,EAAAA,aAAaC,IAI9B,GAHAA,EAAEC,iBACFxE,EAASqB,IAAIE,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAUF,GAAI,IAAEjB,YAAY,KAErCR,EAAU,OAEd,MAAMM,EAAQqE,EAAEE,aAAavE,MACzBA,EAAM2C,OAAS,GACjBJ,EAAiBvC,IAGlB,CAACN,IAEE8E,GAAiBJ,EAAAA,EAAAA,aAAaC,IAClCA,EAAEC,iBACG5E,GACHI,EAASqB,IAAIE,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAUF,GAAI,IAAEjB,YAAY,MAE1C,CAACR,IAEE+E,GAAkBL,EAAAA,EAAAA,aAAaC,IACnCA,EAAEC,iBACFxE,EAASqB,IAAIE,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAUF,GAAI,IAAEjB,YAAY,MACxC,IAqBGwE,EAAqB5D,UACzB,IACE,MAAMC,QAAiBC,EAAkB,kBAAA2D,aAAa3C,EAAKrD,IAC3D,IAAIoC,EAASN,UAAWM,EAASG,KAI/B,MAAM,IAAIO,MAAMV,EAASR,OAAS,qFAFlCqE,OAAOC,KAAK9D,EAASG,KAAK4D,aAAc,SAI5C,CAAE,MAAOvE,GACPC,EAAS,uDAADmB,OAAgBpB,aAAiBkB,MAAQlB,EAAMmB,QAAUqC,OAAOxD,IAC1E,GAGIwE,EAAwB5B,IAW1B6B,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,OAAMwF,SAAA,EACnBD,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,kDAAiDwF,SAAA,EAC9DC,EAAAA,EAAAA,KAAA,QAAAD,SAA2B,cAApB9B,EAASQ,OAAyB,eAAI,GAAAhC,OAAMwB,EAASI,oBAAmB,OAC9EJ,EAASgC,eACRH,EAAAA,EAAAA,MAAA,QAAAC,SAAA,CAAOnD,EAAAA,EAAgBQ,eAAea,EAASgC,cAAc,YAGjED,EAAAA,EAAAA,KAAA,OAAKzF,UAAU,sCAAqCwF,UAClDC,EAAAA,EAAAA,KAAA,OACEzF,UAAS,gDAAAkC,OAnBMyD,MACrB,OAAQjC,EAASQ,QACf,IAAK,YAAa,MAAO,eACzB,IAAK,SAAU,MAAO,aACtB,IAAK,SAAU,MAAO,gBACtB,QAAS,MAAO,gBAc+CyB,IAC3DC,MAAO,CAAEC,MAAM,GAAD3D,OAAKwB,EAASI,oBAAmB,UAGlDJ,EAASa,gBACRkB,EAAAA,EAAAA,KAAA,KAAGzF,UAAU,4BAA2BwF,SAAE9B,EAASa,mBAM3D,OACEgB,EAAAA,EAAAA,MAAA,OAAKvF,UAAS,aAAAkC,OAAelC,GAAYwF,SAAA,CAEtC1E,IACC2E,EAAAA,EAAAA,KAAA,OAAKzF,UAAU,iDAAgDwF,UAC7DD,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,oBAAmBwF,SAAA,EAChCC,EAAAA,EAAAA,KAACK,EAAAA,EAAuB,CAAC9F,UAAU,+BACnCyF,EAAAA,EAAAA,KAAA,KAAGzF,UAAU,uBAAsBwF,SAAE1E,SAK1CE,IACCyE,EAAAA,EAAAA,KAAA,OAAKzF,UAAU,qDAAoDwF,UACjED,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,oBAAmBwF,SAAA,EAChCC,EAAAA,EAAAA,KAACM,EAAAA,EAAe,CAAC/F,UAAU,iCAC3ByF,EAAAA,EAAAA,KAAA,KAAGzF,UAAU,yBAAwBwF,SAAExE,UAM7CuE,EAAAA,EAAAA,MAAA,OACEvF,UAAS,sFAAAkC,OACPjC,EACI,gDACAG,EAAMK,WACJ,6BACA,yCAERuF,OAAQtB,EACRuB,WAAYlB,EACZmB,YAAalB,EACbmB,QAASA,KAAA,IAAAC,EAAA,OAAOnG,IAAgC,QAAxBmG,EAAIxF,EAAa4D,eAAO,IAAA4B,OAAA,EAApBA,EAAsBC,UAAQb,SAAA,EAE1DC,EAAAA,EAAAA,KAACxH,EAAgB,CAAC+B,UAAS,0BAAAkC,OAA4BjC,EAAW,gBAAkB,oBAEpFsF,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,YAAWwF,SAAA,EACxBC,EAAAA,EAAAA,KAAA,KAAGzF,UAAS,uBAAAkC,OAAyBjC,EAAW,gBAAkB,iBAAkBuF,SACjF7F,EAAgB,4GAAyB,yGAE5C4F,EAAAA,EAAAA,MAAA,KAAGvF,UAAS,WAAAkC,OAAajC,EAAW,gBAAkB,iBAAkBuF,SAAA,CAAC,8BAC/D5F,EAAO0G,MAAM,KAAKlD,KAAK,UAEjCmC,EAAAA,EAAAA,MAAA,KAAGvF,UAAS,WAAAkC,OAAajC,EAAW,gBAAkB,iBAAkBuF,SAAA,CAAC,2CAC5DnD,EAAAA,EAAgBQ,eAAehD,SAI7CqB,IACCuE,EAAAA,EAAAA,KAAA,OAAKzF,UAAU,OAAMwF,UACnBC,EAAAA,EAAAA,KAAA,OAAKzF,UAAU,+EAKrByF,EAAAA,EAAAA,KAAA,SACExG,IAAK2B,EACL2F,KAAK,OACL3G,OAAQA,EACR4G,SAAU7G,EACV8G,SAAW7B,GAAMA,EAAE8B,OAAOnG,OAASuC,EAAiB8B,EAAE8B,OAAOnG,OAC7DP,UAAU,SACVC,SAAUA,IAIXvB,OAAOiI,KAAKvG,EAAMI,gBAAgB0C,OAAS,IAC1CqC,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,YAAWwF,SAAA,EACxBC,EAAAA,EAAAA,KAAA,MAAIzF,UAAU,4BAA2BwF,SAAC,iDACzC9G,OAAOkI,OAAOxG,EAAMI,gBAAgBqG,IAAKnD,IACxC6B,EAAAA,EAAAA,MAAA,OAA4BvF,UAAU,4BAA2BwF,SAAA,EAC/DD,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,oCAAmCwF,SAAA,EAChDC,EAAAA,EAAAA,KAAA,QAAMzF,UAAU,oCAAmCwF,SAAC,8CAG/B,cAApB9B,EAASQ,SACRuB,EAAAA,EAAAA,KAACqB,EAAAA,EAAS,CAAC9G,UAAU,6BAGxBsF,EAAqB5B,KATdA,EAASC,aAgBxBvD,EAAMG,MAAM2C,OAAS,IACpBqC,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,YAAWwF,SAAA,EACxBC,EAAAA,EAAAA,KAAA,MAAIzF,UAAU,4BAA2BwF,SAAC,2CAC1CC,EAAAA,EAAAA,KAAA,OAAKzF,UAAU,yBAAwBwF,SACpCpF,EAAMG,MAAMsG,IAAKtE,IAAI,IAAAwE,EAAA,OACpBxB,EAAAA,EAAAA,MAAA,OAAmBvF,UAAU,iCAAgCwF,SAAA,EAC3DD,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,oCAAmCwF,SAAA,EAChDD,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,8BAA6BwF,SAAA,EAC1CC,EAAAA,EAAAA,KAAA,QAAMzF,UAAU,WAAUwF,SACvBnD,EAAAA,EAAgB2E,gBAAgBzE,EAAK0E,cAExC1B,EAAAA,EAAAA,MAAA,OAAAC,SAAA,EACEC,EAAAA,EAAAA,KAAA,MAAIzF,UAAU,4BAA2BwF,SAAEjD,EAAK2E,iBAChD3B,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,oDAAmDwF,SAAA,EAChEC,EAAAA,EAAAA,KAAA,QAAAD,SAAOnD,EAAAA,EAAgBQ,eAAeN,EAAKyB,cAC3CyB,EAAAA,EAAAA,KAAA,QAAAD,SAAM,YACNC,EAAAA,EAAAA,KAAA,QAAAD,SAAO,IAAI2B,KAAK5E,EAAK6E,aAAaC,mBAAmB,YACrD5B,EAAAA,EAAAA,KAAA,QAAAD,SAAM,YACNC,EAAAA,EAAAA,KAAA,QAAMzF,UAAS,kCAAAkC,OACG,cAAhBK,EAAK2B,OAAyB,8BACd,eAAhB3B,EAAK2B,OAA0B,gCACf,WAAhB3B,EAAK2B,OAAsB,0BAC3B,6BACCsB,SACgB,cAAhBjD,EAAK2B,OAAyB,eACd,eAAhB3B,EAAK2B,OAA0B,sBACf,WAAhB3B,EAAK2B,OAAsB,eAAO3B,EAAK2B,mBAMhDqB,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,8BAA6BwF,SAAA,CACzCtF,GAAemC,EAAAA,EAAgBiF,YAAY/E,EAAK0E,aAC/C1B,EAAAA,EAAAA,MAACgC,EAAAA,EAAM,CACL/E,KAAK,KACLgF,QAAQ,UACRrB,QAASA,IAAM9F,EAASqB,IAAIE,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAUF,GAAI,IAAEhB,YAAa6B,KACzDvC,UAAU,oBAAmBwF,SAAA,EAE7BC,EAAAA,EAAAA,KAACnG,EAAO,CAACU,UAAU,iBAAiB,8BAKvCG,GAAiC,cAAhBoC,EAAK2B,SACrBqB,EAAAA,EAAAA,MAACgC,EAAAA,EAAM,CACL/E,KAAK,KACLgF,QAAQ,UACRrB,QAASA,IAAMlB,EAAmB1C,GAClCvC,UAAU,oBAAmBwF,SAAA,EAE7BC,EAAAA,EAAAA,KAAClG,EAAiB,CAACS,UAAU,iBAAiB,+BAKlDuF,EAAAA,EAAAA,MAACgC,EAAAA,EAAM,CACL/E,KAAK,KACLgF,QAAQ,UACRrB,QAASA,IAAM9F,EAASqB,IAAIE,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAUF,GAAI,IAAEf,kBAAmB4B,EAAKrD,MACpEc,UAAU,oDAAmDwF,SAAA,EAE7DC,EAAAA,EAAAA,KAACgC,EAAAA,EAAS,CAACzH,UAAU,iBAAiB,yBAM9B,QAAb+G,EAAAxE,EAAKc,gBAAQ,IAAA0D,OAAA,EAAbA,EAAezD,eACdmC,EAAAA,EAAAA,KAAA,KAAGzF,UAAU,6BAA4BwF,SAAEjD,EAAKc,SAASC,gBAjEnDf,EAAKrD,YA0EvBuG,EAAAA,EAAAA,KAACiC,EAAAA,EAAK,CACJC,SAAUvH,EAAMM,YAChBkH,QAASA,IAAMvH,EAASqB,IAAIE,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAUF,GAAI,IAAEhB,YAAa,QACzDtC,MAAM,wCACNoE,KAAK,KAAIgD,SAERpF,EAAMM,cACL6E,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,YAAWwF,SAAA,EACxBD,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,cAAawF,SAAA,EAC1BC,EAAAA,EAAAA,KAAA,MAAIzF,UAAU,4BAA2BwF,SAAEpF,EAAMM,YAAYwG,iBAC7D3B,EAAAA,EAAAA,MAAA,KAAGvF,UAAU,6BAA4BwF,SAAA,CACtCnD,EAAAA,EAAgBQ,eAAezC,EAAMM,YAAYsD,WAAW,UAC5D,IAAImD,KAAK/G,EAAMM,YAAY0G,aAAaC,mBAAmB,eAI/DhF,EAAAA,EAAgBiF,YAAYlH,EAAMM,YAAYuG,aAC7CxB,EAAAA,EAAAA,KAAA,OAAKzF,UAAU,sBAAqBwF,UAClCC,EAAAA,EAAAA,KAAA,OACEoC,IAAG,GAAA3F,OAAK9B,EAAMM,YAAYoH,WAC1BC,IAAK3H,EAAMM,YAAYwG,cACvBlH,UAAU,sCAKhBuF,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,6BAA4BwF,SAAA,EACzCC,EAAAA,EAAAA,KAAC8B,EAAAA,EAAM,CACLC,QAAQ,UACRrB,QAASA,IAAM9F,EAASqB,IAAIE,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAUF,GAAI,IAAEhB,YAAa,QAAS8E,SACnE,kBAGDC,EAAAA,EAAAA,KAAC8B,EAAAA,EAAM,CACLC,QAAQ,UACRrB,QAASA,IAAM/F,EAAMM,aAAeuE,EAAmB7E,EAAMM,aAAa8E,SAC3E,sCASTC,EAAAA,EAAAA,KAACiC,EAAAA,EAAK,CACJC,SAAUvH,EAAMO,kBAChBiH,QAASA,IAAMvH,EAASqB,IAAIE,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAUF,GAAI,IAAEf,kBAAmB,QAC/DvC,MAAM,yCAAUoH,UAEhBD,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,YAAWwF,SAAA,EACxBC,EAAAA,EAAAA,KAAA,KAAGzF,UAAU,gBAAewF,SAAC,iLAI5BpF,EAAMO,oBACL8E,EAAAA,EAAAA,KAAA,OAAKzF,UAAU,4BAA2BwF,UACxCC,EAAAA,EAAAA,KAAA,KAAGzF,UAAU,4BAA2BwF,SACkB,QADlBhG,EACrCY,EAAMG,MAAMyH,KAAKC,GAAKA,EAAE/I,KAAOkB,EAAMO,0BAAkB,IAAAnB,OAAA,EAAvDA,EAAyD0H,mBAKhE3B,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,6BAA4BwF,SAAA,EACzCC,EAAAA,EAAAA,KAAC8B,EAAAA,EAAM,CACLC,QAAQ,UACRrB,QAASA,IAAM9F,EAASqB,IAAIE,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAUF,GAAI,IAAEf,kBAAmB,QAAS6E,SACzE,kBAGDC,EAAAA,EAAAA,KAAC8B,EAAAA,EAAM,CACLC,QAAQ,UACRrB,QAASA,IAAM/F,EAAMO,mBA9SRU,WACvB,IACE,MAAMC,QAAiBC,EAAkB,kBAAA2G,WAAWC,GACpD,IAAI7G,EAASN,QASX,MAAM,IAAIgB,MAAMV,EAASR,OAAS,yEARlCT,EAASqB,IAAIE,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACRF,GAAI,IACPnB,MAAOmB,EAAKnB,MAAM6H,OAAOH,GAAKA,EAAE/I,KAAOiJ,GACvCxH,kBAAmB,QAErBM,EAAW,kEACE,OAAbvB,QAAa,IAAbA,GAAAA,EAAgByI,EAIpB,CAAE,MAAOrH,GACPC,EAAS,2CAADmB,OAAcpB,aAAiBkB,MAAQlB,EAAMmB,QAAUqC,OAAOxD,IACxE,GA8RoDuH,CAAiBjI,EAAMO,mBACjEX,UAAU,8BAA6BwF,SACxC,6BC0Wb,EA91BwEtH,IAAe,IAAd,KAAEoK,GAAMpK,EAC/E,MAAOqK,EAAWC,IAAgBlI,EAAAA,EAAAA,UAAiB,WAC5CuD,EAAc4E,IAAmBnI,EAAAA,EAAAA,UAAsB,OACvDoI,EAAeC,IAAoBrI,EAAAA,EAAAA,UAA4D,MAEhGsI,EAAoBA,CAACrC,EAAgCsC,KACzDF,EAAiB,CAACpC,OAAMsC,SACxB1E,WAAW,IAAMwE,EAAiB,MAAO,OAEpCG,EAAgBC,IAAqBzI,EAAAA,EAAAA,UAAiB,KACtD0I,EAAYC,IAAiB3I,EAAAA,EAAAA,WAAS,IACtC4I,EAAkBC,IAAuB7I,EAAAA,EAAAA,UAAkC,OAC3E8I,EAAoBC,IAAyB/I,EAAAA,EAAAA,UAAS,CAC3DgJ,cAAc,EACdC,gBAAgB,EAChBC,kBAAkB,EAClBC,iBAAiB,EACjBC,kBAAkB,EAClBC,cAAc,EACdC,YAAY,IAYR9G,EAAmBzB,UAAuD,IAADwI,EAC7E,MAAMtH,EAAyB,QAArBsH,EAAGC,EAAMpD,OAAOnG,aAAK,IAAAsJ,OAAA,EAAlBA,EAAqB,GAClC,GAAItH,EAAM,CACRkG,EAAgBlG,GAEhB,IAEE,MAAM,kBAAEhB,SAA4B,uCAE9BD,QAAiBC,EAAkBkC,WACvClB,EACA,WACA,CACEe,YAAa,kDACbC,KAAM,CAAC,gBAAiB,SACxBC,QAAQ,IAIZ,GAAIlC,EAASN,SAAWM,EAASG,KAAM,CAErC,MAAMsI,EAAS,IAAIC,WACnBD,EAAOE,OAAUrF,IAAO,IAADsF,EACrB,MAAMC,EAAkB,QAAXD,EAAGtF,EAAE8B,cAAM,IAAAwD,OAAA,EAARA,EAAUE,OAE1BrB,EAAkBoB,EAAQE,MAAM,EAAG,KAAQ,QAE7CN,EAAOO,WAAW/H,EACpB,KAAO,CAEL,MAAMwH,EAAS,IAAIC,WACnBD,EAAOE,OAAUrF,IAAO,IAAD2F,EACrB,MAAMJ,EAAkB,QAAXI,EAAG3F,EAAE8B,cAAM,IAAA6D,OAAA,EAARA,EAAUH,OAC1BrB,EAAkBoB,EAAQE,MAAM,EAAG,KAAQ,QAE7CN,EAAOO,WAAW/H,EACpB,CACF,CAAE,MAAOzB,GACP8H,EAAkB,QAAS,sJAE3B,MAAMmB,EAAS,IAAIC,WACnBD,EAAOE,OAAUrF,IAAO,IAAD4F,EACrB,MAAML,EAAkB,QAAXK,EAAG5F,EAAE8B,cAAM,IAAA8D,OAAA,EAARA,EAAUJ,OAC1BrB,EAAkBoB,EAAQE,MAAM,EAAG,KAAQ,QAE7CN,EAAOO,WAAW/H,EACpB,CACF,GAIIkI,EAAkBpJ,UACtB,GAAKwC,GAAiBiF,EAAe4B,OAArC,CAKAzB,GAAc,GACdT,EAAa,cAEb,IAAK,IAADmC,EAAAC,EAEF,MAAMC,GAAYC,EAAAA,EAAAA,MAClB,IAAIC,EAAqB,KAEzB,GAAIF,EACF,IACE,MAAMG,EAAoBlC,IAA8B,OAAZjF,QAAY,IAAZA,OAAY,EAAZA,EAAcV,OAAQ,GAClE4H,QAA2BF,EAAUI,qBAAqBD,EAAmB5B,EAC/E,CAAE,MAAOtI,GACP8H,EAAkB,QAAS,+FAC7B,CAIF,MAAMwB,GAAwBxI,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACzBmJ,GAAkB,IACrBG,cAAgC,QAAlBP,EAAAI,SAAkB,IAAAJ,OAAA,EAAlBA,EAAoBO,eAAgB,GAClDC,cAAgC,QAAlBP,EAAAG,SAAkB,IAAAH,OAAA,EAAlBA,EAAoBO,eAAgB,KAClDC,QAAS,6cACTC,UAAW,CACT,8FACA,iGACA,uGACA,2FAEFC,aAAc,CACZ,kGACA,0EACA,qFACA,sFAEFC,gBAAiB,CACf,uIACA,oHACA,0GACA,0GAEFC,OAAQ,CACN,CACE1L,SAAU,mCACV2L,MAAO,GACPC,SAAU,IACVxH,OAAQ,OACRvB,OAAQ,CACN,CACE4D,KAAM,QACNnI,MAAO,+CACPkF,YAAa,mLACbqI,SAAU,4BACVC,WAAY,sKACZC,SAAU,GAEZ,CACEtF,KAAM,QACNnI,MAAO,+CACPkF,YAAa,4JACbqI,SAAU,oCACVC,WAAY,oIACZC,SAAU,KAIhB,CACE/L,SAAU,mCACV2L,MAAO,GACPC,SAAU,IACVxH,OAAQ,OACRvB,OAAQ,CACN,CACE4D,KAAM,QACNnI,MAAO,mEACPkF,YAAa,8IACbqI,SAAU,4BACVC,WAAY,0NACZC,SAAU,KAIhB,CACE/L,SAAU,qBACV2L,MAAO,GACPC,SAAU,IACVxH,OAAQ,YACRvB,OAAQ,CACN,CACE4D,KAAM,aACNnI,MAAO,4DACPkF,YAAa,oJACbqI,SAAU,+BACVC,WAAY,gMACZC,SAAU,KAIhB,CACE/L,SAAU,2BACV2L,MAAO,GACPC,SAAU,IACVxH,OAAQ,YACRvB,OAAQ,CACN,CACE4D,KAAM,QACNnI,MAAO,qDACPkF,YAAa,iJACbqI,SAAU,wCACVC,WAAY,qJACZC,SAAU,KAIhB,CACE/L,SAAU,qBACV2L,MAAO,GACPC,SAAU,IACVxH,OAAQ,OACRvB,OAAQ,CACN,CACE4D,KAAM,QACNnI,MAAO,iEACPkF,YAAa,2JACbqI,SAAU,mCACVC,WAAY,uKACZC,SAAU,KAIhB,CACE/L,SAAU,qBACV2L,MAAO,GACPC,SAAU,IACVxH,OAAQ,OACRvB,OAAQ,CACN,CACE4D,KAAM,QACNnI,MAAO,qDACPkF,YAAa,wHACbqI,SAAU,kCACVC,WAAY,iMACZC,SAAU,QAOpB1C,EAAoBiB,GACpB5B,EAAa,UACf,CAAE,MAAO1H,GACP8H,EAAkB,QAAS,+EAC7B,CAAC,QACCK,GAAc,EAChB,CA7JA,MAFEL,EAAkB,QAAS,8IAmKzBkD,EAAiBL,GACjBA,GAAS,GAAW,yBACpBA,GAAS,GAAW,wBACpBA,GAAS,GAAW,yBACjB,uBAIHM,EAAiB7H,IACrB,OAAQA,GACN,IAAK,YAAa,MAAO,eACzB,IAAK,OAAQ,MAAO,SACpB,IAAK,OAAQ,MAAO,eACpB,IAAK,OAAQ,MAAO,SACpB,QAAS,MAAO,iBAKd8H,EAAqBzF,IACzB,OAAQA,GACN,IAAK,WAAY,MAAO,uBACxB,IAAK,QAAS,MAAO,yBACrB,IAAK,QAAS,MAAO,wBACrB,IAAK,aAAc,MAAO,yBAC1B,QAAS,MAAO,0BAId0F,EAAeA,KACnB1G,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,YAAWwF,SAAA,EACxBD,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,iBAAiB4F,MAAO,CAAEsG,gBAAiB,uBAAwB1G,SAAA,EAChFC,EAAAA,EAAAA,KAAA,MAAIzF,UAAU,0BAA0B4F,MAAO,CAAEuG,MAAO,uBAAwB3G,SAAC,+DAGjFC,EAAAA,EAAAA,KAAA,KAAGzF,UAAU,UAAU4F,MAAO,CAAEuG,MAAO,yBAA0B3G,SAAC,kKAKpED,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,wCAAuCwF,SAAA,EAEpDD,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,iBAAiB4F,MAAO,CAAEsG,gBAAiB,qBAAsB1G,SAAA,EAC9EC,EAAAA,EAAAA,KAAA,MAAIzF,UAAU,qBAAqB4F,MAAO,CAAEuG,MAAO,uBAAwB3G,SAAC,8EAK5EC,EAAAA,EAAAA,KAAC2G,EAAU,CACT3M,eAAiB4M,IACf5D,EAAgB,IAAI6D,KAAK,GAAID,EAASnF,cAAe,CAAEX,KAAM8F,EAASpF,aAGtE8B,EAAkB,qFAAD7G,OAAqBmK,EAASnF,cAAa,2GAE9DxH,cAAgByI,IACdM,EAAgB,MAChBM,EAAkB,KAEpBpJ,eAAe,EACfC,OAAO,uBACPC,YAAa,SACbC,SAAS,WACTI,aAAa,EACbC,eAAe,EACfH,UAAU,UAIZuF,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,OAAMwF,SAAA,EACnBC,EAAAA,EAAAA,KAAA,OACEzF,UAAU,2GACV4F,MAAO,CAAE2G,YAAa,uBACtBpG,QAASA,KAAA,IAAAqG,EAAA,OAAmD,QAAnDA,EAAMC,SAASC,eAAe,6BAAqB,IAAAF,OAAA,EAA7CA,EAA+CnG,SAAQb,SAErE3B,GACC0B,EAAAA,EAAAA,MAAA,OAAAC,SAAA,EACEC,EAAAA,EAAAA,KAAA,OAAKzF,UAAU,gBAAewF,SAAC,kBAC/BC,EAAAA,EAAAA,KAAA,KAAGzF,UAAU,cAAc4F,MAAO,CAAEuG,MAAO,uBAAwB3G,SAChE3B,EAAaV,QAEhBoC,EAAAA,EAAAA,MAAA,KAAGvF,UAAU,eAAe4F,MAAO,CAAEuG,MAAO,yBAA0B3G,SAAA,CAAC,kBAC/D3B,EAAarB,KAAO,KAAO,MAAMmK,QAAQ,GAAG,UAEpDlH,EAAAA,EAAAA,KAAA,UACEU,QAAUvB,IACRA,EAAEgI,kBACFnE,EAAgB,MAChBM,EAAkB,KAEpB/I,UAAU,+CAA8CwF,SACzD,kCAKHD,EAAAA,EAAAA,MAAA,OAAAC,SAAA,EACEC,EAAAA,EAAAA,KAAA,OAAKzF,UAAU,gBAAewF,SAAC,kBAC/BC,EAAAA,EAAAA,KAAA,KAAGzF,UAAU,mBAAmB4F,MAAO,CAAEuG,MAAO,uBAAwB3G,SAAC,qGAGzEC,EAAAA,EAAAA,KAAA,KAAGzF,UAAU,UAAU4F,MAAO,CAAEuG,MAAO,qBAAsB3G,SAAC,qFAMpEC,EAAAA,EAAAA,KAAA,SACEvG,GAAG,qBACHqH,KAAK,OACL3G,OAAO,uBACP6G,SAAU3D,EACV8C,MAAO,CAAEiH,QAAS,iBAMxBtH,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,iBAAiB4F,MAAO,CAAEsG,gBAAiB,qBAAsB1G,SAAA,EAC9EC,EAAAA,EAAAA,KAAA,MAAIzF,UAAU,qBAAqB4F,MAAO,CAAEuG,MAAO,uBAAwB3G,SAAC,+DAG5EC,EAAAA,EAAAA,KAAA,YACEhB,MAAOqE,EACPrC,SAAW7B,GAAMmE,EAAkBnE,EAAE8B,OAAOjC,OAC5CqI,YAAY,6FACZ9M,UAAU,iDACV4F,MAAO,CACLsG,gBAAiB,sBACjBK,YAAa,sBACbJ,MAAO,0BAGX5G,EAAAA,EAAAA,MAAA,KAAGvF,UAAU,eAAe4F,MAAO,CAAEuG,MAAO,qBAAsB3G,SAAA,CAC/DsD,EAAe5F,OAAO6J,iBAAiB,sCAK9CtH,EAAAA,EAAAA,KAAA,OAAKzF,UAAU,cAAawF,UAC1BC,EAAAA,EAAAA,KAAA,UACEU,QAASA,IAAMqC,EAAa,YAC5BvI,UAAW4D,IAAiBiF,EAAe4B,OAC3C1K,UAAU,sFACV4F,MAAO,CAAEsG,gBAAiB,yBAA0B1G,SACrD,sDA8ZP,OACED,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,eAAe4F,MAAO,CAAEsG,gBAAiB,kBAAmB1G,SAAA,CACxEkD,IACCjD,EAAAA,EAAAA,KAAA,OAAKzF,UAAS,+EAAAkC,OAAwG,YAAvBwG,EAAcnC,KAAqB,8BAAuD,SAAvBmC,EAAcnC,KAAkB,4BAA8B,2BAA4Bf,SACzPkD,EAAcG,QAGnBpD,EAAAA,EAAAA,KAACuH,EAAAA,EAAU,CACT5O,MAAM,4CACNkF,YAAY,wMACZ2J,KAAK,SACLC,OAAQA,IAAM/H,OAAOgI,QAAQC,UAG/B7H,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,8CAA6CwF,SAAA,EAE1DC,EAAAA,EAAAA,KAAA,OAAKzF,UAAU,OAAMwF,UACnBC,EAAAA,EAAAA,KAAA,OAAKzF,UAAU,sCAAsC4F,MAAO,CAAEsG,gBAAiB,uBAAwB1G,SAjyBlG,CACX,CAAEtG,GAAI,SAAUd,MAAO,kCAAU6O,KAAM,gBACvC,CAAE/N,GAAI,WAAYd,MAAO,4BAAS6O,KAAM,gBACxC,CAAE/N,GAAI,aAAcd,MAAO,4BAAS6O,KAAM,gBAC1C,CAAE/N,GAAI,UAAWd,MAAO,4BAAS6O,KAAM,gBACvC,CAAE/N,GAAI,eAAgBd,MAAO,4BAAS6O,KAAM,WA6xB9BpG,IAAKwG,IACT9H,EAAAA,EAAAA,MAAA,UAEEY,QAASA,IAAMqC,EAAa6E,EAAInO,IAChCe,SACc,aAAXoN,EAAInO,KAAsB2E,IAAiBiF,EAAe4B,QAC/C,eAAX2C,EAAInO,KAAwB8J,IAAeE,GAChC,YAAXmE,EAAInO,KAAqBgK,GACd,iBAAXmE,EAAInO,KAA0BgK,EAEjClJ,UAAS,4EAAAkC,OACPqG,IAAc8E,EAAInO,GAAK,YAAc,IAEvC0G,MAAO,CACLsG,gBAAiB3D,IAAc8E,EAAInO,GAAK,wBAA0B,cAClEiN,MAAO5D,IAAc8E,EAAInO,GAAK,QAAU,wBACxCoO,QACc,aAAXD,EAAInO,KAAsB2E,IAAiBiF,EAAe4B,QAC/C,eAAX2C,EAAInO,KAAwB8J,IAAeE,GAChC,YAAXmE,EAAInO,KAAqBgK,GACd,iBAAXmE,EAAInO,KAA0BgK,EAC7B,GAAM,GACV1D,SAAA,EAEFC,EAAAA,EAAAA,KAAA,QAAAD,SAAO6H,EAAIJ,QACXxH,EAAAA,EAAAA,KAAA,QAAAD,SAAO6H,EAAIjP,UAvBNiP,EAAInO,SArCDqO,MACpB,OAAQhF,GACN,IAAK,SAUL,QACE,OAAO0D,IATT,IAAK,WACH,OA1YJ1G,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,YAAWwF,SAAA,EACxBD,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,iBAAiB4F,MAAO,CAAEsG,gBAAiB,uBAAwB1G,SAAA,EAChFC,EAAAA,EAAAA,KAAA,MAAIzF,UAAU,0BAA0B4F,MAAO,CAAEuG,MAAO,uBAAwB3G,SAAC,yDAGjFC,EAAAA,EAAAA,KAAA,KAAGzF,UAAU,UAAU4F,MAAO,CAAEuG,MAAO,yBAA0B3G,SAAC,iGAKpED,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,wCAAuCwF,SAAA,EACpDD,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,iBAAiB4F,MAAO,CAAEsG,gBAAiB,qBAAsB1G,SAAA,EAC9EC,EAAAA,EAAAA,KAAA,MAAIzF,UAAU,qBAAqB4F,MAAO,CAAEuG,MAAO,uBAAwB3G,SAAC,4CAG5EC,EAAAA,EAAAA,KAAA,OAAKzF,UAAU,YAAWwF,SACvB,CACC,CAAEgI,IAAK,eAAgBC,MAAO,sDAAeR,KAAM,gBACnD,CAAEO,IAAK,iBAAkBC,MAAO,gDAAcR,KAAM,sBACpD,CAAEO,IAAK,mBAAoBC,MAAO,sCAAcR,KAAM,gBACtD,CAAEO,IAAK,kBAAmBC,MAAO,wCAAWR,KAAM,gBAClD,CAAEO,IAAK,mBAAoBC,MAAO,kCAAUR,KAAM,gBAClD,CAAEO,IAAK,eAAgBC,MAAO,+CAAaR,KAAM,uBACjDpG,IAAI6G,IACJnI,EAAAA,EAAAA,MAAA,SAAsBvF,UAAU,6CAA4CwF,SAAA,EAC1EC,EAAAA,EAAAA,KAAA,SACEc,KAAK,WACLoH,QAASvE,EAAmBsE,EAAKF,KACjC/G,SAAW7B,GAAMyE,EAAsB3H,IAAIE,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACtCF,GAAI,IACP,CAACgM,EAAKF,KAAM5I,EAAE8B,OAAOiH,WAEvB3N,UAAU,aAEZyF,EAAAA,EAAAA,KAAA,QAAMzF,UAAU,UAASwF,SAAEkI,EAAKT,QAChCxH,EAAAA,EAAAA,KAAA,QAAMG,MAAO,CAAEuG,MAAO,uBAAwB3G,SAAEkI,EAAKD,UAX3CC,EAAKF,YAiBvBjI,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,iBAAiB4F,MAAO,CAAEsG,gBAAiB,qBAAsB1G,SAAA,EAC9EC,EAAAA,EAAAA,KAAA,MAAIzF,UAAU,qBAAqB4F,MAAO,CAAEuG,MAAO,uBAAwB3G,SAAC,+BAG5ED,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,YAAWwF,SAAA,EACxBD,EAAAA,EAAAA,MAAA,SAAOvF,UAAU,6CAA4CwF,SAAA,EAC3DC,EAAAA,EAAAA,KAAA,SACEc,KAAK,QACLpD,KAAK,iBACLwK,SAAUvE,EAAmBQ,WAC7BnD,SAAUA,IAAM4C,EAAsB3H,IAAIE,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAUF,GAAI,IAAEkI,YAAY,QAExErE,EAAAA,EAAAA,MAAA,OAAAC,SAAA,EACEC,EAAAA,EAAAA,KAAA,OAAKzF,UAAU,cAAc4F,MAAO,CAAEuG,MAAO,uBAAwB3G,SAAC,4CAGtEC,EAAAA,EAAAA,KAAA,OAAKzF,UAAU,UAAU4F,MAAO,CAAEuG,MAAO,yBAA0B3G,SAAC,oGAMxED,EAAAA,EAAAA,MAAA,SAAOvF,UAAU,6CAA4CwF,SAAA,EAC3DC,EAAAA,EAAAA,KAAA,SACEc,KAAK,QACLpD,KAAK,iBACLwK,QAASvE,EAAmBQ,WAC5BnD,SAAUA,IAAM4C,EAAsB3H,IAAIE,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAUF,GAAI,IAAEkI,YAAY,QAExErE,EAAAA,EAAAA,MAAA,OAAAC,SAAA,EACEC,EAAAA,EAAAA,KAAA,OAAKzF,UAAU,cAAc4F,MAAO,CAAEuG,MAAO,uBAAwB3G,SAAC,4CAGtEC,EAAAA,EAAAA,KAAA,OAAKzF,UAAU,UAAU4F,MAAO,CAAEuG,MAAO,yBAA0B3G,SAAC,8GAO1ED,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,mBAAmB4F,MAAO,CAAEsG,gBAAiB,wBAAyB1G,SAAA,EACnFC,EAAAA,EAAAA,KAAA,MAAIzF,UAAU,mBAAmB4F,MAAO,CAAEuG,MAAO,sBAAuB3G,SAAC,+DAGzED,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,UAAU4F,MAAO,CAAEuG,MAAO,sBAAuB3G,SAAA,CAC7D9G,OAAOkP,QAAQxE,GACbhB,OAAOyF,IAAA,IAAEL,EAAK/I,GAAMoJ,EAAA,MAAa,eAARL,GAAwB/I,IACjDvB,OAAO,oFAMlBuC,EAAAA,EAAAA,KAAA,OAAKzF,UAAU,cAAawF,UAC1BC,EAAAA,EAAAA,KAAA,UACEU,QAASsE,EACTzK,UAAU,kEACV4F,MAAO,CAAEsG,gBAAiB,0BAA2B1G,SACtD,gEAwSH,IAAK,aACH,OAjSJD,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,YAAWwF,SAAA,EACxBD,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,iBAAiB4F,MAAO,CAAEsG,gBAAiB,uBAAwB1G,SAAA,EAChFC,EAAAA,EAAAA,KAAA,MAAIzF,UAAU,0BAA0B4F,MAAO,CAAEuG,MAAO,uBAAwB3G,SAAC,mEAGjFC,EAAAA,EAAAA,KAAA,KAAGzF,UAAU,UAAU4F,MAAO,CAAEuG,MAAO,yBAA0B3G,SAAC,kHAKpED,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,oBAAmBwF,SAAA,EAChCC,EAAAA,EAAAA,KAAA,OAAKzF,UAAU,8DACV4F,MAAO,CAAE2G,YAAa,4BAE3BhH,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,YAAWwF,SAAA,EACxBC,EAAAA,EAAAA,KAAA,OAAKzF,UAAU,sBAAsB4F,MAAO,CAAEuG,MAAO,uBAAwB3G,SAAC,4BAI9EC,EAAAA,EAAAA,KAAA,OAAKzF,UAAU,6BAA4BwF,SACxC,CACC,uEACA,sEACA,yDACA,+DACA,yDACA,gEACAqB,IAAI,CAACgC,EAAMiF,KACXrI,EAAAA,EAAAA,KAAA,OAEEzF,UAAU,sBACV4F,MAAO,CACLsG,gBAAiBlD,EAAa,uBAAyB,oBACvDmD,MAAO,sBACP3G,SAEDqD,GAPIiF,OAYXrI,EAAAA,EAAAA,KAAA,KAAGzF,UAAU,UAAU4F,MAAO,CAAEuG,MAAO,qBAAsB3G,SAAC,8GAyPlE,IAAK,UACH,OAjPC0D,GAGH3D,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,YAAWwF,SAAA,EACxBD,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,iBAAiB4F,MAAO,CAAEsG,gBAAiB,uBAAwB1G,SAAA,EAChFC,EAAAA,EAAAA,KAAA,MAAIzF,UAAU,0BAA0B4F,MAAO,CAAEuG,MAAO,uBAAwB3G,SAAC,yDAGjFC,EAAAA,EAAAA,KAAA,KAAGzF,UAAU,UAAU4F,MAAO,CAAEuG,MAAO,yBAA0B3G,SAAC,0IAMpED,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,6BAA6B4F,MAAO,CAAEsG,gBAAiB,wBAAyB1G,SAAA,EAC7FC,EAAAA,EAAAA,KAAA,OAAKzF,UAAU,0BAA0B4F,MAAO,CAAEuG,MAAOL,EAAc5C,EAAiBgC,eAAgB1F,SACrG0D,EAAiBgC,gBAEpBzF,EAAAA,EAAAA,KAAA,OAAKzF,UAAU,8BAA8B4F,MAAO,CAAEuG,MAAO,sBAAuB3G,SACjF0D,EAAiBiC,gBAEpB1F,EAAAA,EAAAA,KAAA,KAAGG,MAAO,CAAEuG,MAAO,sBAAuB3G,SACvC0D,EAAiBkC,cAKtB3F,EAAAA,EAAAA,KAAA,OAAKzF,UAAU,uDAAsDwF,SAClE0D,EAAiBsC,OAAO3E,IAAI,CAACkH,EAAOD,KACnCvI,EAAAA,EAAAA,MAAA,OAAiBvF,UAAU,iBAAiB4F,MAAO,CAAEsG,gBAAiB,qBAAsB1G,SAAA,EAC1FD,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,yCAAwCwF,SAAA,EACrDC,EAAAA,EAAAA,KAAA,MAAIzF,UAAU,gBAAgB4F,MAAO,CAAEuG,MAAO,uBAAwB3G,SACnEuI,EAAMjO,YAET2F,EAAAA,EAAAA,KAAA,QAAMzF,UAAU,WAAUwF,SAAEuG,EAAcgC,EAAM7J,cAGlDqB,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,0BAA0B4F,MAAO,CAAEuG,MAAOL,EAAciC,EAAMtC,QAASjG,SAAA,CACnFuI,EAAMtC,MAAM,IAAEsC,EAAMrC,aAGvBjG,EAAAA,EAAAA,KAAA,OAAKzF,UAAU,2CAA0CwF,UACvDC,EAAAA,EAAAA,KAAA,OACEzF,UAAU,kCACV4F,MAAO,CACLC,MAAM,GAAD3D,OAAM6L,EAAMtC,MAAQsC,EAAMrC,SAAY,IAAG,KAC9CQ,gBAAiBJ,EAAciC,EAAMtC,aAK3ClG,EAAAA,EAAAA,MAAA,KAAGvF,UAAU,UAAU4F,MAAO,CAAEuG,MAAO,yBAA0B3G,SAAA,CAC9DuI,EAAMpL,OAAOO,OAAO,8CAvBf4K,OA8BdvI,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,wCAAuCwF,SAAA,EACpDD,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,iBAAiB4F,MAAO,CAAEsG,gBAAiB,yBAA0B1G,SAAA,EAClFC,EAAAA,EAAAA,KAAA,MAAIzF,UAAU,uCAAuC4F,MAAO,CAAEuG,MAAO,uBAAwB3G,SAAC,4CAG9FC,EAAAA,EAAAA,KAAA,MAAIzF,UAAU,YAAWwF,SACtB0D,EAAiBmC,UAAUxE,IAAI,CAACmH,EAAUF,KACzCvI,EAAAA,EAAAA,MAAA,MAAgBvF,UAAU,6BAA4BwF,SAAA,EACpDC,EAAAA,EAAAA,KAAA,QAAMzF,UAAU,sBAAqBwF,SAAC,YACtCC,EAAAA,EAAAA,KAAA,QAAMzF,UAAU,UAAU4F,MAAO,CAAEuG,MAAO,uBAAwB3G,SAC/DwI,MAHIF,UAUfvI,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,iBAAiB4F,MAAO,CAAEsG,gBAAiB,yBAA0B1G,SAAA,EAClFC,EAAAA,EAAAA,KAAA,MAAIzF,UAAU,uCAAuC4F,MAAO,CAAEuG,MAAO,uBAAwB3G,SAAC,yDAG9FC,EAAAA,EAAAA,KAAA,MAAIzF,UAAU,YAAWwF,SACtB0D,EAAiBoC,aAAazE,IAAI,CAACoH,EAAaH,KAC/CvI,EAAAA,EAAAA,MAAA,MAAgBvF,UAAU,6BAA4BwF,SAAA,EACpDC,EAAAA,EAAAA,KAAA,QAAMzF,UAAU,uBAAsBwF,SAAC,YACvCC,EAAAA,EAAAA,KAAA,QAAMzF,UAAU,UAAU4F,MAAO,CAAEuG,MAAO,uBAAwB3G,SAC/DyI,MAHIH,aAWjBrI,EAAAA,EAAAA,KAAA,OAAKzF,UAAU,cAAawF,UAC1BC,EAAAA,EAAAA,KAAA,UACEU,QAASA,IAAMqC,EAAa,gBAC5BxI,UAAU,kEACV4F,MAAO,CAAEsG,gBAAiB,yBAA0B1G,SACrD,oEAlGuB,KAkP5B,IAAK,eACH,MAzIqB0I,MACzB,IAAKhF,EAAkB,OAAO,KAE9B,MAAMiF,EAAYjF,EAAiBsC,OAAO4C,QAAQL,GAChDA,EAAMpL,OAAOkE,IAAIwH,IAAKzM,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAUyM,GAAK,IAAEvO,SAAUiO,EAAMjO,aACvDwO,KAAK,CAACC,EAAGC,IAAMA,EAAE3C,SAAW0C,EAAE1C,UAEhC,OACEtG,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,YAAWwF,SAAA,EACxBD,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,iBAAiB4F,MAAO,CAAEsG,gBAAiB,uBAAwB1G,SAAA,EAChFC,EAAAA,EAAAA,KAAA,MAAIzF,UAAU,0BAA0B4F,MAAO,CAAEuG,MAAO,uBAAwB3G,SAAC,mDAGjFC,EAAAA,EAAAA,KAAA,KAAGzF,UAAU,UAAU4F,MAAO,CAAEuG,MAAO,yBAA0B3G,SAAC,sIAMpEC,EAAAA,EAAAA,KAAA,OAAKzF,UAAU,YAAWwF,SACvB2I,EAAUtH,IAAI,CAACwH,EAAOP,KACrBvI,EAAAA,EAAAA,MAAA,OAEEvF,UAAU,4BACV4F,MAAO,CACLsG,gBAAiB,oBACjBK,YAAaP,EAAkBqC,EAAM9H,OACrCf,SAAA,EAEFD,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,wCAAuCwF,SAAA,EACpDD,EAAAA,EAAAA,MAAA,OAAAC,SAAA,EACED,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,mCAAkCwF,SAAA,EAC/CC,EAAAA,EAAAA,KAAA,QACEzF,UAAU,+DACV4F,MAAO,CAAEsG,gBAAiBF,EAAkBqC,EAAM9H,OAAQf,SAEzD6I,EAAM9H,QAETd,EAAAA,EAAAA,KAAA,QAAMzF,UAAU,UAAU4F,MAAO,CAAEuG,MAAO,qBAAsB3G,SAC7D6I,EAAMvO,eAGX2F,EAAAA,EAAAA,KAAA,MAAIzF,UAAU,wBAAwB4F,MAAO,CAAEuG,MAAO,uBAAwB3G,SAC3E6I,EAAMjQ,YAGXmH,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,0CACV4F,MAAO,CACLsG,gBAAiB,uBACjBC,MAAO,sBACP3G,SAAA,CAAC,4BACA6I,EAAMxC,gBAIhBtG,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,YAAWwF,SAAA,EACxBD,EAAAA,EAAAA,MAAA,OAAAC,SAAA,EACEC,EAAAA,EAAAA,KAAA,MAAIzF,UAAU,mBAAmB4F,MAAO,CAAEuG,MAAO,uBAAwB3G,SAAC,qCAG1EC,EAAAA,EAAAA,KAAA,KAAGG,MAAO,CAAEuG,MAAO,yBAA0B3G,SAC1C6I,EAAM/K,eAETiC,EAAAA,EAAAA,MAAA,KAAGvF,UAAU,eAAe4F,MAAO,CAAEuG,MAAO,qBAAsB3G,SAAA,CAAC,iBAC5D6I,EAAM1C,gBAIfpG,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,cAAc4F,MAAO,CAAEsG,gBAAiB,yBAA0B1G,SAAA,EAC/EC,EAAAA,EAAAA,KAAA,MAAIzF,UAAU,mBAAmB4F,MAAO,CAAEuG,MAAO,uBAAwB3G,SAAC,4CAG1EC,EAAAA,EAAAA,KAAA,KAAGG,MAAO,CAAEuG,MAAO,uBAAwB3G,SACxC6I,EAAMzC,qBAnDRkC,OA4DXvI,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,iBAAiB4F,MAAO,CAAEsG,gBAAiB,wBAAyB1G,SAAA,EACjFC,EAAAA,EAAAA,KAAA,MAAIzF,UAAU,qBAAqB4F,MAAO,CAAEuG,MAAO,sBAAuB3G,SAAC,2DAG3EC,EAAAA,EAAAA,KAAA,MAAIzF,UAAU,YAAWwF,SACtB0D,EAAiBqC,gBAAgB1E,IAAI,CAAC4H,EAAgBX,KACrDvI,EAAAA,EAAAA,MAAA,MAAgBvF,UAAU,6BAA4BwF,SAAA,EACpDC,EAAAA,EAAAA,KAAA,QAAMzF,UAAU,qBAAoBwF,SAAC,kBACrCC,EAAAA,EAAAA,KAAA,QAAMG,MAAO,CAAEuG,MAAO,sBAAuB3G,SAC1CiJ,MAHIX,UAWfvI,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,gCAA+BwF,SAAA,EAC5CC,EAAAA,EAAAA,KAAA,UACEU,QAASA,KAEPyC,EAAkB,OAAQ,kHAE5B5I,UAAU,kEACV4F,MAAO,CAAEsG,gBAAiB,0BAA2B1G,SACtD,+DAIDC,EAAAA,EAAAA,KAAA,UACEU,QAASA,KAEPyC,EAAkB,OAAQ,kHAE5B5I,UAAU,kEACV4F,MAAO,CAAEsG,gBAAiB,yBAA0B1G,SACrD,iFAmBI0I,KAwDNX,S,sDC12BT,MAAMP,EAAwC9O,IAQvC,IARwC,MAC7CE,EAAK,YACLkF,EAAW,KACX2J,EAAI,OACJC,EAAM,QACNwB,EAAO,SACPlJ,EAAQ,UACRxF,EAAY,IACb9B,EACC,OACEuH,EAAAA,EAAAA,KAAA,OAAKzF,UAAS,uDAAAkC,OAAyDlC,GAAYwF,UACjFC,EAAAA,EAAAA,KAAA,OAAKzF,UAAU,yCAAwCwF,UACrDD,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,OAAMwF,SAAA,EACnBD,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,oCAAmCwF,SAAA,EAEhDD,EAAAA,EAAAA,MAAA,OAAKvF,UAAU,oBAAmBwF,SAAA,CAC/B0H,IACCzH,EAAAA,EAAAA,KAAA,UACEU,QAAS+G,EACTlN,UAAU,oEACV5B,MAAM,2BAAMoH,SACb,YAIHD,EAAAA,EAAAA,MAAA,OAAAC,SAAA,EACED,EAAAA,EAAAA,MAAA,MAAIvF,UAAU,qDAAoDwF,SAAA,CAC/DyH,IACCxH,EAAAA,EAAAA,KAAA,QAAMzF,UAAU,gBAAewF,SAC5ByH,IAGJ7O,KAEFkF,IACCmC,EAAAA,EAAAA,KAAA,KAAGzF,UAAU,qBAAoBwF,SAC9BlC,UAORoL,IACCjJ,EAAAA,EAAAA,KAAA,OAAKzF,UAAU,8BAA6BwF,SACzCkJ,OAMNlJ,IACCC,EAAAA,EAAAA,KAAA,OAAKzF,UAAU,OAAMwF,SAClBA,YASf,EAAe/G,EAAAA,KAAWuO,E,yFC7B1B,MAAM2B,EAAuB,WAC3B,MAAMC,EAAuB,CAAC,EADyBC,UAAA3L,OAAA,QAAA4L,IAAAD,UAAA,IAAAA,UAAA,KAKrDD,EAAQ,gBAAkB,oBAG5B,MAAMG,EAAcC,eAAeC,QAAQ,oBAK3C,OAJIF,IACFH,EAAuB,cAAC,UAAA1M,OAAa6M,IAGhCH,CACT,EAGMM,EAAwB7N,eAC5B8N,GAE6B,IAD7BC,EAAoBP,UAAA3L,OAAA,QAAA4L,IAAAD,UAAA,GAAAA,UAAA,GAAG,CAAC,EAExB,IAAK,IAADQ,EAAAC,EAAAC,EACF,MAAMC,EAAG,GAAAtN,OAAMuN,EAAAA,cAAYvN,OAAGiN,GAExB7N,QAAiBoO,MAAMF,GAAG5N,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,CAC9B+N,YAAa,WACVP,GAAO,IACVR,SAAOhN,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACF+M,GAAqB,IACrBS,EAAQR,YAITgB,EAActO,EAASsN,QAAQiB,IAAI,gBACzC,IAAIpO,EAAuC,KAE3C,GAAImO,GAAeA,EAAYE,SAAS,oBACtCrO,QAAaH,EAASyO,YACjB,GAAIzO,EAAS0O,IAAyB,WAAnBZ,EAAQa,OAChCxO,EAAO,CAAET,SAAS,OACb,OACcM,EAASuH,MAE9B,CAEmB,IAADqH,EAAAC,EAAlB,IAAK7O,EAAS0O,GACZ,MAAM,IAAIhO,OAAW,QAAJkO,EAAAzO,SAAI,IAAAyO,OAAA,EAAJA,EAAMjO,WAAe,QAARkO,EAAI1O,SAAI,IAAA0O,OAAA,EAAJA,EAAMrP,QAAK,QAAAoB,OAAYZ,EAAS4C,OAAM,gDAG1E,MAAO,CACLlD,SAAS,EACTS,KAAiB,QAAb4N,EAAO,QAAPC,EAAG7N,SAAI,IAAA6N,OAAA,EAAJA,EAAM7N,YAAI,IAAA4N,EAAAA,EAAI5N,EACrBQ,QAAa,QAANsN,EAAE9N,SAAI,IAAA8N,OAAA,EAAJA,EAAMtN,QAEnB,CAAE,MAAOnB,GACPsP,EAAAA,EAAOtP,MAAM,0BAADoB,OAA2BiN,EAAQ,MAAMrO,GAErD,MAAO,CACLE,SAAS,EACTF,OAHmBA,aAAiBkB,MAAQlB,EAAMmB,QAAU,KAGrC,qCAE3B,CACF,EAGaV,EAAoB,CAE/BkC,WAAYpC,eACVkB,GAK0C,IAJ1CzC,EAAoC+O,UAAA3L,OAAA,QAAA4L,IAAAD,UAAA,GAAAA,UAAA,GAAG,WACvCxL,EAAqCwL,UAAA3L,OAAA,EAAA2L,UAAA,QAAAC,EACrC/O,EAAkB8O,UAAA3L,OAAA,EAAA2L,UAAA,QAAAC,EAClBuB,EAA+CxB,UAAA3L,OAAA,EAAA2L,UAAA,QAAAC,EAE/C,MAAMwB,EAAW,IAAIC,SACrBD,EAASE,OAAO,OAAQjO,GACxB+N,EAASE,OAAO,WAAY1Q,GAExBuD,GACFiN,EAASE,OAAO,WAAYC,KAAKC,UAAUrN,IAGzCtD,GACFuQ,EAASE,OAAO,aAAczQ,GAIhC,MAAM4Q,QA8WVtP,eAAgCkB,GAC9B,MAAMqO,QAAerO,EAAKsO,cACpBC,QAAmBC,OAAOC,OAAOC,OAAO,UAAWL,GAEzD,OADkB5N,MAAMC,KAAK,IAAIiO,WAAWJ,IAC3BjK,IAAI2H,GAAKA,EAAE2C,SAAS,IAAIC,SAAS,EAAG,MAAMhO,KAAK,GAClE,CAnX2BiO,CAAiB9O,GACxC+N,EAASE,OAAO,YAAaG,GAE7B,IAEE,OAAO,IAAIW,QAAQ,CAACC,EAASC,KAC3B,MAAMC,EAAM,IAAIC,eACVvJ,EA+WL,QAAUhB,KAAKwK,MAAQ,IAAMC,KAAKC,SAASV,SAAS,IAAIW,OAAO,EAAG,GA5WnEL,EAAIM,OAAOC,iBAAiB,WAAalI,IACvC,GAAIA,EAAMmI,kBAAoB5B,EAAY,CACxC,MAAM3M,EAA2B,CAC/BC,QAASwE,EACTrE,oBAAqB8N,KAAKM,MAAOpI,EAAMqI,OAASrI,EAAMsI,MAAS,KAC/DrO,eAAgB+F,EAAMqI,OACtBlO,YAAa6F,EAAMsI,MACnBlO,OAAQ,aAEVmM,EAAW3M,EACb,IAGF+N,EAAIO,iBAAiB,OAAQ,KAC3B,GAAIP,EAAIvN,QAAU,KAAOuN,EAAIvN,OAAS,IACpC,IACE,MAAMzC,EAAOgP,KAAK4B,MAAMZ,EAAIa,cAGxB7Q,EAAKA,MA4VvB,SAA8B4K,GAC5B,IACE,MAAMkG,EAAWC,IACjBD,EAASlG,EAASnN,IAAMmN,EACxBoG,aAAaC,QAAQ,qBAAsBjC,KAAKC,UAAU6B,GAC5D,CAAE,MAAOzR,GACPsP,EAAAA,EAAOtP,MAAM,qCAAsCA,EACrD,CACF,CAnWgB6R,CAAqBlR,EAAKA,MAG5B8P,EAAQ,CACNvQ,SAAS,EACTS,KAAMA,EAAKA,MAAQA,EACnBQ,QAASR,EAAKQ,SAElB,CAAE,MAAOnB,GACP0Q,EAAO,IAAIxP,MAAM,mCACnB,MAEAwP,EAAO,IAAIxP,MAAM,kBAADE,OAAmBuP,EAAIvN,OAAM,KAAAhC,OAAIuP,EAAImB,gBAIzDnB,EAAIO,iBAAiB,QAAS,KAC5BR,EAAO,IAAIxP,MAAM,kCAGnB,MAAM4M,EAAUD,GAAqB,GACrC8C,EAAIrM,KAAK,OAAO,GAADlD,OAAKuN,EAAAA,aAAY,uBAGhC/Q,OAAOkP,QAAQgB,GAASiE,QAAQ3U,IAAmB,IAAjBsP,EAAK/I,GAAMvG,EAC3CuT,EAAIqB,iBAAiBtF,EAAK/I,KAG5BgN,EAAIsB,KAAKzC,IAEb,CAAE,MAAOxP,GAEP,MAAO,CACLE,SAAS,EACTF,OAHmBA,aAAiBkB,MAAQlB,EAAMmB,QAAU,KAGrC,qBAE3B,CACF,EAGA+Q,YAAa3R,SACJ6N,EAAqB,cAAAhN,OAA+BiG,EAAM,MAInE3G,SAAUH,iBAUF,IARNvB,EAAqC+O,UAAA3L,OAAA,EAAA2L,UAAA,QAAAC,EACrC/O,EAAkB8O,UAAA3L,OAAA,EAAA2L,UAAA,QAAAC,EAClBmE,EAAepE,UAAA3L,OAAA,EAAA2L,UAAA,QAAAC,EAOXoE,EAAM,SAAAhR,OAVE2M,UAAA3L,OAAA,QAAA4L,IAAAD,UAAA,GAAAA,UAAA,GAAG,GAef,OAJI/O,IAAUoT,GAAM,aAAAhR,OAAiBpC,IACjCC,IAAWmT,GAAM,eAAAhR,OAAmBnC,IACpCkT,IAAQC,GAAM,WAAAhR,OAAeiR,mBAAmBF,KAE7C/D,EAAsB,cAADhN,OAAegR,GAC7C,EAGAhO,aAAc7D,UACZ,MAAMC,QAAiB4N,EAAqB,cAAAhN,OAAiCiG,EAAM,cAAc,CAC/F8H,OAAQ,SAQV,OAJI3O,EAASN,SAAWM,EAASG,YACzBF,EAAkB6R,uBAAuBjL,GAG1C7G,GAIT4G,WAAY7G,UACV,MAAMC,QAAiB4N,EAAqB,cAAAhN,OAAqBiG,EAAM,KAAK,CAC1E8H,OAAQ,WAQV,OAJI3O,EAASN,SACXqS,EAAsBlL,GAGjB7G,GAITgS,mBAAoBjS,MAClB8G,EACA9E,IAEO6L,EAAqB,cAAAhN,OAA+BiG,EAAM,cAAc,CAC7E8H,OAAQ,QACRrB,QAAS,CAAE,eAAgB,oBAC3B2E,KAAM9C,KAAKC,UAAU,CAAErN,eAK3BlB,aAAcd,UACZ,MAAMe,EAAmC,CACvCM,UAAU,EACVD,iBAAiB,EACjB+Q,iBAAiB,EACjB7Q,OAAQ,GACR8Q,SAAU,IAKRlR,EAAKC,KADO,WAEdJ,EAAWK,iBAAkB,EAC7BL,EAAWM,UAAW,EACtBN,EAAWO,OAAOC,KAAK,6FAADV,OAA6BW,EAAeN,EAAKC,MAAK,OAIzD,CACnB,kBACA,qBACA,0EACA,aACA,aACA,YACA,YACA,2BACA,oEACA,YAGgBsN,SAASvN,EAAKgE,QAC9BnE,EAAWoR,iBAAkB,EAC7BpR,EAAWM,UAAW,EACtBN,EAAWO,OAAOC,KAAK,sFAADV,OAAsBK,EAAKgE,QAI/ChE,EAAKY,KAAKD,OAAS,MACrBd,EAAWM,UAAW,EACtBN,EAAWO,OAAOC,KAAK,sFAIzB,MACM8Q,EAAgBnR,EAAKY,KAAKwQ,cAAcC,UAAUrR,EAAKY,KAAK0Q,YAAY,MAO9E,MAR4B,CAAC,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,QAE7C/D,SAAS4D,KAC/BtR,EAAWoR,iBAAkB,EAC7BpR,EAAWM,UAAW,EACtBN,EAAWO,OAAOC,KAAK,4FAADV,OAAuBwR,KAGxCtR,GAIT0R,gBAAiBzS,UACf,MAAMC,QAAiB4N,EAAiD,0BAA2B,CACjGe,OAAQ,OACRrB,QAAS,CAAE,eAAgB,oBAC3B2E,KAAM9C,KAAKC,UAAU,CAAEqD,SAAUC,MAQnC,OAJI1S,EAASN,SACXgT,EAAQnB,QAAQ3T,GAAMmU,EAAsBnU,IAGvCoC,GAIT2S,gBAAiB5S,eACf8G,GAGqE,IAFrE+L,EAAiBrF,UAAA3L,OAAA,QAAA4L,IAAAD,UAAA,GAAAA,UAAA,GAAG,GACpBsF,EAAiBtF,UAAA3L,OAAA,QAAA4L,IAAAD,UAAA,IAAAA,UAAA,GAEjB,OAAOK,EAAsB,cAADhN,OAAeiG,EAAM,WAAW,CAC1D8H,OAAQ,OACRrB,QAAS,CAAE,eAAgB,oBAC3B2E,KAAM9C,KAAKC,UAAU,CACnB0D,iBAAkBF,EAClBG,UAAWF,KAGjB,EAGAG,iBAAkBjT,SACT6N,EAAsB,cAADhN,OAAeiG,EAAM,YAAY,CAC3D8H,OAAQ,SAIZsE,sBAAuBlT,SACd6N,EAAsB,sBAADhN,OAAuBsS,EAAQ,KAAK,CAC9DvE,OAAQ,SAKZwE,oBAAqBpT,SAMZ6N,EAAsB,0BAI/BwF,oBAAqBrT,SACZ6N,EAAsB,sBAAuB,CAClDe,OAAQ,SAKZmD,uBAAwB/R,SACf6N,EAAsB,cAADhN,OAAeiG,EAAM,oBAAoB,CACnE8H,OAAQ,UAMD5N,EAAkB,CAE7BC,yBAA0BjB,SACjBE,EAAkBY,aAAaI,GAIxCM,iBAGAmE,gBAAkB2N,GACZA,EAASC,WAAW,UAAkB,qBACtCD,EAASC,WAAW,UAAkB,eACtCD,EAASC,WAAW,UAAkB,eACtCD,EAAS7E,SAAS,OAAe,eACjC6E,EAAS7E,SAAS,SAAW6E,EAAS7E,SAAS,YAAoB,eACnE6E,EAAS7E,SAAS,UAAY6E,EAAS7E,SAAS,eAAuB,eACvE6E,EAAS7E,SAAS,eAAiB6E,EAAS7E,SAAS,gBAAwB,eAC7E6E,EAAS7E,SAAS,QAAU6E,EAAS7E,SAAS,QAAU6E,EAAS7E,SAAS,WAAmB,eAC1F,eAITxI,YAAcqN,GACLA,EAASC,WAAW,UAI7BC,eAAiBF,GACRA,EAAS7E,SAAS,QAClB6E,EAAS7E,SAAS,SAClB6E,EAAS7E,SAAS,aAClB6E,EAAS7E,SAAS,QAI3BgF,uBAAwBzT,eAAOkB,GAA+D,IAAnDwS,EAAelG,UAAA3L,OAAA,QAAA4L,IAAAD,UAAA,GAAAA,UAAA,GAAG,IAC3D,OAAKtM,EAAKgE,KAAKqO,WAAW,UAEnB,IAAItD,QAASC,IAClB,MAAMyD,EAASvI,SAASwI,cAAc,UAChCC,EAAMF,EAAOG,WAAW,MACxBC,EAAM,IAAIC,MAEhBD,EAAInL,OAAS,KACX,MAAMqL,EAAQ1D,KAAK2D,IAAIR,EAAUK,EAAIvP,MAAOkP,EAAUK,EAAII,QAC1DR,EAAOnP,MAAQuP,EAAIvP,MAAQyP,EAC3BN,EAAOQ,OAASJ,EAAII,OAASF,EAE1B,OAAHJ,QAAG,IAAHA,GAAAA,EAAKO,UAAUL,EAAK,EAAG,EAAGJ,EAAOnP,MAAOmP,EAAOQ,QAC/CjE,EAAQyD,EAAOU,cAGjBN,EAAIO,QAAU,IAAMpE,EAAQ,MAC5B6D,EAAIvN,IAAM+N,IAAIC,gBAAgBtT,KAjBY,IAmB9C,EAGAuT,eAAiBvT,IACf,MAAMoS,EAAWpS,EAAKgE,KAAKoN,cAE3B,OAAIgB,EAASC,WAAW,UAAkB,QACtCD,EAAS7E,SAAS,QAAU6E,EAAS7E,SAAS,aAAe6E,EAAS7E,SAAS,QAAgB,WAC/F6E,EAAS7E,SAAS,UAAY6E,EAAS7E,SAAS,QAAU6E,EAAS7E,SAAS,eAAuB,OAEhG,SAITlM,oBAAqBA,CAACuE,EAAgBzE,KACpC,IACE,MAAM8J,EAAG,mBAAAtL,OAAsBiG,GAC/BsK,aAAaC,QAAQlF,EAAKiD,KAAKC,UAAUhN,GAC3C,CAAE,MAAO5C,GACPsP,EAAAA,EAAOtP,MAAM,mCAAoCA,EACnD,GAIFiV,kBAAoB5N,IAClB,IACE,MAAMqF,EAAG,mBAAAtL,OAAsBiG,GACzB6N,EAASvD,aAAaxD,QAAQzB,GACpC,GAAIwI,EACF,OAAOvF,KAAK4B,MAAM2D,EAEtB,CAAE,MAAOlV,GACPsP,EAAAA,EAAOtP,MAAM,iCAAkCA,EACjD,CACA,OAAO,MAITuD,oBAAsB8D,IACpB,IACE,MAAMqF,EAAG,mBAAAtL,OAAsBiG,GAC/BsK,aAAawD,WAAWzI,EAC1B,CAAE,MAAO1M,GACPsP,EAAAA,EAAOtP,MAAM,mCAAoCA,EACnD,IA0BJ,SAASuS,EAAsBlL,GAC7B,IACE,MAAMoK,EAAWC,WACVD,EAASpK,GAChBsK,aAAaC,QAAQ,qBAAsBjC,KAAKC,UAAU6B,GAC5D,CAAE,MAAOzR,GACPsP,EAAAA,EAAOtP,MAAM,sCAAuCA,EACtD,CACF,CAEA,SAAS0R,IACP,IACE,MAAMwD,EAASvD,aAAaxD,QAAQ,sBACpC,OAAO+G,EAASvF,KAAK4B,MAAM2D,GAAU,CAAC,CACxC,CAAE,MAAOlV,GAEP,OADAsP,EAAAA,EAAOtP,MAAM,kCAAmCA,GACzC,CAAC,CACV,CACF,CAEA,SAAS+B,EAAeqT,GACtB,GAAc,IAAVA,EAAa,MAAO,UACxB,MAEMC,EAAIvE,KAAKwE,MAAMxE,KAAKyE,IAAIH,GAAStE,KAAKyE,IAFlC,OAGV,OAAOC,YAAYJ,EAAQtE,KAAK2E,IAHtB,KAG6BJ,IAAIxJ,QAAQ,IAAM,IAF3C,CAAC,QAAS,KAAM,KAAM,KAAM,MAE2BwJ,EACvE,C,mFC7iBA,SAASrP,EAAS5I,EAIfC,GAAQ,IAJQ,MACjBC,EAAK,QACLC,GAEDH,EADII,GAAKC,EAAAA,EAAAA,GAAAL,EAAAM,GAER,OAAoBC,EAAAA,cAAoB,MAAOC,OAAOC,OAAO,CAC3DC,MAAO,6BACPC,KAAM,OACNC,QAAS,YACTC,YAAa,IACbC,OAAQ,eACR,cAAe,OACf,YAAa,OACbC,IAAKd,EACL,kBAAmBE,GAClBC,GAAQF,EAAqBK,EAAAA,cAAoB,QAAS,CAC3DS,GAAIb,GACHD,GAAS,KAAmBK,EAAAA,cAAoB,OAAQ,CACzDU,cAAe,QACfC,eAAgB,QAChBC,EAAG,qDAEP,CACA,MACA,EADiCZ,EAAAA,WAAiBqI,E,mFCvBlD,SAASW,EAASvJ,EAIfC,GAAQ,IAJQ,MACjBC,EAAK,QACLC,GAEDH,EADII,GAAKC,EAAAA,EAAAA,GAAAL,EAAAM,GAER,OAAoBC,EAAAA,cAAoB,MAAOC,OAAOC,OAAO,CAC3DC,MAAO,6BACPC,KAAM,OACNC,QAAS,YACTC,YAAa,IACbC,OAAQ,eACR,cAAe,OACf,YAAa,OACbC,IAAKd,EACL,kBAAmBE,GAClBC,GAAQF,EAAqBK,EAAAA,cAAoB,QAAS,CAC3DS,GAAIb,GACHD,GAAS,KAAmBK,EAAAA,cAAoB,OAAQ,CACzDU,cAAe,QACfC,eAAgB,QAChBC,EAAG,kaAEP,CACA,MACA,EADiCZ,EAAAA,WAAiBgJ,E","sources":["../node_modules/@heroicons/react/24/outline/esm/CloudArrowUpIcon.js","../node_modules/@heroicons/react/24/outline/esm/EyeIcon.js","../node_modules/@heroicons/react/24/outline/esm/ArrowDownTrayIcon.js","components/common/FileUpload.tsx","components/ai-quality/AIQualityValidationPage.tsx","components/common/PageHeader.tsx","services/fileUploadService.ts","../node_modules/@heroicons/react/24/outline/esm/ClockIcon.js","../node_modules/@heroicons/react/24/outline/esm/TrashIcon.js"],"sourcesContent":["import * as React from \"react\";\nfunction CloudArrowUpIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M12 16.5V9.75m0 0 3 3m-3-3-3 3M6.75 19.5a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(CloudArrowUpIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction EyeIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(EyeIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction ArrowDownTrayIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ArrowDownTrayIcon);\nexport default ForwardRef;","import React, { useState, useRef, useCallback } from 'react';\r\nimport { \r\n  CloudArrowUpIcon,\r\n  TrashIcon,\r\n  EyeIcon,\r\n  ArrowDownTrayIcon,\r\n  ExclamationTriangleIcon,\r\n  CheckCircleIcon,\r\n  ClockIcon\r\n} from '@heroicons/react/24/outline';\r\nimport Button from './Button';\r\nimport Modal from './Modal';\r\nimport { \r\n  fileUploadService, \r\n  fileUploadUtils, \r\n  FileUploadInfo, \r\n  UploadProgress, \r\n  FileValidationResult \r\n} from '../../services/fileUploadService';\r\n\r\ninterface FileUploadProps {\r\n  onFileUploaded?: (fileInfo: FileUploadInfo) => void;\r\n  onFileDeleted?: (fileId: string) => void;\r\n  allowMultiple?: boolean;\r\n  accept?: string;\r\n  maxFileSize?: number; // in bytes\r\n  category?: FileUploadInfo['category'];\r\n  projectId?: string;\r\n  className?: string;\r\n  disabled?: boolean;\r\n  showPreview?: boolean;\r\n  allowDownload?: boolean;\r\n}\r\n\r\ninterface FileUploadState {\r\n  files: FileUploadInfo[];\r\n  uploadProgress: Record<string, UploadProgress>;\r\n  dragActive: boolean;\r\n  previewFile: FileUploadInfo | null;\r\n  showDeleteConfirm: string | null;\r\n}\r\n\r\nconst FileUpload: React.FC<FileUploadProps> = ({\r\n  onFileUploaded,\r\n  onFileDeleted,\r\n  allowMultiple = false,\r\n  accept = \".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png,.gif,.xlsx,.xls,.csv\",\r\n  maxFileSize = 50 * 1024 * 1024, // 50MB\r\n  category = 'document',\r\n  projectId,\r\n  className = '',\r\n  disabled = false,\r\n  showPreview = true,\r\n  allowDownload = true\r\n}) => {\r\n  const [state, setState] = useState<FileUploadState>({\r\n    files: [],\r\n    uploadProgress: {},\r\n    dragActive: false,\r\n    previewFile: null,\r\n    showDeleteConfirm: null\r\n  });\r\n  \r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n  const [error, setError] = useState<string>('');\r\n  const [success, setSuccess] = useState<string>('');\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // Load existing files on mount\r\n  React.useEffect(() => {\r\n    loadExistingFiles();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [projectId, category]);\r\n\r\n  const loadExistingFiles = async () => {\r\n    try {\r\n      const response = await fileUploadService.getFiles(1, category, projectId);\r\n      if (response.success && response.data) {\r\n        setState(prev => ({ ...prev, files: response.data?.results || [] }));\r\n      } else if (!response.success) {\r\n        setError('기존 파일 목록을 불러오지 못했습니다.');\r\n      }\r\n    } catch (err: unknown) {\r\n      const errMsg = err instanceof Error ? err.message : '알 수 없는 오류';\r\n      setError(`파일 목록 로드 실패: ${errMsg}`);\r\n    }\r\n  };\r\n\r\n  const validateFile = async (file: File): Promise<FileValidationResult> => {\r\n    const validation = await fileUploadUtils.validateFileBeforeUpload(file);\r\n    \r\n    // Additional size check against props\r\n    if (file.size > maxFileSize) {\r\n      validation.file_size_valid = false;\r\n      validation.is_valid = false;\r\n      validation.issues.push(`파일 크기가 제한을 초과합니다. (최대: ${fileUploadUtils.formatFileSize(maxFileSize)})`);\r\n    }\r\n    \r\n    return validation;\r\n  };\r\n\r\n  const handleFileUpload = async (files: FileList) => {\r\n    if (disabled) return;\r\n    \r\n    setError('');\r\n    setSuccess('');\r\n    setLoading(true);\r\n    \r\n    const fileArray = Array.from(files);\r\n    \r\n    // Validate multiple file upload\r\n    if (!allowMultiple && fileArray.length > 1) {\r\n      setError('한 번에 하나의 파일만 업로드할 수 있습니다.');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    \r\n    // Validate and upload each file\r\n    for (const file of fileArray) {\r\n      const validation = await validateFile(file);\r\n      \r\n      if (!validation.is_valid) {\r\n        setError(`파일 업로드 실패 (${file.name}): ${validation.issues.join(', ')}`);\r\n        continue;\r\n      }\r\n      \r\n      const metadata = {\r\n        description: `Uploaded ${file.name}`,\r\n        tags: [category],\r\n        public: false\r\n      };\r\n      \r\n      try {\r\n        const response = await fileUploadService.uploadFile(\r\n          file,\r\n          category,\r\n          metadata,\r\n          projectId,\r\n          (progress) => {\r\n            setState(prev => ({\r\n              ...prev,\r\n              uploadProgress: {\r\n                ...prev.uploadProgress,\r\n                [progress.file_id]: progress\r\n              }\r\n            }));\r\n            \r\n            // Store progress locally\r\n            fileUploadUtils.storeUploadProgress(progress.file_id, progress);\r\n          }\r\n        );\r\n        \r\n        if (response.success && response.data) {\r\n          const uploadedFile = response.data;\r\n          // Add to file list\r\n          setState(prev => ({\r\n            ...prev,\r\n            files: [...prev.files, uploadedFile],\r\n            uploadProgress: {\r\n              ...prev.uploadProgress,\r\n              [uploadedFile.id]: {\r\n                file_id: uploadedFile.id,\r\n                progress_percentage: 100,\r\n                bytes_uploaded: uploadedFile.file_size,\r\n                total_bytes: uploadedFile.file_size,\r\n                status: 'completed'\r\n              }\r\n            }\r\n          }));\r\n\r\n          // Clean up progress\r\n          setTimeout(() => {\r\n            setState(prev => {\r\n              const newProgress = { ...prev.uploadProgress };\r\n              delete newProgress[uploadedFile.id];\r\n              return { ...prev, uploadProgress: newProgress };\r\n            });\r\n            fileUploadUtils.clearUploadProgress(uploadedFile.id);\r\n          }, 2000);\r\n\r\n          setSuccess(`파일 업로드 완료: ${file.name}`);\r\n          onFileUploaded?.(uploadedFile);\r\n        } else {\r\n          throw new Error(response.error || '파일 업로드에 실패했습니다.');\r\n        }\r\n      } catch (error: unknown) {\r\n        setError(`파일 업로드 실패 (${file.name}): ${error instanceof Error ? error.message : String(error)}`);\r\n\r\n        // Update progress to failed\r\n        setState(prev => ({\r\n          ...prev,\r\n          uploadProgress: {\r\n            ...prev.uploadProgress,\r\n            [file.name]: {\r\n              file_id: file.name,\r\n              progress_percentage: 0,\r\n              bytes_uploaded: 0,\r\n              total_bytes: file.size,\r\n              status: 'failed',\r\n              error_message: error instanceof Error ? error.message : String(error)\r\n            }\r\n          }\r\n        }));\r\n      }\r\n    }\r\n    \r\n    setLoading(false);\r\n    \r\n    // Clear file input\r\n    if (fileInputRef.current) {\r\n      fileInputRef.current.value = '';\r\n    }\r\n  };\r\n\r\n  const handleDrop = useCallback((e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    setState(prev => ({ ...prev, dragActive: false }));\r\n\r\n    if (disabled) return;\r\n\r\n    const files = e.dataTransfer.files;\r\n    if (files.length > 0) {\r\n      handleFileUpload(files);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [disabled]);\r\n\r\n  const handleDragOver = useCallback((e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    if (!disabled) {\r\n      setState(prev => ({ ...prev, dragActive: true }));\r\n    }\r\n  }, [disabled]);\r\n\r\n  const handleDragLeave = useCallback((e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    setState(prev => ({ ...prev, dragActive: false }));\r\n  }, []);\r\n\r\n  const handleDeleteFile = async (fileId: string) => {\r\n    try {\r\n      const response = await fileUploadService.deleteFile(fileId);\r\n      if (response.success) {\r\n        setState(prev => ({\r\n          ...prev,\r\n          files: prev.files.filter(f => f.id !== fileId),\r\n          showDeleteConfirm: null\r\n        }));\r\n        setSuccess('파일이 삭제되었습니다.');\r\n        onFileDeleted?.(fileId);\r\n      } else {\r\n        throw new Error(response.error || '파일 삭제에 실패했습니다.');\r\n      }\r\n    } catch (error: unknown) {\r\n      setError(`파일 삭제 실패: ${error instanceof Error ? error.message : String(error)}`);\r\n    }\r\n  };\r\n\r\n  const handleDownloadFile = async (file: FileUploadInfo) => {\r\n    try {\r\n      const response = await fileUploadService.downloadFile(file.id);\r\n      if (response.success && response.data) {\r\n        // Open download URL in new tab\r\n        window.open(response.data.download_url, '_blank');\r\n      } else {\r\n        throw new Error(response.error || '파일 다운로드에 실패했습니다.');\r\n      }\r\n    } catch (error: unknown) {\r\n      setError(`파일 다운로드 실패: ${error instanceof Error ? error.message : String(error)}`);\r\n    }\r\n  };\r\n\r\n  const getUploadProgressBar = (progress: UploadProgress) => {\r\n    const getStatusColor = () => {\r\n      switch (progress.status) {\r\n        case 'completed': return 'bg-green-500';\r\n        case 'failed': return 'bg-red-500';\r\n        case 'paused': return 'bg-yellow-500';\r\n        default: return 'bg-blue-500';\r\n      }\r\n    };\r\n    \r\n    return (\r\n      <div className=\"mt-2\">\r\n        <div className=\"flex justify-between text-sm text-gray-600 mb-1\">\r\n          <span>{progress.status === 'completed' ? '완료' : `${progress.progress_percentage}%`}</span>\r\n          {progress.upload_speed && (\r\n            <span>{fileUploadUtils.formatFileSize(progress.upload_speed)}/s</span>\r\n          )}\r\n        </div>\r\n        <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n          <div\r\n            className={`h-2 rounded-full transition-all duration-300 ${getStatusColor()}`}\r\n            style={{ width: `${progress.progress_percentage}%` }}\r\n          />\r\n        </div>\r\n        {progress.error_message && (\r\n          <p className=\"text-xs text-red-600 mt-1\">{progress.error_message}</p>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className={`space-y-4 ${className}`}>\r\n      {/* Error/Success Messages */}\r\n      {error && (\r\n        <div className=\"bg-red-50 border border-red-200 rounded-lg p-3\">\r\n          <div className=\"flex items-center\">\r\n            <ExclamationTriangleIcon className=\"h-5 w-5 text-red-400 mr-2\" />\r\n            <p className=\"text-sm text-red-700\">{error}</p>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {success && (\r\n        <div className=\"bg-green-50 border border-green-200 rounded-lg p-3\">\r\n          <div className=\"flex items-center\">\r\n            <CheckCircleIcon className=\"h-5 w-5 text-green-400 mr-2\" />\r\n            <p className=\"text-sm text-green-700\">{success}</p>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Upload Area */}\r\n      <div\r\n        className={`border-2 border-dashed rounded-lg p-8 text-center transition-colors cursor-pointer ${\r\n          disabled \r\n            ? 'border-gray-200 bg-gray-50 cursor-not-allowed' \r\n            : state.dragActive \r\n              ? 'border-blue-400 bg-blue-50' \r\n              : 'border-gray-300 hover:border-gray-400'\r\n        }`}\r\n        onDrop={handleDrop}\r\n        onDragOver={handleDragOver}\r\n        onDragLeave={handleDragLeave}\r\n        onClick={() => !disabled && fileInputRef.current?.click()}\r\n      >\r\n        <CloudArrowUpIcon className={`h-12 w-12 mx-auto mb-4 ${disabled ? 'text-gray-300' : 'text-gray-400'}`} />\r\n        \r\n        <div className=\"space-y-2\">\r\n          <p className={`text-lg font-medium ${disabled ? 'text-gray-400' : 'text-gray-700'}`}>\r\n            {allowMultiple ? '파일들을 드래그하거나 클릭하여 업로드' : '파일을 드래그하거나 클릭하여 업로드'}\r\n          </p>\r\n          <p className={`text-sm ${disabled ? 'text-gray-300' : 'text-gray-500'}`}>\r\n            지원 형식: {accept.split(',').join(', ')}\r\n          </p>\r\n          <p className={`text-xs ${disabled ? 'text-gray-300' : 'text-gray-400'}`}>\r\n            최대 파일 크기: {fileUploadUtils.formatFileSize(maxFileSize)}\r\n          </p>\r\n        </div>\r\n        \r\n        {loading && (\r\n          <div className=\"mt-4\">\r\n            <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto\"></div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <input\r\n        ref={fileInputRef}\r\n        type=\"file\"\r\n        accept={accept}\r\n        multiple={allowMultiple}\r\n        onChange={(e) => e.target.files && handleFileUpload(e.target.files)}\r\n        className=\"hidden\"\r\n        disabled={disabled}\r\n      />\r\n\r\n      {/* Upload Progress */}\r\n      {Object.keys(state.uploadProgress).length > 0 && (\r\n        <div className=\"space-y-2\">\r\n          <h4 className=\"font-medium text-gray-700\">업로드 진행 상황</h4>\r\n          {Object.values(state.uploadProgress).map((progress) => (\r\n            <div key={progress.file_id} className=\"bg-gray-50 rounded-lg p-3\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <span className=\"text-sm font-medium text-gray-700\">\r\n                  파일 업로드 중...\r\n                </span>\r\n                {progress.status === 'uploading' && (\r\n                  <ClockIcon className=\"h-4 w-4 text-gray-400\" />\r\n                )}\r\n              </div>\r\n              {getUploadProgressBar(progress)}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {/* Uploaded Files List */}\r\n      {state.files.length > 0 && (\r\n        <div className=\"space-y-2\">\r\n          <h4 className=\"font-medium text-gray-700\">업로드된 파일</h4>\r\n          <div className=\"grid grid-cols-1 gap-3\">\r\n            {state.files.map((file) => (\r\n              <div key={file.id} className=\"bg-white border rounded-lg p-4\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div className=\"flex items-center space-x-3\">\r\n                    <span className=\"text-2xl\">\r\n                      {fileUploadUtils.getFileTypeIcon(file.mime_type)}\r\n                    </span>\r\n                    <div>\r\n                      <h5 className=\"font-medium text-gray-900\">{file.original_name}</h5>\r\n                      <div className=\"flex items-center space-x-2 text-sm text-gray-500\">\r\n                        <span>{fileUploadUtils.formatFileSize(file.file_size)}</span>\r\n                        <span>•</span>\r\n                        <span>{new Date(file.upload_date).toLocaleDateString('ko-KR')}</span>\r\n                        <span>•</span>\r\n                        <span className={`px-2 py-1 rounded-full text-xs ${\r\n                          file.status === 'completed' ? 'bg-green-100 text-green-800' :\r\n                          file.status === 'processing' ? 'bg-yellow-100 text-yellow-800' :\r\n                          file.status === 'failed' ? 'bg-red-100 text-red-800' :\r\n                          'bg-gray-100 text-gray-800'\r\n                        }`}>\r\n                          {file.status === 'completed' ? '완료' :\r\n                           file.status === 'processing' ? '처리 중' :\r\n                           file.status === 'failed' ? '실패' : file.status}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className=\"flex items-center space-x-2\">\r\n                    {showPreview && fileUploadUtils.isImageFile(file.mime_type) && (\r\n                      <Button\r\n                        size=\"sm\"\r\n                        variant=\"outline\"\r\n                        onClick={() => setState(prev => ({ ...prev, previewFile: file }))}\r\n                        className=\"flex items-center\"\r\n                      >\r\n                        <EyeIcon className=\"h-4 w-4 mr-1\" />\r\n                        미리보기\r\n                      </Button>\r\n                    )}\r\n                    \r\n                    {allowDownload && file.status === 'completed' && (\r\n                      <Button\r\n                        size=\"sm\"\r\n                        variant=\"outline\"\r\n                        onClick={() => handleDownloadFile(file)}\r\n                        className=\"flex items-center\"\r\n                      >\r\n                        <ArrowDownTrayIcon className=\"h-4 w-4 mr-1\" />\r\n                        다운로드\r\n                      </Button>\r\n                    )}\r\n                    \r\n                    <Button\r\n                      size=\"sm\"\r\n                      variant=\"outline\"\r\n                      onClick={() => setState(prev => ({ ...prev, showDeleteConfirm: file.id }))}\r\n                      className=\"flex items-center text-red-600 hover:text-red-700\"\r\n                    >\r\n                      <TrashIcon className=\"h-4 w-4 mr-1\" />\r\n                      삭제\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n                \r\n                {file.metadata?.description && (\r\n                  <p className=\"mt-2 text-sm text-gray-600\">{file.metadata.description}</p>\r\n                )}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Preview Modal */}\r\n      <Modal\r\n        isOpen={!!state.previewFile}\r\n        onClose={() => setState(prev => ({ ...prev, previewFile: null }))}\r\n        title=\"파일 미리보기\"\r\n        size=\"lg\"\r\n      >\r\n        {state.previewFile && (\r\n          <div className=\"space-y-4\">\r\n            <div className=\"text-center\">\r\n              <h3 className=\"font-medium text-gray-900\">{state.previewFile.original_name}</h3>\r\n              <p className=\"text-sm text-gray-500 mt-1\">\r\n                {fileUploadUtils.formatFileSize(state.previewFile.file_size)} • \r\n                {new Date(state.previewFile.upload_date).toLocaleDateString('ko-KR')}\r\n              </p>\r\n            </div>\r\n            \r\n            {fileUploadUtils.isImageFile(state.previewFile.mime_type) && (\r\n              <div className=\"flex justify-center\">\r\n                <img\r\n                  src={`${state.previewFile.file_path}`}\r\n                  alt={state.previewFile.original_name}\r\n                  className=\"max-w-full max-h-96 rounded-lg\"\r\n                />\r\n              </div>\r\n            )}\r\n            \r\n            <div className=\"flex justify-end space-x-3\">\r\n              <Button\r\n                variant=\"outline\"\r\n                onClick={() => setState(prev => ({ ...prev, previewFile: null }))}\r\n              >\r\n                닫기\r\n              </Button>\r\n              <Button\r\n                variant=\"primary\"\r\n                onClick={() => state.previewFile && handleDownloadFile(state.previewFile)}\r\n              >\r\n                다운로드\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </Modal>\r\n\r\n      {/* Delete Confirmation Modal */}\r\n      <Modal\r\n        isOpen={!!state.showDeleteConfirm}\r\n        onClose={() => setState(prev => ({ ...prev, showDeleteConfirm: null }))}\r\n        title=\"파일 삭제 확인\"\r\n      >\r\n        <div className=\"space-y-4\">\r\n          <p className=\"text-gray-700\">\r\n            정말로 이 파일을 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다.\r\n          </p>\r\n          \r\n          {state.showDeleteConfirm && (\r\n            <div className=\"bg-gray-50 rounded-lg p-3\">\r\n              <p className=\"font-medium text-gray-900\">\r\n                {state.files.find(f => f.id === state.showDeleteConfirm)?.original_name}\r\n              </p>\r\n            </div>\r\n          )}\r\n          \r\n          <div className=\"flex justify-end space-x-3\">\r\n            <Button\r\n              variant=\"outline\"\r\n              onClick={() => setState(prev => ({ ...prev, showDeleteConfirm: null }))}\r\n            >\r\n              취소\r\n            </Button>\r\n            <Button\r\n              variant=\"primary\"\r\n              onClick={() => state.showDeleteConfirm && handleDeleteFile(state.showDeleteConfirm)}\r\n              className=\"bg-red-600 hover:bg-red-700\"\r\n            >\r\n              삭제\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FileUpload;","/**\r\n * AI 논문 품질 검증 페이지\r\n * 작성된 논문의 학술적 품질을 AI가 다각도로 검증하고 개선 제안을 제공하는 시스템\r\n */\r\n\r\nimport React, { useState } from 'react';\r\nimport PageHeader from '../common/PageHeader';\r\nimport { getAIService } from '../../services/aiService';\r\nimport FileUpload from '../common/FileUpload';\r\nimport { FileUploadInfo } from '../../services/fileUploadService';\r\nimport type { User } from '../../types';\r\n\r\ninterface QualityCheck {\r\n  category: string;\r\n  score: number;\r\n  maxScore: number;\r\n  status: 'excellent' | 'good' | 'fair' | 'poor';\r\n  issues: Issue[];\r\n}\r\n\r\ninterface Issue {\r\n  type: 'critical' | 'major' | 'minor' | 'suggestion';\r\n  title: string;\r\n  description: string;\r\n  location: string;\r\n  suggestion: string;\r\n  priority: number;\r\n}\r\n\r\ninterface ValidationResult {\r\n  overallScore: number;\r\n  overallGrade: string;\r\n  checks: QualityCheck[];\r\n  summary: string;\r\n  strengths: string[];\r\n  improvements: string[];\r\n  recommendations: string[];\r\n}\r\n\r\ninterface AIQualityValidationPageProps {\r\n  user?: User;\r\n}\r\n\r\nconst AIQualityValidationPage: React.FC<AIQualityValidationPageProps> = ({ user }) => {\r\n  const [activeTab, setActiveTab] = useState<string>('upload');\r\n  const [uploadedFile, setUploadedFile] = useState<File | null>(null);\r\n  const [actionMessage, setActionMessage] = useState<{type:'success'|'error'|'info', text:string}|null>(null);\r\n\r\n  const showActionMessage = (type: 'success'|'error'|'info', text: string) => {\r\n    setActionMessage({type, text});\r\n    setTimeout(() => setActionMessage(null), 3000);\r\n  };\r\n  const [validationText, setValidationText] = useState<string>('');\r\n  const [validating, setValidating] = useState(false);\r\n  const [validationResult, setValidationResult] = useState<ValidationResult | null>(null);\r\n  const [validationSettings, setValidationSettings] = useState({\r\n    checkGrammar: true,\r\n    checkStructure: true,\r\n    checkMethodology: true,\r\n    checkReferences: true,\r\n    checkOriginality: true,\r\n    checkClarity: true,\r\n    strictMode: false\r\n  });\r\n\r\n  const tabs = [\r\n    { id: 'upload', title: '문서 업로드', icon: '📤' },\r\n    { id: 'settings', title: '검증 설정', icon: '⚙️' },\r\n    { id: 'validation', title: '품질 검증', icon: '🔍' },\r\n    { id: 'results', title: '검증 결과', icon: '📊' },\r\n    { id: 'improvements', title: '개선 제안', icon: '✨' }\r\n  ];\r\n\r\n  // 파일 업로드 처리 (영구 저장 지원)\r\n  const handleFileUpload = async (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = event.target.files?.[0];\r\n    if (file) {\r\n      setUploadedFile(file);\r\n      \r\n      try {\r\n        // 파일을 영구 저장소에 업로드\r\n        const { fileUploadService } = await import('../../services/fileUploadService');\r\n        \r\n        const response = await fileUploadService.uploadFile(\r\n          file,\r\n          'document',\r\n          {\r\n            description: 'AI 품질 검증용 논문',\r\n            tags: ['ai-validation', 'paper'],\r\n            public: false\r\n          }\r\n        );\r\n        \r\n        if (response.success && response.data) {\r\n          // 파일 내용 읽기 (로컬에서만 미리보기용)\r\n          const reader = new FileReader();\r\n          reader.onload = (e) => {\r\n            const content = e.target?.result as string;\r\n            // 실제로는 파일 파싱이 필요하지만 여기서는 시뮬레이션\r\n            setValidationText(content.slice(0, 1000) + '...');\r\n          };\r\n          reader.readAsText(file);\r\n        } else {\r\n          // 실패 시 기존 방식으로 임시 저장\r\n          const reader = new FileReader();\r\n          reader.onload = (e) => {\r\n            const content = e.target?.result as string;\r\n            setValidationText(content.slice(0, 1000) + '...');\r\n          };\r\n          reader.readAsText(file);\r\n        }\r\n      } catch (error) {\r\n        showActionMessage('error', '파일 업로드 중 오류가 발생했습니다. 다시 시도해주세요.');\r\n        // 오류 발생 시 기존 방식으로 임시 저장\r\n        const reader = new FileReader();\r\n        reader.onload = (e) => {\r\n          const content = e.target?.result as string;\r\n          setValidationText(content.slice(0, 1000) + '...');\r\n        };\r\n        reader.readAsText(file);\r\n      }\r\n    }\r\n  };\r\n\r\n  // AI 품질 검증 시작\r\n  const startValidation = async () => {\r\n    if (!uploadedFile && !validationText.trim()) {\r\n      showActionMessage('error', '검증할 문서를 업로드하거나 텍스트를 입력해주세요.');\r\n      return;\r\n    }\r\n\r\n    setValidating(true);\r\n    setActiveTab('validation');\r\n\r\n    try {\r\n      // 실제 AI 품질 검증 호출\r\n      const aiService = getAIService();\r\n      let aiValidationResult = null;\r\n      \r\n      if (aiService) {\r\n        try {\r\n          const contentToValidate = validationText || uploadedFile?.name || '';\r\n          aiValidationResult = await aiService.validatePaperQuality(contentToValidate, validationSettings);\r\n        } catch (error) {\r\n          showActionMessage('error', 'AI 품질 검증 중 오류가 발생했습니다.');\r\n        }\r\n      }\r\n      \r\n      // AI 서비스 결과와 기본 폴백 병합\r\n      const result: ValidationResult = {\r\n        ...aiValidationResult,\r\n        overallScore: aiValidationResult?.overallScore || 82,\r\n        overallGrade: aiValidationResult?.overallGrade || 'B+',\r\n        summary: '전반적으로 양호한 품질의 논문입니다. 방법론과 결과 분석 부분이 특히 우수하며, 참고문헌 인용도 적절합니다. 다만 서론 부분의 논리적 흐름과 일부 문법 오류 개선이 필요합니다.',\r\n        strengths: [\r\n          'AHP 방법론 적용이 체계적이고 정확함',\r\n          '데이터 분석 과정이 명확하고 투명함',\r\n          '결과 해석이 객관적이고 균형잡혀 있음',\r\n          '참고문헌 인용이 최신이고 적절함'\r\n        ],\r\n        improvements: [\r\n          '서론의 연구 배경과 필요성 논리 강화',\r\n          '일부 문법 오류 및 표현 개선',\r\n          '그래프와 표의 시각적 품질 향상',\r\n          '결론 부분의 실무적 시사점 보강'\r\n        ],\r\n        recommendations: [\r\n          '서론에서 연구 문제의 중요성을 더 구체적으로 제시',\r\n          '방법론 부분에 한계점과 가정사항 추가 기술',\r\n          '결과 해석 시 타 연구와의 비교 분석 강화',\r\n          '향후 연구 방향에 대한 구체적 제안 포함'\r\n        ],\r\n        checks: [\r\n          {\r\n            category: '문법 및 표현',\r\n            score: 75,\r\n            maxScore: 100,\r\n            status: 'good',\r\n            issues: [\r\n              {\r\n                type: 'minor',\r\n                title: '수동태 과다 사용',\r\n                description: '문서 전반에 수동태 표현이 빈번하게 사용되어 가독성을 저해합니다.',\r\n                location: '전체 문서',\r\n                suggestion: '능동태 표현을 활용하여 명확하고 직접적인 서술을 권장합니다.',\r\n                priority: 3\r\n              },\r\n              {\r\n                type: 'minor',\r\n                title: '일부 어색한 표현',\r\n                description: '2페이지 3번째 문단에서 어색한 번역 표현이 발견되었습니다.',\r\n                location: '2페이지 3문단',\r\n                suggestion: '\"결과적으로\" 대신 \"따라서\"를 사용하시기 바랍니다.',\r\n                priority: 2\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            category: '구조 및 논리',\r\n            score: 85,\r\n            maxScore: 100,\r\n            status: 'good',\r\n            issues: [\r\n              {\r\n                type: 'major',\r\n                title: '서론 논리 흐름 개선 필요',\r\n                description: '연구 배경에서 연구 문제로의 논리적 연결이 약합니다.',\r\n                location: '서론 부분',\r\n                suggestion: '선행 연구의 한계점을 더 명확히 제시하고 이를 바탕으로 연구 필요성을 강조하세요.',\r\n                priority: 4\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            category: '방법론',\r\n            score: 92,\r\n            maxScore: 100,\r\n            status: 'excellent',\r\n            issues: [\r\n              {\r\n                type: 'suggestion',\r\n                title: '샘플 크기 정당화 보완',\r\n                description: '표본 크기 결정 근거가 명시적으로 제시되지 않았습니다.',\r\n                location: '방법론 3.2절',\r\n                suggestion: '통계적 검정력 분석 결과를 추가하여 표본 크기의 적절성을 뒷받침하세요.',\r\n                priority: 2\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            category: '참고문헌',\r\n            score: 88,\r\n            maxScore: 100,\r\n            status: 'excellent',\r\n            issues: [\r\n              {\r\n                type: 'minor',\r\n                title: '인용 스타일 일관성',\r\n                description: '일부 인용에서 APA 스타일이 정확히 적용되지 않았습니다.',\r\n                location: '참고문헌 목록',\r\n                suggestion: 'DOI 정보가 있는 논문은 DOI를 포함하여 인용하시기 바랍니다.',\r\n                priority: 1\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            category: '독창성',\r\n            score: 80,\r\n            maxScore: 100,\r\n            status: 'good',\r\n            issues: [\r\n              {\r\n                type: 'minor',\r\n                title: '선행연구와 차별성 강화',\r\n                description: '기존 연구와의 차별점이 더 명확히 부각될 필요가 있습니다.',\r\n                location: '서론 및 결론',\r\n                suggestion: '본 연구의 독창적 기여점을 별도 섹션으로 정리하여 제시하세요.',\r\n                priority: 3\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            category: '명확성',\r\n            score: 78,\r\n            maxScore: 100,\r\n            status: 'good',\r\n            issues: [\r\n              {\r\n                type: 'major',\r\n                title: '전문용어 정의 필요',\r\n                description: '일부 AHP 전문용어가 정의 없이 사용되었습니다.',\r\n                location: '방법론 부분',\r\n                suggestion: '처음 사용하는 전문용어는 괄호 내에 영문 원어와 함께 정의를 제시하세요.',\r\n                priority: 4\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      };\r\n\r\n      setValidationResult(result);\r\n      setActiveTab('results');\r\n    } catch (error) {\r\n      showActionMessage('error', '검증 중 오류가 발생했습니다.');\r\n    } finally {\r\n      setValidating(false);\r\n    }\r\n  };\r\n\r\n  // 점수에 따른 색상 결정\r\n  const getScoreColor = (score: number) => {\r\n    if (score >= 90) return 'var(--success-primary)';\r\n    if (score >= 80) return 'var(--accent-primary)';\r\n    if (score >= 70) return 'var(--warning-primary)';\r\n    return 'var(--error-primary)';\r\n  };\r\n\r\n  // 상태에 따른 아이콘 결정\r\n  const getStatusIcon = (status: string) => {\r\n    switch (status) {\r\n      case 'excellent': return '🌟';\r\n      case 'good': return '✅';\r\n      case 'fair': return '⚠️';\r\n      case 'poor': return '❌';\r\n      default: return '📊';\r\n    }\r\n  };\r\n\r\n  // 이슈 타입에 따른 색상\r\n  const getIssueTypeColor = (type: string) => {\r\n    switch (type) {\r\n      case 'critical': return 'var(--error-primary)';\r\n      case 'major': return 'var(--warning-primary)';\r\n      case 'minor': return 'var(--accent-primary)';\r\n      case 'suggestion': return 'var(--success-primary)';\r\n      default: return 'var(--text-secondary)';\r\n    }\r\n  };\r\n\r\n  const renderUpload = () => (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"p-6 rounded-xl\" style={{ backgroundColor: 'var(--bg-secondary)' }}>\r\n        <h2 className=\"text-2xl font-bold mb-4\" style={{ color: 'var(--text-primary)' }}>\r\n          📤 논문 문서 업로드\r\n        </h2>\r\n        <p className=\"text-lg\" style={{ color: 'var(--text-secondary)' }}>\r\n          AI가 논문의 품질을 다각도로 검증하여 개선점을 제안합니다.\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n        {/* 파일 업로드 (영구 저장 지원) */}\r\n        <div className=\"p-6 rounded-lg\" style={{ backgroundColor: 'var(--bg-primary)' }}>\r\n          <h3 className=\"font-semibold mb-4\" style={{ color: 'var(--text-primary)' }}>\r\n            💾 파일 업로드 (영구 저장)\r\n          </h3>\r\n          \r\n          {/* FileUpload 컴포넌트로 교체 */}\r\n          <FileUpload\r\n            onFileUploaded={(fileInfo: FileUploadInfo) => {\r\n              setUploadedFile(new File([], fileInfo.original_name, { type: fileInfo.mime_type }));\r\n              \r\n              // 업로드된 파일의 내용을 시뮬레이션 (실제로는 파일 다운로드 필요)\r\n              setValidationText(`논문 내용이 업로드되었습니다: ${fileInfo.original_name}\\n\\n이곳에 실제 논문 내용이 표시됩니다...`);\r\n            }}\r\n            onFileDeleted={(fileId: string) => {\r\n              setUploadedFile(null);\r\n              setValidationText('');\r\n            }}\r\n            allowMultiple={false}\r\n            accept=\".pdf,.doc,.docx,.txt\"\r\n            maxFileSize={50 * 1024 * 1024} // 50MB\r\n            category=\"document\"\r\n            showPreview={true}\r\n            allowDownload={true}\r\n            className=\"mt-4\"\r\n          />\r\n          \r\n          {/* 기존 파일 업로드 (백업용) */}\r\n          <div className=\"mt-4\">\r\n            <div \r\n              className=\"border-2 border-dashed rounded-lg p-8 text-center transition-colors cursor-pointer hover:border-blue-400\"\r\n              style={{ borderColor: 'var(--border-light)' }}\r\n              onClick={() => document.getElementById('file-upload-backup')?.click()}\r\n            >\r\n              {uploadedFile ? (\r\n                <div>\r\n                  <div className=\"text-4xl mb-4\">📄</div>\r\n                  <p className=\"font-medium\" style={{ color: 'var(--text-primary)' }}>\r\n                    {uploadedFile.name}\r\n                  </p>\r\n                  <p className=\"text-sm mt-2\" style={{ color: 'var(--text-secondary)' }}>\r\n                    크기: {(uploadedFile.size / 1024 / 1024).toFixed(2)} MB\r\n                  </p>\r\n                  <button\r\n                    onClick={(e) => {\r\n                      e.stopPropagation();\r\n                      setUploadedFile(null);\r\n                      setValidationText('');\r\n                    }}\r\n                    className=\"mt-3 text-sm text-red-500 hover:text-red-700\"\r\n                  >\r\n                    파일 제거\r\n                  </button>\r\n                </div>\r\n              ) : (\r\n                <div>\r\n                  <div className=\"text-4xl mb-4\">📤</div>\r\n                  <p className=\"font-medium mb-2\" style={{ color: 'var(--text-primary)' }}>\r\n                    또는 기존 방식으로 논문 파일 업로드\r\n                  </p>\r\n                  <p className=\"text-sm\" style={{ color: 'var(--text-muted)' }}>\r\n                    지원 형식: PDF, DOC, DOCX, TXT (임시 저장)\r\n                  </p>\r\n                </div>\r\n              )}\r\n            </div>\r\n            <input\r\n              id=\"file-upload-backup\"\r\n              type=\"file\"\r\n              accept=\".pdf,.doc,.docx,.txt\"\r\n              onChange={handleFileUpload}\r\n              style={{ display: 'none' }}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* 텍스트 입력 */}\r\n        <div className=\"p-6 rounded-lg\" style={{ backgroundColor: 'var(--bg-primary)' }}>\r\n          <h3 className=\"font-semibold mb-4\" style={{ color: 'var(--text-primary)' }}>\r\n            📝 텍스트 직접 입력\r\n          </h3>\r\n          <textarea\r\n            value={validationText}\r\n            onChange={(e) => setValidationText(e.target.value)}\r\n            placeholder=\"논문 내용을 직접 붙여넣기하세요...\"\r\n            className=\"w-full h-48 p-3 border rounded resize-vertical\"\r\n            style={{ \r\n              backgroundColor: 'var(--bg-secondary)', \r\n              borderColor: 'var(--border-light)',\r\n              color: 'var(--text-primary)'\r\n            }}\r\n          />\r\n          <p className=\"text-sm mt-2\" style={{ color: 'var(--text-muted)' }}>\r\n            {validationText.length.toLocaleString()}자 입력됨\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"text-center\">\r\n        <button\r\n          onClick={() => setActiveTab('settings')}\r\n          disabled={!uploadedFile && !validationText.trim()}\r\n          className=\"px-8 py-3 rounded-lg font-semibold text-white transition-colors disabled:opacity-50\"\r\n          style={{ backgroundColor: 'var(--accent-primary)' }}\r\n        >\r\n          검증 설정하기 →\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderSettings = () => (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"p-6 rounded-xl\" style={{ backgroundColor: 'var(--bg-secondary)' }}>\r\n        <h2 className=\"text-2xl font-bold mb-4\" style={{ color: 'var(--text-primary)' }}>\r\n          ⚙️ 품질 검증 설정\r\n        </h2>\r\n        <p className=\"text-lg\" style={{ color: 'var(--text-secondary)' }}>\r\n          검증할 항목과 기준을 설정하세요.\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n        <div className=\"p-6 rounded-lg\" style={{ backgroundColor: 'var(--bg-primary)' }}>\r\n          <h3 className=\"font-semibold mb-4\" style={{ color: 'var(--text-primary)' }}>\r\n            검증 항목 선택\r\n          </h3>\r\n          <div className=\"space-y-3\">\r\n            {[\r\n              { key: 'checkGrammar', label: '문법 및 맞춤법 검사', icon: '✍️' },\r\n              { key: 'checkStructure', label: '논문 구조 및 논리', icon: '🏗️' },\r\n              { key: 'checkMethodology', label: 'AHP 방법론 검증', icon: '⚖️' },\r\n              { key: 'checkReferences', label: '참고문헌 형식', icon: '📚' },\r\n              { key: 'checkOriginality', label: '독창성 평가', icon: '💡' },\r\n              { key: 'checkClarity', label: '명확성 및 가독성', icon: '👁️' }\r\n            ].map(item => (\r\n              <label key={item.key} className=\"flex items-center space-x-3 cursor-pointer\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={validationSettings[item.key as keyof typeof validationSettings]}\r\n                  onChange={(e) => setValidationSettings(prev => ({\r\n                    ...prev,\r\n                    [item.key]: e.target.checked\r\n                  }))}\r\n                  className=\"w-5 h-5\"\r\n                />\r\n                <span className=\"text-xl\">{item.icon}</span>\r\n                <span style={{ color: 'var(--text-primary)' }}>{item.label}</span>\r\n              </label>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"p-6 rounded-lg\" style={{ backgroundColor: 'var(--bg-primary)' }}>\r\n          <h3 className=\"font-semibold mb-4\" style={{ color: 'var(--text-primary)' }}>\r\n            검증 모드\r\n          </h3>\r\n          <div className=\"space-y-4\">\r\n            <label className=\"flex items-center space-x-3 cursor-pointer\">\r\n              <input\r\n                type=\"radio\"\r\n                name=\"validationMode\"\r\n                checked={!validationSettings.strictMode}\r\n                onChange={() => setValidationSettings(prev => ({ ...prev, strictMode: false }))}\r\n              />\r\n              <div>\r\n                <div className=\"font-medium\" style={{ color: 'var(--text-primary)' }}>\r\n                  🎯 표준 모드\r\n                </div>\r\n                <div className=\"text-sm\" style={{ color: 'var(--text-secondary)' }}>\r\n                  일반적인 학술 논문 기준으로 검증\r\n                </div>\r\n              </div>\r\n            </label>\r\n            \r\n            <label className=\"flex items-center space-x-3 cursor-pointer\">\r\n              <input\r\n                type=\"radio\"\r\n                name=\"validationMode\"\r\n                checked={validationSettings.strictMode}\r\n                onChange={() => setValidationSettings(prev => ({ ...prev, strictMode: true }))}\r\n              />\r\n              <div>\r\n                <div className=\"font-medium\" style={{ color: 'var(--text-primary)' }}>\r\n                  🔍 엄격 모드\r\n                </div>\r\n                <div className=\"text-sm\" style={{ color: 'var(--text-secondary)' }}>\r\n                  고품질 저널 투고 기준으로 엄격 검증\r\n                </div>\r\n              </div>\r\n            </label>\r\n          </div>\r\n\r\n          <div className=\"mt-6 p-4 rounded\" style={{ backgroundColor: 'var(--accent-pastel)' }}>\r\n            <h4 className=\"font-medium mb-2\" style={{ color: 'var(--accent-dark)' }}>\r\n              💡 선택된 검증 항목\r\n            </h4>\r\n            <div className=\"text-sm\" style={{ color: 'var(--accent-dark)' }}>\r\n              {Object.entries(validationSettings)\r\n                .filter(([key, value]) => key !== 'strictMode' && value)\r\n                .length}개 항목이 선택되었습니다\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"text-center\">\r\n        <button\r\n          onClick={startValidation}\r\n          className=\"px-8 py-3 rounded-lg font-semibold text-white transition-colors\"\r\n          style={{ backgroundColor: 'var(--success-primary)' }}\r\n        >\r\n          🔍 AI 품질 검증 시작\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderValidation = () => (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"p-6 rounded-xl\" style={{ backgroundColor: 'var(--bg-secondary)' }}>\r\n        <h2 className=\"text-2xl font-bold mb-4\" style={{ color: 'var(--text-primary)' }}>\r\n          🔍 AI 품질 검증 진행 중\r\n        </h2>\r\n        <p className=\"text-lg\" style={{ color: 'var(--text-secondary)' }}>\r\n          AI가 논문을 다각도로 분석하고 있습니다...\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"text-center py-12\">\r\n        <div className=\"animate-spin rounded-full h-16 w-16 border-b-4 mx-auto mb-6\" \r\n             style={{ borderColor: 'var(--accent-primary)' }}></div>\r\n        \r\n        <div className=\"space-y-4\">\r\n          <div className=\"text-lg font-medium\" style={{ color: 'var(--text-primary)' }}>\r\n            검증 중...\r\n          </div>\r\n          \r\n          <div className=\"max-w-md mx-auto space-y-2\">\r\n            {[\r\n              '📝 문법 및 표현 검사 중...',\r\n              '🏗️ 논문 구조 분석 중...',\r\n              '⚖️ 방법론 검증 중...',\r\n              '📚 참고문헌 확인 중...',\r\n              '💡 독창성 평가 중...',\r\n              '👁️ 가독성 분석 중...'\r\n            ].map((text, index) => (\r\n              <div \r\n                key={index}\r\n                className=\"text-sm p-2 rounded\"\r\n                style={{ \r\n                  backgroundColor: validating ? 'var(--accent-pastel)' : 'var(--bg-primary)',\r\n                  color: 'var(--accent-dark)'\r\n                }}\r\n              >\r\n                {text}\r\n              </div>\r\n            ))}\r\n          </div>\r\n          \r\n          <p className=\"text-sm\" style={{ color: 'var(--text-muted)' }}>\r\n            검증에는 몇 분이 소요될 수 있습니다.\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderResults = () => {\r\n    if (!validationResult) return null;\r\n\r\n    return (\r\n      <div className=\"space-y-6\">\r\n        <div className=\"p-6 rounded-xl\" style={{ backgroundColor: 'var(--bg-secondary)' }}>\r\n          <h2 className=\"text-2xl font-bold mb-4\" style={{ color: 'var(--text-primary)' }}>\r\n            📊 품질 검증 결과\r\n          </h2>\r\n          <p className=\"text-lg\" style={{ color: 'var(--text-secondary)' }}>\r\n            AI 분석이 완료되었습니다. 상세 결과를 확인하세요.\r\n          </p>\r\n        </div>\r\n\r\n        {/* 전체 점수 */}\r\n        <div className=\"p-6 rounded-lg text-center\" style={{ backgroundColor: 'var(--accent-pastel)' }}>\r\n          <div className=\"text-6xl font-bold mb-2\" style={{ color: getScoreColor(validationResult.overallScore) }}>\r\n            {validationResult.overallScore}\r\n          </div>\r\n          <div className=\"text-2xl font-semibold mb-2\" style={{ color: 'var(--accent-dark)' }}>\r\n            {validationResult.overallGrade}\r\n          </div>\r\n          <p style={{ color: 'var(--accent-dark)' }}>\r\n            {validationResult.summary}\r\n          </p>\r\n        </div>\r\n\r\n        {/* 카테고리별 점수 */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n          {validationResult.checks.map((check, index) => (\r\n            <div key={index} className=\"p-4 rounded-lg\" style={{ backgroundColor: 'var(--bg-primary)' }}>\r\n              <div className=\"flex items-center justify-between mb-3\">\r\n                <h3 className=\"font-semibold\" style={{ color: 'var(--text-primary)' }}>\r\n                  {check.category}\r\n                </h3>\r\n                <span className=\"text-2xl\">{getStatusIcon(check.status)}</span>\r\n              </div>\r\n              \r\n              <div className=\"text-2xl font-bold mb-2\" style={{ color: getScoreColor(check.score) }}>\r\n                {check.score}/{check.maxScore}\r\n              </div>\r\n              \r\n              <div className=\"w-full bg-gray-200 rounded-full h-2 mb-2\">\r\n                <div \r\n                  className=\"h-2 rounded-full transition-all\"\r\n                  style={{ \r\n                    width: `${(check.score / check.maxScore) * 100}%`,\r\n                    backgroundColor: getScoreColor(check.score)\r\n                  }}\r\n                />\r\n              </div>\r\n              \r\n              <p className=\"text-sm\" style={{ color: 'var(--text-secondary)' }}>\r\n                {check.issues.length}개 개선점 발견\r\n              </p>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        {/* 강점과 개선점 */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n          <div className=\"p-6 rounded-lg\" style={{ backgroundColor: 'var(--success-pastel)' }}>\r\n            <h3 className=\"font-semibold mb-4 flex items-center\" style={{ color: 'var(--success-dark)' }}>\r\n              💪 주요 강점\r\n            </h3>\r\n            <ul className=\"space-y-2\">\r\n              {validationResult.strengths.map((strength, index) => (\r\n                <li key={index} className=\"flex items-start space-x-2\">\r\n                  <span className=\"text-green-500 mt-1\">✓</span>\r\n                  <span className=\"text-sm\" style={{ color: 'var(--success-dark)' }}>\r\n                    {strength}\r\n                  </span>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n\r\n          <div className=\"p-6 rounded-lg\" style={{ backgroundColor: 'var(--warning-pastel)' }}>\r\n            <h3 className=\"font-semibold mb-4 flex items-center\" style={{ color: 'var(--warning-dark)' }}>\r\n              🔧 개선 필요 사항\r\n            </h3>\r\n            <ul className=\"space-y-2\">\r\n              {validationResult.improvements.map((improvement, index) => (\r\n                <li key={index} className=\"flex items-start space-x-2\">\r\n                  <span className=\"text-orange-500 mt-1\">⚠</span>\r\n                  <span className=\"text-sm\" style={{ color: 'var(--warning-dark)' }}>\r\n                    {improvement}\r\n                  </span>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"text-center\">\r\n          <button\r\n            onClick={() => setActiveTab('improvements')}\r\n            className=\"px-6 py-3 rounded-lg font-semibold text-white transition-colors\"\r\n            style={{ backgroundColor: 'var(--accent-primary)' }}\r\n          >\r\n            ✨ 상세 개선 제안 보기\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderImprovements = () => {\r\n    if (!validationResult) return null;\r\n\r\n    const allIssues = validationResult.checks.flatMap(check => \r\n      check.issues.map(issue => ({ ...issue, category: check.category }))\r\n    ).sort((a, b) => b.priority - a.priority);\r\n\r\n    return (\r\n      <div className=\"space-y-6\">\r\n        <div className=\"p-6 rounded-xl\" style={{ backgroundColor: 'var(--bg-secondary)' }}>\r\n          <h2 className=\"text-2xl font-bold mb-4\" style={{ color: 'var(--text-primary)' }}>\r\n            ✨ 상세 개선 제안\r\n          </h2>\r\n          <p className=\"text-lg\" style={{ color: 'var(--text-secondary)' }}>\r\n            우선순위별로 정리된 구체적인 개선 방안입니다.\r\n          </p>\r\n        </div>\r\n\r\n        {/* 개선 제안 목록 */}\r\n        <div className=\"space-y-4\">\r\n          {allIssues.map((issue, index) => (\r\n            <div \r\n              key={index}\r\n              className=\"p-6 rounded-lg border-l-4\"\r\n              style={{ \r\n                backgroundColor: 'var(--bg-primary)',\r\n                borderColor: getIssueTypeColor(issue.type)\r\n              }}\r\n            >\r\n              <div className=\"flex justify-between items-start mb-3\">\r\n                <div>\r\n                  <div className=\"flex items-center space-x-3 mb-2\">\r\n                    <span \r\n                      className=\"px-2 py-1 rounded text-xs font-semibold uppercase text-white\"\r\n                      style={{ backgroundColor: getIssueTypeColor(issue.type) }}\r\n                    >\r\n                      {issue.type}\r\n                    </span>\r\n                    <span className=\"text-sm\" style={{ color: 'var(--text-muted)' }}>\r\n                      {issue.category}\r\n                    </span>\r\n                  </div>\r\n                  <h3 className=\"font-semibold text-lg\" style={{ color: 'var(--text-primary)' }}>\r\n                    {issue.title}\r\n                  </h3>\r\n                </div>\r\n                <div className=\"text-sm font-semibold px-2 py-1 rounded\" \r\n                     style={{ \r\n                       backgroundColor: 'var(--accent-pastel)', \r\n                       color: 'var(--accent-dark)' \r\n                     }}>\r\n                  우선순위 {issue.priority}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"space-y-3\">\r\n                <div>\r\n                  <h4 className=\"font-medium mb-1\" style={{ color: 'var(--text-primary)' }}>\r\n                    🔍 문제점\r\n                  </h4>\r\n                  <p style={{ color: 'var(--text-secondary)' }}>\r\n                    {issue.description}\r\n                  </p>\r\n                  <p className=\"text-sm mt-1\" style={{ color: 'var(--text-muted)' }}>\r\n                    위치: {issue.location}\r\n                  </p>\r\n                </div>\r\n\r\n                <div className=\"p-3 rounded\" style={{ backgroundColor: 'var(--success-pastel)' }}>\r\n                  <h4 className=\"font-medium mb-1\" style={{ color: 'var(--success-dark)' }}>\r\n                    💡 개선 제안\r\n                  </h4>\r\n                  <p style={{ color: 'var(--success-dark)' }}>\r\n                    {issue.suggestion}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        {/* AI 추천 사항 */}\r\n        <div className=\"p-6 rounded-lg\" style={{ backgroundColor: 'var(--accent-pastel)' }}>\r\n          <h3 className=\"font-semibold mb-4\" style={{ color: 'var(--accent-dark)' }}>\r\n            🤖 AI 종합 권장사항\r\n          </h3>\r\n          <ul className=\"space-y-2\">\r\n            {validationResult.recommendations.map((recommendation, index) => (\r\n              <li key={index} className=\"flex items-start space-x-3\">\r\n                <span className=\"text-blue-500 mt-1\">🎯</span>\r\n                <span style={{ color: 'var(--accent-dark)' }}>\r\n                  {recommendation}\r\n                </span>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n\r\n        {/* 액션 버튼 */}\r\n        <div className=\"flex justify-center space-x-4\">\r\n          <button\r\n            onClick={() => {\r\n              // 개선된 문서 다운로드 (구현 예정)\r\n              showActionMessage('info', '개선된 문서가 생성되었습니다. (구현 예정)');\r\n            }}\r\n            className=\"px-6 py-3 rounded-lg font-semibold text-white transition-colors\"\r\n            style={{ backgroundColor: 'var(--success-primary)' }}\r\n          >\r\n            📄 개선된 문서 생성\r\n          </button>\r\n          \r\n          <button\r\n            onClick={() => {\r\n              // 검증 보고서 다운로드 (구현 예정)\r\n              showActionMessage('info', '검증 보고서가 다운로드됩니다. (구현 예정)');\r\n            }}\r\n            className=\"px-6 py-3 rounded-lg font-semibold text-white transition-colors\"\r\n            style={{ backgroundColor: 'var(--accent-primary)' }}\r\n          >\r\n            📊 검증 보고서 다운로드\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderContent = () => {\r\n    switch (activeTab) {\r\n      case 'upload':\r\n        return renderUpload();\r\n      case 'settings':\r\n        return renderSettings();\r\n      case 'validation':\r\n        return renderValidation();\r\n      case 'results':\r\n        return renderResults();\r\n      case 'improvements':\r\n        return renderImprovements();\r\n      default:\r\n        return renderUpload();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen\" style={{ backgroundColor: 'var(--bg-base)' }}>\r\n      {actionMessage && (\r\n        <div className={`fixed top-4 right-4 z-50 px-4 py-3 rounded-lg text-sm font-medium shadow-lg ${actionMessage.type === 'success' ? 'bg-green-100 text-green-800' : actionMessage.type === 'info' ? 'bg-blue-100 text-blue-800' : 'bg-red-100 text-red-800'}`}>\r\n          {actionMessage.text}\r\n        </div>\r\n      )}\r\n      <PageHeader\r\n        title=\"AI 논문 품질 검증\"\r\n        description=\"작성된 논문의 학술적 품질을 AI가 다각도로 검증하고 개선 제안을 제공합니다\"\r\n        icon=\"✨\"\r\n        onBack={() => window.history.back()}\r\n      />\r\n      \r\n      <div className=\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\r\n        {/* 탭 네비게이션 */}\r\n        <div className=\"mb-8\">\r\n          <div className=\"flex flex-wrap gap-2 p-2 rounded-lg\" style={{ backgroundColor: 'var(--bg-secondary)' }}>\r\n            {tabs.map((tab) => (\r\n              <button\r\n                key={tab.id}\r\n                onClick={() => setActiveTab(tab.id)}\r\n                disabled={\r\n                  (tab.id === 'settings' && !uploadedFile && !validationText.trim()) ||\r\n                  (tab.id === 'validation' && !validating && !validationResult) ||\r\n                  (tab.id === 'results' && !validationResult) ||\r\n                  (tab.id === 'improvements' && !validationResult)\r\n                }\r\n                className={`flex items-center space-x-2 px-4 py-2 rounded font-medium transition-all ${\r\n                  activeTab === tab.id ? 'shadow-lg' : ''\r\n                }`}\r\n                style={{\r\n                  backgroundColor: activeTab === tab.id ? 'var(--accent-primary)' : 'transparent',\r\n                  color: activeTab === tab.id ? 'white' : 'var(--text-secondary)',\r\n                  opacity: (\r\n                    (tab.id === 'settings' && !uploadedFile && !validationText.trim()) ||\r\n                    (tab.id === 'validation' && !validating && !validationResult) ||\r\n                    (tab.id === 'results' && !validationResult) ||\r\n                    (tab.id === 'improvements' && !validationResult)\r\n                  ) ? 0.5 : 1\r\n                }}\r\n              >\r\n                <span>{tab.icon}</span>\r\n                <span>{tab.title}</span>\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* 메인 콘텐츠 */}\r\n        {renderContent()}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AIQualityValidationPage;","import React from 'react';\r\n\r\ninterface PageHeaderProps {\r\n  /** 페이지 제목 */\r\n  title: string;\r\n  /** 페이지 설명 */\r\n  description?: string;\r\n  /** 아이콘 (이모지 또는 SVG) */\r\n  icon?: React.ReactNode;\r\n  /** 뒤로가기 버튼 클릭 핸들러 */\r\n  onBack?: () => void;\r\n  /** 오른쪽 액션 버튼들 */\r\n  actions?: React.ReactNode;\r\n  /** 헤더 하단에 추가 콘텐츠 */\r\n  children?: React.ReactNode;\r\n  /** 사용자 정의 클래스명 */\r\n  className?: string;\r\n}\r\n\r\n/**\r\n * 표준화된 페이지 헤더 컴포넌트\r\n * \r\n * 모든 페이지에서 일관된 헤더 디자인을 제공합니다.\r\n * Sticky 헤더, 반응형 레이아웃, 뒤로가기 버튼 등을 포함합니다.\r\n */\r\nconst PageHeader: React.FC<PageHeaderProps> = ({\r\n  title,\r\n  description,\r\n  icon,\r\n  onBack,\r\n  actions,\r\n  children,\r\n  className = ''\r\n}) => {\r\n  return (\r\n    <div className={`bg-white border-b border-gray-200 sticky top-0 z-10 ${className}`}>\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        <div className=\"py-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            {/* 왼쪽 영역: 뒤로가기 + 제목 */}\r\n            <div className=\"flex items-center\">\r\n              {onBack && (\r\n                <button \r\n                  onClick={onBack}\r\n                  className=\"mr-4 text-gray-500 hover:text-gray-700 transition-colors text-2xl\"\r\n                  title=\"뒤로가기\"\r\n                >\r\n                  ←\r\n                </button>\r\n              )}\r\n              <div>\r\n                <h1 className=\"text-3xl font-bold text-gray-900 flex items-center\">\r\n                  {icon && (\r\n                    <span className=\"text-4xl mr-3\">\r\n                      {icon}\r\n                    </span>\r\n                  )}\r\n                  {title}\r\n                </h1>\r\n                {description && (\r\n                  <p className=\"text-gray-600 mt-2\">\r\n                    {description}\r\n                  </p>\r\n                )}\r\n              </div>\r\n            </div>\r\n            \r\n            {/* 오른쪽 영역: 액션 버튼들 */}\r\n            {actions && (\r\n              <div className=\"flex items-center space-x-3\">\r\n                {actions}\r\n              </div>\r\n            )}\r\n          </div>\r\n          \r\n          {/* 추가 콘텐츠 영역 */}\r\n          {children && (\r\n            <div className=\"mt-6\">\r\n              {children}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.memo(PageHeader);","import { API_BASE_URL } from '../config/api';\r\nimport { ApiResponse } from './api';\r\nimport logger from '../utils/logger';\r\n\r\n// File Upload Service Interfaces\r\nexport interface FileUploadInfo {\r\n  id: string;\r\n  original_name: string;\r\n  file_name: string;\r\n  file_path: string;\r\n  file_size: number;\r\n  file_type: string;\r\n  mime_type: string;\r\n  upload_date: string;\r\n  uploaded_by?: string;\r\n  project_id?: string;\r\n  category: 'document' | 'image' | 'data' | 'template' | 'other';\r\n  status: 'uploading' | 'completed' | 'failed' | 'processing';\r\n  metadata?: {\r\n    description?: string;\r\n    tags?: string[];\r\n    public?: boolean;\r\n    expires_at?: string;\r\n  };\r\n  file_hash: string;\r\n  download_count: number;\r\n  is_public: boolean;\r\n  storage_type: 'local' | 's3' | 'database';\r\n}\r\n\r\nexport interface UploadProgress {\r\n  file_id: string;\r\n  progress_percentage: number;\r\n  bytes_uploaded: number;\r\n  total_bytes: number;\r\n  upload_speed?: number;\r\n  estimated_time_remaining?: number;\r\n  status: 'uploading' | 'completed' | 'failed' | 'paused';\r\n  error_message?: string;\r\n}\r\n\r\nexport interface FileDownloadInfo {\r\n  id: string;\r\n  download_url: string;\r\n  expires_at: string;\r\n  download_token: string;\r\n}\r\n\r\nexport interface FileValidationResult {\r\n  is_valid: boolean;\r\n  file_size_valid: boolean;\r\n  file_type_valid: boolean;\r\n  virus_scan_clean?: boolean;\r\n  issues: string[];\r\n  warnings: string[];\r\n}\r\n\r\n// HTTP Headers for file upload requests\r\nconst getFileUploadHeaders = (includeContentType: boolean = false): HeadersInit => {\r\n  const headers: HeadersInit = {};\r\n  \r\n  // Don't set Content-Type for FormData - browser will set it with boundary\r\n  if (includeContentType) {\r\n    headers['Content-Type'] = 'application/json';\r\n  }\r\n  \r\n  const accessToken = sessionStorage.getItem('ahp_access_token');\r\n  if (accessToken) {\r\n    headers['Authorization'] = `Bearer ${accessToken}`;\r\n  }\r\n  \r\n  return headers;\r\n};\r\n\r\n// Make file upload API request\r\nconst makeFileUploadRequest = async <T>(\r\n  endpoint: string, \r\n  options: RequestInit = {}\r\n): Promise<ApiResponse<T>> => {\r\n  try {\r\n    const url = `${API_BASE_URL}${endpoint}`;\r\n    \r\n    const response = await fetch(url, {\r\n      credentials: 'include',\r\n      ...options,\r\n      headers: {\r\n        ...getFileUploadHeaders(false),\r\n        ...options.headers\r\n      }\r\n    });\r\n    \r\n    const contentType = response.headers.get('content-type');\r\n    let data: Record<string, unknown> | null = null;\r\n\r\n    if (contentType && contentType.includes('application/json')) {\r\n      data = await response.json() as Record<string, unknown>;\r\n    } else if (response.ok && options.method === 'DELETE') {\r\n      data = { success: true };\r\n    } else {\r\n      const text = await response.text();\r\n      void text; // non-JSON response body discarded\r\n    }\r\n\r\n    if (!response.ok) {\r\n      throw new Error((data?.message || data?.error || `HTTP ${response.status}: File upload API 요청 실패`) as string);\r\n    }\r\n\r\n    return {\r\n      success: true,\r\n      data: (data?.data ?? data) as T,\r\n      message: data?.message as string | undefined\r\n    };\r\n  } catch (error: unknown) {\r\n    logger.error(`File Upload API Error [${endpoint}]:`, error);\r\n    const errorMessage = error instanceof Error ? error.message : '';\r\n    return {\r\n      success: false,\r\n      error: errorMessage || 'Unknown file upload error occurred'\r\n    };\r\n  }\r\n};\r\n\r\n// File Upload Service\r\nexport const fileUploadService = {\r\n  // File Upload\r\n  uploadFile: async (\r\n    file: File, \r\n    category: FileUploadInfo['category'] = 'document',\r\n    metadata?: FileUploadInfo['metadata'],\r\n    projectId?: string,\r\n    onProgress?: (progress: UploadProgress) => void\r\n  ): Promise<ApiResponse<FileUploadInfo>> => {\r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n    formData.append('category', category);\r\n    \r\n    if (metadata) {\r\n      formData.append('metadata', JSON.stringify(metadata));\r\n    }\r\n    \r\n    if (projectId) {\r\n      formData.append('project_id', projectId);\r\n    }\r\n    \r\n    // Generate file hash for deduplication\r\n    const fileHash = await generateFileHash(file);\r\n    formData.append('file_hash', fileHash);\r\n    \r\n    try {\r\n      // Create XMLHttpRequest for progress tracking\r\n      return new Promise((resolve, reject) => {\r\n        const xhr = new XMLHttpRequest();\r\n        const fileId = generateUniqueId();\r\n        \r\n        // Progress tracking\r\n        xhr.upload.addEventListener('progress', (event) => {\r\n          if (event.lengthComputable && onProgress) {\r\n            const progress: UploadProgress = {\r\n              file_id: fileId,\r\n              progress_percentage: Math.round((event.loaded / event.total) * 100),\r\n              bytes_uploaded: event.loaded,\r\n              total_bytes: event.total,\r\n              status: 'uploading'\r\n            };\r\n            onProgress(progress);\r\n          }\r\n        });\r\n        \r\n        xhr.addEventListener('load', () => {\r\n          if (xhr.status >= 200 && xhr.status < 300) {\r\n            try {\r\n              const data = JSON.parse(xhr.responseText);\r\n              \r\n              // Store file info locally for immediate access\r\n              if (data.data) {\r\n                storeFileInfoLocally(data.data);\r\n              }\r\n              \r\n              resolve({\r\n                success: true,\r\n                data: data.data || data,\r\n                message: data.message\r\n              });\r\n            } catch (error) {\r\n              reject(new Error('Failed to parse upload response'));\r\n            }\r\n          } else {\r\n            reject(new Error(`Upload failed: ${xhr.status} ${xhr.statusText}`));\r\n          }\r\n        });\r\n        \r\n        xhr.addEventListener('error', () => {\r\n          reject(new Error('Network error during upload'));\r\n        });\r\n        \r\n        const headers = getFileUploadHeaders(false);\r\n        xhr.open('POST', `${API_BASE_URL}/api/files/upload/`);\r\n        \r\n        // Set authorization header if available\r\n        Object.entries(headers).forEach(([key, value]) => {\r\n          xhr.setRequestHeader(key, value as string);\r\n        });\r\n        \r\n        xhr.send(formData);\r\n      });\r\n    } catch (error: unknown) {\r\n      const errorMessage = error instanceof Error ? error.message : '';\r\n      return {\r\n        success: false,\r\n        error: errorMessage || 'File upload failed'\r\n      };\r\n    }\r\n  },\r\n\r\n  // Get file info\r\n  getFileInfo: async (fileId: string): Promise<ApiResponse<FileUploadInfo>> => {\r\n    return makeFileUploadRequest<FileUploadInfo>(`/api/files/${fileId}/`);\r\n  },\r\n\r\n  // List files\r\n  getFiles: async (\r\n    page: number = 1, \r\n    category?: FileUploadInfo['category'],\r\n    projectId?: string,\r\n    search?: string\r\n  ): Promise<ApiResponse<{\r\n    results: FileUploadInfo[];\r\n    count: number;\r\n    next?: string;\r\n    previous?: string;\r\n  }>> => {\r\n    let params = `?page=${page}`;\r\n    if (category) params += `&category=${category}`;\r\n    if (projectId) params += `&project_id=${projectId}`;\r\n    if (search) params += `&search=${encodeURIComponent(search)}`;\r\n    \r\n    return makeFileUploadRequest(`/api/files/${params}`);\r\n  },\r\n\r\n  // Download file\r\n  downloadFile: async (fileId: string): Promise<ApiResponse<FileDownloadInfo>> => {\r\n    const response = await makeFileUploadRequest<FileDownloadInfo>(`/api/files/${fileId}/download/`, {\r\n      method: 'POST'\r\n    });\r\n    \r\n    // Track download\r\n    if (response.success && response.data) {\r\n      await fileUploadService.incrementDownloadCount(fileId);\r\n    }\r\n    \r\n    return response as ApiResponse<FileDownloadInfo>;\r\n  },\r\n\r\n  // Delete file\r\n  deleteFile: async (fileId: string): Promise<ApiResponse<void>> => {\r\n    const response = await makeFileUploadRequest<void>(`/api/files/${fileId}/`, {\r\n      method: 'DELETE'\r\n    });\r\n    \r\n    // Remove from local storage\r\n    if (response.success) {\r\n      removeFileInfoLocally(fileId);\r\n    }\r\n    \r\n    return response;\r\n  },\r\n\r\n  // Update file metadata\r\n  updateFileMetadata: async (\r\n    fileId: string, \r\n    metadata: Partial<FileUploadInfo['metadata']>\r\n  ): Promise<ApiResponse<FileUploadInfo>> => {\r\n    return makeFileUploadRequest<FileUploadInfo>(`/api/files/${fileId}/metadata/`, {\r\n      method: 'PATCH',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ metadata })\r\n    });\r\n  },\r\n\r\n  // Validate file\r\n  validateFile: async (file: File): Promise<FileValidationResult> => {\r\n    const validation: FileValidationResult = {\r\n      is_valid: true,\r\n      file_size_valid: true,\r\n      file_type_valid: true,\r\n      issues: [],\r\n      warnings: []\r\n    };\r\n    \r\n    // File size validation (50MB limit)\r\n    const maxSize = 50 * 1024 * 1024;\r\n    if (file.size > maxSize) {\r\n      validation.file_size_valid = false;\r\n      validation.is_valid = false;\r\n      validation.issues.push(`파일 크기가 50MB를 초과합니다. (현재: ${formatFileSize(file.size)})`);\r\n    }\r\n    \r\n    // File type validation\r\n    const allowedTypes = [\r\n      'application/pdf',\r\n      'application/msword',\r\n      'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\r\n      'text/plain',\r\n      'image/jpeg',\r\n      'image/png',\r\n      'image/gif',\r\n      'application/vnd.ms-excel',\r\n      'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\r\n      'text/csv'\r\n    ];\r\n    \r\n    if (!allowedTypes.includes(file.type)) {\r\n      validation.file_type_valid = false;\r\n      validation.is_valid = false;\r\n      validation.issues.push(`지원되지 않는 파일 형식입니다: ${file.type}`);\r\n    }\r\n    \r\n    // File name validation\r\n    if (file.name.length > 255) {\r\n      validation.is_valid = false;\r\n      validation.issues.push('파일명이 너무 깁니다 (최대 255자)');\r\n    }\r\n    \r\n    // Security checks for file extensions\r\n    const dangerousExtensions = ['.exe', '.bat', '.cmd', '.scr', '.pif', '.com'];\r\n    const fileExtension = file.name.toLowerCase().substring(file.name.lastIndexOf('.'));\r\n    if (dangerousExtensions.includes(fileExtension)) {\r\n      validation.file_type_valid = false;\r\n      validation.is_valid = false;\r\n      validation.issues.push(`보안상 위험한 파일 확장자입니다: ${fileExtension}`);\r\n    }\r\n    \r\n    return validation;\r\n  },\r\n\r\n  // Bulk file operations\r\n  bulkDeleteFiles: async (fileIds: string[]): Promise<ApiResponse<{ deleted_count: number }>> => {\r\n    const response = await makeFileUploadRequest<{ deleted_count: number }>('/api/files/bulk-delete/', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ file_ids: fileIds })\r\n    });\r\n    \r\n    // Remove from local storage\r\n    if (response.success) {\r\n      fileIds.forEach(id => removeFileInfoLocally(id));\r\n    }\r\n    \r\n    return response;\r\n  },\r\n\r\n  // File sharing\r\n  createShareLink: async (\r\n    fileId: string, \r\n    expiresIn: number = 24, \r\n    isPublic: boolean = false\r\n  ): Promise<ApiResponse<{ share_url: string; expires_at: string }>> => {\r\n    return makeFileUploadRequest(`/api/files/${fileId}/share/`, {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ \r\n        expires_in_hours: expiresIn,\r\n        is_public: isPublic\r\n      })\r\n    });\r\n  },\r\n\r\n  // File backup and recovery\r\n  createFileBackup: async (fileId: string): Promise<ApiResponse<{ backup_id: string }>> => {\r\n    return makeFileUploadRequest(`/api/files/${fileId}/backup/`, {\r\n      method: 'POST'\r\n    });\r\n  },\r\n\r\n  restoreFileFromBackup: async (backupId: string): Promise<ApiResponse<FileUploadInfo>> => {\r\n    return makeFileUploadRequest(`/api/files/restore/${backupId}/`, {\r\n      method: 'POST'\r\n    });\r\n  },\r\n\r\n  // Statistics\r\n  getUploadStatistics: async (): Promise<ApiResponse<{\r\n    total_files: number;\r\n    total_size: number;\r\n    files_by_category: Record<string, number>;\r\n    recent_uploads: FileUploadInfo[];\r\n  }>> => {\r\n    return makeFileUploadRequest('/api/files/statistics/');\r\n  },\r\n\r\n  // File cleanup\r\n  cleanupExpiredFiles: async (): Promise<ApiResponse<{ cleaned_count: number }>> => {\r\n    return makeFileUploadRequest('/api/files/cleanup/', {\r\n      method: 'POST'\r\n    });\r\n  },\r\n\r\n  // Increment download count\r\n  incrementDownloadCount: async (fileId: string): Promise<ApiResponse<void>> => {\r\n    return makeFileUploadRequest(`/api/files/${fileId}/download-count/`, {\r\n      method: 'POST'\r\n    });\r\n  }\r\n};\r\n\r\n// Utility functions for file upload\r\nexport const fileUploadUtils = {\r\n  // Validate file before upload\r\n  validateFileBeforeUpload: async (file: File): Promise<FileValidationResult> => {\r\n    return fileUploadService.validateFile(file);\r\n  },\r\n\r\n  // Format file size for display\r\n  formatFileSize,\r\n\r\n  // Get file type icon\r\n  getFileTypeIcon: (mimeType: string): string => {\r\n    if (mimeType.startsWith('image/')) return '🖼️';\r\n    if (mimeType.startsWith('video/')) return '🎥';\r\n    if (mimeType.startsWith('audio/')) return '🎵';\r\n    if (mimeType.includes('pdf')) return '📄';\r\n    if (mimeType.includes('word') || mimeType.includes('document')) return '📝';\r\n    if (mimeType.includes('excel') || mimeType.includes('spreadsheet')) return '📊';\r\n    if (mimeType.includes('powerpoint') || mimeType.includes('presentation')) return '📺';\r\n    if (mimeType.includes('zip') || mimeType.includes('rar') || mimeType.includes('archive')) return '📦';\r\n    return '📁';\r\n  },\r\n\r\n  // Check if file is image\r\n  isImageFile: (mimeType: string): boolean => {\r\n    return mimeType.startsWith('image/');\r\n  },\r\n\r\n  // Check if file is document\r\n  isDocumentFile: (mimeType: string): boolean => {\r\n    return mimeType.includes('pdf') || \r\n           mimeType.includes('word') || \r\n           mimeType.includes('document') ||\r\n           mimeType.includes('text');\r\n  },\r\n\r\n  // Generate thumbnail for image files\r\n  generateImageThumbnail: async (file: File, maxSize: number = 200): Promise<string | null> => {\r\n    if (!file.type.startsWith('image/')) return null;\r\n    \r\n    return new Promise((resolve) => {\r\n      const canvas = document.createElement('canvas');\r\n      const ctx = canvas.getContext('2d');\r\n      const img = new Image();\r\n      \r\n      img.onload = () => {\r\n        const ratio = Math.min(maxSize / img.width, maxSize / img.height);\r\n        canvas.width = img.width * ratio;\r\n        canvas.height = img.height * ratio;\r\n        \r\n        ctx?.drawImage(img, 0, 0, canvas.width, canvas.height);\r\n        resolve(canvas.toDataURL());\r\n      };\r\n      \r\n      img.onerror = () => resolve(null);\r\n      img.src = URL.createObjectURL(file);\r\n    });\r\n  },\r\n\r\n  // Auto-categorize file based on type\r\n  categorizeFile: (file: File): FileUploadInfo['category'] => {\r\n    const mimeType = file.type.toLowerCase();\r\n    \r\n    if (mimeType.startsWith('image/')) return 'image';\r\n    if (mimeType.includes('pdf') || mimeType.includes('document') || mimeType.includes('text')) return 'document';\r\n    if (mimeType.includes('excel') || mimeType.includes('csv') || mimeType.includes('spreadsheet')) return 'data';\r\n    \r\n    return 'other';\r\n  },\r\n\r\n  // Store upload progress locally\r\n  storeUploadProgress: (fileId: string, progress: UploadProgress): void => {\r\n    try {\r\n      const key = `upload_progress_${fileId}`;\r\n      localStorage.setItem(key, JSON.stringify(progress));\r\n    } catch (error) {\r\n      logger.error('Failed to store upload progress:', error);\r\n    }\r\n  },\r\n\r\n  // Get upload progress from local storage\r\n  getUploadProgress: (fileId: string): UploadProgress | null => {\r\n    try {\r\n      const key = `upload_progress_${fileId}`;\r\n      const stored = localStorage.getItem(key);\r\n      if (stored) {\r\n        return JSON.parse(stored);\r\n      }\r\n    } catch (error) {\r\n      logger.error('Failed to get upload progress:', error);\r\n    }\r\n    return null;\r\n  },\r\n\r\n  // Clear upload progress\r\n  clearUploadProgress: (fileId: string): void => {\r\n    try {\r\n      const key = `upload_progress_${fileId}`;\r\n      localStorage.removeItem(key);\r\n    } catch (error) {\r\n      logger.error('Failed to clear upload progress:', error);\r\n    }\r\n  }\r\n};\r\n\r\n// Helper functions\r\nasync function generateFileHash(file: File): Promise<string> {\r\n  const buffer = await file.arrayBuffer();\r\n  const hashBuffer = await crypto.subtle.digest('SHA-256', buffer);\r\n  const hashArray = Array.from(new Uint8Array(hashBuffer));\r\n  return hashArray.map(b => b.toString(16).padStart(2, '0')).join('');\r\n}\r\n\r\nfunction generateUniqueId(): string {\r\n  return 'file_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);\r\n}\r\n\r\nfunction storeFileInfoLocally(fileInfo: FileUploadInfo): void {\r\n  try {\r\n    const existing = getLocalFileInfos();\r\n    existing[fileInfo.id] = fileInfo;\r\n    localStorage.setItem('ahp_uploaded_files', JSON.stringify(existing));\r\n  } catch (error) {\r\n    logger.error('Failed to store file info locally:', error);\r\n  }\r\n}\r\n\r\nfunction removeFileInfoLocally(fileId: string): void {\r\n  try {\r\n    const existing = getLocalFileInfos();\r\n    delete existing[fileId];\r\n    localStorage.setItem('ahp_uploaded_files', JSON.stringify(existing));\r\n  } catch (error) {\r\n    logger.error('Failed to remove file info locally:', error);\r\n  }\r\n}\r\n\r\nfunction getLocalFileInfos(): Record<string, FileUploadInfo> {\r\n  try {\r\n    const stored = localStorage.getItem('ahp_uploaded_files');\r\n    return stored ? JSON.parse(stored) : {};\r\n  } catch (error) {\r\n    logger.error('Failed to get local file infos:', error);\r\n    return {};\r\n  }\r\n}\r\n\r\nfunction formatFileSize(bytes: number): string {\r\n  if (bytes === 0) return '0 Bytes';\r\n  const k = 1024;\r\n  const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\r\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\r\n}\r\n\r\nexport default fileUploadService;","import * as React from \"react\";\nfunction ClockIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ClockIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction TrashIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(TrashIcon);\nexport default ForwardRef;"],"names":["CloudArrowUpIcon","_ref","svgRef","title","titleId","props","_objectWithoutProperties","_excluded","React","Object","assign","xmlns","fill","viewBox","strokeWidth","stroke","ref","id","strokeLinecap","strokeLinejoin","d","EyeIcon","ArrowDownTrayIcon","_state$files$find","onFileUploaded","onFileDeleted","allowMultiple","accept","maxFileSize","category","projectId","className","disabled","showPreview","allowDownload","state","setState","useState","files","uploadProgress","dragActive","previewFile","showDeleteConfirm","fileInputRef","useRef","error","setError","success","setSuccess","loading","setLoading","loadExistingFiles","async","response","fileUploadService","getFiles","data","prev","_response$data","_objectSpread","results","err","errMsg","Error","message","concat","validateFile","validation","fileUploadUtils","validateFileBeforeUpload","file","size","file_size_valid","is_valid","issues","push","formatFileSize","handleFileUpload","fileArray","Array","from","length","name","join","metadata","description","tags","public","uploadFile","progress","file_id","storeUploadProgress","uploadedFile","progress_percentage","bytes_uploaded","file_size","total_bytes","status","setTimeout","newProgress","clearUploadProgress","String","error_message","current","value","handleDrop","useCallback","e","preventDefault","dataTransfer","handleDragOver","handleDragLeave","handleDownloadFile","downloadFile","window","open","download_url","getUploadProgressBar","_jsxs","children","_jsx","upload_speed","getStatusColor","style","width","ExclamationTriangleIcon","CheckCircleIcon","onDrop","onDragOver","onDragLeave","onClick","_fileInputRef$current","click","split","type","multiple","onChange","target","keys","values","map","ClockIcon","_file$metadata","getFileTypeIcon","mime_type","original_name","Date","upload_date","toLocaleDateString","isImageFile","Button","variant","TrashIcon","Modal","isOpen","onClose","src","file_path","alt","find","f","deleteFile","fileId","filter","handleDeleteFile","user","activeTab","setActiveTab","setUploadedFile","actionMessage","setActionMessage","showActionMessage","text","validationText","setValidationText","validating","setValidating","validationResult","setValidationResult","validationSettings","setValidationSettings","checkGrammar","checkStructure","checkMethodology","checkReferences","checkOriginality","checkClarity","strictMode","_event$target$files","event","reader","FileReader","onload","_e$target","content","result","slice","readAsText","_e$target2","_e$target3","startValidation","trim","_aiValidationResult","_aiValidationResult2","aiService","getAIService","aiValidationResult","contentToValidate","validatePaperQuality","overallScore","overallGrade","summary","strengths","improvements","recommendations","checks","score","maxScore","location","suggestion","priority","getScoreColor","getStatusIcon","getIssueTypeColor","renderUpload","backgroundColor","color","FileUpload","fileInfo","File","borderColor","_document$getElementB","document","getElementById","toFixed","stopPropagation","display","placeholder","toLocaleString","PageHeader","icon","onBack","history","back","tab","opacity","renderContent","key","label","item","checked","entries","_ref2","index","check","strength","improvement","renderImprovements","allIssues","flatMap","issue","sort","a","b","recommendation","actions","getFileUploadHeaders","headers","arguments","undefined","accessToken","sessionStorage","getItem","makeFileUploadRequest","endpoint","options","_data$data","_data3","_data4","url","API_BASE_URL","fetch","credentials","contentType","get","includes","json","ok","method","_data","_data2","logger","onProgress","formData","FormData","append","JSON","stringify","fileHash","buffer","arrayBuffer","hashBuffer","crypto","subtle","digest","Uint8Array","toString","padStart","generateFileHash","Promise","resolve","reject","xhr","XMLHttpRequest","now","Math","random","substr","upload","addEventListener","lengthComputable","round","loaded","total","parse","responseText","existing","getLocalFileInfos","localStorage","setItem","storeFileInfoLocally","statusText","forEach","setRequestHeader","send","getFileInfo","search","params","encodeURIComponent","incrementDownloadCount","removeFileInfoLocally","updateFileMetadata","body","file_type_valid","warnings","fileExtension","toLowerCase","substring","lastIndexOf","bulkDeleteFiles","file_ids","fileIds","createShareLink","expiresIn","isPublic","expires_in_hours","is_public","createFileBackup","restoreFileFromBackup","backupId","getUploadStatistics","cleanupExpiredFiles","mimeType","startsWith","isDocumentFile","generateImageThumbnail","maxSize","canvas","createElement","ctx","getContext","img","Image","ratio","min","height","drawImage","toDataURL","onerror","URL","createObjectURL","categorizeFile","getUploadProgress","stored","removeItem","bytes","i","floor","log","parseFloat","pow"],"sourceRoot":""}