<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AHP System - ê°œì¸ ì„œë¹„ìŠ¤ ëŒ€ì‹œë³´ë“œ (Enhanced)</title>
    <style>
        :root {
            --accent-primary: #C8A968;
            --accent-secondary: #A98C4B;
            --accent-light: #E5D5AA;
            --accent-hover: #B59A4D;
            --bg-primary: #ffffff;
            --bg-secondary: #f9fafb;
            --bg-elevated: #f3f4f6;
            --text-primary: #1f2937;
            --text-secondary: #6b7280;
            --border-light: #e5e7eb;
            --shadow-sm: 0 1px 3px rgba(0,0,0,0.1);
            --shadow-md: 0 4px 6px rgba(0,0,0,0.1);
            --shadow-lg: 0 10px 25px rgba(0,0,0,0.1);
            --header-height: 60px;
            --sidebar-width: 260px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: var(--bg-secondary);
            color: var(--text-primary);
            min-height: 100vh;
        }

        /* ìƒë‹¨ í—¤ë” */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: var(--header-height);
            background: white;
            border-bottom: 1px solid var(--border-light);
            box-shadow: var(--shadow-sm);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 1.5rem;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 2rem;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            text-decoration: none;
            color: var(--text-primary);
            font-weight: 600;
            font-size: 1.25rem;
        }

        .logo:hover {
            color: var(--accent-primary);
        }

        .logo-icon {
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .header-nav {
            display: flex;
            gap: 1rem;
        }

        .header-nav-item {
            padding: 0.5rem 1rem;
            border-radius: 6px;
            text-decoration: none;
            color: var(--text-secondary);
            font-size: 0.9rem;
            transition: all 0.2s;
        }

        .header-nav-item:hover {
            background: var(--bg-secondary);
            color: var(--accent-primary);
        }

        .header-nav-item.active {
            background: var(--accent-light);
            color: var(--accent-primary);
            font-weight: 500;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .admin-mode-toggle {
            display: none; /* ê¸°ë³¸ì ìœ¼ë¡œ ìˆ¨ê¹€ */
            padding: 0.5rem 1rem;
            background: var(--accent-primary);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.85rem;
            font-weight: 500;
            transition: all 0.2s;
            white-space: nowrap;
        }

        .admin-mode-toggle:hover {
            background: var(--accent-hover);
            transform: translateY(-1px);
        }

        .admin-mode-toggle.show {
            display: block;
        }

        .admin-badge {
            display: inline-block;
            background: linear-gradient(135deg, #dc2626, #b91c1c);
            color: white;
            padding: 0.2rem 0.5rem;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: 600;
            margin-left: 0.5rem;
            box-shadow: 0 2px 4px rgba(220, 38, 38, 0.2);
        }

        .user-role {
            display: flex;
            align-items: center;
            flex-wrap: wrap;
        }

        /* ì—”í„°í”„ë¼ì´ì¦ˆ ê¸‰ ë¸Œëœë”© */
        .enterprise-header {
            background: linear-gradient(135deg, var(--accent-primary) 0%, var(--accent-secondary) 100%);
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 8px 8px 0 0;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .enterprise-content {
            background: white;
            border: 1px solid var(--border-light);
            border-radius: 0 0 8px 8px;
            box-shadow: var(--shadow-lg);
        }

        /* ì—”í„°í”„ë¼ì´ì¦ˆê¸‰ ì•Œë¦¼ ë° ìƒíƒœ í‘œì‹œ */
        .status-indicator {
            position: relative;
            display: inline-block;
        }

        .status-indicator::after {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #10b981;
            border: 2px solid white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .status-indicator.offline::after {
            background: #ef4444;
        }

        /* í”„ë¦¬ë¯¸ì—„ ê·¸ë¼ë°ì´ì…˜ */
        .premium-gradient {
            background: linear-gradient(135deg, var(--accent-primary) 0%, var(--accent-secondary) 50%, #8B5A2B 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 700;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.5rem 1rem;
            background: var(--bg-secondary);
            border-radius: 20px;
        }

        .user-avatar {
            width: 32px;
            height: 32px;
            background: var(--accent-primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .user-name {
            font-size: 0.9rem;
            font-weight: 500;
        }

        .user-role {
            font-size: 0.75rem;
            color: var(--text-secondary);
        }

        /* ì™¼ìª½ ì‚¬ì´ë“œë°” */
        .sidebar {
            position: fixed;
            top: var(--header-height);
            left: 0;
            width: var(--sidebar-width);
            height: calc(100vh - var(--header-height));
            background: white;
            border-right: 1px solid var(--border-light);
            overflow-y: auto;
            z-index: 999;
            transition: transform 0.3s ease;
        }

        .sidebar.collapsed {
            transform: translateX(-200px);
        }

        .sidebar-toggle {
            position: fixed;
            top: calc(var(--header-height) + 1rem);
            left: calc(var(--sidebar-width) + 1rem);
            width: 36px;
            height: 36px;
            background: white;
            border: 1px solid var(--border-light);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: var(--shadow-sm);
            z-index: 998;
            transition: all 0.3s;
        }

        .sidebar.collapsed + .sidebar-toggle {
            left: 3rem;
        }

        .sidebar-toggle:hover {
            background: var(--accent-primary);
            color: white;
            border-color: var(--accent-primary);
            box-shadow: var(--shadow-md);
        }

        .sidebar-section {
            padding: 1rem;
            border-bottom: 1px solid var(--border-light);
        }

        .sidebar-section-title {
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            color: var(--text-secondary);
            letter-spacing: 0.5px;
            margin-bottom: 0.75rem;
            padding: 0 0.5rem;
        }

        .sidebar-menu {
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
        }

        .sidebar-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem;
            border-radius: 8px;
            text-decoration: none;
            color: var(--text-primary);
            font-size: 0.9rem;
            transition: all 0.2s;
            cursor: pointer;
        }

        .sidebar-item:hover {
            background: var(--bg-secondary);
            color: var(--accent-primary);
        }

        .sidebar-item.active {
            background: var(--accent-light);
            color: var(--accent-primary);
            font-weight: 500;
        }

        .sidebar-icon {
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
        }

        .sidebar-badge {
            margin-left: auto;
            padding: 0.125rem 0.5rem;
            background: var(--accent-primary);
            color: white;
            border-radius: 10px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .sidebar-badge.new {
            background: linear-gradient(135deg, #10b981, #059669);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        /* ë©”ì¸ ì½˜í…ì¸  ì˜ì—­ */
        .main-content {
            margin-top: var(--header-height);
            margin-left: var(--sidebar-width);
            padding: 2rem;
            transition: margin-left 0.3s ease;
        }

        .sidebar.collapsed ~ .main-content {
            margin-left: 60px;
        }

        /* ëŒ€ì‹œë³´ë“œ ê·¸ë¦¬ë“œ */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .dashboard-card {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            border: 1px solid var(--border-light);
            box-shadow: var(--shadow-sm);
            transition: all 0.3s;
        }

        .dashboard-card:hover {
            box-shadow: var(--shadow-lg);
            transform: translateY(-2px);
        }

        .card-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1rem;
        }

        .card-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .card-icon {
            font-size: 1.5rem;
        }

        .stats-value {
            font-size: 2rem;
            font-weight: bold;
            color: var(--accent-primary);
            margin: 0.5rem 0;
        }

        .stats-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: var(--bg-secondary);
            border-radius: 4px;
            overflow: hidden;
            margin-top: 1rem;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary));
            border-radius: 4px;
            transition: width 0.5s ease;
        }

        /* ë¹ ë¥¸ ì•¡ì…˜ ë²„íŠ¼ */
        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 2rem;
        }

        .action-btn {
            background: white;
            border: 2px solid var(--accent-light);
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            color: var(--text-primary);
        }

        .action-btn:hover {
            background: var(--accent-light);
            border-color: var(--accent-primary);
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .action-icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .action-title {
            font-weight: 600;
            margin-bottom: 0.25rem;
        }

        .action-desc {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        /* ë°˜ì‘í˜• ë””ìì¸ */
        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(-100%);
            }
            
            .sidebar.active {
                transform: translateX(0);
            }
            
            .main-content {
                margin-left: 0;
            }
            
            .sidebar-toggle {
                left: 1rem;
            }
            
            .header-nav {
                display: none;
            }
        }
    </style>
</head>
<body>
    <!-- ìƒë‹¨ í—¤ë” -->
    <header class="header">
        <div class="header-left">
            <a href="#" class="logo" onclick="showDashboard(); return false;">
                <div class="logo-icon">A</div>
                <span>AHP System</span>
            </a>
            <nav class="header-nav">
                <a href="#" class="header-nav-item active">ëŒ€ì‹œë³´ë“œ</a>
                <a href="#" class="header-nav-item">í”„ë¡œì íŠ¸</a>
                <a href="#" class="header-nav-item">ë¶„ì„</a>
                <a href="#" class="header-nav-item">ë³´ê³ ì„œ</a>
            </nav>
        </div>
        <div class="header-right">
            <!-- ìŠˆí¼ ê´€ë¦¬ì ëª¨ë“œ ì „í™˜ ë²„íŠ¼ (ê¶Œí•œì— ë”°ë¼ í‘œì‹œ) -->
            <button id="adminModeToggle" class="admin-mode-toggle" onclick="switchToAdminMode()">
                ğŸ›¡ï¸ ê´€ë¦¬ì ëª¨ë“œ
            </button>
            
            <!-- ê°œì¸ ì„œë¹„ìŠ¤ ëª¨ë“œ ì „í™˜ ë²„íŠ¼ (ìŠˆí¼ ê´€ë¦¬ìì—ê²Œë§Œ í‘œì‹œ) -->
            <button id="personalServiceToggle" class="admin-mode-toggle" onclick="switchToPersonalService()" style="display: none; background: var(--accent-secondary);">
                ğŸ‘¤ ê°œì¸ ì„œë¹„ìŠ¤
            </button>
            
            <div class="user-info">
                <div class="user-avatar status-indicator" id="userAvatar">ê¹€</div>
                <div>
                    <div class="user-name" id="userName">-</div>
                    <div class="user-role" id="userRole">
                        <span id="userRoleText" class="premium-gradient">ë¡œë”© ì¤‘...</span>
                        <span id="adminBadge" class="admin-badge" style="display: none;">ğŸ›¡ï¸ ê´€ë¦¬ì</span>
                    </div>
                </div>
            </div>
            
            <button onclick="handleLogout()" style="padding: 0.5rem 1rem; background: var(--bg-secondary); border: none; border-radius: 6px; cursor: pointer;">
                ë¡œê·¸ì•„ì›ƒ
            </button>
        </div>
    </header>

    <!-- ì™¼ìª½ ì‚¬ì´ë“œë°” -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-section">
            <div class="sidebar-section-title">í”„ë¡œì íŠ¸ ê´€ë¦¬</div>
            <div class="sidebar-menu">
                <a href="#" class="sidebar-item" data-content="my-projects" onclick="handleMenuClick('my-projects', this)">
                    <span class="sidebar-icon">ğŸ“‹</span>
                    <span>ë‚´ í”„ë¡œì íŠ¸</span>
                </a>
                <a href="#" class="sidebar-item" data-content="new-project" onclick="handleMenuClick('new-project', this)">
                    <span class="sidebar-icon">â•</span>
                    <span>ìƒˆ í”„ë¡œì íŠ¸</span>
                </a>
                <a href="#" class="sidebar-item" data-content="trash" onclick="handleMenuClick('trash', this)">
                    <span class="sidebar-icon">ğŸ—‘ï¸</span>
                    <span>íœ´ì§€í†µ</span>
                </a>
            </div>
        </div>
        
        <div class="sidebar-section">
            <div class="sidebar-section-title">ëª¨ë¸ êµ¬ì¶•</div>
            <div class="sidebar-menu">
                <a href="#" class="sidebar-item" data-content="model-building" onclick="handleMenuClick('model-building', this)">
                    <span class="sidebar-icon">ğŸ—ï¸</span>
                    <span>ëª¨ë¸êµ¬ì¶•</span>
                </a>
                <a href="#" class="sidebar-item" data-content="demographic-survey" onclick="handleMenuClick('demographic-survey', this)">
                    <span class="sidebar-icon">ğŸ“‹</span>
                    <span>ì¸êµ¬í†µê³„í•™ì  ì„¤ë¬¸ì¡°ì‚¬</span>
                </a>
                <a href="#" class="sidebar-item" data-content="evaluator-management" onclick="handleMenuClick('evaluator-management', this)">
                    <span class="sidebar-icon">ğŸ‘¥</span>
                    <span>í‰ê°€ì ê´€ë¦¬</span>
                </a>
            </div>
        </div>
        
        <div class="sidebar-section">
            <div class="sidebar-section-title">ë¶„ì„ ë° ê²°ê³¼</div>
            <div class="sidebar-menu">
                <a href="#" class="sidebar-item" data-content="results-analysis" onclick="handleMenuClick('results-analysis', this)">
                    <span class="sidebar-icon">ğŸ“ˆ</span>
                    <span>ê²°ê³¼ ë¶„ì„</span>
                </a>
                <a href="#" class="sidebar-item" data-content="progress-monitoring" onclick="handleMenuClick('progress-monitoring', this)">
                    <span class="sidebar-icon">ğŸ“Š</span>
                    <span>ì§„í–‰ë¥  ëª¨ë‹ˆí„°ë§</span>
                </a>
                <a href="#" class="sidebar-item" data-content="report-generation" onclick="handleMenuClick('report-generation', this)">
                    <span class="sidebar-icon">ğŸ“„</span>
                    <span>ë³´ê³ ì„œ ìƒì„±</span>
                </a>
                <a href="#" class="sidebar-item" data-content="sensitivity-analysis" onclick="handleMenuClick('sensitivity-analysis', this)">
                    <span class="sidebar-icon">ğŸ”</span>
                    <span>ë¯¼ê°ë„ ë¶„ì„</span>
                </a>
            </div>
        </div>

        <div class="sidebar-section">
            <div class="sidebar-section-title">í˜‘ì—… ë° ê³µìœ </div>
            <div class="sidebar-menu">
                <a href="#" class="sidebar-item" data-content="collaboration-hub" onclick="handleMenuClick('collaboration-hub', this)">
                    <span class="sidebar-icon">ğŸŒ</span>
                    <span>í˜‘ì—… í—ˆë¸Œ</span>
                    <span class="sidebar-badge new">New</span>
                </a>
                <a href="#" class="sidebar-item" data-content="team-comparison" onclick="handleMenuClick('team-comparison', this)">
                    <span class="sidebar-icon">ğŸ”„</span>
                    <span>íŒ€ ë¹„êµ ë¶„ì„</span>
                </a>
                <a href="#" class="sidebar-item" data-content="real-time-sync" onclick="handleMenuClick('real-time-sync', this)">
                    <span class="sidebar-icon">âš¡</span>
                    <span>ì‹¤ì‹œê°„ ë™ê¸°í™”</span>
                </a>
            </div>
        </div>
        
        <div class="sidebar-section">
            <div class="sidebar-section-title">ì„¤ì •</div>
            <div class="sidebar-menu">
                <a href="#" class="sidebar-item" data-content="personal-settings" onclick="handleMenuClick('personal-settings', this)">
                    <span class="sidebar-icon">âš™ï¸</span>
                    <span>ê°œì¸ ì„¤ì •</span>
                </a>
                <a href="#" class="sidebar-item" data-content="plan-management" onclick="handleMenuClick('plan-management', this)">
                    <span class="sidebar-icon">ğŸ’³</span>
                    <span>ìš”ê¸ˆì œ ê´€ë¦¬</span>
                </a>
                <a href="#" class="sidebar-item" data-content="user-guide" onclick="handleMenuClick('user-guide', this)">
                    <span class="sidebar-icon">ğŸ“š</span>
                    <span>ì‚¬ìš© ê°€ì´ë“œ</span>
                </a>
            </div>
        </div>
    </aside>

    <!-- ì‚¬ì´ë“œë°” í† ê¸€ ë²„íŠ¼ -->
    <button class="sidebar-toggle" onclick="toggleSidebar()">
        <span id="toggle-icon">â—€</span>
    </button>

    <!-- ë©”ì¸ ì½˜í…ì¸  -->
    <main class="main-content">
        <div style="margin-bottom: 2rem;">
            <h1 style="font-size: 2rem; font-weight: 600; margin-bottom: 0.5rem;">ì•ˆë…•í•˜ì„¸ìš” ğŸ‘‹</h1>
            <p style="color: var(--text-secondary);">ì „ë¬¸ì ì¸ AHP ì˜ì‚¬ê²°ì • ë¶„ì„ìœ¼ë¡œ ë³µì¡í•œ ë¬¸ì œë¥¼ ì²´ê³„ì ìœ¼ë¡œ í•´ê²°í•´ë³´ì„¸ìš”</p>
        </div>

        <!-- í†µê³„ ì¹´ë“œ -->
        <div class="dashboard-grid">
            <div class="dashboard-card">
                <div class="card-header">
                    <div class="card-title">í™œì„± í”„ë¡œì íŠ¸</div>
                    <div class="card-icon">ğŸ“Š</div>
                </div>
                <div class="stats-value">3</div>
                <div class="stats-label">ì§„í–‰ì¤‘ì¸ í”„ë¡œì íŠ¸</div>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 60%;"></div>
                </div>
            </div>

            <div class="dashboard-card">
                <div class="card-header">
                    <div class="card-title">í‰ê°€ ì§„í–‰ë¥ </div>
                    <div class="card-icon">ğŸ“ˆ</div>
                </div>
                <div class="stats-value">78%</div>
                <div class="stats-label">ì „ì²´ í‰ê·  ì§„í–‰ë¥ </div>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 78%;"></div>
                </div>
            </div>

            <div class="dashboard-card">
                <div class="card-header">
                    <div class="card-title">í‰ê°€ì ìˆ˜</div>
                    <div class="card-icon">ğŸ‘¥</div>
                </div>
                <div class="stats-value">45</div>
                <div class="stats-label">í™œì„± í‰ê°€ì</div>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 45%;"></div>
                </div>
            </div>

            <div class="dashboard-card">
                <div class="card-header">
                    <div class="card-title">ì™„ë£Œëœ ë¶„ì„</div>
                    <div class="card-icon">âœ…</div>
                </div>
                <div class="stats-value">12</div>
                <div class="stats-label">ì´ë²ˆ ë‹¬ ì™„ë£Œ</div>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 100%;"></div>
                </div>
            </div>
        </div>

        <!-- ë¹ ë¥¸ ì•¡ì…˜ -->
        <h2 style="margin-top: 3rem; margin-bottom: 1rem; font-size: 1.5rem;">ë¹ ë¥¸ ì•¡ì…˜</h2>
        <div class="quick-actions">
            <a href="./project-management.html" class="action-btn">
                <div class="action-icon">ğŸ†•</div>
                <div class="action-title">ìƒˆ í”„ë¡œì íŠ¸ ìƒì„±</div>
                <div class="action-desc">AHP ë¶„ì„ì„ ì‹œì‘í•˜ì„¸ìš”</div>
            </a>
            <a href="./criteria-management.html" class="action-btn">
                <div class="action-icon">âš–ï¸</div>
                <div class="action-title">ê¸°ì¤€ ì„¤ì •</div>
                <div class="action-desc">í‰ê°€ ê¸°ì¤€ì„ ì •ì˜í•˜ì„¸ìš”</div>
            </a>
            <a href="./pairwise-comparison.html" class="action-btn">
                <div class="action-icon">âš¡</div>
                <div class="action-title">ìŒëŒ€ë¹„êµ ìˆ˜í–‰</div>
                <div class="action-desc">ë¹„êµ í‰ê°€ë¥¼ ì§„í–‰í•˜ì„¸ìš”</div>
            </a>
            <a href="./results-analysis.html" class="action-btn">
                <div class="action-icon">ğŸ“ˆ</div>
                <div class="action-title">ê²°ê³¼ í™•ì¸</div>
                <div class="action-desc">ë¶„ì„ ê²°ê³¼ë¥¼ í™•ì¸í•˜ì„¸ìš”</div>
            </a>
        </div>

        <!-- ìµœê·¼ í”„ë¡œì íŠ¸ -->
        <h2 style="margin-top: 3rem; margin-bottom: 1rem; font-size: 1.5rem;">ìµœê·¼ í”„ë¡œì íŠ¸</h2>
        <div style="background: white; border-radius: 12px; padding: 1.5rem; border: 1px solid var(--border-light);">
            <table style="width: 100%; border-collapse: collapse;">
                <thead>
                    <tr style="border-bottom: 2px solid var(--border-light);">
                        <th style="text-align: left; padding: 0.75rem; font-weight: 600;">í”„ë¡œì íŠ¸ëª…</th>
                        <th style="text-align: left; padding: 0.75rem; font-weight: 600;">ìƒíƒœ</th>
                        <th style="text-align: left; padding: 0.75rem; font-weight: 600;">ì§„í–‰ë¥ </th>
                        <th style="text-align: left; padding: 0.75rem; font-weight: 600;">ë§ˆì§€ë§‰ ìˆ˜ì •</th>
                        <th style="text-align: left; padding: 0.75rem; font-weight: 600;">ì‘ì—…</th>
                    </tr>
                </thead>
                <tbody>
                    <tr style="border-bottom: 1px solid var(--border-light);">
                        <td style="padding: 0.75rem;">ì‹ ì œí’ˆ ì¶œì‹œ ì „ëµ</td>
                        <td style="padding: 0.75rem;"><span style="background: #fef3c7; color: #92400e; padding: 0.25rem 0.75rem; border-radius: 20px; font-size: 0.85rem;">ì§„í–‰ì¤‘</span></td>
                        <td style="padding: 0.75rem;">65%</td>
                        <td style="padding: 0.75rem;">2025-01-10</td>
                        <td style="padding: 0.75rem;"><a href="#" style="color: var(--accent-primary); text-decoration: none;">ê³„ì†í•˜ê¸° â†’</a></td>
                    </tr>
                    <tr style="border-bottom: 1px solid var(--border-light);">
                        <td style="padding: 0.75rem;">ê³µê¸‰ì—…ì²´ ì„ ì •</td>
                        <td style="padding: 0.75rem;"><span style="background: #d1fae5; color: #065f46; padding: 0.25rem 0.75rem; border-radius: 20px; font-size: 0.85rem;">ì™„ë£Œ</span></td>
                        <td style="padding: 0.75rem;">100%</td>
                        <td style="padding: 0.75rem;">2025-01-08</td>
                        <td style="padding: 0.75rem;"><a href="#" style="color: var(--accent-primary); text-decoration: none;">ê²°ê³¼ë³´ê¸° â†’</a></td>
                    </tr>
                    <tr>
                        <td style="padding: 0.75rem;">íˆ¬ì í¬íŠ¸í´ë¦¬ì˜¤ í‰ê°€</td>
                        <td style="padding: 0.75rem;"><span style="background: #dbeafe; color: #1e40af; padding: 0.25rem 0.75rem; border-radius: 20px; font-size: 0.85rem;">ì¤€ë¹„ì¤‘</span></td>
                        <td style="padding: 0.75rem;">15%</td>
                        <td style="padding: 0.75rem;">2025-01-12</td>
                        <td style="padding: 0.75rem;"><a href="#" style="color: var(--accent-primary); text-decoration: none;">í¸ì§‘í•˜ê¸° â†’</a></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </main>

    <script src="./scripts/api-service.js" onload="console.log('âœ… API ì„œë¹„ìŠ¤ ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œë¨')" onerror="handleAPIScriptError()"></script>
    <script>
        // ìë™ ì¸ì¦ í™•ì¸ ë¹„í™œì„±í™” (í˜ì´ì§€ ìì²´ì—ì„œ ì²˜ë¦¬)
        window.SKIP_AUTO_AUTH_CHECK = true;
        
        // API ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ ì˜¤ë¥˜ ì²˜ë¦¬
        function handleAPIScriptError() {
            console.error('âŒ API ì„œë¹„ìŠ¤ ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ ì‹¤íŒ¨');
            
            // ì¦‰ì‹œ ì¬ì‹œë„
            let retryCount = 0;
            const maxRetries = 3;
            
            function retryLoad() {
                if (retryCount >= maxRetries) {
                    console.error('âŒ API ì„œë¹„ìŠ¤ ë¡œë“œ ìµœëŒ€ ì¬ì‹œë„ íšŸìˆ˜ ì´ˆê³¼');
                    // ì‚¬ìš©ìì—ê²Œ ì•Œë¦¼
                    alert('ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì„ í™•ì¸í•˜ê³  í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•´ì£¼ì„¸ìš”.');
                    return;
                }
                
                retryCount++;
                console.log(`ğŸ”„ API ì„œë¹„ìŠ¤ ì¬ë¡œë“œ ì‹œë„ ${retryCount}/${maxRetries}...`);
                
                const script = document.createElement('script');
                script.src = './scripts/api-service.js';
                script.type = 'text/javascript';
                script.async = false;
                
                script.onload = () => {
                    console.log('âœ… API ì„œë¹„ìŠ¤ ì¬ë¡œë“œ ì„±ê³µ');
                };
                
                script.onerror = () => {
                    console.error(`âŒ API ì„œë¹„ìŠ¤ ì¬ë¡œë“œ ì‹¤íŒ¨ (${retryCount}/${maxRetries})`);
                    setTimeout(retryLoad, 1000 * retryCount); // ì§€ìˆ˜ì  ë°±ì˜¤í”„
                };
                
                document.head.appendChild(script);
            }
            
            setTimeout(retryLoad, 500);
        }
        
        // =========================
        // ì „ì—­ ë©”ë‰´ í•¸ë“¤ëŸ¬ í•¨ìˆ˜ë“¤ (ìš°ì„  ì •ì˜)
        // =========================
        
        // ëŒ€ì‹œë³´ë“œ í™ˆìœ¼ë¡œ ì´ë™ (ë¡œê³  í´ë¦­ ì‹œ)
        function showDashboard() {
            console.log('ğŸ  ëŒ€ì‹œë³´ë“œ í™ˆìœ¼ë¡œ ì´ë™');
            
            // í˜„ì¬ í™œì„± ë©”ë‰´ í•´ì œ
            const activeMenus = document.querySelectorAll('.sidebar-nav-link.active, .header-nav-item.active');
            activeMenus.forEach(menu => menu.classList.remove('active'));
            
            // ëŒ€ì‹œë³´ë“œ ë©”ë‰´ í™œì„±í™”
            const dashboardMenu = document.querySelector('[onclick*="dashboard"]') || 
                                document.querySelector('.sidebar-nav-link');
            if (dashboardMenu) {
                dashboardMenu.classList.add('active');
            }
            
            // ëŒ€ì‹œë³´ë“œ ì½˜í…ì¸  ë¡œë“œ
            handleMenuClick('dashboard');
        }
        
        // ë©”ë‰´ í´ë¦­ í•¸ë“¤ëŸ¬ - ê°„ì†Œí™” ë²„ì „
        function handleMenuClick(contentType, element) {
            console.log(`ğŸ–±ï¸ ë©”ë‰´ í´ë¦­: ${contentType}`);
            
            // í˜„ì¬ ë©”ë‰´ ì„¸ì…˜ì— ì €ì¥
            sessionStorage.setItem('currentMenu', contentType);
            
            // ì´ë²¤íŠ¸ ê¸°ë³¸ ë™ì‘ ë°©ì§€
            if (typeof event !== 'undefined' && event && event.preventDefault) {
                event.preventDefault();
            }
            
            // ë©”ë‰´ í™œì„±í™” ìƒíƒœ ì—…ë°ì´íŠ¸
            try {
                if (element) {
                    document.querySelectorAll('.sidebar-item').forEach(item => {
                        item.classList.remove('active');
                    });
                    element.classList.add('active');
                }
            } catch (e) {
                console.warn('ë©”ë‰´ í™œì„±í™” ìƒíƒœ ì—…ë°ì´íŠ¸ ì˜¤ë¥˜:', e);
            }
            
            // ë©”ì¸ ì½˜í…ì¸  ì˜ì—­ ì°¾ê¸°
            const mainContent = document.querySelector('.main-content');
            if (!mainContent) {
                console.error('âŒ .main-content ìš”ì†Œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ');
                return false;
            }
            
            // íƒ€ì´í‹€ ê°€ì ¸ì˜¤ê¸°
            const titleMap = {
                'my-projects': 'ë‚´ í”„ë¡œì íŠ¸',
                'new-project': 'ìƒˆ í”„ë¡œì íŠ¸',
                'criteria-management': 'ê¸°ì¤€ ì„¤ì •',
                'alternatives-management': 'ëŒ€ì•ˆ ê´€ë¦¬',
                'pairwise-comparison': 'ìŒëŒ€ë¹„êµ',
                'evaluator-management': 'í‰ê°€ì ê´€ë¦¬',
                'results-analysis': 'ê²°ê³¼ ë¶„ì„',
                'progress-monitoring': 'ì§„í–‰ë¥  ëª¨ë‹ˆí„°ë§',
                'collaboration-hub': 'í˜‘ì—… í—ˆë¸Œ',
                'team-comparison': 'íŒ€ ë¹„êµ ë¶„ì„',
                'real-time-sync': 'ì‹¤ì‹œê°„ ë™ê¸°í™”',
                'trash': 'íœ´ì§€í†µ',
                'report-generation': 'ë³´ê³ ì„œ ìƒì„±',
                'sensitivity-analysis': 'ë¯¼ê°ë„ ë¶„ì„',
                'personal-settings': 'ê°œì¸ ì„¤ì •',
                'plan-management': 'ìš”ê¸ˆì œ ê´€ë¦¬',
                'user-guide': 'ì‚¬ìš©ì ê°€ì´ë“œ',
                'dashboard': 'ëŒ€ì‹œë³´ë“œ',
                'model-building': 'ëª¨ë¸êµ¬ì¶•',
                'demographic-survey': 'ì¸êµ¬í†µê³„í•™ì  ì„¤ë¬¸ì¡°ì‚¬'
            };
            const title = titleMap[contentType] || contentType;
            
            // ì¦‰ì‹œ ì½˜í…ì¸  ë¡œë“œ
            try {
                loadPersonalContent(contentType);
                console.log(`âœ… ì½˜í…ì¸  ë¡œë”© ì„±ê³µ: ${contentType}`);
                return true;
            } catch (error) {
                console.error(`âŒ ì½˜í…ì¸  ë¡œë”© ì‹¤íŒ¨: ${contentType}`, error);
                
                // ì˜¤ë¥˜ í˜ì´ì§€ í‘œì‹œ
                mainContent.innerHTML = `
                    <div style="text-align: center; padding: 4rem; background: white; border-radius: 12px; margin: 1rem;">
                        <div style="font-size: 4rem; margin-bottom: 1rem;">ğŸ˜“</div>
                        <h3 style="color: #ef4444; margin-bottom: 1rem;">í˜ì´ì§€ ë¡œë”© ì‹¤íŒ¨</h3>
                        <p style="color: #666; margin-bottom: 2rem;">${title} í˜ì´ì§€ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p>
                        <div style="display: flex; gap: 1rem; justify-content: center;">
                            <button onclick="handleMenuClick('${contentType}', null)" style="background: #C8A968; color: white; border: none; padding: 1rem 2rem; border-radius: 8px; cursor: pointer;">ë‹¤ì‹œ ì‹œë„</button>
                            <button onclick="location.reload()" style="background: #6b7280; color: white; border: none; padding: 1rem 2rem; border-radius: 8px; cursor: pointer;">ìƒˆë¡œê³ ì¹¨</button>
                        </div>
                    </div>
                `;
                return false;
            }
        }
        
        // ë©”ë‰´ íƒ€ì´í‹€ ë§¤í•‘ í•¨ìˆ˜
        function getMenuTitle(contentType) {
            const titles = {
                'my-projects': 'ë‚´ í”„ë¡œì íŠ¸',
                'new-project': 'ìƒˆ í”„ë¡œì íŠ¸',
                'criteria-management': 'ê¸°ì¤€ ì„¤ì •',
                'pairwise-comparison': 'ìŒëŒ€ë¹„êµ',
                'results-analysis': 'ê²°ê³¼ ë¶„ì„',
                'visualization-dashboard': 'ì‹œê°í™”',
                'evaluator-management': 'í‰ê°€ì ê´€ë¦¬',
                'progress-monitoring': 'ì§„í–‰ë¥  ëª¨ë‹ˆí„°ë§',
                'collaboration-hub': 'í˜‘ì—… í—ˆë¸Œ',
                'alternatives-management': 'ëŒ€ì•ˆ ê´€ë¦¬',
                'trash': 'íœ´ì§€í†µ',
                'report-generation': 'ë³´ê³ ì„œ ìƒì„±',
                'sensitivity-analysis': 'ë¯¼ê°ë„ ë¶„ì„',
                'personal-settings': 'ê°œì¸ ì„¤ì •',
                'plan-management': 'ìš”ê¸ˆì œ ê´€ë¦¬',
                'user-guide': 'ì‚¬ìš©ì ê°€ì´ë“œ',
                'team-comparison': 'íŒ€ ë¹„êµ ë¶„ì„',
                'real-time-sync': 'ì‹¤ì‹œê°„ ë™ê¸°í™”',
                'dashboard': 'ëŒ€ì‹œë³´ë“œ',
                'model-building': 'ëª¨ë¸êµ¬ì¶•',
                'demographic-survey': 'ì¸êµ¬í†µê³„í•™ì  ì„¤ë¬¸ì¡°ì‚¬'
            };
            return titles[contentType] || contentType;
        }
        
        // =========================
        // API ìŠ¤í¬ë¦½íŠ¸ ë¡œë”© ì‹¤íŒ¨ ì²˜ë¦¬ (ì‹¤ì œ ì„œë¹„ìŠ¤ ì „ìš©)
        // =========================
        
        function handleAPIScriptError() {
            console.error('âŒ API ìŠ¤í¬ë¦½íŠ¸ ë¡œë”© ì‹¤íŒ¨ - ì‹œìŠ¤í…œ ì ê²€ í•„ìš”');
            
            // API ë¡œë”© ì‹¤íŒ¨ ì‹œ ì‚¬ìš©ìì—ê²Œ ì•Œë¦¼ ë° ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
            const errorBanner = document.createElement('div');
            errorBanner.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                background: #ef4444;
                color: white;
                text-align: center;
                padding: 12px 16px;
                z-index: 9999;
                font-size: 1rem;
                box-shadow: 0 2px 4px rgba(0,0,0,0.2);
            `;
            errorBanner.innerHTML = `
                <span>âš ï¸ <strong>ì‹œìŠ¤í…œ ì ê²€ ì¤‘</strong> - ì ì‹œ í›„ ë‹¤ì‹œ ì ‘ì†í•´ì£¼ì„¸ìš”</span>
            `;
            document.body.appendChild(errorBanner);
            
            // ì‹œìŠ¤í…œ ì ê²€ ì•Œë¦¼ë§Œ í‘œì‹œ
        }
        // ì‚¬ì´ë“œë°” í† ê¸€
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const toggleIcon = document.getElementById('toggle-icon');
            
            sidebar.classList.toggle('collapsed');
            toggleIcon.textContent = sidebar.classList.contains('collapsed') ? 'â–¶' : 'â—€';
        }

        // ë¡œê·¸ì•„ì›ƒ
        async function handleLogout() {
            if (confirm('ë¡œê·¸ì•„ì›ƒ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                try {
                    // ì„¸ì…˜ ìŠ¤í† ë¦¬ì§€ ì‚­ì œ
                    sessionStorage.removeItem('isLoggedIn');
                    sessionStorage.removeItem('userInfo');
                    sessionStorage.removeItem('currentMenu');
                    
                    if (typeof window.ahpApi !== 'undefined') {
                        await window.ahpApi.logout();
                    }
                } catch (error) {
                    console.error('ë¡œê·¸ì•„ì›ƒ ì˜¤ë¥˜:', error);
                }
                window.location.href = './index.html';
            }
        }

        // ìŠˆí¼ ê´€ë¦¬ì ëª¨ë“œë¡œ ì „í™˜
        function switchToAdminMode() {
            if (!window.currentUser || (!window.currentUser.is_superuser && !window.currentUser.is_staff && window.currentUser.role !== 'admin')) {
                alert('ê´€ë¦¬ì ê¶Œí•œì´ í•„ìš”í•©ë‹ˆë‹¤.');
                return;
            }
            
            if (confirm('ê´€ë¦¬ì ëª¨ë“œë¡œ ì „í™˜í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                console.log('ğŸš€ ê´€ë¦¬ì ëª¨ë“œë¡œ ì „í™˜ ì¤‘...');
                window.location.href = './super-admin-dashboard.html';
            }
        }

        function switchToPersonalService() {
            if (!window.currentUser || !window.currentUser.is_superuser) {
                alert('ìŠˆí¼ ê´€ë¦¬ì ê¶Œí•œì´ í•„ìš”í•©ë‹ˆë‹¤.');
                return;
            }
            
            if (confirm('ê°œì¸ ì„œë¹„ìŠ¤ ëª¨ë“œë¡œ ì „í™˜í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                console.log('ğŸ‘¤ ê°œì¸ ì„œë¹„ìŠ¤ ëª¨ë“œë¡œ ì „í™˜ ì¤‘...');
                window.location.href = './personal-service-enhanced.html';
            }
        }

        // ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸ ë° ê¶Œí•œ ì²´í¬ (Django API ì „ìš©)
        async function checkLoginStatus() {
            try {
                // ì„¸ì…˜ ìŠ¤í† ë¦¬ì§€ì—ì„œ ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸
                const isLoggedIn = sessionStorage.getItem('isLoggedIn');
                const userInfo = sessionStorage.getItem('userInfo');
                
                if (isLoggedIn === 'true' && userInfo) {
                    console.log('âœ… ì„¸ì…˜ì—ì„œ ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸ë¨');
                    const user = JSON.parse(userInfo);
                    updateUserInfo(user);
                    checkAdminPermissions(user);
                    return true;
                }
                
                if (typeof window.ahpApi === 'undefined') {
                    console.error('âŒ API ì„œë¹„ìŠ¤ê°€ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.');
                    showMessage('API ì„œë¹„ìŠ¤ ì—°ê²°ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.', 'error');
                    return false;
                }

                const result = await window.ahpApi.getCurrentUser();
                if (!result.success || !result.user) {
                    console.log('ğŸ” ì¸ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤.');
                    showMessage('ì‚¬ìš©ì ì¸ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤.', 'warning');
                    return false;
                }

                const user = result.user;
                console.log('âœ… ì‚¬ìš©ì ì¸ì¦ ì™„ë£Œ:', user);

                // ì„¸ì…˜ ìŠ¤í† ë¦¬ì§€ì— ë¡œê·¸ì¸ ìƒíƒœ ì €ì¥
                sessionStorage.setItem('isLoggedIn', 'true');
                sessionStorage.setItem('userInfo', JSON.stringify(user));

                // ì‚¬ìš©ì ì •ë³´ ì—…ë°ì´íŠ¸
                updateUserInfo(user);

                // ê´€ë¦¬ì ê¶Œí•œ ì²´í¬ ë° ëª¨ë“œ ì „í™˜ ë²„íŠ¼ í‘œì‹œ
                checkAdminPermissions(user);

                return true;
            } catch (error) {
                console.error('âŒ ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸ ì˜¤ë¥˜:', error);
                
                // ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ ë˜ëŠ” ì„œë²„ ì˜¤ë¥˜ ì‹œ ì ì ˆí•œ ì²˜ë¦¬
                if (error.name === 'TypeError' || error.message.includes('fetch')) {
                    showMessage('ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì„ í™•ì¸í•´ì£¼ì„¸ìš”.', 'error');
                } else {
                    showMessage('ì¸ì¦ í™•ì¸ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.', 'error');
                }
                return false;
            }
        }

        // ì‚¬ìš©ì ì •ë³´ ì—…ë°ì´íŠ¸
        function updateUserInfo(user) {
            const userName = document.getElementById('userName');
            const userRoleText = document.getElementById('userRoleText');
            const adminBadge = document.getElementById('adminBadge');
            const userAvatar = document.getElementById('userAvatar');

            if (userName) {
                userName.textContent = user.name || user.username || 'ì‚¬ìš©ì';
            }

            if (userRoleText) {
                let roleText = 'ê°œì¸ ì„œë¹„ìŠ¤';
                if (user.is_superuser) {
                    roleText = 'ìŠˆí¼ ê´€ë¦¬ì';
                } else if (user.is_staff) {
                    roleText = 'ê´€ë¦¬ì';
                } else if (user.user_type === 'evaluator') {
                    roleText = 'í‰ê°€ì';
                }
                userRoleText.textContent = roleText;
            }

            // ê´€ë¦¬ì ë°°ì§€ í‘œì‹œ
            if (adminBadge) {
                if (user.is_superuser) {
                    adminBadge.textContent = 'ğŸ›¡ï¸ ìŠˆí¼ ê´€ë¦¬ì';
                    adminBadge.style.display = 'inline-block';
                } else if (user.is_staff || user.role === 'admin') {
                    adminBadge.textContent = 'ğŸ›¡ï¸ ê´€ë¦¬ì';
                    adminBadge.style.display = 'inline-block';
                } else {
                    adminBadge.style.display = 'none';
                }
            }

            if (userAvatar) {
                const name = user.name || user.username || 'ì‚¬ìš©ì';
                userAvatar.textContent = name.charAt(0).toUpperCase();
                
                // ê´€ë¦¬ìëŠ” ê³¨ë“œ ë°°ê²½, ìŠˆí¼ ê´€ë¦¬ìëŠ” ë ˆë“œ ë°°ê²½
                if (user.is_superuser) {
                    userAvatar.style.background = 'linear-gradient(135deg, #dc2626, #b91c1c)';
                } else if (user.is_staff || user.role === 'admin') {
                    userAvatar.style.background = 'linear-gradient(135deg, var(--accent-primary), var(--accent-secondary))';
                } else {
                    userAvatar.style.background = '#6b7280';
                }
            }
        }

        // ê´€ë¦¬ì ê¶Œí•œ ì²´í¬ ë° ëª¨ë“œ ì „í™˜ ë²„íŠ¼ í‘œì‹œ
        function checkAdminPermissions(user) {
            const adminToggleBtn = document.getElementById('adminModeToggle');
            const personalServiceToggleBtn = document.getElementById('personalServiceToggle');
            
            // ìŠˆí¼ ê´€ë¦¬ì ë˜ëŠ” ìŠ¤íƒœí”„ ê¶Œí•œì´ ìˆëŠ” ê²½ìš° ê´€ë¦¬ì ëª¨ë“œ ì „í™˜ ë²„íŠ¼ í‘œì‹œ
            if (user.is_superuser || user.is_staff || user.role === 'admin') {
                console.log('âœ… ê´€ë¦¬ì ê¶Œí•œ í™•ì¸ë¨ - ëª¨ë“œ ì „í™˜ ë²„íŠ¼ í‘œì‹œ');
                if (adminToggleBtn) {
                    adminToggleBtn.classList.add('show');
                }
                
                // ìŠˆí¼ ê´€ë¦¬ìì¸ ê²½ìš° ê°œì¸ ì„œë¹„ìŠ¤ í† ê¸€ë„ í‘œì‹œ (í˜„ì¬ ê´€ë¦¬ì ëª¨ë“œì— ìˆì„ ë•Œ)
                if (user.is_superuser && personalServiceToggleBtn) {
                    // URLì´ super-admin-dashboardê°€ ì•„ë‹ˆë©´ ê°œì¸ ì„œë¹„ìŠ¤ í† ê¸€ ìˆ¨ê¹€
                    if (window.location.pathname.includes('super-admin-dashboard')) {
                        personalServiceToggleBtn.style.display = 'block';
                    } else {
                        personalServiceToggleBtn.style.display = 'none';
                    }
                }
            } else {
                console.log('âŒ ê´€ë¦¬ì ê¶Œí•œ ì—†ìŒ - ëª¨ë“œ ì „í™˜ ë²„íŠ¼ ìˆ¨ê¹€');
                if (adminToggleBtn) {
                    adminToggleBtn.classList.remove('show');
                }
                if (personalServiceToggleBtn) {
                    personalServiceToggleBtn.style.display = 'none';
                }
            }
            
            // í˜„ì¬ ì‚¬ìš©ì ì •ë³´ë¥¼ ì „ì—­ ë³€ìˆ˜ì— ì €ì¥
            window.currentUser = user;
        }

        // ì‚¬ì´ë“œë°” ë©”ë‰´ í™œì„±í™”
        document.querySelectorAll('.sidebar-item').forEach(item => {
            item.addEventListener('click', function(e) {
                if (this.getAttribute('href') === '#') {
                    e.preventDefault();
                }
                
                // ëª¨ë“  í•­ëª©ì—ì„œ active í´ë˜ìŠ¤ ì œê±°
                document.querySelectorAll('.sidebar-item').forEach(el => {
                    el.classList.remove('active');
                });
                
                // í´ë¦­í•œ í•­ëª©ì— active í´ë˜ìŠ¤ ì¶”ê°€
                this.classList.add('active');
            });
        });

        // í˜„ì¬ ì‹œê°„ ì—…ë°ì´íŠ¸ (ì˜µì…˜)
        function updateTime() {
            const now = new Date();
            const timeString = now.toLocaleString('ko-KR');
            // ì‹œê°„ í‘œì‹œê°€ í•„ìš”í•œ ê²½ìš° ì—¬ê¸°ì— êµ¬í˜„
        }

        // ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', async function() {
            console.log('ğŸ›¡ï¸ ê°œì¸ ì„œë¹„ìŠ¤ ëŒ€ì‹œë³´ë“œ ì´ˆê¸°í™” ì‹œì‘');
            
            // URL í”„ë˜ê·¸ë¨¼íŠ¸ ì •ë¦¬ (GitHub Pages í™˜ê²½ ëŒ€ì‘)
            if (window.location.hash) {
                console.log('ğŸ”§ URL í”„ë˜ê·¸ë¨¼íŠ¸ ì œê±°:', window.location.hash);
                history.replaceState(null, null, window.location.pathname);
            }
            
            // ë¡œë”© ìƒíƒœ í‘œì‹œ
            showLoadingMessage('ê°œì¸ ì„œë¹„ìŠ¤ ëŒ€ì‹œë³´ë“œë¥¼ ë¡œë”©í•˜ê³  ìˆìŠµë‹ˆë‹¤...');
            
            // ì‚¬ìš©ì ì •ë³´ ìºì‹± ì´ˆê¸°í™”
            window.currentUser = null;
            window.sessionChecked = false;
            
            // API ì„œë¹„ìŠ¤ ë¡œë“œ ëŒ€ê¸° - GitHub Pages í™˜ê²½ ëŒ€ì‘
            let apiLoadAttempts = 0;
            while (typeof window.ahpApi === 'undefined' && apiLoadAttempts < 5) {
                console.log('â³ API ì„œë¹„ìŠ¤ ë¡œë“œ ëŒ€ê¸° ì¤‘...');
                await new Promise(resolve => setTimeout(resolve, 200));
                apiLoadAttempts++;
            }
            
            // API ë¡œë“œ ì‹¤íŒ¨ ì‹œ ì—ëŸ¬ ì²˜ë¦¬
            if (typeof window.ahpApi === 'undefined') {
                console.error('âŒ API ì„œë¹„ìŠ¤ ë¡œë“œ ì‹¤íŒ¨');
                showMessage('ì‹œìŠ¤í…œ ì ê²€ ì¤‘ì…ë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì ‘ì†í•´ì£¼ì„¸ìš”.', 'error');
                return;
            }
            
            console.log('âœ… API ì„œë¹„ìŠ¤ ë¡œë“œ ì™„ë£Œ');
            
            // ìŠˆí¼ê´€ë¦¬ì ì¸ì¦ ìƒíƒœ í™•ì¸
            try {
                const loginSuccess = await checkLoginStatus();
                if (!loginSuccess) {
                    console.error('âŒ ìŠˆí¼ê´€ë¦¬ì ì¸ì¦ë˜ì§€ ì•ŠìŒ');
                    showMessage('ìŠˆí¼ê´€ë¦¬ì ì¸ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤.', 'warning');
                    return;
                }
                
                // ì¸ì¦ ì„±ê³µ - ë¡œë”© ë©”ì‹œì§€ ì œê±°
                hideLoadingMessage();
                console.log('âœ… ì¸ì¦ ì„±ê³µ - ê°œì¸ ì„œë¹„ìŠ¤ ëŒ€ì‹œë³´ë“œ í‘œì‹œ');
                
            } catch (error) {
                console.error('âŒ ì¸ì¦ í™•ì¸ ì‹¤íŒ¨:', error);
                showMessage('ì¸ì¦ í™•ì¸ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.', 'error');
                return;
            }
            
            // ì„¸ì…˜ ì²´í¬ ì™„ë£Œ í”Œë˜ê·¸ ì„¤ì •
            window.sessionChecked = true;
            console.log('âœ… Enhanced Personal Service Dashboard ë¡œë“œ ì™„ë£Œ');
            
            // í•¨ìˆ˜ ì¡´ì¬ ì—¬ë¶€ í™•ì¸
            console.log('ğŸ” í•¨ìˆ˜ ìƒíƒœ ì²´í¬:');
            console.log('- handleMenuClick:', typeof handleMenuClick);
            console.log('- loadPersonalContent:', typeof loadPersonalContent);
            console.log('- getMenuTitle:', typeof getMenuTitle);
            
            // ë©”ë‰´ ì´ë²¤íŠ¸ ë°”ì¸ë”©
            bindMenuEvents();
            
            // ê¸°ë³¸ ëŒ€ì‹œë³´ë“œ ì½˜í…ì¸  í‘œì‹œ
            setTimeout(() => {
                // ì €ì¥ëœ ë©”ë‰´ê°€ ìˆìœ¼ë©´ ë³µì›, ì—†ìœ¼ë©´ ëŒ€ì‹œë³´ë“œ
                const savedMenu = sessionStorage.getItem('currentMenu');
                if (savedMenu) {
                    console.log(`ğŸ“‚ ì €ì¥ëœ ë©”ë‰´ ë³µì›: ${savedMenu}`);
                    handleMenuClick(savedMenu);
                } else {
                    console.log('ğŸ  ëŒ€ì‹œë³´ë“œ ë¡œë”© ì‹œì‘');
                    handleMenuClick('dashboard');
                }
            }, 100);
            
            // ë°±ì—”ë“œ ìƒíƒœ í™•ì¸ (ì˜µì…˜)
            checkBackendStatus();
        });

        // ë©”ë‰´ ì´ë²¤íŠ¸ ë°”ì¸ë”© í•¨ìˆ˜
        function bindMenuEvents() {
            console.log('ğŸ”§ ë©”ë‰´ ì´ë²¤íŠ¸ ë°”ì¸ë”© ì‹œì‘');
            
            // ëª¨ë“  ì‚¬ì´ë“œë°” ë©”ë‰´ í•­ëª©ì— ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
            document.querySelectorAll('.sidebar-item').forEach(item => {
                // ê¸°ì¡´ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì œê±° (ì¤‘ë³µ ë°©ì§€)
                const newItem = item.cloneNode(true);
                item.parentNode.replaceChild(newItem, item);
                
                // ìƒˆë¡œìš´ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
                newItem.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    const contentType = this.getAttribute('data-content');
                    if (contentType) {
                        console.log(`ğŸ“‹ ë©”ë‰´ í´ë¦­ ê°ì§€: ${contentType}`);
                        handleMenuClick(contentType, this);
                    }
                });
            });
            
            console.log('âœ… ë©”ë‰´ ì´ë²¤íŠ¸ ë°”ì¸ë”© ì™„ë£Œ');
        }

        // ë¡œë”© ë° ì¸ì¦ ì—ëŸ¬ í‘œì‹œ í•¨ìˆ˜ë“¤
        function showLoadingMessage(message) {
            const loadingDiv = document.createElement('div');
            loadingDiv.id = 'loading-overlay';
            loadingDiv.innerHTML = `
                <div style="
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: rgba(249, 250, 251, 0.95);
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    z-index: 9999;
                ">
                    <div style="text-align: center;">
                        <div style="
                            width: 40px;
                            height: 40px;
                            border: 3px solid #e5e7eb;
                            border-top: 3px solid #C8A968;
                            border-radius: 50%;
                            animation: spin 1s linear infinite;
                            margin: 0 auto 1rem;
                        "></div>
                        <p style="color: #6b7280;">${message}</p>
                    </div>
                </div>
                <style>
                    @keyframes spin {
                        0% { transform: rotate(0deg); }
                        100% { transform: rotate(360deg); }
                    }
                </style>
            `;
            document.body.appendChild(loadingDiv);
        }

        function hideLoadingMessage() {
            const loadingDiv = document.getElementById('loading-overlay');
            if (loadingDiv) {
                loadingDiv.remove();
            }
        }

        function showAuthError(message, redirectUrl) {
            hideLoadingMessage();
            showMessage(message, 'error');
        }

        // ë°±ì—”ë“œ ìƒíƒœ í™•ì¸
        async function checkBackendStatus() {
            try {
                const response = await fetch('https://ahp-django-backend.onrender.com/api/health/', {
                    method: 'GET',
                    timeout: 5000
                });
                
                if (response.ok) {
                    console.log('âœ… Django ë°±ì—”ë“œ ì •ìƒ ì—°ê²°');
                } else {
                    console.warn('âš ï¸ Django ë°±ì—”ë“œ ì‘ë‹µ ì˜¤ë¥˜');
                }
            } catch (error) {
                console.error('âŒ Django ë°±ì—”ë“œ ì—°ê²° ì‹¤íŒ¨:', error);
            }
        }


        // ê°œì¸ ì„œë¹„ìŠ¤ ì½˜í…ì¸  ë¡œë”©
        function loadPersonalContent(contentType) {
            const mainContent = document.querySelector('.main-content');
            if (!mainContent) return;

            let content = '';
            const title = getMenuTitle(contentType);

            switch(contentType) {
                case 'my-projects':
                    content = generateMyProjectsContent();
                    // í”„ë¡œì íŠ¸ ë¡œë”© í›„ ì‹¤ì œ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
                    setTimeout(() => loadProjectsFromAPI(), 100);
                    break;
                case 'new-project':
                    console.log('ğŸ¯ ìƒˆ í”„ë¡œì íŠ¸ ë©”ë‰´ í´ë¦­ë¨');
                    content = generateNewProjectContent();
                    // í¼ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€ - ë” ê¸´ ì§€ì—°ìœ¼ë¡œ DOM ë Œë”ë§ ì™„ë£Œ ë³´ì¥
                    setTimeout(() => {
                        console.log('â° setupNewProjectForm í˜¸ì¶œ ì˜ˆì •');
                        setupNewProjectForm();
                    }, 200);
                    break;
                case 'criteria-management':
                    content = generateCriteriaManagementContent();
                    // ê¸°ì¤€ ê´€ë¦¬ ì´ˆê¸°í™”
                    setTimeout(() => setupCriteriaManagement(), 100);
                    break;
                case 'pairwise-comparison':
                    content = generatePairwiseComparisonContent();
                    // ìŒëŒ€ë¹„êµ ì´ˆê¸°í™”
                    setTimeout(() => setupPairwiseComparison(), 100);
                    break;
                case 'results-analysis':
                    content = generateResultsAnalysisContent();
                    break;
                case 'visualization-dashboard':
                    content = generateVisualizationDashboardContent();
                    break;
                case 'evaluator-management':
                    // í‰ê°€ì ê´€ë¦¬ ì „ì— ì¸êµ¬í†µê³„í•™ì  ì„¤ë¬¸ì¡°ì‚¬ ë¨¼ì € í™•ì¸
                    content = generateEvaluatorPreSurveyContent();
                    setTimeout(() => setupEvaluatorPreSurvey(), 100);
                    break;
                case 'progress-monitoring':
                    content = generateProgressMonitoringContent();
                    setTimeout(() => loadProgressData(), 100);
                    break;
                case 'collaboration-hub':
                    content = generateCollaborationHubContent();
                    setTimeout(() => setupCollaborationHub(), 100);
                    break;
                case 'alternatives-management':
                    content = generateAlternativesManagementContent();
                    setTimeout(() => setupAlternativesManagement(), 100);
                    break;
                case 'trash':
                    content = generateTrashContent();
                    break;
                case 'report-generation':
                    content = generateReportGenerationContent();
                    break;
                case 'sensitivity-analysis':
                    content = generateSensitivityAnalysisContent();
                    break;
                case 'personal-settings':
                    content = generatePersonalSettingsContent();
                    break;
                case 'plan-management':
                    content = generatePlanManagementContent();
                    break;
                case 'user-guide':
                    content = generateUserGuideContent();
                    setTimeout(() => setupUserGuide(), 100);
                    break;
                case 'team-comparison':
                    content = generateTeamComparisonContent();
                    break;
                case 'real-time-sync':
                    content = generateRealTimeSyncContent();
                    break;
                case 'dashboard':
                    content = generateDashboardContent();
                    setTimeout(() => loadDashboardData(), 100);
                    break;
                case 'model-building':
                    content = generateModelBuildingContent();
                    setTimeout(() => setupModelBuilding(), 100);
                    break;
                case 'demographic-survey':
                    content = generateEvaluatorDemographicSurveyContent();
                    setTimeout(() => setupEvaluatorDemographicSurvey(), 100);
                    break;
                default:
                    content = generateComingSoonContent(title, contentType);
            }

            mainContent.innerHTML = content;
        }

        // í”„ë¡œì íŠ¸ API ì—°ë™ í•¨ìˆ˜ë“¤
        async function loadProjectsFromAPI() {
            const projectsContainer = document.getElementById('projectsContainer');
            if (!projectsContainer) return;

            try {
                console.log('ğŸ“Š 1ì°¨ ê°œë°œ ìŠ¤íƒ€ì¼ í”„ë¡œì íŠ¸ ë¡œë”© ì¤‘...');
                
                // ë¡œë”© ìƒíƒœ í‘œì‹œ
                projectsContainer.innerHTML = `
                    <div id="loadingState" style="text-align: center; padding: 4rem; color: #6b7280;">
                        <div style="display: inline-flex; align-items: center; justify-content: center; margin-bottom: 1rem;">
                            <div style="width: 32px; height: 32px; border: 3px solid #e5e7eb; border-top: 3px solid #C8A968; border-radius: 50%; animation: spin 1s linear infinite;"></div>
                        </div>
                        <p style="margin: 0; font-size: 1rem;">í”„ë¡œì íŠ¸ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤...</p>
                    </div>
                `;

                const result = await window.ahpApi.getProjects();
                
                const projects = Array.isArray(result.data) ? result.data : (result.data.results || []);
                if (result.success && projects.length > 0) {
                    displayProjects1stVersion(projects);
                    console.log(`âœ… ${projects.length}ê°œ í”„ë¡œì íŠ¸ ë¡œë“œ ì™„ë£Œ`);
                } else {
                    displayEmptyProjectsState();
                }
            } catch (error) {
                console.error('âŒ í”„ë¡œì íŠ¸ ë¡œë”© ì‹¤íŒ¨:', error);
                displayProjectsErrorState(error.message);
            }
        }

        // 1ì°¨ ê°œë°œ ë²„ì „ ìŠ¤íƒ€ì¼ì˜ í”„ë¡œì íŠ¸ í‘œì‹œ í•¨ìˆ˜
        function displayProjects1stVersion(projects) {
            const projectsContainer = document.getElementById('projectsContainer');
            if (!projectsContainer) return;

            let projectsHTML = '';
            
            projects.forEach(project => {
                const statusBadge = getStatusBadge1stVersion(project.status || 'draft');
                const formattedDate = formatDate1stVersion(project.created_at || project.updated_at);
                const lastModified = formatDate1stVersion(project.updated_at || project.created_at);
                
                projectsHTML += `
                    <div class="project-card" onclick="selectProject('${project.id}', '${project.title}')">
                        <div style="display: flex; align-items: start; justify-content: space-between; margin-bottom: 1rem;">
                            <div style="flex: 1;">
                                <div style="display: flex; align-items: center; space-x: 0.75rem; margin-bottom: 0.5rem;">
                                    <h3 style="margin: 0; font-size: 1.125rem; font-weight: 500; color: #1f2937;">${project.title || 'ì œëª© ì—†ìŒ'}</h3>
                                    ${statusBadge}
                                </div>
                                
                                ${project.description ? `<p style="color: #6b7280; font-size: 0.875rem; margin: 0.75rem 0; line-height: 1.4; overflow: hidden; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical;">${project.description}</p>` : ''}
                                
                                <div class="project-meta">
                                    <div class="meta-item">
                                        <span class="meta-label">ê¸°ì¤€</span>
                                        <span class="meta-value">${project.criteria_count || 0}ê°œ</span>
                                    </div>
                                    <div class="meta-item">
                                        <span class="meta-label">ëŒ€ì•ˆ</span>
                                        <span class="meta-value">${project.alternatives_count || 0}ê°œ</span>
                                    </div>
                                    <div class="meta-item">
                                        <span class="meta-label">í‰ê°€ì</span>
                                        <span class="meta-value">${project.evaluator_count || 0}ëª…</span>
                                    </div>
                                    <div class="meta-item">
                                        <span class="meta-label">ì§„í–‰ë¥ </span>
                                        <span class="meta-value">${project.completion_rate || 0}%</span>
                                    </div>
                                </div>
                                
                                <!-- í‰ê°€ë°©ì‹ í‘œì‹œ -->
                                <div style="margin-top: 1rem;">
                                    <span class="meta-label">í‰ê°€ë°©ì‹</span>
                                    <div style="margin-top: 0.25rem;">
                                        ${getEvaluationMethodBadge(project.evaluation_method || 'pairwise')}
                                    </div>
                                </div>
                                
                                <div style="display: flex; align-items: center; justify-content: space-between; font-size: 0.75rem; color: #9ca3af; margin-top: 1rem;">
                                    <span>ìƒì„±ì¼: ${formattedDate}</span>
                                    <span>ìˆ˜ì •ì¼: ${lastModified}</span>
                                </div>
                            </div>
                            
                            <div style="margin-left: 1rem; flex-shrink: 0;">
                                <button onclick="event.stopPropagation(); selectProject('${project.id}', '${project.title}')" style="background: #C8A968; color: white; border: none; padding: 0.5rem 1rem; border-radius: 6px; cursor: pointer; font-size: 0.875rem; font-weight: 600; transition: all 0.2s;" onmouseover="this.style.background='#B59A4D'" onmouseout="this.style.background='#C8A968'">
                                    ì„ íƒ
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            });

            projectsContainer.innerHTML = projectsHTML;
        }

        // ë¹ˆ í”„ë¡œì íŠ¸ ìƒíƒœ í‘œì‹œ
        function displayEmptyProjectsState() {
            const projectsContainer = document.getElementById('projectsContainer');
            if (!projectsContainer) return;

            projectsContainer.innerHTML = `
                <div style="text-align: center; padding: 6rem 2rem;">
                    <div style="color: #9ca3af; margin-bottom: 1rem;">
                        <svg style="width: 48px; height: 48px; margin: 0 auto;" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 13h6m-3-3v6m5 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                        </svg>
                    </div>
                    <h3 style="font-size: 1.125rem; font-weight: 500; color: #1f2937; margin-bottom: 0.5rem;">í”„ë¡œì íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤</h3>
                    <p style="color: #6b7280; margin-bottom: 2rem;">ë¨¼ì € ìƒˆ í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•´ì£¼ì„¸ìš”.</p>
                    <button onclick="handleMenuClick('new-project', null)" style="background: #C8A968; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 8px; cursor: pointer; font-weight: 600; transition: all 0.2s;" onmouseover="this.style.background='#B59A4D'" onmouseout="this.style.background='#C8A968'">
                        ìƒˆ í”„ë¡œì íŠ¸ ìƒì„±í•˜ê¸°
                    </button>
                </div>
            `;
        }

        // í”„ë¡œì íŠ¸ ë¡œë”© ì˜¤ë¥˜ ìƒíƒœ í‘œì‹œ
        function displayProjectsErrorState(errorMessage) {
            const projectsContainer = document.getElementById('projectsContainer');
            if (!projectsContainer) return;

            projectsContainer.innerHTML = `
                <div style="background: #fef2f2; border: 1px solid #fecaca; border-radius: 8px; padding: 1rem;">
                    <div style="display: flex; align-items: center;">
                        <div style="color: #dc2626; margin-right: 0.75rem;">
                            <svg style="width: 20px; height: 20px;" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd" />
                            </svg>
                        </div>
                        <div style="flex: 1;">
                            <h3 style="color: #dc2626; font-weight: 500; margin: 0 0 0.25rem 0;">í”„ë¡œì íŠ¸ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤</h3>
                            <p style="color: #7f1d1d; margin: 0; font-size: 0.875rem;">${errorMessage || 'ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.'}</p>
                        </div>
                        <button onclick="loadProjectsFromAPI()" style="background: #6b7280; color: white; border: none; padding: 0.5rem 1rem; border-radius: 6px; cursor: pointer; font-size: 0.875rem; margin-left: 1rem;" onmouseover="this.style.background='#4b5563'" onmouseout="this.style.background='#6b7280'">
                            ë‹¤ì‹œ ì‹œë„
                        </button>
                    </div>
                </div>
            `;
        }

        // 1ì°¨ ê°œë°œ ë²„ì „ ìŠ¤íƒ€ì¼ì˜ ìƒíƒœ ë°°ì§€
        function getStatusBadge1stVersion(status) {
            const statusMap = {
                'draft': { label: 'ì´ˆì•ˆ', class: 'status-draft' },
                'active': { label: 'ì§„í–‰ì¤‘', class: 'status-active' },
                'completed': { label: 'ì™„ë£Œ', class: 'status-completed' }
            };

            const statusInfo = statusMap[status] || statusMap['draft'];
            return `<span class="project-status-badge ${statusInfo.class}">${statusInfo.label}</span>`;
        }

        // 1ì°¨ ê°œë°œ ë²„ì „ ìŠ¤íƒ€ì¼ì˜ ë‚ ì§œ í¬ë§·íŒ…
        function formatDate1stVersion(dateString) {
            if (!dateString) return 'ë‚ ì§œ ì—†ìŒ';
            
            try {
                return new Date(dateString).toLocaleDateString('ko-KR', {
                    year: 'numeric',
                    month: 'short',
                    day: 'numeric'
                });
            } catch {
                return 'ë‚ ì§œ ì—†ìŒ';
            }
        }

        // í‰ê°€ë°©ì‹ ë°°ì§€ ìƒì„± í•¨ìˆ˜
        function getEvaluationMethodBadge(method) {
            const methodInfo = {
                'pairwise': {
                    icon: 'âš–ï¸',
                    name: 'ìŒëŒ€ë¹„êµ',
                    color: '#1e40af',
                    bgColor: '#dbeafe'
                },
                'direct': {
                    icon: 'ğŸ“',
                    name: 'ì§ì ‘ì…ë ¥',
                    color: '#059669',
                    bgColor: '#d1fae5'
                },
                'practical': {
                    icon: 'ğŸ“ˆ',
                    name: 'ì‹¤ë¬´í˜•',
                    color: '#7c2d12',
                    bgColor: '#fed7aa'
                }
            };
            
            const info = methodInfo[method] || methodInfo['pairwise'];
            
            return `
                <span style="display: inline-flex; align-items: center; background: ${info.bgColor}; color: ${info.color}; padding: 0.25rem 0.75rem; border-radius: 9999px; font-size: 0.75rem; font-weight: 500;">
                    <span style="margin-right: 0.25rem;">${info.icon}</span>
                    ${info.name}
                </span>
            `;
        }

        // í”„ë¡œì íŠ¸ ì„ íƒ í•¨ìˆ˜
        function selectProject(projectId, projectTitle) {
            console.log(`ğŸ“‹ í”„ë¡œì íŠ¸ ì„ íƒ: ${projectTitle} (ID: ${projectId})`);
            
            // ì—¬ê¸°ì„œ í”„ë¡œì íŠ¸ ì„¸ë¶€ í˜ì´ì§€ë¡œ ì´ë™í•˜ê±°ë‚˜ ì¶”ê°€ ì‘ì—… ìˆ˜í–‰
            // ì˜ˆ: ê¸°ì¤€ ì„¤ì • í˜ì´ì§€ë¡œ ì´ë™
            alert(`ì„ íƒëœ í”„ë¡œì íŠ¸: ${projectTitle}\n\nê¸°ì¤€ ì„¤ì • í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.`);
            handleMenuClick('criteria-management', null);
        }

        // 1ì°¨ ê°œë°œ ë²„ì „ my-projects í˜ì´ì§€ êµ¬í˜„ ì™„ë£Œ
        // - ProjectSelector.tsx ê¸°ë°˜ìœ¼ë¡œ HTML/JavaScript ë³€í™˜
        // - ê¹”ë”í•œ ì¹´ë“œ ìŠ¤íƒ€ì¼ ë° ìƒíƒœ ê´€ë¦¬
        // - ë¡œë”©, ë¹ˆ ìƒíƒœ, ì˜¤ë¥˜ ìƒíƒœ ì²˜ë¦¬

        // í‰ê°€ë°©ì‹ ì„ íƒ í•¨ìˆ˜
        function selectEvaluationMethod(method, element) {
            // ëª¨ë“  í‰ê°€ë°©ì‹ ì˜µì…˜ ì´ˆê¸°í™”
            const allOptions = document.querySelectorAll('[onclick*="selectEvaluationMethod"]');
            allOptions.forEach(option => {
                option.style.borderColor = '#e5e7eb';
                option.style.backgroundColor = '#ffffff';
                option.classList.remove('selected');
            });
            
            // ì„ íƒëœ ì˜µì…˜ ê°•ì¡°
            element.style.borderColor = '#C8A968';
            element.style.backgroundColor = '#fefdf8';
            element.classList.add('selected');
            
            // ë¼ë””ì˜¤ ë²„íŠ¼ ì²´í¬
            const radioButton = element.querySelector('input[type="radio"]');
            if (radioButton) {
                radioButton.checked = true;
            }
            
            // ì„ íƒëœ í‰ê°€ë°©ì‹ì— ë”°ë¥¸ ì¶”ê°€ ì„¤ëª… í‘œì‹œ
            showEvaluationMethodInfo(method);
            
            console.log(`âœ… í‰ê°€ë°©ì‹ ì„ íƒ: ${method}`);
        }
        
        function showEvaluationMethodInfo(method) {
            // ê¸°ì¡´ ì •ë³´ ì„¹ì…˜ ì œê±°
            const existingInfo = document.getElementById('evaluationMethodInfo');
            if (existingInfo) {
                existingInfo.remove();
            }
            
            const methodDescriptions = {
                'pairwise': {
                    title: 'âš–ï¸ ìŒëŒ€ë¹„êµ í‰ê°€ë°©ì‹',
                    description: 'ë‘ ìš”ì†Œë¥¼ ì§ì ‘ ë¹„êµí•˜ì—¬ ìƒëŒ€ì  ì¤‘ìš”ë„ë¥¼ í‰ê°€í•©ë‹ˆë‹¤.',
                    features: [
                        'ğŸ“Š 9ì  ì²™ë„ ì‚¬ìš© (1/9 ~ 9)',
                        'ğŸ”„ ì¼ê´€ì„± ë¹„ìœ¨ ìë™ ê³„ì‚°',
                        'ğŸ‘¥ ë‹¤ìˆ˜ í‰ê°€ì ì˜ê²¬ ì¢…í•©',
                        'ğŸ“ˆ ì •í™•í•œ ê°€ì¤‘ì¹˜ ë„ì¶œ'
                    ],
                    suitable: 'ì •ì„±ì  íŒë‹¨ì´ ì¤‘ìš”í•œ ì˜ì‚¬ê²°ì •'
                },
                'direct': {
                    title: 'ğŸ“ ì§ì ‘ì…ë ¥ í‰ê°€ë°©ì‹',
                    description: 'ê° ìš”ì†Œì— ì§ì ‘ ì ìˆ˜ë‚˜ ê°€ì¤‘ì¹˜ë¥¼ ì…ë ¥í•˜ì—¬ í‰ê°€í•©ë‹ˆë‹¤.',
                    features: [
                        'âš¡ ë¹ ë¥¸ í‰ê°€ ì™„ë£Œ',
                        'ğŸ“‹ ëª…í™•í•œ ê¸°ì¤€ ì ìš©',
                        'ğŸ”¢ ìˆ˜ì¹˜ ë°ì´í„° í™œìš©',
                        'ğŸ“Š ì¦‰ì‹œ ê²°ê³¼ í™•ì¸'
                    ],
                    suitable: 'ëª…í™•í•œ ì •ëŸ‰ì  ê¸°ì¤€ì´ ìˆëŠ” ê²½ìš°'
                },
                'practical': {
                    title: 'ğŸ“ˆ ì‹¤ë¬´í˜• í‰ê°€ë°©ì‹',
                    description: 'ìŒëŒ€ë¹„êµì™€ ì§ì ‘ì…ë ¥ì„ ìƒí™©ì— ë§ê²Œ í˜¼í•©í•˜ì—¬ ì‚¬ìš©í•©ë‹ˆë‹¤.',
                    features: [
                        'ğŸ”„ ìœ ì—°í•œ í‰ê°€ ë°©ì‹',
                        'âš–ï¸ ì •ì„±ì /ì •ëŸ‰ì  í˜¼í•©',
                        'ğŸ’¼ ì‹¤ë¬´ í™˜ê²½ ìµœì í™”',
                        'ğŸ¯ íš¨ìœ¨ì ì¸ ì˜ì‚¬ê²°ì •'
                    ],
                    suitable: 'ë³µì¡í•œ ì‹¤ë¬´ ì˜ì‚¬ê²°ì • ìƒí™©'
                }
            };
            
            const info = methodDescriptions[method];
            if (!info) return;
            
            // ì •ë³´ ì„¹ì…˜ ìƒì„±
            const infoHTML = `
                <div id="evaluationMethodInfo" style="background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); border: 1px solid #C8A968; border-radius: 12px; padding: 1.5rem; margin-top: 1rem; animation: fadeIn 0.3s ease-in;">
                    <h5 style="margin: 0 0 1rem 0; color: #1f2937; font-size: 1rem;">${info.title}</h5>
                    <p style="margin: 0 0 1rem 0; color: #4b5563; font-size: 0.9rem; line-height: 1.5;">${info.description}</p>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1rem;">
                        <div>
                            <h6 style="margin: 0 0 0.5rem 0; color: #374151; font-size: 0.85rem; font-weight: 600;">ì£¼ìš” íŠ¹ì§•</h6>
                            <ul style="margin: 0; padding-left: 1rem; color: #6b7280; font-size: 0.8rem; line-height: 1.4;">
                                ${info.features.map(feature => `<li>${feature}</li>`).join('')}
                            </ul>
                        </div>
                        <div>
                            <h6 style="margin: 0 0 0.5rem 0; color: #374151; font-size: 0.85rem; font-weight: 600;">ì í•©í•œ ìƒí™©</h6>
                            <p style="margin: 0; color: #6b7280; font-size: 0.8rem; line-height: 1.4;">
                                ğŸ’¡ ${info.suitable}
                            </p>
                        </div>
                    </div>
                </div>
                
                <style>
                    @keyframes fadeIn {
                        from { opacity: 0; transform: translateY(-10px); }
                        to { opacity: 1; transform: translateY(0); }
                    }
                </style>
            `;
            
            // í‰ê°€ë°©ì‹ ì„ íƒ ì„¹ì…˜ ë‹¤ìŒì— ì •ë³´ ì¶”ê°€
            const evaluationSection = document.querySelector('[onclick*="selectEvaluationMethod"]').closest('div').parentNode;
            evaluationSection.insertAdjacentHTML('afterend', infoHTML);
        }

        // ìƒˆ í”„ë¡œì íŠ¸ í¼ ì„¤ì •
        function setupNewProjectForm() {
            console.log('ğŸ”§ í”„ë¡œì íŠ¸ ìƒì„± í¼ ì„¤ì • ì‹œì‘');
            
            const form = document.getElementById('newProjectForm');
            if (!form) {
                console.error('âŒ newProjectFormì„ ì°¾ì„ ìˆ˜ ì—†ìŒ');
                return;
            }

            console.log('âœ… í¼ ìš”ì†Œ ë°œê²¬:', form);

            // ê¸°ì¡´ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì œê±°
            form.removeEventListener('submit', handleFormSubmit);
            
            // ìƒˆ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
            form.addEventListener('submit', handleFormSubmit);
            
            // ì œì¶œ ë²„íŠ¼ì—ë„ ì§ì ‘ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
            const submitBtn = form.querySelector('button[type="submit"]');
            if (submitBtn) {
                console.log('âœ… ì œì¶œ ë²„íŠ¼ ë°œê²¬, ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€');
                submitBtn.removeEventListener('click', handleButtonClick);
                submitBtn.addEventListener('click', handleButtonClick);
            }
            
            console.log('âœ… í”„ë¡œì íŠ¸ ìƒì„± í¼ ì„¤ì • ì™„ë£Œ');
        }
        
        async function handleFormSubmit(e) {
            console.log('ğŸ“ í¼ ì œì¶œ ì´ë²¤íŠ¸ ë°œìƒ!');
            e.preventDefault();
            e.stopPropagation();
            await createNewProject();
        }
        
        async function handleButtonClick(e) {
            console.log('ğŸ–±ï¸ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸ ë°œìƒ!');
            e.preventDefault();
            e.stopPropagation();
            
            // í¼ ìœ íš¨ì„± ê²€ì‚¬
            const form = document.getElementById('newProjectForm');
            if (form && form.checkValidity()) {
                await createNewProject();
            } else if (form) {
                form.reportValidity();
            }
        }


        // ì§ì ‘ í…ŒìŠ¤íŠ¸ í•¨ìˆ˜
        async function testDirectProjectCreation() {
            console.log('ğŸ§ª ì§ì ‘ í”„ë¡œì íŠ¸ ìƒì„± í…ŒìŠ¤íŠ¸ ì‹œì‘');
            
            const testData = {
                title: 'í…ŒìŠ¤íŠ¸ í”„ë¡œì íŠ¸ ' + new Date().toLocaleTimeString(),
                description: 'ìë™ ìƒì„±ëœ í…ŒìŠ¤íŠ¸ í”„ë¡œì íŠ¸ ìƒì„¸ ì„¤ëª…ì…ë‹ˆë‹¤.',
                objective: 'í…ŒìŠ¤íŠ¸ ëª©ì ìœ¼ë¡œ ìƒì„±ëœ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.',
                visibility: 'private',
                consistency_ratio_threshold: 0.1,
                deadline: null,
                tags: ['test', 'general'],
                settings: {
                    category: 'general',
                    priority: 'medium',
                    evaluation_method: 'pairwise',
                    status: 'draft'
                }
            };
            
            showMessage('ì§ì ‘ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì¤‘...', 'info');
            
            try {
                // API ì„œë¹„ìŠ¤ ê°•ì œ ë¡œë“œ
                await forceLoadApiService();
                
                // ìŠˆí¼ê´€ë¦¬ì ì¸ì¦ í™•ì¸
                const userResult = await window.ahpApi.getCurrentUser();
                if (!userResult.success) {
                    showMessage('âŒ í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨: ìŠˆí¼ê´€ë¦¬ì ì¸ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤.', 'error');
                    return;
                }
                console.log('âœ… í…ŒìŠ¤íŠ¸ìš© ìŠˆí¼ê´€ë¦¬ì ì¸ì¦ í™•ì¸ë¨:', userResult.user.name);
                
                console.log('ğŸ“¡ í…ŒìŠ¤íŠ¸ ë°ì´í„°ë¡œ Django API ì§ì ‘ í˜¸ì¶œ:', testData);
                const result = await window.ahpApi.createProject(testData);
                console.log('ğŸ“¡ Django API ì‘ë‹µ:', result);
                
                if (result.success) {
                    showMessage(`âœ… í…ŒìŠ¤íŠ¸ ì„±ê³µ! í”„ë¡œì íŠ¸ê°€ PostgreSQLì— ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.\ní”„ë¡œì íŠ¸: ${testData.title}\n\nğŸ”„ í”„ë¡œì íŠ¸ ëª©ë¡ì„ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤...`, 'success');
                    
                    // ì¦‰ì‹œ í”„ë¡œì íŠ¸ ëª©ë¡ ì—…ë°ì´íŠ¸
                    await refreshProjectList();
                    
                    // ëŒ€ì‹œë³´ë“œê°€ í˜„ì¬ í‘œì‹œë˜ê³  ìˆë‹¤ë©´ ìƒˆë¡œê³ ì¹¨
                    const currentContent = document.querySelector('.main-content');
                    if (currentContent && currentContent.innerHTML.includes('ğŸ“Š ëŒ€ì‹œë³´ë“œ')) {
                        console.log('ğŸ”„ ëŒ€ì‹œë³´ë“œ ë°ì´í„° ìƒˆë¡œê³ ì¹¨');
                        await loadDashboardData();
                    }
                } else {
                    showMessage(`âŒ í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨: ${result.message}`, 'error');
                }
            } catch (error) {
                console.error('âŒ Django PostgreSQL í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨:', error);
                showMessage(`âŒ Django PostgreSQL ì—°ë™ í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨: ${error.message}\në°±ì—”ë“œ ì„œë²„ ìƒíƒœë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.`, 'error');
            }
        }

        // API ì„œë¹„ìŠ¤ ê°•ì œ ë¡œë“œ í•¨ìˆ˜
        async function forceLoadApiService() {
            if (window.ahpApi) {
                console.log('âœ… API ì„œë¹„ìŠ¤ ì´ë¯¸ ë¡œë“œë¨');
                return true;
            }
            
            console.log('ğŸ“¡ API ì„œë¹„ìŠ¤ ê°•ì œ ë¡œë“œ ì‹œì‘...');
            
            return new Promise((resolve, reject) => {
                const script = document.createElement('script');
                script.src = './scripts/api-service.js';
                script.type = 'text/javascript';
                
                script.onload = () => {
                    console.log('âœ… API ì„œë¹„ìŠ¤ ë¡œë“œ ì™„ë£Œ');
                    
                    // API ì´ˆê¸°í™” ëŒ€ê¸°
                    const checkApi = () => {
                        if (window.ahpApi && window.ahpApi.createProject) {
                            console.log('âœ… API ì´ˆê¸°í™” ì™„ë£Œ');
                            resolve(true);
                        } else {
                            setTimeout(checkApi, 100);
                        }
                    };
                    checkApi();
                };
                
                script.onerror = (error) => {
                    console.error('âŒ API ì„œë¹„ìŠ¤ ë¡œë“œ ì‹¤íŒ¨:', error);
                    reject(error);
                };
                
                document.head.appendChild(script);
            });
        }

        async function createNewProject() {
            console.log('ğŸ¯ í”„ë¡œì íŠ¸ ìƒì„± ì‹œì‘');
            const messageDiv = document.getElementById('createProjectMessage');
            
            try {
                // í¼ ìš”ì†Œ ê°’ ê°€ì ¸ì˜¤ê¸°
                const projectName = document.getElementById('projectName');
                const projectGoal = document.getElementById('projectGoal');
                const projectDescription = document.getElementById('projectDescription');
                const projectCategory = document.getElementById('projectCategory');
                const projectPriority = document.getElementById('projectPriority');
                
                // í•„ìˆ˜ í•„ë“œ í™•ì¸
                if (!projectName || !projectName.value.trim()) {
                    showMessage('í”„ë¡œì íŠ¸ ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.', 'error');
                    return;
                }
                
                if (!projectGoal || !projectGoal.value.trim()) {
                    showMessage('í”„ë¡œì íŠ¸ ëª©í‘œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.', 'error');
                    return;
                }
                
                // ì„ íƒëœ í‰ê°€ë°©ì‹ ê°€ì ¸ì˜¤ê¸°
                const selectedEvaluationMethod = document.querySelector('input[name="evaluationMethod"]:checked');
                const evaluationMethod = selectedEvaluationMethod ? selectedEvaluationMethod.value : 'pairwise';
                
                const formData = {
                    title: projectName.value.trim(),
                    description: projectDescription ? projectDescription.value.trim() : '',
                    objective: projectGoal.value.trim(),
                    visibility: 'private',
                    consistency_ratio_threshold: 0.1,
                    deadline: null,
                    tags: [projectCategory ? projectCategory.value : 'general'],
                    settings: {
                        category: projectCategory ? projectCategory.value : 'general',
                        priority: projectPriority ? projectPriority.value : 'medium',
                        evaluation_method: evaluationMethod,
                        status: 'draft'
                    }
                };

                // React ìŠ¤íƒ€ì¼ ê²€ì¦ ê¸°ëŠ¥ ì¶”ê°€
                const errors = validateProjectForm(formData);
                if (Object.keys(errors).length > 0) {
                    displayFormErrors(errors);
                    return;
                }

                // ë¡œë”© í‘œì‹œ
                const submitBtn = document.querySelector('button[type="submit"]');
                const originalText = submitBtn.textContent;
                submitBtn.disabled = true;
                submitBtn.textContent = 'ìƒì„± ì¤‘...';

                console.log('ğŸš€ ìƒˆ í”„ë¡œì íŠ¸ ìƒì„±:', formData);
                
                // API ì„œë¹„ìŠ¤ ê°•ì œ ë¡œë“œ ë° í™•ì¸
                console.log('ğŸ” API ì„œë¹„ìŠ¤ ìƒíƒœ:', typeof window.ahpApi);
                
                if (typeof window.ahpApi === 'undefined' || !window.ahpApi.createProject) {
                    console.log('ğŸ“¡ API ì„œë¹„ìŠ¤ ë¡œë“œ í•„ìš” - ê°•ì œ ë¡œë“œ ì‹œì‘');
                    showMessage('API ì„œë¹„ìŠ¤ë¥¼ ë¡œë“œí•˜ê³  ìˆìŠµë‹ˆë‹¤...', 'info');
                    
                    try {
                        await forceLoadApiService();
                        console.log('âœ… API ì„œë¹„ìŠ¤ ë¡œë“œ ì„±ê³µ');
                    } catch (error) {
                        console.error('âŒ API ì„œë¹„ìŠ¤ ë¡œë“œ ì‹¤íŒ¨:', error);
                        showMessage('API ì„œë¹„ìŠ¤ë¥¼ ë¡œë“œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.', 'error');
                        return;
                    }
                }
                
                // ì¸ì¦ ìƒíƒœ í™•ì¸ (ì„ íƒì‚¬í•­)
                console.log('ğŸ” ì‚¬ìš©ì ì¸ì¦ ìƒíƒœ í™•ì¸');
                try {
                    const userResult = await window.ahpApi.getCurrentUser();
                    if (userResult.success) {
                        console.log('âœ… ì¸ì¦ëœ ì‚¬ìš©ì:', userResult.user.name);
                    } else {
                        console.log('â„¹ï¸ ìµëª… ì‚¬ìš©ìë¡œ í”„ë¡œì íŠ¸ ìƒì„±');
                    }
                } catch (error) {
                    console.log('â„¹ï¸ ì¸ì¦ í™•ì¸ ì‹¤íŒ¨, ìµëª… ì‚¬ìš©ìë¡œ ì§„í–‰:', error.message);
                }
                showMessage('í”„ë¡œì íŠ¸ë¥¼ Django PostgreSQLì— ì €ì¥í•˜ê³  ìˆìŠµë‹ˆë‹¤...', 'info');
                
                console.log('ğŸ“¡ Django ë°±ì—”ë“œ API í˜¸ì¶œ ì‹œì‘...');
                console.log('ğŸ“„ ì „ì†¡ ë°ì´í„°:', JSON.stringify(formData, null, 2));
                
                let result;
                try {
                    result = await window.ahpApi.createProject(formData);
                    console.log('ğŸ“¡ Django API ì‘ë‹µ:', result);
                } catch (apiError) {
                    console.error('âŒ Django API í˜¸ì¶œ ì‹¤íŒ¨:', apiError);
                    showMessage(`Django PostgreSQL ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë„¤íŠ¸ì›Œí¬ ì—°ê²°ê³¼ ë°±ì—”ë“œ ì„œë²„ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.\nì˜¤ë¥˜: ${apiError.message}`, 'error');
                    return;
                }

                if (result.success) {
                    const evaluationMethodNames = {
                        'pairwise': 'âš–ï¸ ìŒëŒ€ë¹„êµ',
                        'direct': 'ğŸ“ ì§ì ‘ì…ë ¥', 
                        'practical': 'ğŸ“ˆ ì‹¤ë¬´í˜•'
                    };
                    const methodName = evaluationMethodNames[evaluationMethod] || 'âš–ï¸ ìŒëŒ€ë¹„êµ';
                    
                    console.log('âœ… PostgreSQL ë°ì´í„°ë² ì´ìŠ¤ì— í”„ë¡œì íŠ¸ ì €ì¥ ì™„ë£Œ');
                    console.log('ğŸ“‹ ìƒì„±ëœ í”„ë¡œì íŠ¸ ID:', result.data?.id || result.project?.id);
                    console.log('ğŸ“‹ ì „ì²´ ì‘ë‹µ ë°ì´í„°:', result);
                    
                    showMessage(`âœ… í”„ë¡œì íŠ¸ê°€ PostgreSQL ë°ì´í„°ë² ì´ìŠ¤ì— ì„±ê³µì ìœ¼ë¡œ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!\nğŸ“Š í”„ë¡œì íŠ¸: ${formData.title}\n${methodName} ë°©ì‹ìœ¼ë¡œ ì„¤ì •ë¨\n\nğŸš€ í”„ë¡œì íŠ¸ ëª©ë¡ì„ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤...`, 'success');
                    
                    // ì¦‰ì‹œ í”„ë¡œì íŠ¸ ëª©ë¡ ì—…ë°ì´íŠ¸
                    await refreshProjectList();
                    
                    // ì‚¬ìš©ì ì„ íƒ: í”„ë¡œì íŠ¸ ëª©ë¡ ë³´ê¸° ë˜ëŠ” ëª¨ë¸ êµ¬ì¶•ìœ¼ë¡œ ì´ë™
                    const userChoice = confirm('í”„ë¡œì íŠ¸ê°€ ì„±ê³µì ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤!\n\nìƒˆë¡œ ìƒì„±ëœ í”„ë¡œì íŠ¸ë¥¼ í”„ë¡œì íŠ¸ ëª©ë¡ì—ì„œ í™•ì¸í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\n\n"í™•ì¸" - í”„ë¡œì íŠ¸ ëª©ë¡ ë³´ê¸°\n"ì·¨ì†Œ" - ëª¨ë¸ êµ¬ì¶• ë‹¨ê³„ë¡œ ì´ë™');
                    
                    if (userChoice) {
                        // í”„ë¡œì íŠ¸ ëª©ë¡ìœ¼ë¡œ ì´ë™
                        setTimeout(() => {
                            handleMenuClick('my-projects', null);
                        }, 1000);
                    } else {
                        // 2ì´ˆ í›„ ëª¨ë¸ êµ¬ì¶•ìœ¼ë¡œ ì´ë™
                        setTimeout(() => {
                            handleMenuClick('model-building', null);
                        }, 2000);
                    }
                } else {
                    showMessage(result.message || 'í”„ë¡œì íŠ¸ ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.', 'error');
                }

                // ë²„íŠ¼ ìƒíƒœ ë³µì›
                if (submitBtn) {
                    submitBtn.disabled = false;
                    submitBtn.textContent = originalText;
                }

            } catch (error) {
                console.error('âŒ í”„ë¡œì íŠ¸ ìƒì„± ì˜¤ë¥˜:', error);
                showMessage(`í”„ë¡œì íŠ¸ ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ${error.message}`, 'error');
            } finally {
                // ë²„íŠ¼ ìƒíƒœ ë³µì›
                const submitBtn = document.querySelector('button[type="submit"]');
                if (submitBtn) {
                    submitBtn.disabled = false;
                    submitBtn.textContent = 'ğŸš€ í”„ë¡œì íŠ¸ ìƒì„±';
                }
            }
        }

        function showMessage(message, type = 'info') {
            const messageDiv = document.getElementById('createProjectMessage');
            if (!messageDiv) return;

            const colors = {
                success: { bg: '#f0fdf4', border: '#bbf7d0', text: '#16a34a' },
                error: { bg: '#fef2f2', border: '#fecaca', text: '#dc2626' },
                info: { bg: '#f0f9ff', border: '#bae6fd', text: '#0284c7' }
            };

            const style = colors[type] || colors.info;

            messageDiv.innerHTML = `
                <div style="
                    background: ${style.bg}; 
                    border: 1px solid ${style.border}; 
                    color: ${style.text}; 
                    padding: 1rem; 
                    border-radius: 8px; 
                    margin-top: 1rem;
                    font-size: 0.9rem;
                    display: flex;
                    align-items: center;
                    gap: 0.5rem;
                ">
                    <span>${type === 'success' ? 'âœ…' : type === 'error' ? 'âŒ' : 'â„¹ï¸'}</span>
                    ${message}
                </div>
            `;

            // 5ì´ˆ í›„ ë©”ì‹œì§€ ì œê±°
            setTimeout(() => {
                messageDiv.innerHTML = '';
            }, 5000);
        }

        // ê¸°ì¤€ ê´€ë¦¬ í•¨ìˆ˜ë“¤
        function setupCriteriaManagement() {
            loadCriteriaFromAPI();
            
            // ê¸°ì¤€ ì¶”ê°€ í¼ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
            const addCriteriaForm = document.getElementById('addCriteriaForm');
            if (addCriteriaForm) {
                addCriteriaForm.addEventListener('submit', async (e) => {
                    e.preventDefault();
                    await addNewCriteria();
                });
            }
        }

        async function loadCriteriaFromAPI() {
            try {
                console.log('âš–ï¸ ê¸°ì¤€ ëª©ë¡ ë¡œë”© ì‹œì‘');
                
                // í˜„ì¬ ì„ íƒëœ í”„ë¡œì íŠ¸ê°€ ìˆëŠ”ì§€ í™•ì¸
                // ì‹¤ì œ í™˜ê²½ì—ì„œëŠ” í˜„ì¬ í”„ë¡œì íŠ¸ IDë¥¼ ê°€ì ¸ì™€ì•¼ í•¨
                const currentProjectId = getCurrentProjectId();
                
                if (!currentProjectId) {
                    displayNoCriteriaProject();
                    return;
                }
                
                // API í˜¸ì¶œ
                const result = await window.ahpApi.getCriteria(currentProjectId);
                displayCriteria(result.data || []);
                
            } catch (error) {
                console.error('âŒ ê¸°ì¤€ ë¡œë”© ì˜¤ë¥˜:', error);
                displayCriteria([]);
            }
        }

        function getCurrentProjectId() {
            // URL íŒŒë¼ë¯¸í„°ì—ì„œ í˜„ì¬ ì„ íƒëœ í”„ë¡œì íŠ¸ IDë¥¼ ë°˜í™˜
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get('projectId') || null;
        }

        function displayNoCriteriaProject() {
            const criteriaContainer = document.getElementById('criteriaContainer');
            if (!criteriaContainer) return;

            criteriaContainer.innerHTML = `
                <div style="text-align: center; padding: 3rem; background: #f9fafb; border-radius: 8px; border: 2px dashed #d1d5db;">
                    <div style="font-size: 3rem; margin-bottom: 1rem;">ğŸ“‹</div>
                    <h3 style="margin-bottom: 1rem; color: #1f2937;">í”„ë¡œì íŠ¸ë¥¼ ë¨¼ì € ì„ íƒí•˜ì„¸ìš”</h3>
                    <p style="margin-bottom: 2rem; color: #666;">ê¸°ì¤€ì„ ì„¤ì •í•˜ë ¤ë©´ ë¨¼ì € í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•˜ê±°ë‚˜ ê¸°ì¡´ í”„ë¡œì íŠ¸ë¥¼ ì„ íƒí•´ì•¼ í•©ë‹ˆë‹¤.</p>
                    <button onclick="handleMenuClick('my-projects', null)" style="background: #C8A968; color: white; border: none; padding: 1rem 2rem; border-radius: 8px; cursor: pointer; font-size: 1rem; margin-right: 1rem;">ë‚´ í”„ë¡œì íŠ¸</button>
                    <button onclick="handleMenuClick('new-project', null)" style="background: #3b82f6; color: white; border: none; padding: 1rem 2rem; border-radius: 8px; cursor: pointer; font-size: 1rem;">ìƒˆ í”„ë¡œì íŠ¸</button>
                </div>
            `;
        }

        // React ìŠ¤íƒ€ì¼ í¼ ê²€ì¦ ê¸°ëŠ¥
        function validateProjectForm(formData) {
            const errors = {};
            
            // í”„ë¡œì íŠ¸ëª… ê²€ì¦
            if (!formData.title.trim()) {
                errors.title = 'í”„ë¡œì íŠ¸ëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.';
            } else if (formData.title.length < 2) {
                errors.title = 'í”„ë¡œì íŠ¸ëª…ì€ 2ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.';
            } else if (formData.title.length > 100) {
                errors.title = 'í”„ë¡œì íŠ¸ëª…ì€ 100ì ì´í•˜ì—¬ì•¼ í•©ë‹ˆë‹¤.';
            }
            
            // ëª©í‘œ ê²€ì¦ (objective)
            if (!formData.objective || !formData.objective.trim()) {
                errors.objective = 'í”„ë¡œì íŠ¸ ëª©í‘œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.';
            } else if (formData.objective.length < 10) {
                errors.objective = 'ëª©í‘œëŠ” 10ì ì´ìƒ ì…ë ¥í•´ì£¼ì„¸ìš”.';
            }
            
            // í‰ê°€ë°©ì‹ ê²€ì¦ (settings ë‚´ë¶€)
            if (!formData.settings || !formData.settings.evaluation_method) {
                errors.evaluation_method = 'í‰ê°€ë°©ì‹ì„ ì„ íƒí•´ì£¼ì„¸ìš”.';
            } else if (!['pairwise', 'direct', 'practical'].includes(formData.settings.evaluation_method)) {
                errors.evaluation_method = 'ì˜¬ë°”ë¥¸ í‰ê°€ë°©ì‹ì„ ì„ íƒí•´ì£¼ì„¸ìš”.';
            }
            
            // ì„¤ëª… ê²€ì¦
            if (!formData.description.trim()) {
                errors.description = 'í”„ë¡œì íŠ¸ ì„¤ëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.';
            } else if (formData.description.length < 10) {
                errors.description = 'ì„¤ëª…ì€ 10ì ì´ìƒ ì…ë ¥í•´ì£¼ì„¸ìš”.';
            }
            
            return errors;
        }
        
        function displayFormErrors(errors) {
            // ê¸°ì¡´ ì—ëŸ¬ ë©”ì‹œì§€ ì œê±°
            const errorElements = document.querySelectorAll('.field-error');
            errorElements.forEach(el => {
                el.style.display = 'none';
                el.textContent = '';
            });
            
            // ìƒˆ ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ
            Object.keys(errors).forEach(field => {
                const errorEl = document.getElementById(`${field}Error`) || 
                                document.getElementById(`project${field.charAt(0).toUpperCase() + field.slice(1)}Error`);
                if (errorEl) {
                    errorEl.textContent = errors[field];
                    errorEl.style.display = 'block';
                }
                
                // í•„ë“œ ìƒ‰ìƒ ë³€ê²½
                const fieldEl = document.getElementById(`project${field.charAt(0).toUpperCase() + field.slice(1)}`) ||
                               document.getElementById(field);
                if (fieldEl) {
                    fieldEl.style.borderColor = '#ef4444';
                    fieldEl.style.boxShadow = '0 0 0 2px rgba(239, 68, 68, 0.1)';
                }
            });
        }
        
        function clearFieldError(fieldName) {
            const errorEl = document.getElementById(`${fieldName}Error`);
            if (errorEl) {
                errorEl.style.display = 'none';
                errorEl.textContent = '';
            }
            
            // í•„ë“œ ìƒ‰ìƒ ë¦¬ì…‹
            const fieldEl = document.getElementById(fieldName);
            if (fieldEl) {
                fieldEl.style.borderColor = '#d1d5db';
                fieldEl.style.boxShadow = 'none';
            }
        }
        
        // ë°ëª¨ ê¸°ì¤€ í•¨ìˆ˜ ì œê±° - ì‹¤ì œ ë°ì´í„°ë§Œ ì‚¬ìš©

        function displayCriteria(criteria) {
            const criteriaContainer = document.getElementById('criteriaContainer');
            if (!criteriaContainer) return;

            if (criteria.length === 0) {
                criteriaContainer.innerHTML = `
                    <div style="text-align: center; padding: 3rem; background: #f9fafb; border-radius: 8px; border: 2px dashed #d1d5db;">
                        <div style="font-size: 3rem; margin-bottom: 1rem;">âš–ï¸</div>
                        <h3 style="margin-bottom: 1rem; color: #1f2937;">ì•„ì§ ì„¤ì •ëœ ê¸°ì¤€ì´ ì—†ìŠµë‹ˆë‹¤</h3>
                        <p style="margin-bottom: 2rem; color: #666;">AHP ë¶„ì„ì„ ì‹œì‘í•˜ê¸° ìœ„í•œ í‰ê°€ ê¸°ì¤€ì„ ì¶”ê°€í•´ë³´ì„¸ìš”</p>
                        <button onclick="showAddCriteriaModal()" style="background: #C8A968; color: white; border: none; padding: 1rem 2rem; border-radius: 8px; cursor: pointer; font-size: 1rem;">ì²« ê¸°ì¤€ ì¶”ê°€</button>
                    </div>
                `;
                return;
            }

            let criteriaHTML = `
                <div style="display: grid; gap: 1rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 1rem; background: #f8fafc; border-radius: 8px; font-weight: 600; border-bottom: 2px solid #e5e7eb;">
                        <span style="flex: 1;">ê¸°ì¤€ëª…</span>
                        <span style="flex: 2;">ì„¤ëª…</span>
                        <span style="flex: 1; text-align: center;">ì¤‘ìš”ë„</span>
                        <span style="flex: 1; text-align: center;">ìˆœì„œ</span>
                        <span style="flex: 1; text-align: center;">ê´€ë¦¬</span>
                    </div>
            `;

            criteria.forEach((criterion, index) => {
                const weightBadge = getWeightBadge(criterion.weight);
                
                criteriaHTML += `
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 1rem; background: white; border: 1px solid #e5e7eb; border-radius: 8px; transition: all 0.2s;" onMouseOver="this.style.boxShadow='0 2px 8px rgba(0,0,0,0.1)'" onMouseOut="this.style.boxShadow='none'">
                        <div style="flex: 1;">
                            <div style="font-weight: 600; margin-bottom: 0.25rem;">${criterion.name}</div>
                        </div>
                        <div style="flex: 2; padding-right: 1rem;">
                            <div style="color: #666; font-size: 0.9rem; line-height: 1.4;">${criterion.description}</div>
                        </div>
                        <div style="flex: 1; text-align: center;">
                            <span style="background: ${weightBadge.bg}; color: ${weightBadge.text}; padding: 0.25rem 0.75rem; border-radius: 12px; font-size: 0.8rem;">${weightBadge.label}</span>
                        </div>
                        <div style="flex: 1; text-align: center;">
                            <div style="display: flex; justify-content: center; gap: 0.5rem;">
                                ${index > 0 ? `<button onclick="moveCriteria('${criterion.id}', 'up')" style="background: #f3f4f6; border: 1px solid #d1d5db; border-radius: 4px; width: 24px; height: 24px; cursor: pointer; display: flex; align-items: center; justify-content: center;" title="ìœ„ë¡œ">â†‘</button>` : '<div style="width: 24px;"></div>'}
                                ${index < criteria.length - 1 ? `<button onclick="moveCriteria('${criterion.id}', 'down')" style="background: #f3f4f6; border: 1px solid #d1d5db; border-radius: 4px; width: 24px; height: 24px; cursor: pointer; display: flex; align-items: center; justify-content: center;" title="ì•„ë˜ë¡œ">â†“</button>` : '<div style="width: 24px;"></div>'}
                            </div>
                        </div>
                        <div style="flex: 1; text-align: center;">
                            <div style="display: flex; justify-content: center; gap: 0.5rem;">
                                <button onclick="editCriteria('${criterion.id}')" style="background: #6b7280; color: white; border: none; border-radius: 4px; padding: 0.25rem 0.5rem; cursor: pointer; font-size: 0.8rem;" title="í¸ì§‘">âœï¸</button>
                                <button onclick="deleteCriteria('${criterion.id}')" style="background: #dc2626; color: white; border: none; border-radius: 4px; padding: 0.25rem 0.5rem; cursor: pointer; font-size: 0.8rem;" title="ì‚­ì œ">ğŸ—‘ï¸</button>
                            </div>
                        </div>
                    </div>
                `;
            });

            criteriaHTML += `
                </div>
                <div style="margin-top: 2rem; padding: 1.5rem; background: #f0f9ff; border-radius: 8px; border-left: 4px solid #3b82f6;">
                    <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 1rem;">
                        <span style="font-size: 1.2rem;">â„¹ï¸</span>
                        <h4 style="margin: 0; color: #1f2937;">ë‹¤ìŒ ë‹¨ê³„</h4>
                    </div>
                    <p style="color: #666; margin-bottom: 1rem;">ê¸°ì¤€ ì„¤ì •ì´ ì™„ë£Œë˜ë©´ ë‹¤ìŒ ë‹¨ê³„ë¥¼ ì§„í–‰í•˜ì„¸ìš”:</p>
                    <div style="display: flex; gap: 1rem;">
                        <button onclick="handleMenuClick('alternatives-management', null)" style="background: #10b981; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer;">1. ëŒ€ì•ˆ ì„¤ì •</button>
                        <button onclick="handleMenuClick('pairwise-comparison', null)" style="background: #3b82f6; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer;">2. ìŒëŒ€ë¹„êµ</button>
                        <button onclick="handleMenuClick('evaluator-management', null)" style="background: #8b5cf6; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer;">3. í‰ê°€ì ê´€ë¦¬</button>
                    </div>
                </div>
            `;

            criteriaContainer.innerHTML = criteriaHTML;
        }

        function getWeightBadge(weight) {
            const weightMap = {
                'high': { bg: '#fef3c7', text: '#92400e', label: 'ë†’ìŒ' },
                'normal': { bg: '#e0f2fe', text: '#0277bd', label: 'ë³´í†µ' },
                'low': { bg: '#f3e8ff', text: '#7c3aed', label: 'ë‚®ìŒ' }
            };
            return weightMap[weight] || weightMap.normal;
        }

        // ê¸°ì¤€ ê´€ë¦¬ í•¨ìˆ˜ë“¤
        function showAddCriteriaModal() {
            const modal = document.getElementById('addCriteriaModal');
            if (modal) {
                modal.style.display = 'flex';
                document.getElementById('criteriaName').focus();
            }
        }

        function hideAddCriteriaModal() {
            const modal = document.getElementById('addCriteriaModal');
            if (modal) {
                modal.style.display = 'none';
                // í¼ ë¦¬ì…‹
                const form = document.getElementById('addCriteriaForm');
                if (form) form.reset();
            }
        }

        async function addNewCriteria() {
            try {
                const formData = {
                    name: document.getElementById('criteriaName').value.trim(),
                    description: document.getElementById('criteriaDescription').value.trim(),
                    weight: document.getElementById('criteriaWeight').value
                };

                if (!formData.name) {
                    alert('ê¸°ì¤€ëª…ì€ í•„ìˆ˜ ì…ë ¥ ì‚¬í•­ì…ë‹ˆë‹¤.');
                    return;
                }

                console.log('âš–ï¸ ìƒˆ ê¸°ì¤€ ì¶”ê°€:', formData);

                // API í˜¸ì¶œ (ì‹¤ì œ í™˜ê²½ì—ì„œ í™œì„±í™”)
                // const result = await window.ahpApi.createCriterion(getCurrentProjectId(), formData);
                
                // ë°ëª¨ ì‘ë‹µ ì‹œë®¬ë ˆì´ì…˜
                await new Promise(resolve => setTimeout(resolve, 500));
                
                hideAddCriteriaModal();
                alert('ê¸°ì¤€ì´ ì„±ê³µì ìœ¼ë¡œ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤!');
                loadCriteriaFromAPI(); // ëª©ë¡ ìƒˆë¡œê³ ì¹¨
                
            } catch (error) {
                console.error('âŒ ê¸°ì¤€ ì¶”ê°€ ì˜¤ë¥˜:', error);
                alert('ê¸°ì¤€ ì¶”ê°€ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
            }
        }

        function editCriteria(criteriaId) {
            console.log('âœï¸ ê¸°ì¤€ í¸ì§‘:', criteriaId);
            alert(`ê¸°ì¤€ ${criteriaId} í¸ì§‘ ê¸°ëŠ¥ êµ¬í˜„ ì˜ˆì •`);
        }

        function deleteCriteria(criteriaId) {
            if (!confirm('ì •ë§ë¡œ ì´ ê¸°ì¤€ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?\nì‚­ì œ ì‹œ ê´€ë ¨ëœ ëª¨ë“  í‰ê°€ ë°ì´í„°ê°€ í•¨ê»˜ ì‚­ì œë©ë‹ˆë‹¤.')) {
                return;
            }

            console.log('ğŸ—‘ï¸ ê¸°ì¤€ ì‚­ì œ:', criteriaId);
            alert('ê¸°ì¤€ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.');
            loadCriteriaFromAPI(); // ëª©ë¡ ìƒˆë¡œê³ ì¹¨
        }

        function moveCriteria(criteriaId, direction) {
            console.log('ğŸ“Š ê¸°ì¤€ ìˆœì„œ ë³€ê²½:', criteriaId, direction);
            alert(`ê¸°ì¤€ ìˆœì„œ ë³€ê²½ ê¸°ëŠ¥ êµ¬í˜„ ì˜ˆì • (${direction})`);
            // ì‹¤ì œ êµ¬í˜„ ì‹œ ìˆœì„œ ë³€ê²½ í›„ ëª©ë¡ ìƒˆë¡œê³ ì¹¨
            // loadCriteriaFromAPI();
        }

        // ìŒëŒ€ë¹„êµ ê´€ë ¨ í•¨ìˆ˜ë“¤
        let currentPairwiseData = {
            criteria: [],
            comparisons: [],
            currentIndex: 0,
            totalComparisons: 0
        };

        function setupPairwiseComparison() {
            loadPairwiseData();
        }

        async function loadPairwiseData() {
            try {
                console.log('âš¡ ìŒëŒ€ë¹„êµ ë°ì´í„° ë¡œë”© ì‹œì‘');
                
                const currentProjectId = getCurrentProjectId();
                
                if (!currentProjectId) {
                    displayNoPairwiseProject();
                    return;
                }
                
                // API í˜¸ì¶œí•˜ì—¬ ê¸°ì¤€ ëª©ë¡ ê°€ì ¸ì˜¤ê¸° (ì‹¤ì œ í™˜ê²½ì—ì„œ í™œì„±í™”)
                // const criteriaResult = await window.ahpApi.getCriteria(currentProjectId);
                
                // ì‹¤ì œ ê¸°ì¤€ ë°ì´í„° ë¡œë“œ
                const projectId = getCurrentProjectId();
                if (!projectId) {
                    displayNoPairwiseProject();
                    return;
                }
                
                const result = await window.ahpApi.getCriteria(projectId);
                const criteria = result.data || [];
                
                if (criteria.length < 2) {
                    displayInsufficientCriteria();
                    return;
                }
                
                // ìŒëŒ€ë¹„êµ ë°ì´í„° ì´ˆê¸°í™”
                initializePairwiseComparison(criteria);
                
            } catch (error) {
                console.error('âŒ ìŒëŒ€ë¹„êµ ë°ì´í„° ë¡œë”© ì˜¤ë¥˜:', error);
                displayPairwiseError(error);
            }
        }

        function displayNoPairwiseProject() {
            const container = document.getElementById('pairwiseContainer');
            if (!container) return;

            container.innerHTML = `
                <div style="text-align: center; padding: 3rem; background: #f9fafb; border-radius: 8px; border: 2px dashed #d1d5db;">
                    <div style="font-size: 3rem; margin-bottom: 1rem;">ğŸ“‹</div>
                    <h3 style="margin-bottom: 1rem; color: #1f2937;">í”„ë¡œì íŠ¸ë¥¼ ë¨¼ì € ì„ íƒí•˜ì„¸ìš”</h3>
                    <p style="margin-bottom: 2rem; color: #666;">ìŒëŒ€ë¹„êµë¥¼ ìˆ˜í–‰í•˜ë ¤ë©´ ë¨¼ì € í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•˜ê±°ë‚˜ ê¸°ì¡´ í”„ë¡œì íŠ¸ë¥¼ ì„ íƒí•´ì•¼ í•©ë‹ˆë‹¤.</p>
                    <button onclick="handleMenuClick('my-projects', null)" style="background: #C8A968; color: white; border: none; padding: 1rem 2rem; border-radius: 8px; cursor: pointer; font-size: 1rem; margin-right: 1rem;">ë‚´ í”„ë¡œì íŠ¸</button>
                    <button onclick="handleMenuClick('new-project', null)" style="background: #3b82f6; color: white; border: none; padding: 1rem 2rem; border-radius: 8px; cursor: pointer; font-size: 1rem;">ìƒˆ í”„ë¡œì íŠ¸</button>
                </div>
            `;
        }

        function displayInsufficientCriteria() {
            const container = document.getElementById('pairwiseContainer');
            if (!container) return;

            container.innerHTML = `
                <div style="text-align: center; padding: 3rem; background: #fef3c7; border-radius: 8px; border: 2px dashed #f59e0b;">
                    <div style="font-size: 3rem; margin-bottom: 1rem;">âš–ï¸</div>
                    <h3 style="margin-bottom: 1rem; color: #92400e;">ê¸°ì¤€ì´ ë¶€ì¡±í•©ë‹ˆë‹¤</h3>
                    <p style="margin-bottom: 2rem; color: #92400e;">ìŒëŒ€ë¹„êµë¥¼ ìˆ˜í–‰í•˜ë ¤ë©´ ìµœì†Œ 2ê°œ ì´ìƒì˜ ê¸°ì¤€ì´ í•„ìš”í•©ë‹ˆë‹¤.</p>
                    <button onclick="handleMenuClick('criteria-management', null)" style="background: #f59e0b; color: white; border: none; padding: 1rem 2rem; border-radius: 8px; cursor: pointer; font-size: 1rem;">ê¸°ì¤€ ì„¤ì •í•˜ê¸°</button>
                </div>
            `;
        }

        function displayPairwiseError(error) {
            const container = document.getElementById('pairwiseContainer');
            if (!container) return;

            container.innerHTML = `
                <div style="text-align: center; padding: 3rem; background: #fef2f2; border-radius: 8px; border: 2px dashed #ef4444;">
                    <div style="font-size: 3rem; margin-bottom: 1rem;">âŒ</div>
                    <h3 style="margin-bottom: 1rem; color: #dc2626;">ë°ì´í„° ë¡œë”© ì˜¤ë¥˜</h3>
                    <p style="margin-bottom: 2rem; color: #dc2626;">${error.message || 'ìŒëŒ€ë¹„êµ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.'}</p>
                    <button onclick="loadPairwiseData()" style="background: #dc2626; color: white; border: none; padding: 1rem 2rem; border-radius: 8px; cursor: pointer; font-size: 1rem;">ë‹¤ì‹œ ì‹œë„</button>
                </div>
            `;
        }

        function initializePairwiseComparison(criteria) {
            // ëª¨ë“  ê°€ëŠ¥í•œ ìŒëŒ€ë¹„êµ ì¡°í•© ìƒì„±
            const comparisons = [];
            for (let i = 0; i < criteria.length; i++) {
                for (let j = i + 1; j < criteria.length; j++) {
                    comparisons.push({
                        criteriaA: criteria[i],
                        criteriaB: criteria[j],
                        value: null,
                        completed: false
                    });
                }
            }

            currentPairwiseData = {
                criteria: criteria,
                comparisons: comparisons,
                currentIndex: 0,
                totalComparisons: comparisons.length
            };

            displayPairwiseComparison();
            updateProgress();
        }

        function displayPairwiseComparison() {
            const container = document.getElementById('pairwiseContainer');
            if (!container) return;

            const { comparisons, currentIndex, totalComparisons } = currentPairwiseData;
            
            if (currentIndex >= totalComparisons) {
                displayComparisonComplete();
                return;
            }

            const currentComparison = comparisons[currentIndex];
            const { criteriaA, criteriaB } = currentComparison;

            container.innerHTML = `
                <div style="background: #f9fafb; padding: 2.5rem; border-radius: 12px; text-align: center;">
                    <div style="margin-bottom: 1.5rem;">
                        <span style="background: #e5e7eb; color: #4b5563; padding: 0.25rem 0.75rem; border-radius: 12px; font-size: 0.9rem;">${currentIndex + 1} / ${totalComparisons}</span>
                    </div>
                    
                    <h3 style="margin-bottom: 1rem; color: #1f2937; font-size: 1.5rem;">
                        "${criteriaA.name}" vs "${criteriaB.name}"
                    </h3>
                    <p style="color: #666; margin-bottom: 2.5rem; font-size: 1.1rem;">
                        "${criteriaA.name}"ì´ "${criteriaB.name}"ì— ë¹„í•´<br>
                        ì–¼ë§ˆë‚˜ ë” ì¤‘ìš”í•˜ë‹¤ê³  ìƒê°í•˜ì‹­ë‹ˆê¹Œ?
                    </p>
                    
                    <!-- ì™¼ìª½ ì„ íƒ (criteriaAê°€ ë” ì¤‘ìš”) -->
                    <div style="display: flex; justify-content: center; align-items: center; gap: 1rem; margin-bottom: 2rem;">
                        <div style="text-align: center; min-width: 120px;">
                            <div style="font-weight: 600; color: #C8A968; margin-bottom: 0.5rem;">${criteriaA.name}</div>
                            <div style="font-size: 0.8rem; color: #666;">ì´ ë” ì¤‘ìš”</div>
                        </div>
                        
                        <div style="display: flex; gap: 0.25rem; align-items: center;">
                            ${[9, 7, 5, 3, 1].map(value => `
                                <button onclick="setPairwiseValue('left', ${value})" 
                                        style="width: 45px; height: 45px; border: 2px solid #d1d5db; background: white; cursor: pointer; border-radius: 8px; font-weight: 600; transition: all 0.2s; font-size: 1rem;"
                                        onMouseOver="this.style.borderColor='#C8A968'; this.style.background='#f5f3f0'"
                                        onMouseOut="this.style.borderColor='#d1d5db'; this.style.background='white'"
                                        title="${getScaleLabel(value)}">
                                    ${value}
                                </button>
                            `).join('')}
                            
                            <div style="margin: 0 1rem; font-size: 1.2rem; color: #666;">vs</div>
                            
                            ${[1, 3, 5, 7, 9].map(value => `
                                <button onclick="setPairwiseValue('right', ${value})" 
                                        style="width: 45px; height: 45px; border: 2px solid #d1d5db; background: white; cursor: pointer; border-radius: 8px; font-weight: 600; transition: all 0.2s; font-size: 1rem;"
                                        onMouseOver="this.style.borderColor='#C8A968'; this.style.background='#f5f3f0'"
                                        onMouseOut="this.style.borderColor='#d1d5db'; this.style.background='white'"
                                        title="${getScaleLabel(value)}">
                                    ${value}
                                </button>
                            `).join('')}
                        </div>
                        
                        <div style="text-align: center; min-width: 120px;">
                            <div style="font-weight: 600; color: #C8A968; margin-bottom: 0.5rem;">${criteriaB.name}</div>
                            <div style="font-size: 0.8rem; color: #666;">ì´ ë” ì¤‘ìš”</div>
                        </div>
                    </div>
                    
                    <!-- ì¤‘ê°„ê°’ ë²„íŠ¼ë“¤ -->
                    <div style="margin-bottom: 2rem;">
                        <p style="font-size: 0.9rem; color: #666; margin-bottom: 0.5rem;">ì¤‘ê°„ê°’ì„ ì„ íƒí•˜ë ¤ë©´:</p>
                        <div style="display: flex; justify-content: center; gap: 0.5rem;">
                            ${[2, 4, 6, 8].map(value => `
                                <button onclick="showIntermediateValueModal(${value})" 
                                        style="width: 35px; height: 35px; border: 1px solid #d1d5db; background: #f9fafb; cursor: pointer; border-radius: 6px; font-size: 0.9rem; transition: all 0.2s;"
                                        onMouseOver="this.style.borderColor='#C8A968'; this.style.background='#f5f3f0'"
                                        onMouseOut="this.style.borderColor='#d1d5db'; this.style.background='#f9fafb'"
                                        title="ì¤‘ê°„ê°’ ${value}">
                                    ${value}
                                </button>
                            `).join('')}
                        </div>
                    </div>
                    
                    <div id="currentSelection" style="margin-bottom: 2rem; min-height: 1.5rem;">
                        <!-- í˜„ì¬ ì„ íƒëœ ê°’ í‘œì‹œ -->
                    </div>
                    
                    <div style="display: flex; justify-content: center; gap: 1rem;">
                        <button onclick="previousComparison()" 
                                ${currentIndex === 0 ? 'disabled' : ''} 
                                style="background: ${currentIndex === 0 ? '#e5e7eb' : '#6b7280'}; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 8px; cursor: ${currentIndex === 0 ? 'not-allowed' : 'pointer'}; font-size: 1rem;">
                            â† ì´ì „
                        </button>
                        <button onclick="skipComparison()" 
                                style="background: #f59e0b; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 8px; cursor: pointer; font-size: 1rem;">
                            ê±´ë„ˆë›°ê¸°
                        </button>
                        <button id="nextComparisonBtn" onclick="nextComparison()" 
                                disabled 
                                style="background: #e5e7eb; color: #9ca3af; border: none; padding: 0.75rem 1.5rem; border-radius: 8px; cursor: not-allowed; font-size: 1rem;">
                            ë‹¤ìŒ â†’
                        </button>
                    </div>
                </div>
                
                <!-- ì¤‘ê°„ê°’ ì„ íƒ ëª¨ë‹¬ (ìˆ¨ê¹€) -->
                <div id="intermediateModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 10000; justify-content: center; align-items: center;">
                    <div style="background: white; padding: 2rem; border-radius: 12px; max-width: 400px; width: 90%; text-align: center;">
                        <h3 style="margin-bottom: 1rem; color: #1f2937;">ì¤‘ê°„ê°’ ì„ íƒ</h3>
                        <p style="margin-bottom: 1.5rem; color: #666;">ì–´ëŠ ìª½ì´ ë” ì¤‘ìš”í•œì§€ ì„ íƒí•˜ì„¸ìš”</p>
                        <div id="intermediateOptions" style="display: flex; gap: 1rem; justify-content: center; margin-bottom: 1.5rem;">
                            <!-- ì¤‘ê°„ê°’ ì„ íƒ ì˜µì…˜ë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                        </div>
                        <button onclick="hideIntermediateModal()" style="background: #6b7280; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 8px; cursor: pointer;">ì·¨ì†Œ</button>
                    </div>
                </div>
            `;

            // ì§„í–‰ë¥  í‘œì‹œ
            const progressDiv = document.getElementById('comparisonProgress');
            if (progressDiv) {
                progressDiv.style.display = 'block';
            }
        }

        function getScaleLabel(value) {
            const labels = {
                1: 'ë™ë“±í•¨',
                2: 'ë™ë“±í•¨~ì•½ê°„ ì¤‘ìš”',
                3: 'ì•½ê°„ ì¤‘ìš”',
                4: 'ì•½ê°„ ì¤‘ìš”~ì¤‘ìš”í•¨',
                5: 'ì¤‘ìš”í•¨',
                6: 'ì¤‘ìš”í•¨~ë§¤ìš° ì¤‘ìš”',
                7: 'ë§¤ìš° ì¤‘ìš”',
                8: 'ë§¤ìš° ì¤‘ìš”~ì ˆëŒ€ ì¤‘ìš”',
                9: 'ì ˆëŒ€ ì¤‘ìš”'
            };
            return labels[value] || value.toString();
        }

        function setPairwiseValue(side, value) {
            const { comparisons, currentIndex } = currentPairwiseData;
            const currentComparison = comparisons[currentIndex];
            
            // ê°’ ì„¤ì • (ì™¼ìª½ì´ë©´ ì–‘ìˆ˜, ì˜¤ë¥¸ìª½ì´ë©´ ìŒìˆ˜ë¡œ êµ¬ë¶„)
            const finalValue = side === 'left' ? value : (1/value);
            currentComparison.value = finalValue;
            currentComparison.completed = true;
            
            // ì„ íƒ ìƒíƒœ í‘œì‹œ
            updateCurrentSelection(currentComparison.criteriaA.name, currentComparison.criteriaB.name, side, value);
            
            // ë‹¤ìŒ ë²„íŠ¼ í™œì„±í™”
            const nextBtn = document.getElementById('nextComparisonBtn');
            if (nextBtn) {
                nextBtn.disabled = false;
                nextBtn.style.background = '#C8A968';
                nextBtn.style.color = 'white';
                nextBtn.style.cursor = 'pointer';
            }
            
            console.log(`âš¡ ìŒëŒ€ë¹„êµ ê°’ ì„¤ì •: ${currentComparison.criteriaA.name} vs ${currentComparison.criteriaB.name} = ${finalValue}`);
        }

        function updateCurrentSelection(criteriaA, criteriaB, side, value) {
            const selectionDiv = document.getElementById('currentSelection');
            if (!selectionDiv) return;
            
            const winner = side === 'left' ? criteriaA : criteriaB;
            const loser = side === 'left' ? criteriaB : criteriaA;
            
            selectionDiv.innerHTML = `
                <div style="background: #f0f9ff; border: 1px solid #3b82f6; border-radius: 8px; padding: 1rem;">
                    <span style="font-weight: 600; color: #1f2937;">"${winner}"</span>ì´ 
                    <span style="font-weight: 600; color: #1f2937;">"${loser}"</span>ë³´ë‹¤ 
                    <span style="background: #3b82f6; color: white; padding: 0.25rem 0.75rem; border-radius: 12px; font-weight: 600;">${getScaleLabel(value)}</span>
                </div>
            `;
        }

        function showIntermediateValueModal(value) {
            const modal = document.getElementById('intermediateModal');
            const optionsDiv = document.getElementById('intermediateOptions');
            
            if (!modal || !optionsDiv) return;
            
            const { comparisons, currentIndex } = currentPairwiseData;
            const currentComparison = comparisons[currentIndex];
            
            optionsDiv.innerHTML = `
                <button onclick="setPairwiseValueIntermediate('left', ${value})" 
                        style="flex: 1; background: #C8A968; color: white; border: none; padding: 1rem; border-radius: 8px; cursor: pointer;">
                    ${currentComparison.criteriaA.name}ì´<br>${value}ë°° ì¤‘ìš”
                </button>
                <button onclick="setPairwiseValueIntermediate('right', ${value})" 
                        style="flex: 1; background: #C8A968; color: white; border: none; padding: 1rem; border-radius: 8px; cursor: pointer;">
                    ${currentComparison.criteriaB.name}ì´<br>${value}ë°° ì¤‘ìš”
                </button>
            `;
            
            modal.style.display = 'flex';
        }

        function hideIntermediateModal() {
            const modal = document.getElementById('intermediateModal');
            if (modal) {
                modal.style.display = 'none';
            }
        }

        function setPairwiseValueIntermediate(side, value) {
            setPairwiseValue(side, value);
            hideIntermediateModal();
        }

        function previousComparison() {
            if (currentPairwiseData.currentIndex > 0) {
                currentPairwiseData.currentIndex--;
                displayPairwiseComparison();
                updateProgress();
            }
        }

        function nextComparison() {
            const { comparisons, currentIndex } = currentPairwiseData;
            
            if (!comparisons[currentIndex].completed) {
                alert('ë¹„êµê°’ì„ ì„ íƒí•´ì£¼ì„¸ìš”.');
                return;
            }
            
            currentPairwiseData.currentIndex++;
            displayPairwiseComparison();
            updateProgress();
            
            // APIì— ë¹„êµ ê²°ê³¼ ì €ì¥ (ì‹¤ì œ í™˜ê²½ì—ì„œ í™œì„±í™”)
            // savePairwiseComparison(comparisons[currentIndex]);
        }

        function skipComparison() {
            if (confirm('ì´ ë¹„êµë¥¼ ê±´ë„ˆë›°ì‹œê² ìŠµë‹ˆê¹Œ?\në‚˜ì¤‘ì— ë‹¤ì‹œ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.')) {
                currentPairwiseData.currentIndex++;
                displayPairwiseComparison();
                updateProgress();
            }
        }

        function updateProgress() {
            const { comparisons, totalComparisons } = currentPairwiseData;
            const completedCount = comparisons.filter(c => c.completed).length;
            const progressPercent = Math.round((completedCount / totalComparisons) * 100);
            
            const progressText = document.getElementById('progressText');
            const progressBar = document.getElementById('progressBar');
            
            if (progressText) {
                progressText.textContent = `${completedCount}/${totalComparisons} ì™„ë£Œ`;
            }
            
            if (progressBar) {
                progressBar.style.width = `${progressPercent}%`;
            }
        }

        function displayComparisonComplete() {
            const container = document.getElementById('pairwiseContainer');
            if (!container) return;

            const { comparisons } = currentPairwiseData;
            const completedCount = comparisons.filter(c => c.completed).length;
            const totalCount = comparisons.length;
            const completionRate = Math.round((completedCount / totalCount) * 100);

            container.innerHTML = `
                <div style="text-align: center; padding: 3rem; background: #f0fdf4; border-radius: 12px; border: 2px solid #10b981;">
                    <div style="font-size: 4rem; margin-bottom: 1rem;">ğŸ‰</div>
                    <h3 style="margin-bottom: 1rem; color: #065f46;">ìŒëŒ€ë¹„êµ ì™„ë£Œ!</h3>
                    <p style="margin-bottom: 2rem; color: #047857;">
                        ì´ ${totalCount}ê°œ ì¤‘ ${completedCount}ê°œì˜ ë¹„êµë¥¼ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤ (${completionRate}%)
                    </p>
                    
                    <div style="display: flex; justify-content: center; gap: 1rem; margin-bottom: 2rem;">
                        <div style="background: white; padding: 1rem; border-radius: 8px; text-align: center; min-width: 120px;">
                            <div style="font-size: 1.5rem; font-weight: bold; color: #10b981;">${completedCount}</div>
                            <div style="font-size: 0.9rem; color: #666;">ì™„ë£Œëœ ë¹„êµ</div>
                        </div>
                        <div style="background: white; padding: 1rem; border-radius: 8px; text-align: center; min-width: 120px;">
                            <div style="font-size: 1.5rem; font-weight: bold; color: #f59e0b;">${totalCount - completedCount}</div>
                            <div style="font-size: 0.9rem; color: #666;">ê±´ë„ˆë›´ ë¹„êµ</div>
                        </div>
                    </div>
                    
                    <div style="display: flex; justify-content: center; gap: 1rem;">
                        <button onclick="calculateResults()" style="background: #10b981; color: white; border: none; padding: 1rem 2rem; border-radius: 8px; cursor: pointer; font-size: 1rem; font-weight: 600;">ğŸ“Š ê²°ê³¼ ê³„ì‚°í•˜ê¸°</button>
                        <button onclick="reviewComparisons()" style="background: #3b82f6; color: white; border: none; padding: 1rem 2rem; border-radius: 8px; cursor: pointer; font-size: 1rem; font-weight: 600;">ğŸ“ ë¹„êµ ê²€í† í•˜ê¸°</button>
                        <button onclick="resetPairwiseComparison()" style="background: #6b7280; color: white; border: none; padding: 1rem 2rem; border-radius: 8px; cursor: pointer; font-size: 1rem; font-weight: 600;">ğŸ”„ ë‹¤ì‹œ ì‹œì‘</button>
                    </div>
                </div>
            `;
        }

        function calculateResults() {
            console.log('ğŸ“Š AHP ê²°ê³¼ ê³„ì‚° ì‹œì‘');
            handleMenuClick('results-analysis', null);
        }

        function reviewComparisons() {
            console.log('ğŸ“ ìŒëŒ€ë¹„êµ ê²€í†  ì‹œì‘');
            currentPairwiseData.currentIndex = 0;
            displayPairwiseComparison();
        }

        function resetPairwiseComparison() {
            if (confirm('ëª¨ë“  ìŒëŒ€ë¹„êµë¥¼ ì´ˆê¸°í™”í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\nì…ë ¥í•œ ëª¨ë“  ë°ì´í„°ê°€ ì‚­ì œë©ë‹ˆë‹¤.')) {
                console.log('ğŸ”„ ìŒëŒ€ë¹„êµ ì´ˆê¸°í™”');
                loadPairwiseData();
            }
        }

        // =========================
        // Phase 2: AHP ê³„ì‚° ì—”ì§„
        // =========================
        
        /**
         * AHP ìš°ì„ ìˆœìœ„ ê³„ì‚°ì„ ìœ„í•œ ìˆ˜í•™ì  í•¨ìˆ˜ë“¤
         */
        class AHPCalculator {
            constructor() {
                this.randomIndex = {
                    1: 0, 2: 0, 3: 0.58, 4: 0.9, 5: 1.12, 6: 1.24, 7: 1.32, 8: 1.41, 9: 1.45, 10: 1.49
                };
            }

            /**
             * ìŒëŒ€ë¹„êµ ë§¤íŠ¸ë¦­ìŠ¤ ìƒì„±
             */
            createComparisonMatrix(criteria, comparisons) {
                const n = criteria.length;
                const matrix = Array(n).fill().map(() => Array(n).fill(1));

                // ëŒ€ê°ì„ ì€ 1ë¡œ ì´ˆê¸°í™” (ìê¸° ìì‹ ê³¼ì˜ ë¹„êµ)
                for (let i = 0; i < n; i++) {
                    matrix[i][i] = 1;
                }

                // ìŒëŒ€ë¹„êµ ê²°ê³¼ë¥¼ ë§¤íŠ¸ë¦­ìŠ¤ì— ì…ë ¥
                comparisons.forEach(comparison => {
                    if (!comparison.completed) return;

                    const indexA = criteria.findIndex(c => c.id === comparison.criteriaA.id);
                    const indexB = criteria.findIndex(c => c.id === comparison.criteriaB.id);

                    if (indexA >= 0 && indexB >= 0) {
                        matrix[indexA][indexB] = comparison.value || 1;
                        matrix[indexB][indexA] = 1 / (comparison.value || 1); // ì—­ìˆ˜ ê´€ê³„
                    }
                });

                return matrix;
            }

            /**
             * ê¸°í•˜í‰ê· ë²•ì„ ì‚¬ìš©í•œ ê³ ìœ ë²¡í„° ê³„ì‚° (ìš°ì„ ìˆœìœ„ ê³„ì‚°)
             */
            calculatePriorities(matrix) {
                const n = matrix.length;
                const priorities = [];

                for (let i = 0; i < n; i++) {
                    let product = 1;
                    for (let j = 0; j < n; j++) {
                        product *= matrix[i][j];
                    }
                    priorities[i] = Math.pow(product, 1/n);
                }

                // ì •ê·œí™” (í•©ì´ 1ì´ ë˜ë„ë¡)
                const sum = priorities.reduce((a, b) => a + b, 0);
                return priorities.map(p => p / sum);
            }

            /**
             * ì¼ê´€ì„± ë¹„ìœ¨ (CR) ê³„ì‚°
             */
            calculateConsistencyRatio(matrix, priorities) {
                const n = matrix.length;
                
                if (n <= 2) return 0; // 2x2 ë§¤íŠ¸ë¦­ìŠ¤ëŠ” í•­ìƒ ì¼ê´€ì„± ìˆìŒ

                // Î»max (ìµœëŒ€ ê³ ìœ ê°’) ê³„ì‚°
                let lambdaMax = 0;
                for (let i = 0; i < n; i++) {
                    let sum = 0;
                    for (let j = 0; j < n; j++) {
                        sum += matrix[i][j] * priorities[j];
                    }
                    lambdaMax += sum / priorities[i];
                }
                lambdaMax /= n;

                // CI (ì¼ê´€ì„± ì§€ìˆ˜) ê³„ì‚°
                const ci = (lambdaMax - n) / (n - 1);

                // CR (ì¼ê´€ì„± ë¹„ìœ¨) ê³„ì‚°
                const ri = this.randomIndex[n] || 1.49;
                const cr = ci / ri;

                return {
                    lambdaMax: lambdaMax,
                    ci: ci,
                    cr: cr,
                    isConsistent: cr <= 0.1 // 10% ì´í•˜ë©´ ì¼ê´€ì„± ìˆìŒ
                };
            }

            /**
             * ì „ì²´ AHP ë¶„ì„ ì‹¤í–‰
             */
            performAHPAnalysis(criteria, comparisons) {
                console.log('ğŸ”¢ AHP ë¶„ì„ ì‹œì‘:', { criteria: criteria.length, comparisons: comparisons.length });

                // 1. ë¹„êµ ë§¤íŠ¸ë¦­ìŠ¤ ìƒì„±
                const matrix = this.createComparisonMatrix(criteria, comparisons);
                console.log('ğŸ“Š ë¹„êµ ë§¤íŠ¸ë¦­ìŠ¤:', matrix);

                // 2. ìš°ì„ ìˆœìœ„ ê³„ì‚°
                const priorities = this.calculatePriorities(matrix);
                console.log('ğŸ“ˆ ìš°ì„ ìˆœìœ„:', priorities);

                // 3. ì¼ê´€ì„± ê²€ì¦
                const consistency = this.calculateConsistencyRatio(matrix, priorities);
                console.log('ğŸ¯ ì¼ê´€ì„± ê²€ì¦:', consistency);

                // 4. ê²°ê³¼ë¥¼ ê¸°ì¤€ê³¼ ë§¤ì¹­
                const results = criteria.map((criterion, index) => ({
                    criterion: criterion,
                    priority: priorities[index],
                    rank: 0 // ë‚˜ì¤‘ì— ìˆœìœ„ ê³„ì‚°
                }));

                // 5. ìš°ì„ ìˆœìœ„ ìˆœìœ¼ë¡œ ì •ë ¬ ë° ìˆœìœ„ ë¶€ì—¬
                results.sort((a, b) => b.priority - a.priority);
                results.forEach((result, index) => {
                    result.rank = index + 1;
                });

                return {
                    matrix: matrix,
                    priorities: priorities,
                    consistency: consistency,
                    results: results,
                    completedComparisons: comparisons.filter(c => c.completed).length,
                    totalComparisons: comparisons.length,
                    completionRate: Math.round((comparisons.filter(c => c.completed).length / comparisons.length) * 100)
                };
            }
        }

        // AHP ê³„ì‚°ê¸° ì¸ìŠ¤í„´ìŠ¤
        const ahpCalculator = new AHPCalculator();

        /**
         * í˜„ì¬ í”„ë¡œì íŠ¸ì˜ AHP ë¶„ì„ ì‹¤í–‰
         */
        function performCurrentProjectAnalysis() {
            const currentProject = getCurrentProject();
            const currentCriteria = getCurrentCriteria(); 
            const currentComparisons = getCurrentComparisons();

            if (!currentProject || !currentCriteria || currentCriteria.length < 2) {
                console.warn('âš ï¸ AHP ë¶„ì„ì„ ìœ„í•œ ë°ì´í„°ê°€ ë¶€ì¡±í•©ë‹ˆë‹¤');
                return null;
            }

            return ahpCalculator.performAHPAnalysis(currentCriteria, currentComparisons);
        }

        /**
         * í˜„ì¬ í”„ë¡œì íŠ¸ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
         */
        function getCurrentProject() {
            // í˜„ì¬ ì„ íƒëœ í”„ë¡œì íŠ¸ ì •ë³´ ë°˜í™˜
            const projectId = getCurrentProjectId();
            if (!projectId) return null;
            
            // APIë¥¼ í†µí•´ í”„ë¡œì íŠ¸ ì •ë³´ë¥¼ ê°€ì ¸ì™€ì•¼ í•¨
            // TODO: window.ahpApi.getProject(projectId)
            return { id: projectId, name: 'í˜„ì¬ í”„ë¡œì íŠ¸' };
        }

        /**
         * í˜„ì¬ ê¸°ì¤€ ëª©ë¡ ê°€ì ¸ì˜¤ê¸°
         */
        function getCurrentCriteria() {
            // ì‹¤ì œ êµ¬í˜„ ì‹œì—ëŠ” APIì—ì„œ ê°€ì ¸ì˜¤ê±°ë‚˜ í˜„ì¬ ìƒíƒœì—ì„œ ì¡°íšŒ
            return currentCriteriaData?.criteria || [];
        }

        /**
         * í˜„ì¬ ìŒëŒ€ë¹„êµ ê²°ê³¼ ê°€ì ¸ì˜¤ê¸°
         */
        function getCurrentComparisons() {
            // ì‹¤ì œ êµ¬í˜„ ì‹œì—ëŠ” APIì—ì„œ ê°€ì ¸ì˜¤ê±°ë‚˜ í˜„ì¬ ìƒíƒœì—ì„œ ì¡°íšŒ
            return currentPairwiseData?.comparisons || [];
        }

        /**
         * calculateResults í•¨ìˆ˜ ì—…ë°ì´íŠ¸ - ì‹¤ì œ AHP ê³„ì‚° ìˆ˜í–‰
         */
        function calculateResults() {
            console.log('ğŸ“Š AHP ê²°ê³¼ ê³„ì‚° ì‹œì‘');
            
            // AHP ë¶„ì„ ì‹¤í–‰
            const analysisResult = performCurrentProjectAnalysis();
            
            if (analysisResult) {
                // ê²°ê³¼ë¥¼ ì „ì—­ ë³€ìˆ˜ì— ì €ì¥ (ê²°ê³¼ í™”ë©´ì—ì„œ ì‚¬ìš©)
                window.currentAHPResult = analysisResult;
                console.log('âœ… AHP ë¶„ì„ ì™„ë£Œ:', analysisResult);
            } else {
                // ë¶„ì„ ì‹¤íŒ¨ ì‹œ ê¸°ë³¸ê°’ ì„¤ì •
                window.currentAHPResult = null;
                console.warn('âš ï¸ AHP ë¶„ì„ ì‹¤íŒ¨ - ë°ì´í„°ê°€ ë¶€ì¡±í•©ë‹ˆë‹¤');
            }
            
            handleMenuClick('results-analysis', null);
        }

        /**
         * ì¶”ê°€ AHP ë¶„ì„ í•¨ìˆ˜ë“¤
         */
        function recalculateResults() {
            console.log('ğŸ”„ AHP ê²°ê³¼ ì¬ê³„ì‚° ì‹œì‘');
            calculateResults(); // ê¸°ì¡´ ê³„ì‚° í•¨ìˆ˜ ì¬ì‹¤í–‰
        }

        function downloadAHPReport() {
            const ahpResult = window.currentAHPResult;
            if (!ahpResult) {
                alert('ë¨¼ì € AHP ë¶„ì„ì„ ì™„ë£Œí•´ì£¼ì„¸ìš”.');
                return;
            }

            // ê°„ë‹¨í•œ í…ìŠ¤íŠ¸ ë³´ê³ ì„œ ìƒì„±
            const currentProject = getCurrentProject();
            const reportText = generateTextReport(currentProject, ahpResult);
            
            // íŒŒì¼ ë‹¤ìš´ë¡œë“œ
            const blob = new Blob([reportText], { type: 'text/plain;charset=utf-8' });
            const url = window.URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `AHP_ë¶„ì„ë³´ê³ ì„œ_${currentProject?.name || 'í”„ë¡œì íŠ¸'}_${new Date().toISOString().split('T')[0]}.txt`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            window.URL.revokeObjectURL(url);
            
            console.log('ğŸ“„ AHP ë¶„ì„ ë³´ê³ ì„œ ë‹¤ìš´ë¡œë“œ ì™„ë£Œ');
        }

        function generateTextReport(project, ahpResult) {
            const { consistency, results, completionRate, completedComparisons, totalComparisons } = ahpResult;
            const date = new Date().toLocaleDateString('ko-KR');
            const time = new Date().toLocaleTimeString('ko-KR');
            
            let report = '';
            report += '==================================================\n';
            report += '           AHP (Analytic Hierarchy Process)\n';
            report += '                  ë¶„ì„ ê²°ê³¼ ë³´ê³ ì„œ\n';
            report += '==================================================\n\n';
            
            report += `ë¶„ì„ ì¼ì‹œ: ${date} ${time}\n`;
            report += `í”„ë¡œì íŠ¸: ${project?.name || 'ì´ë¦„ ì—†ìŒ'}\n`;
            report += `ëª©í‘œ: ${project?.goal || 'ëª©í‘œ ì—†ìŒ'}\n`;
            report += `ì„¤ëª…: ${project?.description || 'ì„¤ëª… ì—†ìŒ'}\n\n`;
            
            report += '==================================================\n';
            report += '                   ë¶„ì„ ê°œìš”\n';
            report += '==================================================\n';
            report += `í‰ê°€ ê¸°ì¤€ ìˆ˜: ${results.length}ê°œ\n`;
            report += `ì´ ë¹„êµ ìŒ: ${totalComparisons}ê°œ\n`;
            report += `ì™„ë£Œëœ ë¹„êµ: ${completedComparisons}ê°œ (${completionRate}%)\n`;
            report += `ë¶„ì„ ë°©ë²•: ê¸°í•˜í‰ê· ë²• (Geometric Mean Method)\n\n`;
            
            report += '==================================================\n';
            report += '                 ì¼ê´€ì„± ê²€ì¦ ê²°ê³¼\n';
            report += '==================================================\n';
            report += `ìµœëŒ€ ê³ ìœ ê°’ (Î»max): ${consistency.lambdaMax.toFixed(6)}\n`;
            report += `ì¼ê´€ì„± ì§€ìˆ˜ (CI): ${consistency.ci.toFixed(6)}\n`;
            report += `ë¬´ì‘ìœ„ ì§€ìˆ˜ (RI): ${ahpCalculator.randomIndex[results.length] || 1.49}\n`;
            report += `ì¼ê´€ì„± ë¹„ìœ¨ (CR): ${consistency.cr.toFixed(6)}\n`;
            report += `ì¼ê´€ì„± ìƒíƒœ: ${consistency.isConsistent ? 'í†µê³¼ (CR â‰¤ 0.1)' : 'ê²€í†  í•„ìš” (CR > 0.1)'}\n\n`;
            
            if (!consistency.isConsistent) {
                report += 'âš ï¸  ê²½ê³ : ì¼ê´€ì„± ë¹„ìœ¨ì´ 0.1ì„ ì´ˆê³¼í•©ë‹ˆë‹¤.\n';
                report += '    ìŒëŒ€ë¹„êµë¥¼ ì¬ê²€í† í•˜ì—¬ ì¼ê´€ì„±ì„ ê°œì„ í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.\n\n';
            }
            
            report += '==================================================\n';
            report += '                ìµœì¢… ìš°ì„ ìˆœìœ„ ê²°ê³¼\n';
            report += '==================================================\n';
            results.forEach((result, index) => {
                const percentage = (result.priority * 100).toFixed(2);
                report += `${result.rank}ìœ„. ${result.criterion.name}\n`;
                report += `     ìš°ì„ ìˆœìœ„: ${result.priority.toFixed(6)} (${percentage}%)\n`;
                if (result.criterion.description) {
                    report += `     ì„¤ëª…: ${result.criterion.description}\n`;
                }
                report += '\n';
            });
            
            report += '==================================================\n';
            report += '                   ê¶Œì¥ì‚¬í•­\n';
            report += '==================================================\n';
            const topCriterion = results[0];
            const topPercentage = (topCriterion.priority * 100).toFixed(1);
            report += `â€¢ ìµœìš°ì„  ê¸°ì¤€: "${topCriterion.criterion.name}" (${topPercentage}%)\n`;
            report += `â€¢ ì˜ì‚¬ê²°ì • ì‹œ "${topCriterion.criterion.name}" ê¸°ì¤€ì„ ê°€ì¥ ì¤‘ìš”í•˜ê²Œ ê³ ë ¤í•˜ì„¸ìš”.\n`;
            
            if (consistency.isConsistent) {
                report += `â€¢ ì¼ê´€ì„± ê²€ì¦ì„ í†µê³¼í•˜ì—¬ ê²°ê³¼ë¥¼ ì‹ ë¢°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n`;
            } else {
                report += `â€¢ ì¼ê´€ì„±ì´ ë¶€ì¡±í•˜ë¯€ë¡œ ìŒëŒ€ë¹„êµë¥¼ ì¬ê²€í† í•´ì£¼ì„¸ìš”.\n`;
            }
            
            report += '\n==================================================\n';
            report += 'ë³¸ ë³´ê³ ì„œëŠ” AHP for Paper í”Œë«í¼ì—ì„œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.\n';
            report += `ìƒì„± ì‹œê°„: ${date} ${time}\n`;
            report += '==================================================\n';
            
            return report;
        }

        function generateVisualization() {
            console.log('ğŸ“Š AHP ì‹œê°í™” ìƒì„± ì‹œì‘');
            const ahpResult = window.currentAHPResult;
            if (!ahpResult) {
                alert('ë¨¼ì € AHP ë¶„ì„ì„ ì™„ë£Œí•´ì£¼ì„¸ìš”.');
                return;
            }

            // ì‹œê°í™” í˜ì´ì§€ë¡œ ì´ë™í•˜ê³  ë°ì´í„° ì „ë‹¬
            handleMenuClick('visualization-dashboard', null);
        }

        /**
         * ì‹œê°í™” ëŒ€ì‹œë³´ë“œ ì½˜í…ì¸  ìƒì„±
         */
        function generateVisualizationDashboardContent() {
            const ahpResult = window.currentAHPResult;
            if (!ahpResult) {
                return generateComingSoonContent('ì‹œê°í™” ëŒ€ì‹œë³´ë“œ', 'visualization-dashboard');
            }

            const { results, consistency } = ahpResult;
            
            // ë§‰ëŒ€ ì°¨íŠ¸ HTML ìƒì„±
            const maxPriority = Math.max(...results.map(r => r.priority));
            const barChartHtml = results.map((result, index) => {
                const percentage = (result.priority * 100).toFixed(1);
                const barWidth = (result.priority / maxPriority) * 100;
                const barColor = `hsl(${45 + index * 30}, 65%, 55%)`; // ìƒ‰ìƒ ë‹¤ì–‘í™”
                
                return `
                    <div style="margin-bottom: 1.5rem;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                            <span style="font-weight: 600; color: #1f2937;">${result.rank}. ${result.criterion.name}</span>
                            <span style="color: #6b7280; font-size: 0.9rem;">${percentage}%</span>
                        </div>
                        <div style="background: #f3f4f6; height: 24px; border-radius: 12px; overflow: hidden; position: relative;">
                            <div style="
                                background: linear-gradient(90deg, ${barColor}, ${barColor}dd);
                                height: 100%;
                                width: ${Math.max(barWidth, 2)}%;
                                transition: width 0.8s ease;
                                border-radius: 12px;
                                display: flex;
                                align-items: center;
                                padding: 0 0.75rem;
                            ">
                                <span style="color: white; font-weight: 600; font-size: 0.85rem; text-shadow: 0 1px 2px rgba(0,0,0,0.3);">
                                    ${result.priority.toFixed(3)}
                                </span>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');

            // íŒŒì´ ì°¨íŠ¸ ë°ì´í„° ì¤€ë¹„ (CSSë¡œ êµ¬í˜„)
            let cumulativeAngle = 0;
            const pieSegments = results.map((result, index) => {
                const percentage = result.priority * 100;
                const angle = (percentage / 100) * 360;
                const startAngle = cumulativeAngle;
                cumulativeAngle += angle;
                
                const color = `hsl(${45 + index * 30}, 65%, 55%)`;
                
                return {
                    ...result,
                    percentage: percentage.toFixed(1),
                    startAngle,
                    endAngle: cumulativeAngle,
                    color
                };
            });

            // íŒŒì´ ì°¨íŠ¸ ë²”ë¡€ ìƒì„±
            const legendHtml = pieSegments.map(segment => `
                <div style="display: flex; align-items: center; margin-bottom: 0.5rem;">
                    <div style="
                        width: 16px;
                        height: 16px;
                        background: ${segment.color};
                        border-radius: 2px;
                        margin-right: 0.75rem;
                        flex-shrink: 0;
                    "></div>
                    <div style="flex: 1;">
                        <div style="font-weight: 600; font-size: 0.9rem; color: #1f2937;">${segment.criterion.name}</div>
                        <div style="font-size: 0.8rem; color: #6b7280;">${segment.percentage}%</div>
                    </div>
                </div>
            `).join('');

            // ì¼ê´€ì„± ì‹œê°í™” (ê²Œì´ì§€ ì°¨íŠ¸)
            const consistencyPercentage = Math.max(0, Math.min(100, (1 - consistency.cr / 0.2) * 100)); // 0.2ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì •ê·œí™”
            const consistencyColor = consistency.cr <= 0.05 ? '#10b981' : consistency.cr <= 0.1 ? '#f59e0b' : '#ef4444';

            return `
                <div style="padding: 2rem;">
                    <div style="background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); margin-bottom: 2rem;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                            <h2 style="color: #C8A968; margin: 0;">ğŸ“Š AHP ë¶„ì„ ì‹œê°í™”</h2>
                            <button onclick="handleMenuClick('results-analysis', null)" style="background: #6b7280; color: white; border: none; padding: 0.5rem 1rem; border-radius: 6px; cursor: pointer;">â† ê²°ê³¼ ë¶„ì„ìœ¼ë¡œ</button>
                        </div>

                        <!-- ì‹œê°í™” íƒ­ ë©”ë‰´ -->
                        <div style="display: flex; gap: 0.5rem; margin-bottom: 2rem; border-bottom: 2px solid #f3f4f6;">
                            <button onclick="showVisualizationTab('bar')" id="barChartTab" style="
                                background: #C8A968; color: white; border: none; padding: 0.75rem 1.5rem; 
                                border-radius: 6px 6px 0 0; cursor: pointer; font-weight: 600;
                            ">ë§‰ëŒ€ ì°¨íŠ¸</button>
                            <button onclick="showVisualizationTab('pie')" id="pieChartTab" style="
                                background: #e5e7eb; color: #6b7280; border: none; padding: 0.75rem 1.5rem; 
                                border-radius: 6px 6px 0 0; cursor: pointer; font-weight: 600;
                            ">íŒŒì´ ì°¨íŠ¸</button>
                            <button onclick="showVisualizationTab('consistency')" id="consistencyTab" style="
                                background: #e5e7eb; color: #6b7280; border: none; padding: 0.75rem 1.5rem; 
                                border-radius: 6px 6px 0 0; cursor: pointer; font-weight: 600;
                            ">ì¼ê´€ì„± ë¶„ì„</button>
                        </div>

                        <!-- ë§‰ëŒ€ ì°¨íŠ¸ -->
                        <div id="barChartSection" style="display: block;">
                            <div style="margin-bottom: 2rem;">
                                <h3 style="color: #1f2937; margin-bottom: 1rem;">ğŸ“Š ìš°ì„ ìˆœìœ„ ë§‰ëŒ€ ì°¨íŠ¸</h3>
                                <p style="color: #6b7280; font-size: 0.9rem; margin-bottom: 2rem;">
                                    ê° ê¸°ì¤€ì˜ ìƒëŒ€ì  ì¤‘ìš”ë„ë¥¼ ë§‰ëŒ€ì˜ ê¸¸ì´ë¡œ í‘œí˜„í•©ë‹ˆë‹¤.
                                </p>
                                <div style="background: #f9fafb; padding: 2rem; border-radius: 8px;">
                                    ${barChartHtml}
                                </div>
                            </div>
                        </div>

                        <!-- íŒŒì´ ì°¨íŠ¸ -->
                        <div id="pieChartSection" style="display: none;">
                            <div style="margin-bottom: 2rem;">
                                <h3 style="color: #1f2937; margin-bottom: 1rem;">ğŸ¥§ ìš°ì„ ìˆœìœ„ íŒŒì´ ì°¨íŠ¸</h3>
                                <p style="color: #6b7280; font-size: 0.9rem; margin-bottom: 2rem;">
                                    ì „ì²´ì—ì„œ ê° ê¸°ì¤€ì´ ì°¨ì§€í•˜ëŠ” ë¹„ì¤‘ì„ ì›í˜•ìœ¼ë¡œ í‘œí˜„í•©ë‹ˆë‹¤.
                                </p>
                                <div style="display: grid; grid-template-columns: 1fr 250px; gap: 2rem; background: #f9fafb; padding: 2rem; border-radius: 8px;">
                                    <!-- íŒŒì´ ì°¨íŠ¸ (CSSë¡œ êµ¬í˜„) -->
                                    <div style="display: flex; justify-content: center; align-items: center;">
                                        <div style="position: relative; width: 200px; height: 200px;">
                                            <!-- ë‹¨ìˆœí•œ ë„ë„› ì°¨íŠ¸ë¡œ êµ¬í˜„ -->
                                            <div style="
                                                width: 200px; height: 200px; border-radius: 50%;
                                                background: conic-gradient(
                                                    ${pieSegments.map(s => `${s.color} ${s.startAngle/360*100}% ${s.endAngle/360*100}%`).join(', ')}
                                                );
                                                position: relative;
                                            ">
                                                <div style="
                                                    position: absolute; top: 50px; left: 50px;
                                                    width: 100px; height: 100px; border-radius: 50%;
                                                    background: white; display: flex;
                                                    align-items: center; justify-content: center;
                                                    flex-direction: column;
                                                ">
                                                    <div style="font-weight: bold; color: #1f2937;">ì´í•©</div>
                                                    <div style="font-size: 0.9rem; color: #6b7280;">100%</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- ë²”ë¡€ -->
                                    <div>
                                        <h4 style="margin-bottom: 1rem; color: #1f2937;">ë²”ë¡€</h4>
                                        ${legendHtml}
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- ì¼ê´€ì„± ë¶„ì„ -->
                        <div id="consistencySection" style="display: none;">
                            <div style="margin-bottom: 2rem;">
                                <h3 style="color: #1f2937; margin-bottom: 1rem;">ğŸ¯ ì¼ê´€ì„± ë¶„ì„ ì‹œê°í™”</h3>
                                <p style="color: #6b7280; font-size: 0.9rem; margin-bottom: 2rem;">
                                    ìŒëŒ€ë¹„êµì˜ ì¼ê´€ì„±ì„ ì‹œê°ì ìœ¼ë¡œ ë¶„ì„í•©ë‹ˆë‹¤. (CR â‰¤ 0.1ì´ ê¶Œì¥)
                                </p>
                                
                                <div style="background: #f9fafb; padding: 2rem; border-radius: 8px;">
                                    <!-- ì¼ê´€ì„± ê²Œì´ì§€ -->
                                    <div style="text-align: center; margin-bottom: 2rem;">
                                        <div style="position: relative; width: 200px; height: 100px; margin: 0 auto; margin-bottom: 1rem;">
                                            <!-- ë°˜ì› ê²Œì´ì§€ ë°°ê²½ -->
                                            <div style="
                                                width: 200px; height: 100px; 
                                                border: 10px solid #e5e7eb;
                                                border-bottom: none;
                                                border-radius: 100px 100px 0 0;
                                                position: relative;
                                                background: linear-gradient(90deg, #10b981 0%, #f59e0b 50%, #ef4444 100%);
                                                background-clip: padding-box;
                                                padding: 10px;
                                            ">
                                                <!-- ê²Œì´ì§€ ë°”ëŠ˜ -->
                                                <div style="
                                                    position: absolute;
                                                    bottom: 10px;
                                                    left: 50%;
                                                    transform: translateX(-50%) rotate(${(consistency.cr / 0.2) * 180 - 90}deg);
                                                    transform-origin: 50% 100%;
                                                    width: 2px;
                                                    height: 80px;
                                                    background: #1f2937;
                                                    transition: transform 0.5s ease;
                                                "></div>
                                                
                                                <!-- ì¤‘ì‹¬ì  -->
                                                <div style="
                                                    position: absolute;
                                                    bottom: 5px;
                                                    left: 50%;
                                                    transform: translateX(-50%);
                                                    width: 10px;
                                                    height: 10px;
                                                    background: #1f2937;
                                                    border-radius: 50%;
                                                "></div>
                                            </div>
                                        </div>
                                        
                                        <div style="margin-bottom: 1rem;">
                                            <div style="color: ${consistencyColor}; font-size: 2rem; font-weight: bold;">
                                                ${consistency.cr.toFixed(3)}
                                            </div>
                                            <div style="color: #666;">ì¼ê´€ì„± ë¹„ìœ¨ (CR)</div>
                                        </div>
                                        
                                        <div style="background: ${consistency.isConsistent ? '#f0fdf4' : '#fef2f2'}; padding: 1rem; border-radius: 6px; border: 1px solid ${consistency.isConsistent ? '#10b981' : '#ef4444'};">
                                            <div style="color: ${consistencyColor}; font-weight: 600;">
                                                ${consistency.isConsistent ? 'âœ… ì¼ê´€ì„± ì–‘í˜¸' : 'âš ï¸ ì¼ê´€ì„± ê°œì„  í•„ìš”'}
                                            </div>
                                        </div>
                                    </div>

                                    <!-- ì¼ê´€ì„± ì§€í‘œ ì„¸ë¶€ ì •ë³´ -->
                                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 1rem;">
                                        <div style="text-align: center; padding: 1rem; background: white; border-radius: 6px;">
                                            <div style="color: #6b7280; font-size: 0.9rem;">Î»max</div>
                                            <div style="font-weight: bold; color: #1f2937;">${consistency.lambdaMax.toFixed(3)}</div>
                                        </div>
                                        <div style="text-align: center; padding: 1rem; background: white; border-radius: 6px;">
                                            <div style="color: #6b7280; font-size: 0.9rem;">CI</div>
                                            <div style="font-weight: bold; color: #1f2937;">${consistency.ci.toFixed(3)}</div>
                                        </div>
                                        <div style="text-align: center; padding: 1rem; background: white; border-radius: 6px;">
                                            <div style="color: #6b7280; font-size: 0.9rem;">RI</div>
                                            <div style="font-weight: bold; color: #1f2937;">${ahpCalculator.randomIndex[results.length] || 1.49}</div>
                                        </div>
                                        <div style="text-align: center; padding: 1rem; background: white; border-radius: 6px;">
                                            <div style="color: #6b7280; font-size: 0.9rem;">CR</div>
                                            <div style="font-weight: bold; color: ${consistencyColor};">${consistency.cr.toFixed(3)}</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- ì•¡ì…˜ ë²„íŠ¼ -->
                        <div style="text-align: center; padding-top: 2rem; border-top: 1px solid #e5e7eb;">
                            <button onclick="downloadAHPReport()" style="background: #C8A968; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer; margin-right: 1rem;">ğŸ“„ ë³´ê³ ì„œ ë‹¤ìš´ë¡œë“œ</button>
                            <button onclick="printVisualization()" style="background: #3b82f6; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer;">ğŸ–¨ï¸ ì¸ì‡„í•˜ê¸°</button>
                        </div>
                    </div>
                </div>
            `;
        }

        /**
         * ì‹œê°í™” íƒ­ ì „í™˜ í•¨ìˆ˜
         */
        function showVisualizationTab(tabName) {
            // ëª¨ë“  ì„¹ì…˜ ìˆ¨ê¸°ê¸°
            document.getElementById('barChartSection').style.display = 'none';
            document.getElementById('pieChartSection').style.display = 'none';
            document.getElementById('consistencySection').style.display = 'none';

            // ëª¨ë“  íƒ­ ë¹„í™œì„±í™”
            document.getElementById('barChartTab').style.background = '#e5e7eb';
            document.getElementById('barChartTab').style.color = '#6b7280';
            document.getElementById('pieChartTab').style.background = '#e5e7eb';
            document.getElementById('pieChartTab').style.color = '#6b7280';
            document.getElementById('consistencyTab').style.background = '#e5e7eb';
            document.getElementById('consistencyTab').style.color = '#6b7280';

            // ì„ íƒëœ íƒ­ê³¼ ì„¹ì…˜ í™œì„±í™”
            if (tabName === 'bar') {
                document.getElementById('barChartSection').style.display = 'block';
                document.getElementById('barChartTab').style.background = '#C8A968';
                document.getElementById('barChartTab').style.color = 'white';
            } else if (tabName === 'pie') {
                document.getElementById('pieChartSection').style.display = 'block';
                document.getElementById('pieChartTab').style.background = '#C8A968';
                document.getElementById('pieChartTab').style.color = 'white';
            } else if (tabName === 'consistency') {
                document.getElementById('consistencySection').style.display = 'block';
                document.getElementById('consistencyTab').style.background = '#C8A968';
                document.getElementById('consistencyTab').style.color = 'white';
            }
        }

        function printVisualization() {
            window.print();
        }

        // =========================
        // Phase 3: í˜‘ì—… ê¸°ëŠ¥
        // =========================

        /**
         * í‰ê°€ì ê´€ë¦¬ ì½˜í…ì¸  ìƒì„±
         */
        function generateEvaluatorManagementContent() {
            // í‰ê°€ì ê´€ë¦¬ í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
            setTimeout(() => {
                setupEvaluatorManagement();
            }, 100);

            return `
                <div style="padding: 2rem;">
                    <div style="background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); margin-bottom: 2rem;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                            <h2 style="color: #C8A968; margin: 0;">ğŸ‘¥ í‰ê°€ì ê´€ë¦¬</h2>
                            <div>
                                <button onclick="showAddEvaluatorModal()" style="background: #10b981; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer; margin-right: 1rem; font-weight: 600;">+ í‰ê°€ì ì´ˆëŒ€</button>
                                <button onclick="exportEvaluatorList()" style="background: #3b82f6; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer; margin-right: 1rem;">ğŸ“Š ëª©ë¡ ë‚´ë³´ë‚´ê¸°</button>
                                <button onclick="completeEvaluatorManagement()" style="background: #C8A968; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer; font-weight: 600;">âœ… ê´€ë¦¬ ì™„ë£Œ - ë‹¤ìŒ ë‹¨ê³„</button>
                            </div>
                        </div>

                        <!-- í‰ê°€ì í†µê³„ ì¹´ë“œ -->
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
                            <div style="background: #f0fdf4; padding: 1.5rem; border-radius: 8px; text-align: center; border: 1px solid #10b981;">
                                <div style="color: #10b981; font-size: 2rem; font-weight: bold;">12</div>
                                <div style="color: #666; margin-bottom: 0.5rem;">í™œì„± í‰ê°€ì</div>
                                <div style="color: #10b981; font-size: 0.9rem;">+3 ì§€ë‚œì£¼ ëŒ€ë¹„</div>
                            </div>
                            <div style="background: #fef3f2; padding: 1.5rem; border-radius: 8px; text-align: center; border: 1px solid #f59e0b;">
                                <div style="color: #f59e0b; font-size: 2rem; font-weight: bold;">3</div>
                                <div style="color: #666; margin-bottom: 0.5rem;">ì´ˆëŒ€ ëŒ€ê¸°ì¤‘</div>
                                <div style="color: #666; font-size: 0.9rem;">2ì¼ ì „ ì´ˆëŒ€</div>
                            </div>
                            <div style="background: #f0f9ff; padding: 1.5rem; border-radius: 8px; text-align: center; border: 1px solid #3b82f6;">
                                <div style="color: #3b82f6; font-size: 2rem; font-weight: bold;">87%</div>
                                <div style="color: #666; margin-bottom: 0.5rem;">í‰ê·  ì™„ë£Œìœ¨</div>
                                <div style="color: #10b981; font-size: 0.9rem;">+5% ìƒìŠ¹</div>
                            </div>
                            <div style="background: #fdf4ff; padding: 1.5rem; border-radius: 8px; text-align: center; border: 1px solid #8b5cf6;">
                                <div style="color: #8b5cf6; font-size: 2rem; font-weight: bold;">2.3ì¼</div>
                                <div style="color: #666; margin-bottom: 0.5rem;">í‰ê·  ì‘ë‹µì‹œê°„</div>
                                <div style="color: #10b981; font-size: 0.9rem;">-0.5ì¼ ê°œì„ </div>
                            </div>
                        </div>

                        <!-- ê²€ìƒ‰ ë° í•„í„° -->
                        <div style="background: #f9fafb; padding: 1.5rem; border-radius: 8px; margin-bottom: 2rem;">
                            <div style="display: grid; grid-template-columns: 1fr auto auto auto; gap: 1rem; align-items: center;">
                                <div>
                                    <input type="text" id="evaluatorSearch" placeholder="í‰ê°€ì ì´ë¦„, ì´ë©”ì¼ë¡œ ê²€ìƒ‰..." style="
                                        width: 100%; padding: 0.75rem; border: 1px solid #d1d5db; border-radius: 6px; 
                                        font-size: 0.9rem; background: white;
                                    " oninput="filterEvaluators()">
                                </div>
                                <select id="statusFilter" onchange="filterEvaluators()" style="
                                    padding: 0.75rem; border: 1px solid #d1d5db; border-radius: 6px; 
                                    background: white; font-size: 0.9rem;
                                ">
                                    <option value="">ëª¨ë“  ìƒíƒœ</option>
                                    <option value="active">í™œì„±</option>
                                    <option value="pending">ëŒ€ê¸°ì¤‘</option>
                                    <option value="completed">ì™„ë£Œ</option>
                                    <option value="inactive">ë¹„í™œì„±</option>
                                </select>
                                <select id="roleFilter" onchange="filterEvaluators()" style="
                                    padding: 0.75rem; border: 1px solid #d1d5db; border-radius: 6px; 
                                    background: white; font-size: 0.9rem;
                                ">
                                    <option value="">ëª¨ë“  ì—­í• </option>
                                    <option value="senior">ì„ ì„ í‰ê°€ì</option>
                                    <option value="expert">ì „ë¬¸ í‰ê°€ì</option>
                                    <option value="evaluator">ì¼ë°˜ í‰ê°€ì</option>
                                </select>
                                <button onclick="resetFilters()" style="
                                    padding: 0.75rem 1rem; background: #6b7280; color: white; 
                                    border: none; border-radius: 6px; cursor: pointer; font-size: 0.9rem;
                                ">ì´ˆê¸°í™”</button>
                            </div>
                        </div>

                        <!-- í‰ê°€ì ëª©ë¡ í…Œì´ë¸” -->
                        <div style="background: white; border-radius: 8px; border: 1px solid #e5e7eb; overflow: hidden;">
                            <div style="background: #f9fafb; padding: 1rem; border-bottom: 1px solid #e5e7eb; font-weight: 600; color: #374151;">
                                <div style="display: grid; grid-template-columns: 2fr 1.5fr 1fr 1fr 1fr 1fr auto; gap: 1rem; align-items: center;">
                                    <div>í‰ê°€ì ì •ë³´</div>
                                    <div>ì—°ë½ì²˜</div>
                                    <div>ì—­í• </div>
                                    <div>ìƒíƒœ</div>
                                    <div>ì§„í–‰ë¥ </div>
                                    <div>ë§ˆì§€ë§‰ í™œë™</div>
                                    <div>ì•¡ì…˜</div>
                                </div>
                            </div>
                            <div id="evaluatorList">
                                <!-- í‰ê°€ì ëª©ë¡ì´ ì—¬ê¸°ì— ë¡œë“œë©ë‹ˆë‹¤ -->
                            </div>
                        </div>

                        <!-- ëŒ€ëŸ‰ ì‘ì—… ë„êµ¬ -->
                        <div style="margin-top: 2rem; padding: 1.5rem; background: #f9fafb; border-radius: 8px; border: 1px solid #e5e7eb;">
                            <div style="display: flex; justify-content: between; align-items: center;">
                                <div>
                                    <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
                                        <input type="checkbox" id="selectAllEvaluators" onchange="toggleAllEvaluators()">
                                        <span>ì „ì²´ ì„ íƒ</span>
                                    </label>
                                </div>
                                <div style="display: flex; gap: 1rem; margin-left: auto;">
                                    <button onclick="sendBulkReminder()" style="background: #f59e0b; color: white; border: none; padding: 0.5rem 1rem; border-radius: 6px; cursor: pointer;">ğŸ“§ ë¦¬ë§ˆì¸ë” ë°œì†¡</button>
                                    <button onclick="bulkStatusUpdate()" style="background: #8b5cf6; color: white; border: none; padding: 0.5rem 1rem; border-radius: 6px; cursor: pointer;">ğŸ“Š ìƒíƒœ ì—…ë°ì´íŠ¸</button>
                                    <button onclick="exportSelectedEvaluators()" style="background: #3b82f6; color: white; border: none; padding: 0.5rem 1rem; border-radius: 6px; cursor: pointer;">ğŸ“¤ ì„ íƒ ë‚´ë³´ë‚´ê¸°</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- í‰ê°€ì ì´ˆëŒ€ ëª¨ë‹¬ -->
                    <div id="addEvaluatorModal" style="
                        display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; 
                        background: rgba(0,0,0,0.5); z-index: 9999; 
                        align-items: center; justify-content: center;
                    ">
                        <div style="
                            background: white; padding: 2rem; border-radius: 12px; 
                            max-width: 500px; width: 90%; max-height: 90vh; overflow-y: auto;
                        ">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                                <h3 style="color: #1f2937; margin: 0;">í‰ê°€ì ì´ˆëŒ€í•˜ê¸°</h3>
                                <button onclick="hideAddEvaluatorModal()" style="
                                    background: none; border: none; font-size: 1.5rem; 
                                    cursor: pointer; color: #6b7280;
                                ">Ã—</button>
                            </div>

                            <form id="addEvaluatorForm" style="space-y: 1rem;">
                                <div style="margin-bottom: 1rem;">
                                    <label style="display: block; font-weight: 600; margin-bottom: 0.5rem; color: #374151;">ì´ë¦„ *</label>
                                    <input type="text" id="evaluatorName" required style="
                                        width: 100%; padding: 0.75rem; border: 1px solid #d1d5db; 
                                        border-radius: 6px; font-size: 1rem;
                                    " placeholder="í‰ê°€ì ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”">
                                </div>

                                <div style="margin-bottom: 1rem;">
                                    <label style="display: block; font-weight: 600; margin-bottom: 0.5rem; color: #374151;">ì´ë©”ì¼ *</label>
                                    <input type="email" id="evaluatorEmail" required style="
                                        width: 100%; padding: 0.75rem; border: 1px solid #d1d5db; 
                                        border-radius: 6px; font-size: 1rem;
                                    " placeholder="í‰ê°€ì ì´ë©”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”">
                                </div>

                                <div style="margin-bottom: 1rem;">
                                    <label style="display: block; font-weight: 600; margin-bottom: 0.5rem; color: #374151;">ì—­í• </label>
                                    <select id="evaluatorRole" style="
                                        width: 100%; padding: 0.75rem; border: 1px solid #d1d5db; 
                                        border-radius: 6px; font-size: 1rem; background: white;
                                    ">
                                        <option value="evaluator">ì¼ë°˜ í‰ê°€ì</option>
                                        <option value="expert">ì „ë¬¸ í‰ê°€ì</option>
                                        <option value="senior">ì„ ì„ í‰ê°€ì</option>
                                    </select>
                                </div>

                                <div style="margin-bottom: 1rem;">
                                    <label style="display: block; font-weight: 600; margin-bottom: 0.5rem; color: #374151;">ì†Œì†</label>
                                    <input type="text" id="evaluatorOrganization" style="
                                        width: 100%; padding: 0.75rem; border: 1px solid #d1d5db; 
                                        border-radius: 6px; font-size: 1rem;
                                    " placeholder="ì†Œì† ê¸°ê´€ì´ë‚˜ ë¶€ì„œ (ì„ íƒì‚¬í•­)">
                                </div>

                                <div style="margin-bottom: 1rem;">
                                    <label style="display: block; font-weight: 600; margin-bottom: 0.5rem; color: #374151;">í• ë‹¹ í”„ë¡œì íŠ¸</label>
                                    <select id="assignedProjects" multiple style="
                                        width: 100%; padding: 0.75rem; border: 1px solid #d1d5db; 
                                        border-radius: 6px; font-size: 1rem; background: white; min-height: 80px;
                                    ">
                                        <option value="project1">ê³µê¸‰ì—…ì²´ ì„ ì • í”„ë¡œì íŠ¸</option>
                                        <option value="project2">ë§ˆì¼€íŒ… ì „ëµ í‰ê°€</option>
                                        <option value="project3">ì‹ ì œí’ˆ ê°œë°œ ìš°ì„ ìˆœìœ„</option>
                                    </select>
                                    <div style="color: #6b7280; font-size: 0.8rem; margin-top: 0.5rem;">Ctrl/Cmd í‚¤ë¥¼ ëˆ„ë¥¸ ì±„ ì—¬ëŸ¬ í”„ë¡œì íŠ¸ ì„ íƒ ê°€ëŠ¥</div>
                                </div>

                                <div style="margin-bottom: 1.5rem;">
                                    <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
                                        <input type="checkbox" id="sendInviteEmail" checked>
                                        <span>ì´ˆëŒ€ ì´ë©”ì¼ ì¦‰ì‹œ ë°œì†¡</span>
                                    </label>
                                </div>

                                <div style="display: flex; justify-content: end; gap: 1rem;">
                                    <button type="button" onclick="hideAddEvaluatorModal()" style="
                                        padding: 0.75rem 1.5rem; background: #6b7280; color: white; 
                                        border: none; border-radius: 6px; cursor: pointer;
                                    ">ì·¨ì†Œ</button>
                                    <button type="submit" style="
                                        padding: 0.75rem 1.5rem; background: #10b981; color: white; 
                                        border: none; border-radius: 6px; cursor: pointer; font-weight: 600;
                                    ">í‰ê°€ì ì´ˆëŒ€</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            `;
        }

        // ì½˜í…ì¸  ìƒì„± í•¨ìˆ˜ë“¤
        function generateMyProjectsContent() {
            return `
                <div style="padding: 2rem;">
                    <div style="background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                            <div>
                                <h2 style="color: #C8A968; margin: 0; margin-bottom: 0.5rem;">ğŸ“‹ ë‚´ í”„ë¡œì íŠ¸</h2>
                                <p style="color: #6b7280; margin: 0; font-size: 0.875rem;">í”„ë¡œì íŠ¸ë¥¼ ì„ íƒí•˜ì—¬ AHP ë¶„ì„ì„ ì‹œì‘í•˜ì„¸ìš”</p>
                            </div>
                            <div>
                                <button onclick="handleMenuClick('new-project', null)" style="background: #C8A968; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 8px; cursor: pointer; margin-right: 0.5rem; font-weight: 600; transition: all 0.2s;" onmouseover="this.style.background='#B59A4D'" onmouseout="this.style.background='#C8A968'">â• ìƒˆ í”„ë¡œì íŠ¸</button>
                                <button onclick="loadProjectsFromAPI()" style="background: #6b7280; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 8px; cursor: pointer; font-weight: 600; transition: all 0.2s;" onmouseover="this.style.background='#4b5563'" onmouseout="this.style.background='#6b7280'">ğŸ”„ ìƒˆë¡œê³ ì¹¨</button>
                            </div>
                        </div>
                        
                        <!-- í”„ë¡œì íŠ¸ ëª©ë¡ ì»¨í…Œì´ë„ˆ -->
                        <div id="projectsContainer">
                            <div id="loadingState" style="text-align: center; padding: 4rem; color: #6b7280;">
                                <div style="display: inline-flex; align-items: center; justify-content: center; margin-bottom: 1rem;">
                                    <div style="width: 32px; height: 32px; border: 3px solid #e5e7eb; border-top: 3px solid #C8A968; border-radius: 50%; animation: spin 1s linear infinite;"></div>
                                </div>
                                <p style="margin: 0; font-size: 1rem;">í”„ë¡œì íŠ¸ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤...</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- í”„ë¡œì íŠ¸ ì¹´ë“œ ìŠ¤íƒ€ì¼ ì¶”ê°€ -->
                <style>
                    @keyframes spin {
                        0% { transform: rotate(0deg); }
                        100% { transform: rotate(360deg); }
                    }
                    
                    .project-card {
                        border: 1px solid #e5e7eb;
                        border-radius: 12px;
                        padding: 1.5rem;
                        background: #ffffff;
                        transition: all 0.2s ease;
                        cursor: pointer;
                        margin-bottom: 1rem;
                    }
                    
                    .project-card:hover {
                        background: #f9fafb;
                        border-color: #C8A968;
                        box-shadow: 0 4px 12px rgba(200, 169, 104, 0.15);
                        transform: translateY(-2px);
                    }
                    
                    .project-status-badge {
                        display: inline-block;
                        padding: 0.25rem 0.75rem;
                        border-radius: 9999px;
                        font-size: 0.75rem;
                        font-weight: 500;
                        text-transform: uppercase;
                        letter-spacing: 0.025em;
                    }
                    
                    .status-draft {
                        background: #f3f4f6;
                        color: #374151;
                    }
                    
                    .status-active {
                        background: #dbeafe;
                        color: #1e40af;
                    }
                    
                    .status-completed {
                        background: #dcfce7;
                        color: #166534;
                    }
                    
                    .project-meta {
                        display: grid;
                        grid-template-columns: repeat(2, 1fr);
                        gap: 1rem;
                        margin: 1rem 0;
                    }
                    
                    @media (min-width: 768px) {
                        .project-meta {
                            grid-template-columns: repeat(4, 1fr);
                        }
                    }
                    
                    .meta-item {
                        text-align: left;
                    }
                    
                    .meta-label {
                        font-size: 0.75rem;
                        color: #6b7280;
                        font-weight: 500;
                        display: block;
                        margin-bottom: 0.25rem;
                    }
                    
                    .meta-value {
                        font-size: 0.875rem;
                        color: #1f2937;
                        font-weight: 600;
                    }
                </style>
            `;
        }

        function generateNewProjectContent() {
            return `
                <div style="padding: 2rem;">
                    <div style="background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                            <h2 style="color: #C8A968; margin: 0;">â• ìƒˆ í”„ë¡œì íŠ¸</h2>
                            <button onclick="handleMenuClick('my-projects', null)" style="background: #6b7280; color: white; border: none; padding: 0.5rem 1rem; border-radius: 6px; cursor: pointer;">â† í”„ë¡œì íŠ¸ ëª©ë¡</button>
                        </div>
                        
                        <form id="newProjectForm" style="max-width: 700px;">
                            <div style="margin-bottom: 1.5rem;">
                                <label style="display: block; margin-bottom: 0.5rem; font-weight: 500; color: #1f2937;">í”„ë¡œì íŠ¸ ì´ë¦„ *</label>
                                <input type="text" id="projectName" required style="width: 100%; padding: 0.75rem; border: 2px solid #d1d5db; border-radius: 8px; font-size: 1rem; transition: border-color 0.2s;" placeholder="ì˜ˆ: ì‹ ì œí’ˆ ê°œë°œ ìš°ì„ ìˆœìœ„ ë¶„ì„" onFocus="this.style.borderColor='#C8A968'" onBlur="this.style.borderColor='#d1d5db'">
                            </div>
                            
                            <div style="margin-bottom: 1.5rem;">
                                <label style="display: block; margin-bottom: 0.5rem; font-weight: 500; color: #1f2937;">ëª©í‘œ/ëª©ì  *</label>
                                <textarea id="projectGoal" required style="width: 100%; padding: 0.75rem; border: 2px solid #d1d5db; border-radius: 8px; min-height: 80px; font-size: 1rem; transition: border-color 0.2s;" placeholder="ì´ AHP ë¶„ì„ì„ í†µí•´ ë‹¬ì„±í•˜ê³ ì í•˜ëŠ” ëª©í‘œë¥¼ ëª…í™•íˆ ê¸°ìˆ í•˜ì„¸ìš”" onFocus="this.style.borderColor='#C8A968'" onBlur="this.style.borderColor='#d1d5db'"></textarea>
                            </div>
                            
                            <div style="margin-bottom: 1.5rem;">
                                <label style="display: block; margin-bottom: 0.5rem; font-weight: 500; color: #1f2937;">ìƒì„¸ ì„¤ëª…</label>
                                <textarea id="projectDescription" style="width: 100%; padding: 0.75rem; border: 2px solid #d1d5db; border-radius: 8px; min-height: 120px; font-size: 1rem; transition: border-color 0.2s;" placeholder="í”„ë¡œì íŠ¸ ë°°ê²½, ë²”ìœ„, ê³ ë ¤ì‚¬í•­ ë“±ì„ ìì„¸íˆ ì„¤ëª…í•˜ì„¸ìš”" onFocus="this.style.borderColor='#C8A968'" onBlur="this.style.borderColor='#d1d5db'"></textarea>
                            </div>
                            
                            <!-- í‰ê°€ë°©ì‹ ì„ íƒ ì„¹ì…˜ -->
                            <div style="margin-bottom: 2rem;">
                                <label style="display: block; margin-bottom: 1rem; font-weight: 500; color: #1f2937; font-size: 1.1rem;">í‰ê°€ë°©ì‹ ì„ íƒ *</label>
                                <div style="display: grid; grid-template-columns: 1fr; gap: 1rem; margin-bottom: 1rem;">
                                    
                                    <!-- ìŒëŒ€ë¹„êµ ì˜µì…˜ -->
                                    <div style="border: 2px solid #e5e7eb; border-radius: 12px; padding: 1.5rem; cursor: pointer; transition: all 0.2s;" onclick="selectEvaluationMethod('pairwise', this)" onmouseover="if(!this.classList.contains('selected')) this.style.borderColor='#C8A968'" onmouseout="if(!this.classList.contains('selected')) this.style.borderColor='#e5e7eb'">
                                        <div style="display: flex; align-items: center; margin-bottom: 0.75rem;">
                                            <input type="radio" name="evaluationMethod" value="pairwise" id="pairwise" style="margin-right: 1rem; transform: scale(1.2);" checked>
                                            <div style="font-size: 1.5rem; margin-right: 0.75rem;">âš–ï¸</div>
                                            <h4 style="margin: 0; color: #1f2937; font-size: 1.1rem;">ìŒëŒ€ë¹„êµ</h4>
                                        </div>
                                        <p style="margin: 0; color: #6b7280; font-size: 0.9rem; line-height: 1.4;">ë‘ ìš”ì†Œë¥¼ ë¹„êµí•˜ì—¬ í‰ê°€í•˜ëŠ” AHPì˜ ì „í†µì  ë°©ì‹ì…ë‹ˆë‹¤. ì •ì„±ì  íŒë‹¨ì´ ì¤‘ìš”í•œ ê²½ìš°ì— ì í•©í•©ë‹ˆë‹¤.</p>
                                        <div style="margin-top: 0.75rem; font-size: 0.8rem; color: #9ca3af;">
                                            <span style="background: #f3f4f6; padding: 0.25rem 0.5rem; border-radius: 4px; margin-right: 0.5rem;">ê¸°ë³¸ ì¶”ì²œ</span>
                                            <span style="background: #f3f4f6; padding: 0.25rem 0.5rem; border-radius: 4px;">ì •ì„±ì  í‰ê°€</span>
                                        </div>
                                    </div>
                                    
                                    <!-- ì§ì ‘ì…ë ¥ ì˜µì…˜ -->
                                    <div style="border: 2px solid #e5e7eb; border-radius: 12px; padding: 1.5rem; cursor: pointer; transition: all 0.2s;" onclick="selectEvaluationMethod('direct', this)" onmouseover="if(!this.classList.contains('selected')) this.style.borderColor='#C8A968'" onmouseout="if(!this.classList.contains('selected')) this.style.borderColor='#e5e7eb'">
                                        <div style="display: flex; align-items: center; margin-bottom: 0.75rem;">
                                            <input type="radio" name="evaluationMethod" value="direct" id="direct" style="margin-right: 1rem; transform: scale(1.2);">
                                            <div style="font-size: 1.5rem; margin-right: 0.75rem;">ğŸ“</div>
                                            <h4 style="margin: 0; color: #1f2937; font-size: 1.1rem;">ì§ì ‘ì…ë ¥</h4>
                                        </div>
                                        <p style="margin: 0; color: #6b7280; font-size: 0.9rem; line-height: 1.4;">ì§ì ‘ ì ìˆ˜ë¥¼ ì…ë ¥í•˜ì—¬ í‰ê°€í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤. ëª…í™•í•œ ìˆ˜ì¹˜ ê¸°ì¤€ì´ ìˆëŠ” ê²½ìš°ì— ì í•©í•©ë‹ˆë‹¤.</p>
                                        <div style="margin-top: 0.75rem; font-size: 0.8rem; color: #9ca3af;">
                                            <span style="background: #f3f4f6; padding: 0.25rem 0.5rem; border-radius: 4px; margin-right: 0.5rem;">ë¹ ë¥¸ í‰ê°€</span>
                                            <span style="background: #f3f4f6; padding: 0.25rem 0.5rem; border-radius: 4px;">ì •ëŸ‰ì  í‰ê°€</span>
                                        </div>
                                    </div>
                                    
                                    <!-- ì‹¤ë¬´í˜• ì˜µì…˜ -->
                                    <div style="border: 2px solid #e5e7eb; border-radius: 12px; padding: 1.5rem; cursor: pointer; transition: all 0.2s;" onclick="selectEvaluationMethod('practical', this)" onmouseover="if(!this.classList.contains('selected')) this.style.borderColor='#C8A968'" onmouseout="if(!this.classList.contains('selected')) this.style.borderColor='#e5e7eb'">
                                        <div style="display: flex; align-items: center; margin-bottom: 0.75rem;">
                                            <input type="radio" name="evaluationMethod" value="practical" id="practical" style="margin-right: 1rem; transform: scale(1.2);">
                                            <div style="font-size: 1.5rem; margin-right: 0.75rem;">ğŸ“ˆ</div>
                                            <h4 style="margin: 0; color: #1f2937; font-size: 1.1rem;">ì‹¤ë¬´í˜•</h4>
                                        </div>
                                        <p style="margin: 0; color: #6b7280; font-size: 0.9rem; line-height: 1.4;">ì‹¤ë¬´ ì¤‘ì‹¬ì˜ í‰ê°€ ë°©ì‹ìœ¼ë¡œ ìŒëŒ€ë¹„êµì™€ ì§ì ‘ì…ë ¥ì„ í˜¼í•©í•œ í•˜ì´ë¸Œë¦¬ë“œ ë°©ì‹ì…ë‹ˆë‹¤.</p>
                                        <div style="margin-top: 0.75rem; font-size: 0.8rem; color: #9ca3af;">
                                            <span style="background: #f3f4f6; padding: 0.25rem 0.5rem; border-radius: 4px; margin-right: 0.5rem;">í•˜ì´ë¸Œë¦¬ë“œ</span>
                                            <span style="background: #f3f4f6; padding: 0.25rem 0.5rem; border-radius: 4px;">ì‹¤ë¬´ ìµœì í™”</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;">
                                <div>
                                    <label style="display: block; margin-bottom: 0.5rem; font-weight: 500; color: #1f2937;">í”„ë¡œì íŠ¸ ìœ í˜•</label>
                                    <select id="projectCategory" style="width: 100%; padding: 0.75rem; border: 2px solid #d1d5db; border-radius: 8px; font-size: 1rem; transition: border-color 0.2s;" onFocus="this.style.borderColor='#C8A968'" onBlur="this.style.borderColor='#d1d5db'">
                                        <option value="general">ì¼ë°˜ AHP ë¶„ì„</option>
                                        <option value="supplier">ê³µê¸‰ì—…ì²´ ì„ ì •</option>
                                        <option value="investment">íˆ¬ì ìš°ì„ ìˆœìœ„</option>
                                        <option value="product">ì œí’ˆ ê°œë°œ</option>
                                        <option value="strategy">ì „ëµ ìˆ˜ë¦½</option>
                                        <option value="location">ì…ì§€ ì„ ì •</option>
                                        <option value="hr">ì¸ì‚¬ ê´€ë¦¬</option>
                                        <option value="other">ê¸°íƒ€</option>
                                    </select>
                                </div>
                                <div>
                                    <label style="display: block; margin-bottom: 0.5rem; font-weight: 500; color: #1f2937;">ìš°ì„ ìˆœìœ„</label>
                                    <select id="projectPriority" style="width: 100%; padding: 0.75rem; border: 2px solid #d1d5db; border-radius: 8px; font-size: 1rem; transition: border-color 0.2s;" onFocus="this.style.borderColor='#C8A968'" onBlur="this.style.borderColor='#d1d5db'">
                                        <option value="high">ë†’ìŒ</option>
                                        <option value="medium" selected>ë³´í†µ</option>
                                        <option value="low">ë‚®ìŒ</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div style="background: #f9fafb; padding: 1.5rem; border-radius: 8px; margin-bottom: 2rem;">
                                <h4 style="margin-bottom: 1rem; color: #1f2937;">ğŸ’¡ í”„ë¡œì íŠ¸ ìƒì„± í›„ ë‹¨ê³„</h4>
                                <ol style="margin-left: 1.5rem; color: #6b7280; line-height: 1.6;">
                                    <li>í‰ê°€ ê¸°ì¤€ ì„¤ì • (3-7ê°œ ê¶Œì¥)</li>
                                    <li>ëŒ€ì•ˆ ì •ì˜ (2-10ê°œ ê¶Œì¥)</li>
                                    <li>í‰ê°€ì ì´ˆëŒ€ ë° ê¶Œí•œ ì„¤ì •</li>
                                    <li>ìŒëŒ€ë¹„êµ ë§¤íŠ¸ë¦­ìŠ¤ ì™„ì„±</li>
                                    <li>ì¼ê´€ì„± ê²€ì¦ ë° ê²°ê³¼ ë¶„ì„</li>
                                </ol>
                            </div>
                            
                            <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
                                <button type="button" onclick="console.log('ğŸš€ í”„ë¡œì íŠ¸ ìƒì„± ë²„íŠ¼ í´ë¦­!'); createNewProject();" style="flex: 1; padding: 1rem 2rem; background: #C8A968; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 1rem; font-weight: 600; transition: all 0.2s;" onMouseOver="this.style.background='#B59A4D'" onMouseOut="this.style.background='#C8A968'">ğŸš€ í”„ë¡œì íŠ¸ ìƒì„±</button>
                                <button type="button" onclick="console.log('ğŸ§ª ì§ì ‘ í…ŒìŠ¤íŠ¸ ë²„íŠ¼ í´ë¦­!'); testDirectProjectCreation();" style="flex: 1; padding: 1rem 2rem; background: #10b981; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 1rem; font-weight: 600; transition: all 0.2s;">ğŸ§ª ì§ì ‘ í…ŒìŠ¤íŠ¸</button>
                                <button type="button" onclick="handleMenuClick('my-projects', null)" style="flex: 1; padding: 1rem 2rem; background: #6b7280; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 1rem; font-weight: 600; transition: all 0.2s;" onMouseOver="this.style.background='#4b5563'" onMouseOut="this.style.background='#6b7280'">ì·¨ì†Œ</button>
                            </div>
                        </form>
                        
                        <div id="createProjectMessage" style="margin-top: 1rem;"></div>
                    </div>
                </div>
            `;
        }

        function generateCriteriaManagementContent() {
            return `
                <div style="padding: 2rem;">
                    <div style="background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                            <h2 style="color: #C8A968; margin: 0;">âš–ï¸ ê¸°ì¤€ ì„¤ì •</h2>
                            <div>
                                <button onclick="showAddCriteriaModal()" style="background: #C8A968; color: white; border: none; padding: 0.5rem 1rem; border-radius: 6px; cursor: pointer; margin-right: 0.5rem;">â• ê¸°ì¤€ ì¶”ê°€</button>
                                <button onclick="handleMenuClick('pairwise-comparison', null)" style="background: #3b82f6; color: white; border: none; padding: 0.5rem 1rem; border-radius: 6px; cursor: pointer;">â–¶ï¸ ìŒëŒ€ë¹„êµ</button>
                            </div>
                        </div>
                        
                        <div style="background: #f8fafc; padding: 1.5rem; border-radius: 8px; margin-bottom: 2rem;">
                            <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 1rem;">
                                <span style="font-size: 1.2rem;">ğŸ’¡</span>
                                <h4 style="margin: 0; color: #1f2937;">ê¸°ì¤€ ì„¤ì • ê°€ì´ë“œë¼ì¸</h4>
                            </div>
                            <ul style="color: #666; line-height: 1.6; margin-left: 1rem;">
                                <li>í‰ê°€ ê¸°ì¤€ì€ 3-7ê°œê°€ ì ì ˆí•©ë‹ˆë‹¤ (ë„ˆë¬´ ë§ìœ¼ë©´ ë³µì¡ì„± ì¦ê°€)</li>
                                <li>ê° ê¸°ì¤€ì€ ëª…í™•í•˜ê³  ì¸¡ì • ê°€ëŠ¥í•´ì•¼ í•©ë‹ˆë‹¤</li>
                                <li>ê¸°ì¤€ë“¤ ê°„ì—ëŠ” ìƒí˜¸ ë…ë¦½ì ì´ì–´ì•¼ í•©ë‹ˆë‹¤</li>
                                <li>ëª¨ë“  ê¸°ì¤€ì´ ëª©í‘œ ë‹¬ì„±ì— ê¸°ì—¬í•´ì•¼ í•©ë‹ˆë‹¤</li>
                            </ul>
                        </div>
                        
                        <div id="criteriaContainer">
                            <!-- ê¸°ì¤€ ëª©ë¡ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ë¡œë”©ë©ë‹ˆë‹¤ -->
                            <div style="text-align: center; padding: 2rem; color: #666;">
                                ê¸°ì¤€ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...
                            </div>
                        </div>
                        
                        <!-- ê¸°ì¤€ ì¶”ê°€ ëª¨ë‹¬ (ìˆ¨ê¹€) -->
                        <div id="addCriteriaModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 10000; justify-content: center; align-items: center;">
                            <div style="background: white; padding: 2rem; border-radius: 12px; max-width: 500px; width: 90%; max-height: 80vh; overflow-y: auto;">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                                    <h3 style="margin: 0; color: #1f2937;">ìƒˆ í‰ê°€ ê¸°ì¤€ ì¶”ê°€</h3>
                                    <button onclick="hideAddCriteriaModal()" style="background: none; border: none; font-size: 1.5rem; cursor: pointer; color: #666;">Ã—</button>
                                </div>
                                
                                <form id="addCriteriaForm">
                                    <div style="margin-bottom: 1.5rem;">
                                        <label style="display: block; margin-bottom: 0.5rem; font-weight: 500;">ê¸°ì¤€ëª… *</label>
                                        <input type="text" id="criteriaName" required style="width: 100%; padding: 0.75rem; border: 2px solid #d1d5db; border-radius: 8px;" placeholder="ì˜ˆ: ë¹„ìš© íš¨ìœ¨ì„±">
                                    </div>
                                    
                                    <div style="margin-bottom: 1.5rem;">
                                        <label style="display: block; margin-bottom: 0.5rem; font-weight: 500;">ìƒì„¸ ì„¤ëª…</label>
                                        <textarea id="criteriaDescription" style="width: 100%; padding: 0.75rem; border: 2px solid #d1d5db; border-radius: 8px; min-height: 100px;" placeholder="ì´ ê¸°ì¤€ì´ ë¬´ì—‡ì„ í‰ê°€í•˜ëŠ”ì§€ êµ¬ì²´ì ìœ¼ë¡œ ì„¤ëª…í•˜ì„¸ìš”"></textarea>
                                    </div>
                                    
                                    <div style="margin-bottom: 1.5rem;">
                                        <label style="display: block; margin-bottom: 0.5rem; font-weight: 500;">ê°€ì¤‘ì¹˜ (ì„ íƒ)</label>
                                        <select id="criteriaWeight" style="width: 100%; padding: 0.75rem; border: 2px solid #d1d5db; border-radius: 8px;">
                                            <option value="normal">ë³´í†µ</option>
                                            <option value="high">ë†’ìŒ</option>
                                            <option value="low">ë‚®ìŒ</option>
                                        </select>
                                        <p style="font-size: 0.8rem; color: #666; margin-top: 0.5rem;">ìµœì¢… ê°€ì¤‘ì¹˜ëŠ” ìŒëŒ€ë¹„êµë¥¼ í†µí•´ ê²°ì •ë©ë‹ˆë‹¤</p>
                                    </div>
                                    
                                    <div style="display: flex; gap: 1rem;">
                                        <button type="submit" style="flex: 1; background: #C8A968; color: white; border: none; padding: 0.75rem; border-radius: 8px; cursor: pointer;">ì¶”ê°€</button>
                                        <button type="button" onclick="hideAddCriteriaModal()" style="flex: 1; background: #6b7280; color: white; border: none; padding: 0.75rem; border-radius: 8px; cursor: pointer;">ì·¨ì†Œ</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function generatePairwiseComparisonContent() {
            return `
                <div style="padding: 2rem;">
                    <div style="background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                            <h2 style="color: #C8A968; margin: 0;">âš¡ ìŒëŒ€ë¹„êµ</h2>
                            <div>
                                <button onclick="resetPairwiseComparison()" style="background: #6b7280; color: white; border: none; padding: 0.5rem 1rem; border-radius: 6px; cursor: pointer; margin-right: 0.5rem;">ğŸ”„ ì´ˆê¸°í™”</button>
                                <button onclick="handleMenuClick('results-analysis', null)" style="background: #10b981; color: white; border: none; padding: 0.5rem 1rem; border-radius: 6px; cursor: pointer;">ğŸ“ˆ ê²°ê³¼ ë³´ê¸°</button>
                            </div>
                        </div>
                        
                        <div style="background: #f8fafc; padding: 1.5rem; border-radius: 8px; margin-bottom: 2rem;">
                            <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 1rem;">
                                <span style="font-size: 1.2rem;">ğŸ“š</span>
                                <h4 style="margin: 0; color: #1f2937;">AHP ìŒëŒ€ë¹„êµ ì²™ë„</h4>
                            </div>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 0.5rem; font-size: 0.85rem;">
                                <div style="background: white; padding: 0.5rem; border-radius: 4px; text-align: center;"><strong>1</strong><br>ë™ë“±í•¨</div>
                                <div style="background: white; padding: 0.5rem; border-radius: 4px; text-align: center;"><strong>3</strong><br>ì•½ê°„ ì¤‘ìš”</div>
                                <div style="background: white; padding: 0.5rem; border-radius: 4px; text-align: center;"><strong>5</strong><br>ì¤‘ìš”í•¨</div>
                                <div style="background: white; padding: 0.5rem; border-radius: 4px; text-align: center;"><strong>7</strong><br>ë§¤ìš° ì¤‘ìš”</div>
                                <div style="background: white; padding: 0.5rem; border-radius: 4px; text-align: center;"><strong>9</strong><br>ì ˆëŒ€ ì¤‘ìš”</div>
                                <div style="background: white; padding: 0.5rem; border-radius: 4px; text-align: center;"><strong>2,4,6,8</strong><br>ì¤‘ê°„ê°’</div>
                            </div>
                        </div>
                        
                        <div id="pairwiseContainer">
                            <!-- ìŒëŒ€ë¹„êµ ì¸í„°í˜ì´ìŠ¤ê°€ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ë¡œë”©ë©ë‹ˆë‹¤ -->
                            <div style="text-align: center; padding: 2rem; color: #666;">
                                ìŒëŒ€ë¹„êµ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...
                            </div>
                        </div>
                        
                        <!-- ì§„í–‰ë¥  í‘œì‹œ -->
                        <div id="comparisonProgress" style="margin-top: 2rem; padding: 1rem; background: #f0f9ff; border-radius: 8px; border-left: 4px solid #3b82f6; display: none;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                                <span style="font-weight: 500;">ì „ì²´ ì§„í–‰ë¥ </span>
                                <span id="progressText">0/0 ì™„ë£Œ</span>
                            </div>
                            <div style="width: 100%; height: 8px; background: #e5e7eb; border-radius: 4px; overflow: hidden;">
                                <div id="progressBar" style="height: 100%; background: linear-gradient(90deg, #3b82f6, #1d4ed8); border-radius: 4px; width: 0%; transition: width 0.5s ease;"></div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function generateResultsAnalysisContent() {
            // ì‹¤ì œ AHP ê³„ì‚° ê²°ê³¼ ê°€ì ¸ì˜¤ê¸°
            const ahpResult = window.currentAHPResult;
            
            if (!ahpResult) {
                // ë°ì´í„°ê°€ ì—†ëŠ” ê²½ìš° ë¶„ì„ ì‹¤í–‰ ì•ˆë‚´
                return `
                    <div style="padding: 2rem;">
                        <div style="background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                            <h2 style="color: #C8A968; margin-bottom: 2rem;">ğŸ“ˆ ê²°ê³¼ ë¶„ì„</h2>
                            
                            <div style="text-align: center; padding: 3rem; background: #fef3f2; border-radius: 12px; border: 2px solid #fca5a5;">
                                <div style="font-size: 4rem; margin-bottom: 1rem;">âš ï¸</div>
                                <h3 style="margin-bottom: 1rem; color: #dc2626;">ë¶„ì„ì„ ìœ„í•œ ë°ì´í„°ê°€ ë¶€ì¡±í•©ë‹ˆë‹¤</h3>
                                <p style="margin-bottom: 2rem; color: #991b1b;">
                                    AHP ë¶„ì„ì„ ìˆ˜í–‰í•˜ë ¤ë©´ ë‹¤ìŒ ë‹¨ê³„ë¥¼ ì™„ë£Œí•´ì£¼ì„¸ìš”:
                                </p>
                                <div style="text-align: left; max-width: 400px; margin: 0 auto 2rem;">
                                    <div style="margin-bottom: 0.5rem;">âœ“ í”„ë¡œì íŠ¸ ìƒì„±</div>
                                    <div style="margin-bottom: 0.5rem;">âœ“ ê¸°ì¤€ ì„¤ì • (ìµœì†Œ 2ê°œ ì´ìƒ)</div>
                                    <div style="margin-bottom: 0.5rem;">âœ“ ìŒëŒ€ë¹„êµ ìˆ˜í–‰</div>
                                </div>
                                
                                <div style="display: flex; justify-content: center; gap: 1rem;">
                                    <button onclick="handleMenuClick('hierarchy-design', null)" style="background: #C8A968; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer;">ê¸°ì¤€ ì„¤ì •í•˜ê¸°</button>
                                    <button onclick="handleMenuClick('pairwise-comparison', null)" style="background: #3b82f6; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer;">ìŒëŒ€ë¹„êµí•˜ê¸°</button>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            }

            // ì‹¤ì œ ê³„ì‚° ê²°ê³¼ í‘œì‹œ
            const { consistency, results, completionRate } = ahpResult;
            const criteriaCount = results.length;
            
            // ì¼ê´€ì„± ìƒíƒœ ë° ìƒ‰ìƒ ê²°ì •
            const consistencyColor = consistency.isConsistent ? '#10b981' : '#dc2626';
            const consistencyStatus = consistency.isConsistent ? 'ì–‘í˜¸' : 'ë¶ˆëŸ‰';
            const consistencyIcon = consistency.isConsistent ? 'âœ…' : 'âš ï¸';
            
            // ì™„ë£Œìœ¨ ìƒ‰ìƒ ê²°ì •
            const completionColor = completionRate >= 100 ? '#10b981' : completionRate >= 80 ? '#f59e0b' : '#dc2626';

            // ìš°ì„ ìˆœìœ„ ê²°ê³¼ HTML ìƒì„±
            const priorityResultsHtml = results.map(result => {
                const percentage = (result.priority * 100).toFixed(1);
                const barWidth = Math.max(percentage, 5); // ìµœì†Œ 5% ë„ˆë¹„ ë³´ì¥
                
                return `
                    <div style="margin-bottom: 1rem; padding: 1rem; background: white; border-radius: 8px; border: 1px solid #e5e7eb;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                            <span style="font-weight: 600; color: #1f2937;">
                                ${result.rank}. ${result.criterion.name}
                            </span>
                            <div style="display: flex; align-items: center; gap: 1rem;">
                                <span style="color: #C8A968; font-weight: bold; font-size: 1.1rem;">
                                    ${result.priority.toFixed(3)} (${percentage}%)
                                </span>
                            </div>
                        </div>
                        <div style="background: #f3f4f6; height: 8px; border-radius: 4px; overflow: hidden;">
                            <div style="background: linear-gradient(90deg, #C8A968, #A98C4B); height: 100%; width: ${barWidth}%; transition: width 0.5s ease;"></div>
                        </div>
                        ${result.criterion.description ? `<div style="color: #6b7280; font-size: 0.9rem; margin-top: 0.5rem;">${result.criterion.description}</div>` : ''}
                    </div>
                `;
            }).join('');

            return `
                <div style="padding: 2rem;">
                    <div style="background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                            <h2 style="color: #C8A968; margin: 0;">ğŸ“ˆ AHP ë¶„ì„ ê²°ê³¼</h2>
                            <button onclick="recalculateResults()" style="background: #6b7280; color: white; border: none; padding: 0.5rem 1rem; border-radius: 6px; cursor: pointer; font-size: 0.9rem;">ğŸ”„ ì¬ê³„ì‚°</button>
                        </div>
                        
                        <!-- ì£¼ìš” ì§€í‘œ ì¹´ë“œë“¤ -->
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
                            <div style="background: #f9fafb; padding: 1.5rem; border-radius: 8px; text-align: center; border: 2px solid ${consistency.cr <= 0.05 ? '#10b981' : consistency.cr <= 0.1 ? '#f59e0b' : '#dc2626'};">
                                <div style="color: ${consistencyColor}; font-size: 1.8rem; font-weight: bold;">${consistency.cr.toFixed(3)}</div>
                                <div style="color: #666; margin-bottom: 0.5rem;">ì¼ê´€ì„± ë¹„ìœ¨ (CR)</div>
                                <div style="color: ${consistencyColor}; font-size: 0.9rem; font-weight: 600;">
                                    ${consistencyIcon} ${consistencyStatus}
                                    ${consistency.cr <= 0.1 ? '' : ' (ê²€í†  í•„ìš”)'}
                                </div>
                            </div>
                            <div style="background: #f9fafb; padding: 1.5rem; border-radius: 8px; text-align: center;">
                                <div style="color: ${completionColor}; font-size: 1.8rem; font-weight: bold;">${completionRate}%</div>
                                <div style="color: #666; margin-bottom: 0.5rem;">ë¹„êµ ì™„ë£Œìœ¨</div>
                                <div style="color: #666; font-size: 0.9rem;">${ahpResult.completedComparisons}/${ahpResult.totalComparisons} ì™„ë£Œ</div>
                            </div>
                            <div style="background: #f9fafb; padding: 1.5rem; border-radius: 8px; text-align: center;">
                                <div style="color: #3b82f6; font-size: 1.8rem; font-weight: bold;">${criteriaCount}</div>
                                <div style="color: #666; margin-bottom: 0.5rem;">í‰ê°€ ê¸°ì¤€</div>
                                <div style="color: #666; font-size: 0.9rem;">ì´ ${Math.floor(criteriaCount * (criteriaCount - 1) / 2)}ê°œ ë¹„êµ</div>
                            </div>
                        </div>
                        
                        <!-- ìš°ì„ ìˆœìœ„ ê²°ê³¼ -->
                        <div style="background: #f9fafb; padding: 2rem; border-radius: 8px; margin-bottom: 2rem;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                                <h3 style="margin: 0; color: #1f2937;">ğŸ† ìµœì¢… ìš°ì„ ìˆœìœ„</h3>
                                <div style="color: #666; font-size: 0.9rem;">
                                    ì´í•©: ${results.reduce((sum, r) => sum + r.priority, 0).toFixed(3)} 
                                    (ê¸°í•˜í‰ê· ë²• ì‚¬ìš©)
                                </div>
                            </div>
                            ${priorityResultsHtml}
                        </div>

                        <!-- ì¼ê´€ì„± ë¶„ì„ ìƒì„¸ -->
                        <div style="background: #f9fafb; padding: 2rem; border-radius: 8px; margin-bottom: 2rem;">
                            <h3 style="margin-bottom: 1.5rem; color: #1f2937;">ğŸ¯ ì¼ê´€ì„± ë¶„ì„ ìƒì„¸</h3>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem;">
                                <div style="text-align: center;">
                                    <div style="color: #666; font-size: 0.9rem;">ìµœëŒ€ ê³ ìœ ê°’ (Î»max)</div>
                                    <div style="font-weight: bold; color: #1f2937;">${consistency.lambdaMax.toFixed(4)}</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="color: #666; font-size: 0.9rem;">ì¼ê´€ì„± ì§€ìˆ˜ (CI)</div>
                                    <div style="font-weight: bold; color: #1f2937;">${consistency.ci.toFixed(4)}</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="color: #666; font-size: 0.9rem;">ë¬´ì‘ìœ„ ì§€ìˆ˜ (RI)</div>
                                    <div style="font-weight: bold; color: #1f2937;">${ahpCalculator.randomIndex[criteriaCount] || 1.49}</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="color: #666; font-size: 0.9rem;">ì¼ê´€ì„± ë¹„ìœ¨ (CR)</div>
                                    <div style="font-weight: bold; color: ${consistencyColor};">${consistency.cr.toFixed(4)}</div>
                                </div>
                            </div>
                            
                            <div style="margin-top: 1.5rem; padding: 1rem; background: ${consistency.isConsistent ? '#f0fdf4' : '#fef2f2'}; border-radius: 6px; border: 1px solid ${consistency.isConsistent ? '#10b981' : '#dc2626'};">
                                <div style="color: ${consistencyColor}; font-weight: 600; margin-bottom: 0.5rem;">
                                    ${consistency.isConsistent ? 'âœ… ì¼ê´€ì„± ê²€ì¦ í†µê³¼' : 'âš ï¸ ì¼ê´€ì„± ê²€í†  í•„ìš”'}
                                </div>
                                <div style="color: #666; font-size: 0.9rem;">
                                    ${consistency.isConsistent 
                                        ? 'CR â‰¤ 0.1 ê¸°ì¤€ì„ ë§Œì¡±í•˜ì—¬ ê²°ê³¼ë¥¼ ì‹ ë¢°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.' 
                                        : 'CR > 0.1ë¡œ ìŒëŒ€ë¹„êµë¥¼ ì¬ê²€í† í•˜ì—¬ ì¼ê´€ì„±ì„ ê°œì„ í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.'}
                                </div>
                            </div>
                        </div>
                        
                        <!-- ì•¡ì…˜ ë²„íŠ¼ë“¤ -->
                        <div style="text-align: center;">
                            <button onclick="downloadAHPReport()" style="background: #C8A968; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer; margin-right: 1rem; font-weight: 600;">ğŸ“„ ë¶„ì„ ë³´ê³ ì„œ ë‹¤ìš´ë¡œë“œ</button>
                            <button onclick="handleMenuClick('sensitivity-analysis', null)" style="background: #3b82f6; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer; margin-right: 1rem;">ğŸ“Š ë¯¼ê°ë„ ë¶„ì„</button>
                            ${!consistency.isConsistent ? 
                                '<button onclick="handleMenuClick(\'pairwise-comparison\', null)" style="background: #dc2626; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer;">ğŸ”„ ìŒëŒ€ë¹„êµ ì¬ê²€í† </button>' : 
                                '<button onclick="generateVisualization()" style="background: #10b981; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer;">ğŸ“ˆ ì‹œê°í™”</button>'
                            }
                        </div>
                    </div>
                </div>
            `;
        }

        function generateComingSoonContent(title, contentType) {
            return `
                <div style="padding: 2rem;">
                    <div style="background: white; padding: 4rem; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); text-align: center;">
                        <div style="font-size: 4rem; margin-bottom: 2rem;">ğŸš§</div>
                        <h2 style="color: #C8A968; margin-bottom: 1rem;">${title}</h2>
                        <p style="color: #666; margin-bottom: 2rem; max-width: 400px; margin-left: auto; margin-right: auto;">
                            ì´ ê¸°ëŠ¥ì€ í˜„ì¬ ê°œë°œ ì¤‘ì…ë‹ˆë‹¤. ê³§ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ì¤€ë¹„í•˜ê³  ìˆìŠµë‹ˆë‹¤.
                        </p>
                        <div style="display: flex; gap: 1rem; justify-content: center;">
                            <button onclick="handleMenuClick('my-projects', null)" style="background: #C8A968; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer;">ë‚´ í”„ë¡œì íŠ¸ë¡œ</button>
                            <button onclick="window.location.reload()" style="background: #6b7280; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer;">ëŒ€ì‹œë³´ë“œë¡œ</button>
                        </div>
                    </div>
                </div>
            `;
        }

        function showErrorContent(contentType, error) {
            const mainContent = document.querySelector('.main-content');
            if (mainContent) {
                mainContent.innerHTML = `
                    <div style="padding: 2rem;">
                        <div style="background: white; padding: 4rem; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); text-align: center;">
                            <div style="font-size: 4rem; margin-bottom: 2rem;">âš ï¸</div>
                            <h2 style="color: #dc2626; margin-bottom: 1rem;">ì˜¤ë¥˜ ë°œìƒ</h2>
                            <p style="color: #666; margin-bottom: 2rem;">${contentType} í˜ì´ì§€ë¥¼ ë¡œë“œí•˜ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.</p>
                            <p style="color: #999; font-size: 0.9rem; margin-bottom: 2rem;">${error.message}</p>
                            <div style="display: flex; gap: 1rem; justify-content: center;">
                                <button onclick="window.location.reload()" style="background: #C8A968; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer;">í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨</button>
                                <button onclick="handleMenuClick('my-projects', null)" style="background: #6b7280; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer;">ë‚´ í”„ë¡œì íŠ¸ë¡œ</button>
                            </div>
                        </div>
                    </div>
                `;
            }
        }

        // =========================
        // Phase 3: í‰ê°€ì ê´€ë¦¬ ì‹œìŠ¤í…œ JavaScript í•¨ìˆ˜ë“¤
        // =========================

        /**
         * í‰ê°€ì ê´€ë¦¬ ì¸í„°í˜ì´ìŠ¤ ì´ˆê¸°í™”
         */
        function setupEvaluatorManagement() {
            console.log('ğŸ¯ í‰ê°€ì ê´€ë¦¬ ì‹œìŠ¤í…œ ì´ˆê¸°í™”');
            
            // í‰ê°€ì ëª©ë¡ ë¡œë“œ
            loadEvaluatorList();
            
            // ê²€ìƒ‰ ë° í•„í„° ì´ë²¤íŠ¸ ì„¤ì •
            const searchInput = document.getElementById('evaluatorSearch');
            if (searchInput) {
                searchInput.addEventListener('input', debounce(filterEvaluators, 300));
            }
            
            const statusFilterElement = document.getElementById('statusFilter');
            if (statusFilterElement) {
                statusFilterElement.addEventListener('change', filterEvaluators);
            }
        }

        /**
         * í‰ê°€ì ì¶”ê°€ ëª¨ë‹¬ í‘œì‹œ
         */
        function showAddEvaluatorModal() {
            const modal = document.getElementById('addEvaluatorModal');
            if (modal) {
                modal.style.display = 'flex';
                
                // ëª¨ë‹¬ ì™¸ë¶€ í´ë¦­ ì‹œ ë‹«ê¸°
                modal.addEventListener('click', function(e) {
                    if (e.target === modal) {
                        hideAddEvaluatorModal();
                    }
                });
                
                // ESC í‚¤ë¡œ ëª¨ë‹¬ ë‹«ê¸°
                document.addEventListener('keydown', function(e) {
                    if (e.key === 'Escape') {
                        hideAddEvaluatorModal();
                    }
                });
                
                console.log('âœ¨ í‰ê°€ì ì¶”ê°€ ëª¨ë‹¬ í‘œì‹œë¨');
            }
        }

        /**
         * í‰ê°€ì ì¶”ê°€ ëª¨ë‹¬ ìˆ¨ê¸°ê¸°
         */
        function hideAddEvaluatorModal() {
            const modal = document.getElementById('addEvaluatorModal');
            if (modal) {
                modal.style.display = 'none';
                
                // í¼ ë¦¬ì…‹
                const form = document.getElementById('addEvaluatorForm');
                if (form) {
                    form.reset();
                }
                
                console.log('âŒ í‰ê°€ì ì¶”ê°€ ëª¨ë‹¬ ìˆ¨ê²¨ì§');
            }
        }

        /**
         * í‰ê°€ì ê²€ìƒ‰ ë° í•„í„°ë§
         */
        function filterEvaluators() {
            const searchInput = document.getElementById('evaluatorSearch');
            const statusFilterElement = document.getElementById('statusFilter');
            const evaluatorRows = document.querySelectorAll('#evaluatorTableBody tr');
            
            const searchTerm = searchInput ? searchInput.value.toLowerCase() : '';
            const statusFilterValue = statusFilterElement ? statusFilterElement.value : '';
            
            let visibleCount = 0;
            
            evaluatorRows.forEach(row => {
                const name = row.cells[0] ? row.cells[0].textContent.toLowerCase() : '';
                const email = row.cells[1] ? row.cells[1].textContent.toLowerCase() : '';
                const status = row.cells[2] ? row.cells[2].textContent : '';
                
                const matchesSearch = !searchTerm || name.includes(searchTerm) || email.includes(searchTerm);
                const matchesStatus = !statusFilterValue || status.includes(statusFilterValue);
                
                if (matchesSearch && matchesStatus) {
                    row.style.display = '';
                    visibleCount++;
                } else {
                    row.style.display = 'none';
                }
            });
            
            // ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ëŠ” ê²½ìš° ë©”ì‹œì§€ í‘œì‹œ
            updateEvaluatorTableEmptyState(visibleCount === 0);
            
            console.log(`ğŸ” í‰ê°€ì í•„í„°ë§ ì™„ë£Œ: ${visibleCount}ê°œ ê²°ê³¼`);
        }

        /**
         * í‰ê°€ì ëª©ë¡ ë¡œë“œ
         */
        async function loadEvaluatorList() {
            console.log('ğŸ“‹ í‰ê°€ì ëª©ë¡ ë¡œë”© ì‹œì‘');
            
            try {
                // Django APIë¥¼ í†µí•´ ì‹¤ì œ í‰ê°€ì ë°ì´í„° ì¡°íšŒ
                const result = await window.ahpApi.getEvaluators();
                
                if (!result.success) {
                    console.error('âŒ í‰ê°€ì ëª©ë¡ ì¡°íšŒ ì‹¤íŒ¨:', result.message);
                    updateEvaluatorTableEmptyState(true);
                    return;
                }
                
                const evaluators = result.data || [];
                
                // í…Œì´ë¸”ì— í‰ê°€ì ë°ì´í„° ì¶”ê°€
                const tableBody = document.getElementById('evaluatorTableBody');
                if (tableBody) {
                    if (evaluators.length === 0) {
                        updateEvaluatorTableEmptyState(true);
                    } else {
                        tableBody.innerHTML = evaluators.map(evaluator => `
                            <tr style="border-bottom: 1px solid #e5e7eb;">
                                <td style="padding: 1rem; font-weight: 500;">${evaluator.name || evaluator.evaluator_name || '-'}</td>
                                <td style="padding: 1rem; color: #6b7280;">${evaluator.email || evaluator.evaluator_email || '-'}</td>
                                <td style="padding: 1rem;">
                                    <span class="status-badge ${evaluator.status || 'pending'}" style="
                                        padding: 0.25rem 0.75rem; 
                                        border-radius: 12px; 
                                        font-size: 0.8rem; 
                                        font-weight: 500;
                                        background: ${evaluator.status === 'active' ? '#dcfce7' : '#fef3c7'};
                                        color: ${evaluator.status === 'active' ? '#166534' : '#92400e'};
                                    ">
                                        ${evaluator.status === 'active' ? 'í™œì„±' : 'ëŒ€ê¸°ì¤‘'}
                                    </span>
                                </td>
                                <td style="padding: 1rem; color: #6b7280;">${evaluator.role || 'Evaluator'}</td>
                                <td style="padding: 1rem; text-align: center;">${evaluator.projects_count || 0}</td>
                                <td style="padding: 1rem; text-align: center;">${evaluator.completion_rate || 0}%</td>
                                <td style="padding: 1rem; color: #6b7280;">${evaluator.last_activity ? new Date(evaluator.last_activity).toLocaleDateString() : '-'}</td>
                                <td style="padding: 1rem;">
                                    <div style="display: flex; gap: 0.5rem;">
                                        <button onclick="editEvaluator(${evaluator.id})" style="
                                            background: #3b82f6; 
                                            color: white; 
                                            border: none; 
                                            padding: 0.25rem 0.5rem; 
                                            border-radius: 4px; 
                                            cursor: pointer; 
                                            font-size: 0.8rem;
                                        ">í¸ì§‘</button>
                                        <button onclick="removeEvaluator(${evaluator.id})" style="
                                            background: #ef4444; 
                                            color: white; 
                                            border: none; 
                                            padding: 0.25rem 0.5rem; 
                                            border-radius: 4px; 
                                            cursor: pointer; 
                                            font-size: 0.8rem;
                                        ">ì œê±°</button>
                                    </div>
                                </td>
                            </tr>
                        `).join('');
                    }
                }
                
                // í†µê³„ ì¹´ë“œ ì—…ë°ì´íŠ¸
                updateEvaluatorStats(evaluators);
                
                console.log(`âœ… í‰ê°€ì ëª©ë¡ ë¡œë“œ ì™„ë£Œ: ${evaluators.length}ëª…`);
            } catch (error) {
                console.error('âŒ í‰ê°€ì ëª©ë¡ ë¡œë“œ ì˜¤ë¥˜:', error);
                updateEvaluatorTableEmptyState(true);
            }
        }

        /**
         * í‰ê°€ì í†µê³„ ì—…ë°ì´íŠ¸
         */
        function updateEvaluatorStats(evaluators) {
            const activeEvaluators = evaluators.filter(e => e.status === 'active').length;
            const pendingInvites = evaluators.filter(e => e.status === 'pending').length;
            const avgCompletionRate = evaluators.length > 0 ? 
                evaluators.reduce((sum, e) => sum + (e.completion_rate || e.completionRate || 0), 0) / evaluators.length : 0;
            
            // í†µê³„ ì¹´ë“œ ê°’ ì—…ë°ì´íŠ¸
            const statsElements = {
                'active-evaluators': activeEvaluators,
                'pending-invites': pendingInvites,
                'avg-completion-rate': Math.round(avgCompletionRate) + '%'
            };
            
            Object.entries(statsElements).forEach(([id, value]) => {
                const element = document.querySelector(`[data-stat="${id}"]`);
                if (element) {
                    element.textContent = value;
                }
            });
        }

        /**
         * í‰ê°€ì í…Œì´ë¸” ë¹ˆ ìƒíƒœ ì—…ë°ì´íŠ¸
         */
        function updateEvaluatorTableEmptyState(isEmpty) {
            const tableBody = document.getElementById('evaluatorTableBody');
            if (isEmpty && tableBody) {
                tableBody.innerHTML = `
                    <tr>
                        <td colspan="8" style="text-align: center; padding: 2rem; color: #6b7280;">
                            ê²€ìƒ‰ ì¡°ê±´ì— ë§ëŠ” í‰ê°€ìê°€ ì—†ìŠµë‹ˆë‹¤.
                        </td>
                    </tr>
                `;
            }
        }

        /**
         * í‰ê°€ì í¸ì§‘
         */
        function editEvaluator(evaluatorId) {
            console.log(`âœï¸ í‰ê°€ì í¸ì§‘: ID ${evaluatorId}`);
            alert(`í‰ê°€ì í¸ì§‘ ê¸°ëŠ¥ì´ ê³§ ì¶”ê°€ë  ì˜ˆì •ì…ë‹ˆë‹¤. (ID: ${evaluatorId})`);
        }

        /**
         * í‰ê°€ì ì œê±°
         */
        function removeEvaluator(evaluatorId) {
            if (confirm('ì´ í‰ê°€ìë¥¼ ì •ë§ ì œê±°í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                console.log(`ğŸ—‘ï¸ í‰ê°€ì ì œê±°: ID ${evaluatorId}`);
                // ì‹¤ì œ êµ¬í˜„ì‹œ API í˜¸ì¶œ
                loadEvaluatorList(); // ëª©ë¡ ìƒˆë¡œê³ ì¹¨
            }
        }

        /**
         * í‰ê°€ì ì¶”ê°€ í¼ ì²˜ë¦¬
         */
        function handleAddEvaluator(event) {
            event.preventDefault();
            
            const form = event.target;
            const formData = new FormData(form);
            
            const evaluatorData = {
                name: formData.get('name'),
                email: formData.get('email'),
                role: formData.get('role'),
                message: formData.get('message')
            };
            
            console.log('ğŸ‘¤ ìƒˆ í‰ê°€ì ì¶”ê°€:', evaluatorData);
            
            // ì‹¤ì œ êµ¬í˜„ì‹œ API í˜¸ì¶œ
            // await window.ahpApi.inviteEvaluator(evaluatorData);
            
            // ì„±ê³µ ë©”ì‹œì§€
            alert(`${evaluatorData.name}ë‹˜ê»˜ ì´ˆëŒ€ ì´ë©”ì¼ì„ ë°œì†¡í–ˆìŠµë‹ˆë‹¤.`);
            
            // ëª¨ë‹¬ ë‹«ê¸° ë° ëª©ë¡ ìƒˆë¡œê³ ì¹¨
            hideAddEvaluatorModal();
            loadEvaluatorList();
        }

        /**
         * ì¼ê´„ ì‘ì—… ì²˜ë¦¬
         */
        function handleBulkAction() {
            const action = document.getElementById('bulkActionSelect')?.value;
            const checkedBoxes = document.querySelectorAll('input[name="evaluatorSelect"]:checked');
            
            if (!action) {
                alert('ì‘ì—…ì„ ì„ íƒí•´ì£¼ì„¸ìš”.');
                return;
            }
            
            if (checkedBoxes.length === 0) {
                alert('ëŒ€ìƒ í‰ê°€ìë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.');
                return;
            }
            
            const selectedIds = Array.from(checkedBoxes).map(cb => cb.value);
            console.log(`ğŸ”„ ì¼ê´„ ì‘ì—… ì‹¤í–‰: ${action} for IDs: ${selectedIds}`);
            
            if (confirm(`ì„ íƒëœ ${checkedBoxes.length}ëª…ì˜ í‰ê°€ìì—ê²Œ ${action} ì‘ì—…ì„ ìˆ˜í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ?`)) {
                // ì‹¤ì œ êµ¬í˜„ì‹œ API í˜¸ì¶œ
                alert(`${action} ì‘ì—…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.`);
                loadEvaluatorList();
            }
        }

        /**
         * ë””ë°”ìš´ìŠ¤ í•¨ìˆ˜ (ê²€ìƒ‰ ì„±ëŠ¥ ìµœì í™”)
         */
        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }

        // =========================
        // Phase 3: í˜‘ì—… í—ˆë¸Œ ë° ì§„í–‰ ëª¨ë‹ˆí„°ë§ ì½˜í…ì¸  ìƒì„± í•¨ìˆ˜ë“¤
        // =========================

        /**
         * í˜‘ì—… í—ˆë¸Œ ì½˜í…ì¸  ìƒì„±
         */
        function generateCollaborationHubContent() {
            return `
                <div style="padding: 2rem;">
                    <div style="background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); margin-bottom: 2rem;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                            <h2 style="color: #C8A968; margin: 0;">ğŸ¤ í˜‘ì—… í—ˆë¸Œ</h2>
                            <button onclick="refreshCollaborationData()" style="background: #6b7280; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer;">ğŸ”„ ìƒˆë¡œê³ ì¹¨</button>
                        </div>

                        <!-- ì‹¤ì‹œê°„ í˜‘ì—… í˜„í™© -->
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; margin-bottom: 2rem;">
                            <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 2rem; border-radius: 12px; text-align: center;">
                                <div style="font-size: 3rem; margin-bottom: 1rem;">âš¡</div>
                                <h3 style="margin-bottom: 1rem;">ì‹¤ì‹œê°„ í˜‘ì—… ì„¸ì…˜</h3>
                                <div style="font-size: 2rem; font-weight: bold; margin-bottom: 0.5rem;">3</div>
                                <p style="opacity: 0.9;">ì§„í–‰ì¤‘ì¸ ì„¸ì…˜</p>
                            </div>
                            <div style="background: linear-gradient(135deg, #ffeaa7 0%, #fab1a0 100%); color: #2d3436; padding: 2rem; border-radius: 12px; text-align: center;">
                                <div style="font-size: 3rem; margin-bottom: 1rem;">ğŸ“Š</div>
                                <h3 style="margin-bottom: 1rem;">ë™ê¸°í™”ëœ í”„ë¡œì íŠ¸</h3>
                                <div style="font-size: 2rem; font-weight: bold; margin-bottom: 0.5rem;">8</div>
                                <p style="opacity: 0.8;">í™œì„± í”„ë¡œì íŠ¸</p>
                            </div>
                        </div>

                        <!-- ìµœê·¼ í˜‘ì—… í™œë™ -->
                        <div style="background: #f8fafc; padding: 1.5rem; border-radius: 8px; margin-bottom: 2rem;">
                            <h3 style="color: #1f2937; margin-bottom: 1rem;">ğŸ“‹ ìµœê·¼ í˜‘ì—… í™œë™</h3>
                            <div id="recentCollaborationActivities">
                                <div style="display: flex; align-items: center; padding: 1rem; background: white; border-radius: 6px; margin-bottom: 0.5rem; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
                                    <div style="width: 40px; height: 40px; background: #10b981; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; margin-right: 1rem;">
                                        ğŸ‘¤
                                    </div>
                                    <div style="flex: 1;">
                                        <div style="font-weight: 500; margin-bottom: 0.25rem;">í”„ë¡œì íŠ¸ í‰ê°€ ì™„ë£Œ</div>
                                        <div style="color: #6b7280; font-size: 0.9rem;">5ë¶„ ì „</div>
                                    </div>
                                    <div style="color: #10b981; font-weight: 500;">ì™„ë£Œ</div>
                                </div>
                                <div style="display: flex; align-items: center; padding: 1rem; background: white; border-radius: 6px; margin-bottom: 0.5rem; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
                                    <div style="width: 40px; height: 40px; background: #3b82f6; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; margin-right: 1rem;">
                                        ğŸ’¬
                                    </div>
                                    <div style="flex: 1;">
                                        <div style="font-weight: 500; margin-bottom: 0.25rem;">ì½”ë©˜íŠ¸ ì¶”ê°€</div>
                                        <div style="color: #6b7280; font-size: 0.9rem;">15ë¶„ ì „</div>
                                    </div>
                                    <div style="color: #3b82f6; font-weight: 500;">í™œì„±</div>
                                </div>
                                <div style="display: flex; align-items: center; padding: 1rem; background: white; border-radius: 6px; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
                                    <div style="width: 40px; height: 40px; background: #f59e0b; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; margin-right: 1rem;">
                                        âš¡
                                    </div>
                                    <div style="flex: 1;">
                                        <div style="font-weight: 500; margin-bottom: 0.25rem;">ì‹¤ì‹œê°„ ë™ê¸°í™” ì‹œì‘ë¨</div>
                                        <div style="color: #6b7280; font-size: 0.9rem;">30ë¶„ ì „</div>
                                    </div>
                                    <div style="color: #10b981; font-weight: 500;">ì§„í–‰ì¤‘</div>
                                </div>
                            </div>
                        </div>

                        <!-- í˜‘ì—… ë„êµ¬ -->
                        <div>
                            <h3 style="color: #1f2937; margin-bottom: 1rem;">ğŸ› ï¸ í˜‘ì—… ë„êµ¬</h3>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
                                <button onclick="startRealTimeSession()" style="background: #10b981; color: white; border: none; padding: 1rem; border-radius: 8px; cursor: pointer; text-align: center;">
                                    <div style="font-size: 1.5rem; margin-bottom: 0.5rem;">ğŸ”´</div>
                                    <div style="font-weight: 600;">ì‹¤ì‹œê°„ ì„¸ì…˜ ì‹œì‘</div>
                                </button>
                                <button onclick="syncAllProjects()" style="background: #3b82f6; color: white; border: none; padding: 1rem; border-radius: 8px; cursor: pointer; text-align: center;">
                                    <div style="font-size: 1.5rem; margin-bottom: 0.5rem;">ğŸ”„</div>
                                    <div style="font-weight: 600;">í”„ë¡œì íŠ¸ ë™ê¸°í™”</div>
                                </button>
                                <button onclick="generateTeamReport()" style="background: #8b5cf6; color: white; border: none; padding: 1rem; border-radius: 8px; cursor: pointer; text-align: center;">
                                    <div style="font-size: 1.5rem; margin-bottom: 0.5rem;">ğŸ“„</div>
                                    <div style="font-weight: 600;">íŒ€ ë¦¬í¬íŠ¸</div>
                                </button>
                                <button onclick="managePermissions()" style="background: #ef4444; color: white; border: none; padding: 1rem; border-radius: 8px; cursor: pointer; text-align: center;">
                                    <div style="font-size: 1.5rem; margin-bottom: 0.5rem;">ğŸ”</div>
                                    <div style="font-weight: 600;">ê¶Œí•œ ê´€ë¦¬</div>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        /**
         * ì§„í–‰ ëª¨ë‹ˆí„°ë§ ì½˜í…ì¸  ìƒì„±
         */
        function generateProgressMonitoringContent() {
            return `
                <div style="padding: 2rem;">
                    <div style="background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); margin-bottom: 2rem;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                            <h2 style="color: #C8A968; margin: 0;">ğŸ“ˆ ì§„í–‰ ëª¨ë‹ˆí„°ë§</h2>
                            <div>
                                <select style="padding: 0.5rem; border: 1px solid #d1d5db; border-radius: 6px; margin-right: 1rem;">
                                    <option value="7days">ìµœê·¼ 7ì¼</option>
                                    <option value="30days">ìµœê·¼ 30ì¼</option>
                                    <option value="90days">ìµœê·¼ 90ì¼</option>
                                </select>
                                <button onclick="exportProgressReport()" style="background: #3b82f6; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer;">ğŸ“Š ë¦¬í¬íŠ¸ ë‚´ë³´ë‚´ê¸°</button>
                            </div>
                        </div>

                        <!-- ì „ì²´ ì§„í–‰ ìƒí™© ëŒ€ì‹œë³´ë“œ -->
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin-bottom: 3rem;">
                            <div style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); color: white; padding: 2rem; border-radius: 12px; text-align: center;">
                                <div style="font-size: 2.5rem; font-weight: bold; margin-bottom: 0.5rem;">78%</div>
                                <div style="opacity: 0.9; margin-bottom: 1rem;">ì „ì²´ ì™„ë£Œìœ¨</div>
                                <div style="background: rgba(255,255,255,0.2); height: 8px; border-radius: 4px; overflow: hidden;">
                                    <div style="background: white; height: 100%; width: 78%; transition: width 0.3s;"></div>
                                </div>
                            </div>
                            <div style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); color: white; padding: 2rem; border-radius: 12px; text-align: center;">
                                <div style="font-size: 2.5rem; font-weight: bold; margin-bottom: 0.5rem;">15</div>
                                <div style="opacity: 0.9; margin-bottom: 1rem;">í™œì„± í”„ë¡œì íŠ¸</div>
                                <div style="font-size: 0.9rem; opacity: 0.8;">+3 ì§€ë‚œì£¼ ëŒ€ë¹„</div>
                            </div>
                            <div style="background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%); color: #2d3436; padding: 2rem; border-radius: 12px; text-align: center;">
                                <div style="font-size: 2.5rem; font-weight: bold; margin-bottom: 0.5rem;">32</div>
                                <div style="opacity: 0.9; margin-bottom: 1rem;">ì°¸ì—¬ í‰ê°€ì</div>
                                <div style="font-size: 0.9rem; opacity: 0.8;">12ê°œêµ­ì—ì„œ ì°¸ì—¬</div>
                            </div>
                            <div style="background: linear-gradient(135deg, #fbc2eb 0%, #a6c1ee 100%); color: #2d3436; padding: 2rem; border-radius: 12px; text-align: center;">
                                <div style="font-size: 2.5rem; font-weight: bold; margin-bottom: 0.5rem;">94%</div>
                                <div style="opacity: 0.9; margin-bottom: 1rem;">í‰ê·  ì¼ê´€ì„±</div>
                                <div style="font-size: 0.9rem; opacity: 0.8;">ìš°ìˆ˜í•œ í’ˆì§ˆ</div>
                            </div>
                        </div>

                        <!-- í”„ë¡œì íŠ¸ë³„ ì§„í–‰ ìƒí™© -->
                        <div style="margin-bottom: 3rem;">
                            <h3 style="color: #1f2937; margin-bottom: 1.5rem;">ğŸ“‹ í”„ë¡œì íŠ¸ë³„ ì§„í–‰ ìƒí™©</h3>
                            <div style="background: #f8fafc; border-radius: 8px; overflow: hidden;">
                                <div style="display: grid; grid-template-columns: 3fr 1fr 1fr 1fr 2fr; gap: 1rem; padding: 1rem; background: #e5e7eb; font-weight: 600; color: #374151;">
                                    <div>í”„ë¡œì íŠ¸ëª…</div>
                                    <div style="text-align: center;">ì§„í–‰ë¥ </div>
                                    <div style="text-align: center;">í‰ê°€ì</div>
                                    <div style="text-align: center;">ì¼ê´€ì„±</div>
                                    <div style="text-align: center;">ìƒíƒœ</div>
                                </div>
                                <div style="display: grid; grid-template-columns: 3fr 1fr 1fr 1fr 2fr; gap: 1rem; padding: 1rem; border-bottom: 1px solid #e5e7eb;">
                                    <div style="font-weight: 500;">ì‹ ì œí’ˆ ê°œë°œ ìš°ì„ ìˆœìœ„</div>
                                    <div style="text-align: center;">
                                        <div style="background: #dcfce7; color: #166534; padding: 0.25rem 0.5rem; border-radius: 12px; font-size: 0.9rem;">85%</div>
                                    </div>
                                    <div style="text-align: center;">8/10</div>
                                    <div style="text-align: center; color: #10b981;">0.08</div>
                                    <div style="text-align: center;">
                                        <span style="background: #10b981; color: white; padding: 0.25rem 0.75rem; border-radius: 12px; font-size: 0.8rem;">ì§„í–‰ì¤‘</span>
                                    </div>
                                </div>
                                <div style="display: grid; grid-template-columns: 3fr 1fr 1fr 1fr 2fr; gap: 1rem; padding: 1rem; border-bottom: 1px solid #e5e7eb;">
                                    <div style="font-weight: 500;">ë§ˆì¼€íŒ… ì „ëµ í‰ê°€</div>
                                    <div style="text-align: center;">
                                        <div style="background: #fef3c7; color: #92400e; padding: 0.25rem 0.5rem; border-radius: 12px; font-size: 0.9rem;">45%</div>
                                    </div>
                                    <div style="text-align: center;">5/12</div>
                                    <div style="text-align: center; color: #f59e0b;">0.12</div>
                                    <div style="text-align: center;">
                                        <span style="background: #f59e0b; color: white; padding: 0.25rem 0.75rem; border-radius: 12px; font-size: 0.8rem;">ëŒ€ê¸°</span>
                                    </div>
                                </div>
                                <div style="display: grid; grid-template-columns: 3fr 1fr 1fr 1fr 2fr; gap: 1rem; padding: 1rem;">
                                    <div style="font-weight: 500;">íˆ¬ì í¬íŠ¸í´ë¦¬ì˜¤ ë¶„ì„</div>
                                    <div style="text-align: center;">
                                        <div style="background: #dcfce7; color: #166534; padding: 0.25rem 0.5rem; border-radius: 12px; font-size: 0.9rem;">100%</div>
                                    </div>
                                    <div style="text-align: center;">15/15</div>
                                    <div style="text-align: center; color: #10b981;">0.05</div>
                                    <div style="text-align: center;">
                                        <span style="background: #3b82f6; color: white; padding: 0.25rem 0.75rem; border-radius: 12px; font-size: 0.8rem;">ì™„ë£Œ</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- ì‹œê°„ëŒ€ë³„ í™œë™ íŒ¨í„´ -->
                        <div>
                            <h3 style="color: #1f2937; margin-bottom: 1.5rem;">â° ì‹œê°„ëŒ€ë³„ í™œë™ íŒ¨í„´</h3>
                            <div style="background: #f8fafc; padding: 2rem; border-radius: 8px;">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                                    <div style="font-size: 0.9rem; color: #6b7280;">ê°€ì¥ í™œë°œí•œ ì‹œê°„: 14:00 - 16:00</div>
                                    <div style="font-size: 0.9rem; color: #6b7280;">í‰ê·  í‰ê°€ ì‹œê°„: 12ë¶„</div>
                                </div>
                                <div style="display: flex; align-items: end; gap: 0.25rem; height: 100px;">
                                    ${Array.from({length: 24}, (_, i) => {
                                        const height = Math.random() * 80 + 20;
                                        const isActive = i >= 9 && i <= 17;
                                        return `<div style="flex: 1; background: ${isActive ? '#3b82f6' : '#d1d5db'}; height: ${height}%; border-radius: 2px;" title="${i}:00"></div>`;
                                    }).join('')}
                                </div>
                                <div style="display: flex; justify-content: space-between; font-size: 0.8rem; color: #9ca3af; margin-top: 0.5rem;">
                                    <span>0ì‹œ</span>
                                    <span>6ì‹œ</span>
                                    <span>12ì‹œ</span>
                                    <span>18ì‹œ</span>
                                    <span>24ì‹œ</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        // í˜‘ì—… ë° ëª¨ë‹ˆí„°ë§ ê´€ë ¨ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë“¤
        function refreshCollaborationData() {
            console.log('ğŸ”„ í˜‘ì—… ë°ì´í„° ìƒˆë¡œê³ ì¹¨');
            alert('í˜‘ì—… ë°ì´í„°ë¥¼ ìƒˆë¡œê³ ì¹¨í–ˆìŠµë‹ˆë‹¤.');
        }

        function startRealTimeSession() {
            console.log('ğŸ”´ ì‹¤ì‹œê°„ ì„¸ì…˜ ì‹œì‘');
            alert('ì‹¤ì‹œê°„ í˜‘ì—… ì„¸ì…˜ì„ ì‹œì‘í•©ë‹ˆë‹¤.');
        }

        function syncAllProjects() {
            console.log('ğŸ”„ ëª¨ë“  í”„ë¡œì íŠ¸ ë™ê¸°í™”');
            alert('ëª¨ë“  í”„ë¡œì íŠ¸ë¥¼ ë™ê¸°í™”í–ˆìŠµë‹ˆë‹¤.');
        }

        function generateTeamReport() {
            console.log('ğŸ“„ íŒ€ ë¦¬í¬íŠ¸ ìƒì„±');
            alert('íŒ€ ë¦¬í¬íŠ¸ë¥¼ ìƒì„±í–ˆìŠµë‹ˆë‹¤.');
        }

        function managePermissions() {
            console.log('ğŸ” ê¶Œí•œ ê´€ë¦¬');
            alert('ê¶Œí•œ ê´€ë¦¬ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.');
        }

        function exportProgressReport() {
            console.log('ğŸ“Š ì§„í–‰ ë¦¬í¬íŠ¸ ë‚´ë³´ë‚´ê¸°');
            alert('ì§„í–‰ ë¦¬í¬íŠ¸ë¥¼ ë‚´ë³´ëƒˆìŠµë‹ˆë‹¤.');
        }

        function exportEvaluatorList() {
            console.log('ğŸ“Š í‰ê°€ì ëª©ë¡ ë‚´ë³´ë‚´ê¸°');
            alert('í‰ê°€ì ëª©ë¡ì„ Excel íŒŒì¼ë¡œ ë‚´ë³´ëƒˆìŠµë‹ˆë‹¤.');
        }

        // ëˆ„ë½ëœ ì´ˆê¸°í™” í•¨ìˆ˜ë“¤ ì¶”ê°€
        function setupCollaborationHub() {
            console.log('ğŸ¤ í˜‘ì—… í—ˆë¸Œ ì´ˆê¸°í™”');
            // ì‹¤ì œ êµ¬í˜„ì‹œ ì‹¤ì‹œê°„ ë°ì´í„° ë¡œë”©
        }

        function loadProgressData() {
            console.log('ğŸ“ˆ ì§„í–‰ ë°ì´í„° ë¡œë”©');
            // ì‹¤ì œ êµ¬í˜„ì‹œ APIì—ì„œ ì§„í–‰ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
        }

        function setupCriteriaManagement() {
            console.log('ğŸ“ ê¸°ì¤€ ê´€ë¦¬ ì´ˆê¸°í™”');
            // ê¸°ì¤€ ê´€ë¦¬ í¼ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì„¤ì •
        }

        function setupPairwiseComparison() {
            console.log('âš–ï¸ ìŒëŒ€ë¹„êµ ì´ˆê¸°í™”');
            // ìŒëŒ€ë¹„êµ ì¸í„°í˜ì´ìŠ¤ ì´ˆê¸°í™”
        }

        function setupAlternativesManagement() {
            console.log('ğŸ¯ ëŒ€ì•ˆ ê´€ë¦¬ ì´ˆê¸°í™”');
            // ëŒ€ì•ˆ ê´€ë¦¬ í¼ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì„¤ì •
        }

        // ëˆ„ë½ëœ ì½˜í…ì¸  ìƒì„± í•¨ìˆ˜ë“¤ ì¶”ê°€
        function generateAlternativesManagementContent() {
            return `
                <div style="padding: 2rem;">
                    <div style="background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                            <h2 style="color: #C8A968; margin: 0;">ğŸ¯ ëŒ€ì•ˆ ê´€ë¦¬</h2>
                            <button onclick="addAlternative()" style="background: #10b981; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer;">+ ëŒ€ì•ˆ ì¶”ê°€</button>
                        </div>
                        
                        <div style="background: #f8fafc; padding: 2rem; border-radius: 8px; text-align: center;">
                            <div style="font-size: 3rem; margin-bottom: 1rem;">ğŸ¯</div>
                            <h3 style="margin-bottom: 1rem;">ëŒ€ì•ˆ ê´€ë¦¬</h3>
                            <p style="color: #666; margin-bottom: 2rem;">í‰ê°€í•  ëŒ€ì•ˆë“¤ì„ ì¶”ê°€í•˜ê³  ê´€ë¦¬í•˜ì„¸ìš”.</p>
                            <button onclick="addAlternative()" style="background: #C8A968; color: white; border: none; padding: 1rem 2rem; border-radius: 8px; cursor: pointer; font-size: 1rem;">ì²« ëŒ€ì•ˆ ì¶”ê°€í•˜ê¸°</button>
                        </div>
                    </div>
                </div>
            `;
        }

        function generateTrashContent() {
            return `
                <div style="padding: 2rem;">
                    <div style="background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                            <h2 style="color: #C8A968; margin: 0;">ğŸ—‘ï¸ íœ´ì§€í†µ</h2>
                            <button onclick="emptyTrash()" style="background: #ef4444; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer;">ì „ì²´ ì‚­ì œ</button>
                        </div>
                        
                        <div style="background: #f8fafc; padding: 2rem; border-radius: 8px; text-align: center;">
                            <div style="font-size: 3rem; margin-bottom: 1rem;">ğŸ—‘ï¸</div>
                            <h3 style="margin-bottom: 1rem;">íœ´ì§€í†µì´ ë¹„ì–´ìˆìŠµë‹ˆë‹¤</h3>
                            <p style="color: #666;">ì‚­ì œëœ í”„ë¡œì íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
                        </div>
                    </div>
                </div>
            `;
        }

        function generateReportGenerationContent() {
            return `
                <div style="padding: 2rem;">
                    <div style="background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                            <h2 style="color: #C8A968; margin: 0;">ğŸ“„ ë³´ê³ ì„œ ìƒì„±</h2>
                            <button onclick="generateReport()" style="background: #3b82f6; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer;">ë³´ê³ ì„œ ìƒì„±</button>
                        </div>
                        
                        <div style="background: #f8fafc; padding: 2rem; border-radius: 8px; text-align: center;">
                            <div style="font-size: 3rem; margin-bottom: 1rem;">ğŸ“„</div>
                            <h3 style="margin-bottom: 1rem;">ë³´ê³ ì„œ ìƒì„±</h3>
                            <p style="color: #666; margin-bottom: 2rem;">AHP ë¶„ì„ ê²°ê³¼ë¥¼ ì „ë¬¸ì ì¸ ë³´ê³ ì„œë¡œ ìƒì„±í•˜ì„¸ìš”.</p>
                            <button onclick="generateReport()" style="background: #C8A968; color: white; border: none; padding: 1rem 2rem; border-radius: 8px; cursor: pointer; font-size: 1rem;">ë³´ê³ ì„œ ìƒì„±í•˜ê¸°</button>
                        </div>
                    </div>
                </div>
            `;
        }

        function generateSensitivityAnalysisContent() {
            return `
                <div style="padding: 2rem;">
                    <div style="background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                            <h2 style="color: #C8A968; margin: 0;">ğŸ“Š ë¯¼ê°ë„ ë¶„ì„</h2>
                            <button onclick="runSensitivityAnalysis()" style="background: #8b5cf6; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer;">ë¶„ì„ ì‹¤í–‰</button>
                        </div>
                        
                        <div style="background: #f8fafc; padding: 2rem; border-radius: 8px; text-align: center;">
                            <div style="font-size: 3rem; margin-bottom: 1rem;">ğŸ“Š</div>
                            <h3 style="margin-bottom: 1rem;">ë¯¼ê°ë„ ë¶„ì„</h3>
                            <p style="color: #666; margin-bottom: 2rem;">ê¸°ì¤€ ê°€ì¤‘ì¹˜ ë³€í™”ì— ë”°ë¥¸ ê²°ê³¼ ë³€ë™ì„ ë¶„ì„í•˜ì„¸ìš”.</p>
                            <button onclick="runSensitivityAnalysis()" style="background: #C8A968; color: white; border: none; padding: 1rem 2rem; border-radius: 8px; cursor: pointer; font-size: 1rem;">ë¶„ì„ ì‹œì‘í•˜ê¸°</button>
                        </div>
                    </div>
                </div>
            `;
        }

        function generatePersonalSettingsContent() {
            return `
                <div style="padding: 2rem;">
                    <div style="background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                            <h2 style="color: #C8A968; margin: 0;">âš™ï¸ ê°œì¸ ì„¤ì •</h2>
                            <button onclick="saveSettings()" style="background: #10b981; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer;">ì„¤ì • ì €ì¥</button>
                        </div>
                        
                        <div style="background: #f8fafc; padding: 2rem; border-radius: 8px;">
                            <div style="margin-bottom: 2rem;">
                                <h3 style="margin-bottom: 1rem;">ì–¸ì–´ ì„¤ì •</h3>
                                <select style="padding: 0.75rem; border: 1px solid #d1d5db; border-radius: 6px; width: 200px;">
                                    <option value="ko">í•œêµ­ì–´</option>
                                    <option value="en">English</option>
                                    <option value="ja">æ—¥æœ¬èª</option>
                                </select>
                            </div>
                            
                            <div style="margin-bottom: 2rem;">
                                <h3 style="margin-bottom: 1rem;">í…Œë§ˆ ì„¤ì •</h3>
                                <div style="display: flex; gap: 1rem;">
                                    <label style="display: flex; align-items: center; gap: 0.5rem;">
                                        <input type="radio" name="theme" value="light" checked>
                                        <span>ë¼ì´íŠ¸ ëª¨ë“œ</span>
                                    </label>
                                    <label style="display: flex; align-items: center; gap: 0.5rem;">
                                        <input type="radio" name="theme" value="dark">
                                        <span>ë‹¤í¬ ëª¨ë“œ</span>
                                    </label>
                                </div>
                            </div>
                            
                            <div>
                                <h3 style="margin-bottom: 1rem;">ì•Œë¦¼ ì„¤ì •</h3>
                                <label style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;">
                                    <input type="checkbox" checked>
                                    <span>ì´ë©”ì¼ ì•Œë¦¼</span>
                                </label>
                                <label style="display: flex; align-items: center; gap: 0.5rem;">
                                    <input type="checkbox" checked>
                                    <span>í‘¸ì‹œ ì•Œë¦¼</span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function generatePlanManagementContent() {
            return `
                <div style="padding: 2rem;">
                    <div style="background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                        <h2 style="color: #C8A968; margin-bottom: 2rem;">ğŸ’³ ìš”ê¸ˆì œ ê´€ë¦¬</h2>
                        
                        <div style="background: #f8fafc; padding: 2rem; border-radius: 8px; text-align: center;">
                            <div style="font-size: 3rem; margin-bottom: 1rem;">ğŸ’³</div>
                            <h3 style="margin-bottom: 1rem;">í˜„ì¬ í”Œëœ: ê¸°ë³¸ í”Œëœ</h3>
                            <p style="color: #666; margin-bottom: 2rem;">í”„ë¡œì íŠ¸ 1ê°œ, í‰ê°€ì 30ëª…ê¹Œì§€ ì´ìš© ê°€ëŠ¥</p>
                            <button onclick="upgradePlan()" style="background: #C8A968; color: white; border: none; padding: 1rem 2rem; border-radius: 8px; cursor: pointer; font-size: 1rem;">í”Œëœ ì—…ê·¸ë ˆì´ë“œ</button>
                        </div>
                    </div>
                </div>
            `;
        }


        function generateTeamComparisonContent() {
            return `
                <div style="padding: 2rem;">
                    <div style="background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                        <h2 style="color: #C8A968; margin-bottom: 2rem;">ğŸ‘¥ íŒ€ ë¹„êµ ë¶„ì„</h2>
                        
                        <div style="background: #f8fafc; padding: 2rem; border-radius: 8px; text-align: center;">
                            <div style="font-size: 3rem; margin-bottom: 1rem;">ğŸ‘¥</div>
                            <h3 style="margin-bottom: 1rem;">íŒ€ ë¹„êµ ë¶„ì„</h3>
                            <p style="color: #666; margin-bottom: 2rem;">ì—¬ëŸ¬ í‰ê°€ìì˜ ê²°ê³¼ë¥¼ ë¹„êµí•˜ê³  í•©ì˜ì ì„ ì°¾ìœ¼ì„¸ìš”.</p>
                            <button onclick="startTeamComparison()" style="background: #C8A968; color: white; border: none; padding: 1rem 2rem; border-radius: 8px; cursor: pointer; font-size: 1rem;">ë¶„ì„ ì‹œì‘í•˜ê¸°</button>
                        </div>
                    </div>
                </div>
            `;
        }

        function generateRealTimeSyncContent() {
            return `
                <div style="padding: 2rem;">
                    <div style="background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                        <h2 style="color: #C8A968; margin-bottom: 2rem;">ğŸ”„ ì‹¤ì‹œê°„ ë™ê¸°í™”</h2>
                        
                        <div style="background: #f8fafc; padding: 2rem; border-radius: 8px; text-align: center;">
                            <div style="font-size: 3rem; margin-bottom: 1rem;">ğŸ”„</div>
                            <h3 style="margin-bottom: 1rem;">ì‹¤ì‹œê°„ ë™ê¸°í™”</h3>
                            <p style="color: #666; margin-bottom: 2rem;">ëª¨ë“  í‰ê°€ìì™€ ì‹¤ì‹œê°„ìœ¼ë¡œ ë°ì´í„°ë¥¼ ë™ê¸°í™”í•©ë‹ˆë‹¤.</p>
                            <button onclick="startRealTimeSync()" style="background: #C8A968; color: white; border: none; padding: 1rem 2rem; border-radius: 8px; cursor: pointer; font-size: 1rem;">ë™ê¸°í™” ì‹œì‘</button>
                        </div>
                    </div>
                </div>
            `;
        }

        // ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë“¤
        function addAlternative() {
            console.log('ğŸ¯ ëŒ€ì•ˆ ì¶”ê°€');
            alert('ëŒ€ì•ˆ ì¶”ê°€ ê¸°ëŠ¥ì´ ê³§ êµ¬í˜„ë  ì˜ˆì •ì…ë‹ˆë‹¤.');
        }

        function emptyTrash() {
            console.log('ğŸ—‘ï¸ íœ´ì§€í†µ ë¹„ìš°ê¸°');
            if (confirm('íœ´ì§€í†µì„ ì™„ì „íˆ ë¹„ìš°ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                alert('íœ´ì§€í†µì´ ë¹„ì›Œì¡ŒìŠµë‹ˆë‹¤.');
            }
        }

        function generateReport() {
            console.log('ğŸ“„ ë³´ê³ ì„œ ìƒì„±');
            alert('ë³´ê³ ì„œë¥¼ ìƒì„±í–ˆìŠµë‹ˆë‹¤.');
        }

        function runSensitivityAnalysis() {
            console.log('ğŸ“Š ë¯¼ê°ë„ ë¶„ì„ ì‹¤í–‰');
            alert('ë¯¼ê°ë„ ë¶„ì„ì„ ì‹¤í–‰í–ˆìŠµë‹ˆë‹¤.');
        }

        function saveSettings() {
            console.log('âš™ï¸ ì„¤ì • ì €ì¥');
            alert('ì„¤ì •ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.');
        }

        function upgradePlan() {
            console.log('ğŸ’³ í”Œëœ ì—…ê·¸ë ˆì´ë“œ');
            alert('í”Œëœ ì—…ê·¸ë ˆì´ë“œ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.');
        }

        function startTeamComparison() {
            console.log('ğŸ‘¥ íŒ€ ë¹„êµ ë¶„ì„ ì‹œì‘');
            alert('íŒ€ ë¹„êµ ë¶„ì„ì„ ì‹œì‘í•©ë‹ˆë‹¤.');
        }

        function startRealTimeSync() {
            console.log('ğŸ”„ ì‹¤ì‹œê°„ ë™ê¸°í™” ì‹œì‘');
            alert('ì‹¤ì‹œê°„ ë™ê¸°í™”ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤.');
        }



        // showAuthError í•¨ìˆ˜ë„ GitHub Pages ê²½ë¡œì— ë§ê²Œ ìˆ˜ì •
        // showAuthError í•¨ìˆ˜ ì œê±°ë¨ - ë¡œê·¸ì¸ ê´€ë ¨ ê¸°ëŠ¥ ì‚­ì œ
        

        // =========================
        // ëŒ€ì‹œë³´ë“œ ë° ì¸êµ¬í†µê³„í•™ì  ì„¤ë¬¸ì¡°ì‚¬ í•¨ìˆ˜ë“¤
        // =========================

        /**
         * ëª¨ë¸êµ¬ì¶• ì½˜í…ì¸  ìƒì„±
         */
        function generateModelBuildingContent() {
            return `
                <div style="padding: 2rem;">
                    <div style="background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                            <h2 style="color: #C8A968; margin: 0; display: flex; align-items: center; gap: 0.5rem;">
                                <span style="font-size: 1.5rem;">ğŸ—ï¸</span>
                                ëª¨ë¸êµ¬ì¶•
                            </h2>
                            <div style="display: flex; gap: 1rem;">
                                <button onclick="createNewModel()" style="background: #10b981; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer; font-weight: 600;">
                                    + ìƒˆ ëª¨ë¸ ìƒì„±
                                </button>
                                <button onclick="loadModelTemplate()" style="background: #3b82f6; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer; font-weight: 600;">
                                    ğŸ“‹ í…œí”Œë¦¿ ì„ íƒ
                                </button>
                            </div>
                        </div>

                        <!-- í‰ê°€ ë°©ë²• ì„ íƒ -->
                        <div id="evaluation-mode-selector" style="margin-bottom: 2rem;">
                            <h3 style="color: #1f2937; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem;">
                                <span>âš™ï¸</span>
                                í‰ê°€ ë°©ë²• ì„ íƒ
                            </h3>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1rem;">
                                <div id="eval-method-pairwise" onclick="selectEvaluationMethod('pairwise')" 
                                     style="border: 2px solid #3b82f6; background: #eff6ff; padding: 1.5rem; border-radius: 8px; cursor: pointer; transition: all 0.2s;">
                                    <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                                        <div style="width: 50px; height: 50px; background: #3b82f6; border-radius: 10px; display: flex; align-items: center; justify-content: center; color: white; font-size: 1.5rem;">âš–ï¸</div>
                                        <div style="flex: 1;">
                                            <h4 style="margin: 0; color: #1e40af;">ìŒëŒ€ë¹„êµ</h4>
                                            <span style="font-size: 0.8rem; color: #3b82f6; background: #dbeafe; padding: 0.25rem 0.5rem; border-radius: 4px;">ì‹¤ìš©í˜•/ì´ë¡ í˜•</span>
                                        </div>
                                        <div style="color: #3b82f6; font-size: 1.5rem;">âœ“</div>
                                    </div>
                                    <p style="color: #1e40af; font-size: 0.9rem; margin: 0 0 1rem 0;">ë‘ ìš”ì†Œë¥¼ ì§ì ‘ ë¹„êµí•˜ì—¬ ìƒëŒ€ì  ì¤‘ìš”ë„ë¥¼ í‰ê°€í•©ë‹ˆë‹¤.</p>
                                    <div style="display: flex; gap: 0.5rem;">
                                        <button onclick="event.stopPropagation(); selectPairwiseMode('practical')" 
                                                style="background: #60a5fa; color: white; border: none; padding: 0.5rem 1rem; border-radius: 4px; cursor: pointer; font-size: 0.8rem;">âš¡ ì‹¤ìš©í˜•</button>
                                        <button onclick="event.stopPropagation(); selectPairwiseMode('theoretical')" 
                                                style="background: #8b5cf6; color: white; border: none; padding: 0.5rem 1rem; border-radius: 4px; cursor: pointer; font-size: 0.8rem;">ğŸ“ ì´ë¡ í˜•</button>
                                    </div>
                                </div>
                                
                                <div id="eval-method-direct" onclick="selectEvaluationMethod('direct')" 
                                     style="border: 2px solid #e5e7eb; background: white; padding: 1.5rem; border-radius: 8px; cursor: pointer; transition: all 0.2s;">
                                    <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                                        <div style="width: 50px; height: 50px; background: #10b981; border-radius: 10px; display: flex; align-items: center; justify-content: center; color: white; font-size: 1.5rem;">ğŸ“Š</div>
                                        <div>
                                            <h4 style="margin: 0; color: #6b7280;">ì§ì ‘ì…ë ¥</h4>
                                            <span style="font-size: 0.8rem; color: #10b981; background: #dcfce7; padding: 0.25rem 0.5rem; border-radius: 4px;">ì •ëŸ‰í˜•</span>
                                        </div>
                                    </div>
                                    <p style="color: #6b7280; font-size: 0.9rem; margin: 0;">ê¸°ì¡´ ë°ì´í„°ë‚˜ ì „ë¬¸ê°€ íŒë‹¨ì„ ì§ì ‘ ì…ë ¥í•˜ì—¬ ì¤‘ìš”ë„ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.</p>
                                </div>
                            </div>
                        </div>

                        <!-- ëª¨ë¸ ë¹Œë” íƒ­ ë©”ë‰´ -->
                        <div style="border-bottom: 2px solid #e5e7eb; margin-bottom: 2rem;">
                            <div style="display: flex; gap: 2rem;">
                                <button id="model-tab-criteria" onclick="switchModelTab('criteria')" 
                                        style="padding: 1rem 1.5rem; border: none; background: none; color: #3b82f6; border-bottom: 2px solid #3b82f6; font-weight: 600; cursor: pointer;">
                                    ğŸ“Š í‰ê°€ ê¸°ì¤€
                                </button>
                                <button id="model-tab-alternatives" onclick="switchModelTab('alternatives')" 
                                        style="padding: 1rem 1.5rem; border: none; background: none; color: #6b7280; border-bottom: 2px solid transparent; cursor: pointer;">
                                    ğŸ¯ ëŒ€ì•ˆ
                                </button>
                                <button id="model-tab-evaluation" onclick="switchModelTab('evaluation')" 
                                        style="padding: 1rem 1.5rem; border: none; background: none; color: #6b7280; border-bottom: 2px solid transparent; cursor: pointer;">
                                    âš–ï¸ í‰ê°€ ì‹¤í–‰
                                </button>
                                <button id="model-tab-hierarchy" onclick="switchModelTab('hierarchy')" 
                                        style="padding: 1rem 1.5rem; border: none; background: none; color: #6b7280; border-bottom: 2px solid transparent; cursor: pointer;">
                                    ğŸ—ï¸ ê³„ì¸µêµ¬ì¡°
                                </button>
                                <button id="model-tab-settings" onclick="switchModelTab('settings')" 
                                        style="padding: 1rem 1.5rem; border: none; background: none; color: #6b7280; border-bottom: 2px solid transparent; cursor: pointer;">
                                    âš™ï¸ ì„¤ì •
                                </button>
                            </div>
                        </div>

                        <!-- íƒ­ ì½˜í…ì¸  ì˜ì—­ -->
                        <div id="model-tab-content">
                            <!-- ì´ˆê¸° ì½˜í…ì¸ ëŠ” setupModelBuildingì—ì„œ ë¡œë“œ -->
                        </div>

                        <!-- ëª¨ë¸ ìƒíƒœ ìš”ì•½ -->
                        <div style="margin-top: 2rem; padding: 1.5rem; background: #f8fafc; border-radius: 8px; border-left: 4px solid #C8A968;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                                <h4 style="color: #1f2937; margin: 0;">ğŸ“ˆ ëª¨ë¸ ìƒíƒœ</h4>
                                <button onclick="validateModel()" style="background: #8b5cf6; color: white; border: none; padding: 0.5rem 1rem; border-radius: 4px; cursor: pointer; font-size: 0.9rem;">
                                    âœ… ëª¨ë¸ ê²€ì¦
                                </button>
                            </div>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem;">
                                <div style="text-align: center; padding: 1rem; background: white; border-radius: 6px;">
                                    <div style="font-size: 1.5rem; font-weight: bold; color: #10b981;" id="criteria-count">0</div>
                                    <div style="font-size: 0.9rem; color: #6b7280;">í‰ê°€ ê¸°ì¤€</div>
                                </div>
                                <div style="text-align: center; padding: 1rem; background: white; border-radius: 6px;">
                                    <div style="font-size: 1.5rem; font-weight: bold; color: #3b82f6;" id="alternatives-count">0</div>
                                    <div style="font-size: 0.9rem; color: #6b7280;">ëŒ€ì•ˆ</div>
                                </div>
                                <div style="text-align: center; padding: 1rem; background: white; border-radius: 6px;">
                                    <div style="font-size: 1.5rem; font-weight: bold; color: #f59e0b;" id="model-completion">0%</div>
                                    <div style="font-size: 0.9rem; color: #6b7280;">ì™„ì„±ë„</div>
                                </div>
                                <div style="text-align: center; padding: 1rem; background: white; border-radius: 6px;">
                                    <div style="font-size: 1.5rem; font-weight: bold; color: #ef4444;" id="model-status">âŒ</div>
                                    <div style="font-size: 0.9rem; color: #6b7280;">ê²€ì¦ ìƒíƒœ</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        /**
         * ëŒ€ì‹œë³´ë“œ ì½˜í…ì¸  ìƒì„±
         */
        function generateDashboardContent() {
            return `
                <div class="dashboard-container">
                    <div style="background: white; border-radius: 12px; padding: 2rem; box-shadow: 0 2px 8px rgba(0,0,0,0.1); margin-bottom: 2rem;">
                        <h1 style="color: #1f2937; margin-bottom: 1.5rem; display: flex; align-items: center; gap: 1rem;">
                            <span style="font-size: 2rem;">ğŸ </span>
                            AHP ê°œì¸ ì„œë¹„ìŠ¤ ëŒ€ì‹œë³´ë“œ
                        </h1>
                        <p style="color: #6b7280; margin-bottom: 2rem;">ë¶„ì„ì  ê³„ì¸µí™” ê³¼ì •(AHP)ì„ í†µí•œ ì˜ì‚¬ê²°ì • ì§€ì› ì‹œìŠ¤í…œì…ë‹ˆë‹¤.</p>
                    </div>

                    <!-- ë¹ ë¥¸ ì•¡ì…˜ -->
                    <div style="background: white; border-radius: 12px; padding: 2rem; box-shadow: 0 2px 8px rgba(0,0,0,0.1); margin-bottom: 2rem;">
                        <h2 style="color: #1f2937; margin-bottom: 1.5rem; display: flex; align-items: center; gap: 0.75rem;">
                            <span>âš¡</span>
                            ë¹ ë¥¸ ì‘ì—…
                        </h2>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
                            <button onclick="handleMenuClick('new-project', null)" 
                                    style="background: linear-gradient(135deg, #C8A968, #A98C4B); color: white; border: none; padding: 1.5rem; border-radius: 8px; cursor: pointer; text-align: left; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                <div style="font-size: 1.5rem; margin-bottom: 0.5rem;">â•</div>
                                <div style="font-weight: 600; margin-bottom: 0.25rem;">ìƒˆ í”„ë¡œì íŠ¸</div>
                                <div style="font-size: 0.875rem; opacity: 0.9;">ìƒˆë¡œìš´ AHP ë¶„ì„ ì‹œì‘</div>
                            </button>
                            
                            <button onclick="handleMenuClick('my-projects', null)" 
                                    style="background: linear-gradient(135deg, #3b82f6, #2563eb); color: white; border: none; padding: 1.5rem; border-radius: 8px; cursor: pointer; text-align: left; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                <div style="font-size: 1.5rem; margin-bottom: 0.5rem;">ğŸ“‹</div>
                                <div style="font-weight: 600; margin-bottom: 0.25rem;">ë‚´ í”„ë¡œì íŠ¸</div>
                                <div style="font-size: 0.875rem; opacity: 0.9;">ì§„í–‰ ì¤‘ì¸ í”„ë¡œì íŠ¸ ë³´ê¸°</div>
                            </button>
                            
                            <button onclick="handleMenuClick('results-analysis', null)" 
                                    style="background: linear-gradient(135deg, #10b981, #059669); color: white; border: none; padding: 1.5rem; border-radius: 8px; cursor: pointer; text-align: left; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                <div style="font-size: 1.5rem; margin-bottom: 0.5rem;">ğŸ“ˆ</div>
                                <div style="font-weight: 600; margin-bottom: 0.25rem;">ê²°ê³¼ ë¶„ì„</div>
                                <div style="font-size: 0.875rem; opacity: 0.9;">ë¶„ì„ ê²°ê³¼ í™•ì¸</div>
                            </button>
                        </div>
                    </div>

                    <!-- ëŒ€ì‹œë³´ë“œ í†µê³„ -->
                    <div id="dashboardStats" style="background: white; border-radius: 12px; padding: 2rem; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        <h2 style="color: #1f2937; margin-bottom: 1.5rem; display: flex; align-items: center; gap: 0.75rem;">
                            <span>ğŸ“Š</span>
                            í”„ë¡œì íŠ¸ í˜„í™©
                        </h2>
                        <div style="text-align: center; color: #6b7280; padding: 2rem;">
                            <div style="font-size: 1.5rem; margin-bottom: 1rem;">â³</div>
                            <p>ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>
                        </div>
                    </div>
                </div>
            `;
        }

        /**
         * ëŒ€ì‹œë³´ë“œ ë°ì´í„° ë¡œë“œ
         */
        // í”„ë¡œì íŠ¸ ëª©ë¡ ìƒˆë¡œê³ ì¹¨ í•¨ìˆ˜
        async function refreshProjectList() {
            try {
                console.log('ğŸ”„ í”„ë¡œì íŠ¸ ëª©ë¡ ìƒˆë¡œê³ ì¹¨ ì‹œì‘');
                
                // ìºì‹œ ë¬´íš¨í™”ë¥¼ ìœ„í•´ íƒ€ì„ìŠ¤íƒ¬í”„ ì¶”ê°€
                const timestamp = new Date().getTime();
                const result = await window.ahpApi.getProjects(`?_t=${timestamp}`);
                
                if (result.success && result.data) {
                    const projects = Array.isArray(result.data) ? result.data : (result.data.results || []);
                    console.log(`âœ… í”„ë¡œì íŠ¸ ëª©ë¡ ìƒˆë¡œê³ ì¹¨ ì™„ë£Œ: ${projects.length}ê°œ í”„ë¡œì íŠ¸`);
                    
                    // ëŒ€ì‹œë³´ë“œê°€ í˜„ì¬ í™”ë©´ì— ìˆë‹¤ë©´ ì—…ë°ì´íŠ¸
                    const dashboardStats = document.getElementById('dashboardStats');
                    if (dashboardStats) {
                        await loadDashboardData();
                    }
                    
                    // í”„ë¡œì íŠ¸ ëª©ë¡ í™”ë©´ì´ í˜„ì¬ í™œì„±í™”ë˜ì–´ ìˆë‹¤ë©´ ì—…ë°ì´íŠ¸
                    const projectListContainer = document.querySelector('.projects-container');
                    if (projectListContainer) {
                        await loadProjectsContent();
                    }
                    
                    // "ë‚´ í”„ë¡œì íŠ¸" ë©”ë‰´ê°€ í™œì„±í™”ë˜ì–´ ìˆë‹¤ë©´ ë‹¤ì‹œ ë¡œë“œ
                    const currentContent = document.querySelector('.main-content');
                    if (currentContent && currentContent.innerHTML.includes('ë‚´ í”„ë¡œì íŠ¸')) {
                        console.log('ğŸ”„ ë‚´ í”„ë¡œì íŠ¸ í™”ë©´ ìƒˆë¡œê³ ì¹¨');
                        handleMenuClick('my-projects', null);
                    }
                    
                    return result.data;
                } else {
                    console.log('âš ï¸ í”„ë¡œì íŠ¸ ëª©ë¡ ìƒˆë¡œê³ ì¹¨ ì‹¤íŒ¨:', result.message);
                    return [];
                }
            } catch (error) {
                console.error('âŒ í”„ë¡œì íŠ¸ ëª©ë¡ ìƒˆë¡œê³ ì¹¨ ì˜¤ë¥˜:', error);
                return [];
            }
        }

        // í”„ë¡œì íŠ¸ ëª©ë¡ ì½˜í…ì¸  ë¡œë“œ í•¨ìˆ˜ (ê°„ë‹¨í•œ êµ¬í˜„)
        async function loadProjectsContent() {
            try {
                console.log('ğŸ“‹ í”„ë¡œì íŠ¸ ëª©ë¡ ì½˜í…ì¸  ìƒˆë¡œê³ ì¹¨');
                const result = await window.ahpApi.getProjects();
                
                if (result.success && result.data) {
                    const projects = Array.isArray(result.data) ? result.data : (result.data.results || []);
                    console.log(`âœ… í”„ë¡œì íŠ¸ ëª©ë¡ ì—…ë°ì´íŠ¸ ì™„ë£Œ: ${projects.length}ê°œ`);
                } else {
                    console.log('âš ï¸ í”„ë¡œì íŠ¸ ëª©ë¡ ì—…ë°ì´íŠ¸ ì‹¤íŒ¨');
                }
            } catch (error) {
                console.error('âŒ í”„ë¡œì íŠ¸ ëª©ë¡ ì—…ë°ì´íŠ¸ ì˜¤ë¥˜:', error);
            }
        }

        async function loadDashboardData() {
            try {
                console.log('ğŸ“Š ëŒ€ì‹œë³´ë“œ ë°ì´í„° ë¡œë”© ì‹œì‘');
                const result = await window.ahpApi.getProjects();
                
                const statsContainer = document.getElementById('dashboardStats');
                if (!statsContainer) return;
                
                if (result.success && result.data) {
                    // API ì‘ë‹µ êµ¬ì¡°ì— ë”°ë¼ ì˜¬ë°”ë¥¸ ë°°ì—´ ì¶”ì¶œ
                    const projects = Array.isArray(result.data) ? result.data : (result.data.results || []);
                    const totalProjects = projects.length;
                    const completedProjects = projects.filter(p => p.status === 'completed').length;
                    const activeProjects = projects.filter(p => p.status === 'active').length;
                    
                    statsContainer.innerHTML = `
                        <h2 style="color: #1f2937; margin-bottom: 1.5rem; display: flex; align-items: center; gap: 0.75rem;">
                            <span>ğŸ“Š</span>
                            í”„ë¡œì íŠ¸ í˜„í™©
                        </h2>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1.5rem;">
                            <div style="text-align: center; padding: 1.5rem; background: #f8fafc; border-radius: 8px; border-left: 4px solid #C8A968;">
                                <div style="font-size: 2rem; font-weight: bold; color: #C8A968;">${totalProjects}</div>
                                <div style="color: #6b7280; margin-top: 0.5rem;">ì´ í”„ë¡œì íŠ¸</div>
                            </div>
                            <div style="text-align: center; padding: 1.5rem; background: #f0f9ff; border-radius: 8px; border-left: 4px solid #3b82f6;">
                                <div style="font-size: 2rem; font-weight: bold; color: #3b82f6;">${activeProjects}</div>
                                <div style="color: #6b7280; margin-top: 0.5rem;">ì§„í–‰ ì¤‘</div>
                            </div>
                            <div style="text-align: center; padding: 1.5rem; background: #f0fdf4; border-radius: 8px; border-left: 4px solid #10b981;">
                                <div style="font-size: 2rem; font-weight: bold; color: #10b981;">${completedProjects}</div>
                                <div style="color: #6b7280; margin-top: 0.5rem;">ì™„ë£Œ</div>
                            </div>
                        </div>
                    `;
                } else {
                    statsContainer.innerHTML = `
                        <h2 style="color: #1f2937; margin-bottom: 1.5rem; display: flex; align-items: center; gap: 0.75rem;">
                            <span>ğŸ“Š</span>
                            í”„ë¡œì íŠ¸ í˜„í™©
                        </h2>
                        <div style="text-align: center; color: #6b7280; padding: 2rem;">
                            <div style="font-size: 2rem; margin-bottom: 1rem;">ğŸ“</div>
                            <p>ì•„ì§ ìƒì„±ëœ í”„ë¡œì íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
                            <button onclick="handleMenuClick('new-project', null)" 
                                    style="background: #C8A968; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer; margin-top: 1rem;">
                                ì²« í”„ë¡œì íŠ¸ ë§Œë“¤ê¸°
                            </button>
                        </div>
                    `;
                }
            } catch (error) {
                console.error('âŒ ëŒ€ì‹œë³´ë“œ ë°ì´í„° ë¡œë”© ì˜¤ë¥˜:', error);
                const statsContainer = document.getElementById('dashboardStats');
                if (statsContainer) {
                    statsContainer.innerHTML = `
                        <h2 style="color: #1f2937; margin-bottom: 1.5rem; display: flex; align-items: center; gap: 0.75rem;">
                            <span>ğŸ“Š</span>
                            í”„ë¡œì íŠ¸ í˜„í™©
                        </h2>
                        <div style="text-align: center; color: #dc2626; padding: 2rem;">
                            <div style="font-size: 2rem; margin-bottom: 1rem;">âš ï¸</div>
                            <p>ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p>
                        </div>
                    `;
                }
            }
        }

        /**
         * í‰ê°€ììš© ì—°êµ¬ í”„ë¡œì íŠ¸ ì°¸ì—¬ ì„¤ë¬¸ì¡°ì‚¬ ì½˜í…ì¸  ìƒì„±
         */
        function generateEvaluatorDemographicSurveyContent() {
            return `
                <div style="max-width: 1000px; margin: 0 auto; padding: 2rem;">
                    <div style="background: white; border-radius: 12px; padding: 2rem; border: 1px solid #e5e7eb; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
                        <h2 style="color: var(--text-primary); font-size: 2rem; font-weight: bold; margin-bottom: 1.5rem;">
                            ğŸ“Š ì¸êµ¬í†µê³„í•™ì  ì„¤ë¬¸ì¡°ì‚¬
                        </h2>
                        
                        <form id="demographicSurveyForm" style="space-y: 1.5rem;">
                            <!-- ê¸°ë³¸ ì •ë³´ ì„¹ì…˜ -->
                            <div style="margin-bottom: 2rem;">
                                <h3 style="color: var(--text-primary); font-size: 1.125rem; font-weight: 600; margin-bottom: 1rem;">
                                    ê¸°ë³¸ ì •ë³´
                                </h3>
                                
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 1rem;">
                                    <div>
                                        <label style="display: block; color: var(--text-muted); font-size: 0.875rem; font-weight: 500; margin-bottom: 0.5rem;">
                                            ì—°ë ¹ëŒ€
                                        </label>
                                        <select name="age" style="width: 100%; padding: 0.75rem; border-radius: 0.5rem; border: 1px solid #d1d5db; background: var(--bg-surface); color: var(--text-primary);" onchange="handleInputChange(this)">
                                            <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                                            <option value="20s">20ëŒ€</option>
                                            <option value="30s">30ëŒ€</option>
                                            <option value="40s">40ëŒ€</option>
                                            <option value="50s">50ëŒ€</option>
                                            <option value="60s">60ëŒ€ ì´ìƒ</option>
                                        </select>
                                    </div>
                                    
                                    <div>
                                        <label style="display: block; color: var(--text-muted); font-size: 0.875rem; font-weight: 500; margin-bottom: 0.5rem;">
                                            ì„±ë³„
                                        </label>
                                        <select name="gender" style="width: 100%; padding: 0.75rem; border-radius: 0.5rem; border: 1px solid #d1d5db; background: var(--bg-surface); color: var(--text-primary);" onchange="handleInputChange(this)">
                                            <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                                            <option value="male">ë‚¨ì„±</option>
                                            <option value="female">ì—¬ì„±</option>
                                            <option value="other">ê¸°íƒ€</option>
                                            <option value="prefer-not">ì‘ë‹µí•˜ì§€ ì•ŠìŒ</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                                    <div>
                                        <label style="display: block; color: var(--text-muted); font-size: 0.875rem; font-weight: 500; margin-bottom: 0.5rem;">
                                            ìµœì¢… í•™ë ¥
                                        </label>
                                        <select name="education" style="width: 100%; padding: 0.75rem; border-radius: 0.5rem; border: 1px solid #d1d5db; background: var(--bg-surface); color: var(--text-primary);" onchange="handleInputChange(this)">
                                            <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                                            <option value="high-school">ê³ ë“±í•™êµ ì¡¸ì—…</option>
                                            <option value="bachelor">í•™ì‚¬</option>
                                            <option value="master">ì„ì‚¬</option>
                                            <option value="phd">ë°•ì‚¬</option>
                                            <option value="other">ê¸°íƒ€</option>
                                        </select>
                                    </div>
                                    
                                    <div>
                                        <label style="display: block; color: var(--text-muted); font-size: 0.875rem; font-weight: 500; margin-bottom: 0.5rem;">
                                            ì§ì—…
                                        </label>
                                        <input type="text" name="occupation" placeholder="ì˜ˆ: ì†Œí”„íŠ¸ì›¨ì–´ ì—”ì§€ë‹ˆì–´" style="width: 100%; padding: 0.75rem; border-radius: 0.5rem; border: 1px solid #d1d5db; background: var(--bg-surface); color: var(--text-primary);" onchange="handleInputChange(this)">
                                    </div>
                                </div>
                            </div>

                            <!-- ì „ë¬¸ ì •ë³´ ì„¹ì…˜ -->
                            <div style="margin-bottom: 2rem;">
                                <h3 style="color: var(--text-primary); font-size: 1.125rem; font-weight: 600; margin-bottom: 1rem;">
                                    ì „ë¬¸ ì •ë³´
                                </h3>
                                
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 1rem;">
                                    <div>
                                        <label style="display: block; color: var(--text-muted); font-size: 0.875rem; font-weight: 500; margin-bottom: 0.5rem;">
                                            í•´ë‹¹ ë¶„ì•¼ ê²½ë ¥
                                        </label>
                                        <select name="experience" style="width: 100%; padding: 0.75rem; border-radius: 0.5rem; border: 1px solid #d1d5db; background: var(--bg-surface); color: var(--text-primary);" onchange="handleInputChange(this)">
                                            <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                                            <option value="less-1">1ë…„ ë¯¸ë§Œ</option>
                                            <option value="1-3">1-3ë…„</option>
                                            <option value="3-5">3-5ë…„</option>
                                            <option value="5-10">5-10ë…„</option>
                                            <option value="more-10">10ë…„ ì´ìƒ</option>
                                        </select>
                                    </div>
                                    
                                    <div>
                                        <label style="display: block; color: var(--text-muted); font-size: 0.875rem; font-weight: 500; margin-bottom: 0.5rem;">
                                            ì†Œì† ë¶€ì„œ
                                        </label>
                                        <input type="text" name="department" placeholder="ì˜ˆ: ì—°êµ¬ê°œë°œë¶€" style="width: 100%; padding: 0.75rem; border-radius: 0.5rem; border: 1px solid #d1d5db; background: var(--bg-surface); color: var(--text-primary);" onchange="handleInputChange(this)">
                                    </div>
                                </div>
                                
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                                    <div>
                                        <label style="display: block; color: var(--text-muted); font-size: 0.875rem; font-weight: 500; margin-bottom: 0.5rem;">
                                            ì§ê¸‰/ì§ì±…
                                        </label>
                                        <input type="text" name="position" placeholder="ì˜ˆ: ì„ ì„ì—°êµ¬ì›" style="width: 100%; padding: 0.75rem; border-radius: 0.5rem; border: 1px solid #d1d5db; background: var(--bg-surface); color: var(--text-primary);" onchange="handleInputChange(this)">
                                    </div>
                                    
                                    <div>
                                        <label style="display: block; color: var(--text-muted); font-size: 0.875rem; font-weight: 500; margin-bottom: 0.5rem;">
                                            AHP í”„ë¡œì íŠ¸ ê²½í—˜
                                        </label>
                                        <select name="projectExperience" style="width: 100%; padding: 0.75rem; border-radius: 0.5rem; border: 1px solid #d1d5db; background: var(--bg-surface); color: var(--text-primary);" onchange="handleInputChange(this)">
                                            <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                                            <option value="none">ì—†ìŒ</option>
                                            <option value="1-2">1-2íšŒ</option>
                                            <option value="3-5">3-5íšŒ</option>
                                            <option value="more-5">5íšŒ ì´ìƒ</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <!-- ì˜ì‚¬ê²°ì • ì—­í•  -->
                            <div style="margin-bottom: 2rem;">
                                <h3 style="color: var(--text-primary); font-size: 1.125rem; font-weight: 600; margin-bottom: 1rem;">
                                    ì˜ì‚¬ê²°ì • ì—­í• 
                                </h3>
                                
                                <div style="margin-bottom: 1rem;">
                                    <label style="display: block; color: var(--text-muted); font-size: 0.875rem; font-weight: 500; margin-bottom: 0.5rem;">
                                        í”„ë¡œì íŠ¸ì—ì„œì˜ ì—­í• 
                                    </label>
                                    <select name="decisionRole" style="width: 100%; padding: 0.75rem; border-radius: 0.5rem; border: 1px solid #d1d5db; background: var(--bg-surface); color: var(--text-primary);" onchange="handleInputChange(this)">
                                        <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                                        <option value="decision-maker">ìµœì¢… ì˜ì‚¬ê²°ì •ê¶Œì</option>
                                        <option value="advisor">ìë¬¸/ì¡°ì–¸ì</option>
                                        <option value="analyst">ë¶„ì„ê°€</option>
                                        <option value="evaluator">í‰ê°€ì</option>
                                        <option value="observer">ê´€ì°°ì</option>
                                    </select>
                                </div>
                                
                                <div>
                                    <label style="display: block; color: var(--text-muted); font-size: 0.875rem; font-weight: 500; margin-bottom: 0.5rem;">
                                        ì¶”ê°€ ì •ë³´ (ì„ íƒì‚¬í•­)
                                    </label>
                                    <textarea name="additionalInfo" rows="4" placeholder="í”„ë¡œì íŠ¸ì™€ ê´€ë ¨ëœ ì¶”ê°€ ì •ë³´ë‚˜ íŠ¹ë³„í•œ ì „ë¬¸ ë¶„ì•¼ê°€ ìˆë‹¤ë©´ ì…ë ¥í•´ì£¼ì„¸ìš”." style="width: 100%; padding: 0.75rem; border-radius: 0.5rem; border: 1px solid #d1d5db; background: var(--bg-surface); color: var(--text-primary); resize: vertical;" onchange="handleInputChange(this)"></textarea>
                                </div>
                            </div>

                            <!-- ë²„íŠ¼ ì„¹ì…˜ -->
                            <div style="display: flex; justify-content: flex-end; gap: 1rem; padding-top: 1.5rem; border-top: 1px solid #e5e7eb;">
                                <button type="button" onclick="clearDemographicForm()" style="padding: 0.75rem 1.5rem; border-radius: 0.5rem; border: 1px solid #d1d5db; background: transparent; color: var(--text-secondary); cursor: pointer; transition: all 0.3s;" onmouseover="this.style.background='var(--bg-secondary)'" onmouseout="this.style.background='transparent'">
                                    ì·¨ì†Œ
                                </button>
                                <button type="submit" onclick="submitDemographicSurvey(event)" style="padding: 0.75rem 1.5rem; border-radius: 0.5rem; border: none; background: var(--accent-primary); color: white; cursor: pointer; transition: all 0.3s;" onmouseover="this.style.background='var(--accent-secondary)'; this.style.transform='translateY(-2px)'; this.style.boxShadow='var(--shadow-xl)'" onmouseout="this.style.background='var(--accent-primary)'; this.style.transform='translateY(0)'; this.style.boxShadow='none'">
                                    ì €ì¥í•˜ê¸°
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            `;
        }

        /**
         * ì¸êµ¬í†µê³„í•™ì  ì„¤ë¬¸ì¡°ì‚¬ ì„¤ì • ë° ì´ˆê¸°í™”
         */
        function setupEvaluatorDemographicSurvey() {
            console.log('ğŸ“Š ì¸êµ¬í†µê³„í•™ì  ì„¤ë¬¸ì¡°ì‚¬ ì´ˆê¸°í™”');
            
            // ì €ì¥ëœ ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°
            loadSavedDemographicData();
        }

        // ì „ì—­ ë³€ìˆ˜ë¡œ í¼ ë°ì´í„° ê´€ë¦¬
        let demographicFormData = {
            age: '',
            gender: '',
            education: '',
            occupation: '',
            experience: '',
            department: '',
            position: '',
            projectExperience: '',
            decisionRole: '',
            additionalInfo: ''
        };

        /**
         * ì…ë ¥ ë³€ê²½ ì²˜ë¦¬
         */
        function handleInputChange(element) {
            const { name, value } = element;
            demographicFormData[name] = value;
            
            // ë°ì´í„°ëŠ” ì œì¶œ ì‹œì—ë§Œ Django ë°±ì—”ë“œì— ì €ì¥
            console.log('ğŸ“Š ì„¤ë¬¸ ë°ì´í„° ì„ì‹œ ì €ì¥ (ë©”ëª¨ë¦¬):', demographicFormData);
        }

        /**
         * ì €ì¥ëœ ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°
         */
        function loadSavedDemographicData() {
            // Django ë°±ì—”ë“œì—ì„œë§Œ ë°ì´í„° ê´€ë¦¬ (ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ì‚¬ìš© ì•ˆ í•¨)
            const savedData = null; // localStorage ëŒ€ì‹  API ì‚¬ìš©
            if (savedData) {
                try {
                    demographicFormData = savedData;
                    
                    // í¼ í•„ë“œì— ë°ì´í„° ë³µì›
                    setTimeout(() => {
                        Object.keys(demographicFormData).forEach(key => {
                            const element = document.querySelector(`[name="${key}"]`);
                            if (element && demographicFormData[key]) {
                                element.value = demographicFormData[key];
                            }
                        });
                    }, 100);
                    
                    console.log('ğŸ’¾ ì €ì¥ëœ ì„¤ë¬¸ ë°ì´í„° ë³µì›ë¨');
                } catch (error) {
                    console.error('âŒ ì €ì¥ëœ ë°ì´í„° ë³µì› ì‹¤íŒ¨:', error);
                }
            }
        }

        /**
         * ì„¤ë¬¸ ì–‘ì‹ ì§€ìš°ê¸°
         */
        function clearDemographicForm() {
            if (confirm('ëª¨ë“  ì…ë ¥ ë‚´ìš©ì„ ì§€ìš°ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                // í¼ ì´ˆê¸°í™”
                const form = document.getElementById('demographicSurveyForm');
                if (form) {
                    form.reset();
                }
                
                // ë°ì´í„° ì´ˆê¸°í™”
                demographicFormData = {
                    age: '',
                    gender: '',
                    education: '',
                    occupation: '',
                    experience: '',
                    department: '',
                    position: '',
                    projectExperience: '',
                    decisionRole: '',
                    additionalInfo: ''
                };
                
                // ë©”ëª¨ë¦¬ì—ì„œ ë°ì´í„° ì´ˆê¸°í™”
                demographicFormData = {};
                
                console.log('ğŸ”„ ì„¤ë¬¸ì¡°ì‚¬ ì–‘ì‹ì´ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤');
            }
        }

        /**
         * ì„¤ë¬¸ì¡°ì‚¬ ì œì¶œ
         */
        async function submitDemographicSurvey(event) {
            if (event) {
                event.preventDefault();
            }

            const form = document.getElementById('demographicSurveyForm');
            if (!form) {
                console.error('âŒ í¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤');
                return;
            }

            // í˜„ì¬ í¼ ë°ì´í„° ìˆ˜ì§‘
            const formData = new FormData(form);
            const surveyData = {
                age: formData.get('age'),
                gender: formData.get('gender'),
                education: formData.get('education'),
                occupation: formData.get('occupation'),
                experience: formData.get('experience'),
                department: formData.get('department'),
                position: formData.get('position'),
                project_experience: formData.get('projectExperience'),
                decision_role: formData.get('decisionRole'),
                additional_info: formData.get('additionalInfo')
            };

            console.log('ğŸ“Š ì„¤ë¬¸ì¡°ì‚¬ ë°ì´í„°:', surveyData);

            try {
                // APIë¥¼ í†µí•´ ì„¤ë¬¸ì¡°ì‚¬ ì œì¶œ
                const result = await window.ahpApi.submitDemographicSurvey(surveyData);
                
                if (result.success) {
                    // ì„±ê³µ ë©”ì‹œì§€ í‘œì‹œ
                    alert('âœ… ì„¤ë¬¸ì¡°ì‚¬ê°€ ì„±ê³µì ìœ¼ë¡œ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!');
                    
                    // Django ë°±ì—”ë“œì— ì™„ë£Œ ìƒíƒœ ì €ì¥ë¨
                    console.log('âœ… ì„¤ë¬¸ì¡°ì‚¬ ë°ì´í„°ê°€ PostgreSQLì— ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤');
                    
                    console.log('âœ… ì„¤ë¬¸ì¡°ì‚¬ API ì œì¶œ ì„±ê³µ:', result.data);
                } else {
                    throw new Error(result.message || 'ì„¤ë¬¸ì¡°ì‚¬ ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
                }
            } catch (error) {
                console.error('âŒ ì„¤ë¬¸ì¡°ì‚¬ ì œì¶œ ì˜¤ë¥˜:', error);
                alert('âŒ ì„¤ë¬¸ì¡°ì‚¬ ì €ì¥ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ' + error.message);
                
                // API ì‹¤íŒ¨ ì‹œ ì—ëŸ¬ í‘œì‹œ (ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ì‚¬ìš© ì•ˆ í•¨)
                console.error('âš ï¸ ì„¤ë¬¸ì¡°ì‚¬ ì œì¶œ ì‹¤íŒ¨ - Django ë°±ì—”ë“œ ì—°ê²° í•„ìš”');
            }
        }

        /**
         * ì¸êµ¬í†µê³„í•™ì  ì„¤ë¬¸ì¡°ì‚¬ ì„¤ì • ë° ì´ˆê¸°í™”
         */
        function setupEvaluatorDemographicSurvey() {
            console.log('ğŸ“‹ ì¸êµ¬í†µê³„í•™ì  ì„¤ë¬¸ì¡°ì‚¬ ì´ˆê¸°í™”');
            
            // ê¸°ì¡´ ì„¤ë¬¸ ë°ì´í„° í™•ì¸
            checkExistingSurveyData();
        }

        /**
         * ê¸°ì¡´ ì„¤ë¬¸ ë°ì´í„° í™•ì¸
         */
        async function checkExistingSurveyData() {
            try {
                // ì‚¬ìš©ìê°€ ì´ë¯¸ ì„¤ë¬¸ì„ ì™„ë£Œí–ˆëŠ”ì§€ í™•ì¸
                const existingSurvey = await window.ahpApi.getUserDemographicData();
                if (existingSurvey.success && existingSurvey.data) {
                    showExistingSurveyMessage();
                }
            } catch (error) {
                console.log('ğŸ“‹ ì‹ ê·œ ì„¤ë¬¸ì¡°ì‚¬ ì‚¬ìš©ì');
            }
        }

        /**
         * ê¸°ì¡´ ì„¤ë¬¸ ì™„ë£Œ ë©”ì‹œì§€ í‘œì‹œ
         */
        function showExistingSurveyMessage() {
            const form = document.getElementById('demographicSurveyForm');
            if (form) {
                form.innerHTML = `
                    <div style="text-align: center; padding: 3rem;">
                        <div style="font-size: 3rem; margin-bottom: 1.5rem;">âœ…</div>
                        <h3 style="color: #10b981; margin-bottom: 1rem;">ì„¤ë¬¸ì¡°ì‚¬ ì™„ë£Œ</h3>
                        <p style="color: #6b7280; margin-bottom: 2rem;">ì´ë¯¸ ì¸êµ¬í†µê³„í•™ì  ì„¤ë¬¸ì¡°ì‚¬ë¥¼ ì™„ë£Œí•˜ì…¨ìŠµë‹ˆë‹¤.<br>ì—°êµ¬ì— ì°¸ì—¬í•´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤!</p>
                        <button onclick="handleMenuClick('dashboard', null)" 
                                style="background: #C8A968; color: white; border: none; padding: 1rem 2rem; border-radius: 8px; cursor: pointer;">
                            ëŒ€ì‹œë³´ë“œë¡œ ëŒì•„ê°€ê¸°
                        </button>
                    </div>
                `;
            }
        }

        /**
         * êµ¬ê¸€ í¼ ìŠ¤íƒ€ì¼ ì„ íƒ í•˜ì´ë¼ì´íŠ¸ íš¨ê³¼
         */
        function highlightSelection(element) {
            // ì„ íƒëœ í•­ëª©ì˜ ë¶€ëª¨ label í•˜ì´ë¼ì´íŠ¸
            const label = element.closest('label');
            if (label) {
                // ê°™ì€ ê·¸ë£¹ì˜ ë‹¤ë¥¸ ì„ íƒ í•­ëª©ë“¤ í•˜ì´ë¼ì´íŠ¸ ì œê±°
                const groupName = element.name;
                if (groupName) {
                    document.querySelectorAll(`input[name="${groupName}"]`).forEach(input => {
                        const parentLabel = input.closest('label');
                        if (parentLabel) {
                            parentLabel.style.backgroundColor = 'transparent';
                        }
                    });
                }
                
                // í˜„ì¬ ì„ íƒëœ í•­ëª© í•˜ì´ë¼ì´íŠ¸
                if (element.checked) {
                    label.style.backgroundColor = '#e8f0fe';
                    label.style.borderColor = '#C8A968';
                } else {
                    label.style.backgroundColor = 'transparent';
                }
            }
        }

        /**
         * ì–‘ì‹ ì§€ìš°ê¸° í•¨ìˆ˜
         */
        function clearForm() {
            if (confirm('ëª¨ë“  ì…ë ¥ ë‚´ìš©ì„ ì§€ìš°ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                const form = document.getElementById('demographicSurveyForm');
                if (form) {
                    // ëª¨ë“  ì…ë ¥ í•„ë“œ ì´ˆê¸°í™”
                    form.querySelectorAll('input[type="radio"], input[type="checkbox"]').forEach(input => {
                        input.checked = false;
                        const label = input.closest('label');
                        if (label) {
                            label.style.backgroundColor = 'transparent';
                        }
                    });
                    
                    // í…ìŠ¤íŠ¸ ì˜ì—­ ì´ˆê¸°í™”
                    const commentsTextarea = document.getElementById('comments');
                    if (commentsTextarea) {
                        commentsTextarea.value = '';
                    }
                    
                    console.log('ğŸ“‹ ì„¤ë¬¸ì¡°ì‚¬ ì–‘ì‹ì´ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.');
                }
            }
        }

        /**
         * ì„¤ë¬¸ì¡°ì‚¬ ì œì¶œ ì²˜ë¦¬
         */
        async function submitDemographicSurvey() {
            const form = document.getElementById('demographicSurveyForm');
            if (!form) return;

            // í•„ìˆ˜ í•­ëª© í™•ì¸
            const ageGroup = document.querySelector('input[name="ageGroup"]:checked');
            const gender = document.querySelector('input[name="gender"]:checked');
            const education = document.querySelector('input[name="education"]:checked');
            const occupation = document.querySelector('input[name="occupation"]:checked');
            const experience = document.querySelector('input[name="experience"]:checked');
            const ahpExperience = document.querySelector('input[name="ahpExperience"]:checked');
            const agreeToTerms = document.getElementById('agreeToTerms').checked;

            // êµ¬ê¸€ í¼ ìŠ¤íƒ€ì¼ ìœ íš¨ì„± ê²€ì‚¬ ë° ì˜¤ë¥˜ í‘œì‹œ
            const showValidationError = (message, inputElement = null) => {
                // êµ¬ê¸€ í¼ ìŠ¤íƒ€ì¼ ì˜¤ë¥˜ í‘œì‹œ
                alert(`â— ${message}`);
                
                // í•´ë‹¹ ì„¹ì…˜ìœ¼ë¡œ ìŠ¤í¬ë¡¤
                if (inputElement) {
                    inputElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    
                    // ì˜¤ë¥˜ í‘œì‹œë¥¼ ìœ„í•œ ìŠ¤íƒ€ì¼ ì ìš©
                    const container = inputElement.closest('div[style*="background: #ffffff"]');
                    if (container) {
                        container.style.border = '2px solid #d93025';
                        container.style.backgroundColor = '#fef7f0';
                        
                        // 3ì´ˆ í›„ ì›ë˜ ìŠ¤íƒ€ì¼ë¡œ ë³µì›
                        setTimeout(() => {
                            container.style.border = 'none';
                            container.style.backgroundColor = '#ffffff';
                        }, 3000);
                    }
                }
            };

            // ìœ íš¨ì„± ê²€ì‚¬
            if (!ageGroup) {
                showValidationError('1ë²ˆ ì§ˆë¬¸: ì—°ë ¹ëŒ€ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.', document.querySelector('input[name="ageGroup"]'));
                return;
            }
            if (!gender) {
                showValidationError('2ë²ˆ ì§ˆë¬¸: ì„±ë³„ì„ ì„ íƒí•´ì£¼ì„¸ìš”.', document.querySelector('input[name="gender"]'));
                return;
            }
            if (!education) {
                showValidationError('3ë²ˆ ì§ˆë¬¸: ìµœì¢… í•™ë ¥ì„ ì„ íƒí•´ì£¼ì„¸ìš”.', document.querySelector('input[name="education"]'));
                return;
            }
            if (!occupation) {
                showValidationError('4ë²ˆ ì§ˆë¬¸: ì§ì—… ë¶„ì•¼ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.', document.querySelector('input[name="occupation"]'));
                return;
            }
            if (!experience) {
                showValidationError('5ë²ˆ ì§ˆë¬¸: ê·¼ë¬´ ê²½ë ¥ì„ ì„ íƒí•´ì£¼ì„¸ìš”.', document.querySelector('input[name="experience"]'));
                return;
            }
            if (!ahpExperience) {
                showValidationError('6ë²ˆ ì§ˆë¬¸: AHP ì‚¬ìš© ê²½í—˜ì„ ì„ íƒí•´ì£¼ì„¸ìš”.', document.querySelector('input[name="ahpExperience"]'));
                return;
            }

            // ì‚¬ìš© ëª©ì  í™•ì¸ (ìµœì†Œ 1ê°œ ì„ íƒ í•„ìš”)
            const usagePurposeElements = document.querySelectorAll('input[name="usagePurpose"]:checked');
            if (usagePurposeElements.length === 0) {
                showValidationError('7ë²ˆ ì§ˆë¬¸: ì˜ì‚¬ê²°ì • ë„êµ¬ ì‚¬ìš© ëª©ì ì„ ìµœì†Œ 1ê°œ ì´ìƒ ì„ íƒí•´ì£¼ì„¸ìš”.', document.querySelector('input[name="usagePurpose"]'));
                return;
            }

            if (!agreeToTerms) {
                showValidationError('ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš© ë™ì˜ê°€ í•„ìš”í•©ë‹ˆë‹¤.', document.getElementById('agreeToTerms'));
                return;
            }

            // ì‚¬ìš© ëª©ì  ìˆ˜ì§‘ (ë³µìˆ˜ì„ íƒ)
            const usagePurpose = Array.from(usagePurposeElements).map(el => el.value);

            // ì„¤ë¬¸ ë°ì´í„° êµ¬ì„±
            const surveyData = {
                age_group: ageGroup.value,
                gender: gender.value,
                education: education.value,
                occupation: occupation.value,
                experience: experience.value,
                ahp_experience: ahpExperience.value,
                usage_purpose: usagePurpose,
                comments: document.getElementById('comments').value.trim(),
                submitted_at: new Date().toISOString()
            };

            try {
                console.log('ğŸ“‹ ì„¤ë¬¸ì¡°ì‚¬ ì œì¶œ:', surveyData);
                
                // ì œì¶œ ë²„íŠ¼ ë¹„í™œì„±í™” ë° ë¡œë”© í‘œì‹œ
                const submitBtn = form.querySelector('button');
                const originalText = submitBtn.textContent;
                submitBtn.textContent = 'ì œì¶œ ì¤‘...';
                submitBtn.disabled = true;

                // API í˜¸ì¶œ
                const result = await window.ahpApi.submitDemographicSurvey(surveyData);

                if (result.success) {
                    // êµ¬ê¸€ í¼ ìŠ¤íƒ€ì¼ ì„±ê³µ ë©”ì‹œì§€ í‘œì‹œ
                    const container = document.querySelector('.demographic-survey-container');
                    if (container) {
                        container.innerHTML = `
                            <div style="background: #ffffff; border-radius: 8px; padding: 3rem; margin: 2rem auto; box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24); text-align: center; max-width: 600px;">
                                <div style="width: 80px; height: 80px; background: #e8f5e8; border-radius: 50%; margin: 0 auto 2rem; display: flex; align-items: center; justify-content: center;">
                                    <svg style="width: 40px; height: 40px; color: #4caf50;" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                                    </svg>
                                </div>
                                <h1 style="color: #202124; font-size: 1.5rem; font-weight: 400; margin: 0 0 1rem 0;">ì„¤ë¬¸ì¡°ì‚¬ê°€ ì œì¶œë˜ì—ˆìŠµë‹ˆë‹¤</h1>
                                <p style="color: #5f6368; font-size: 0.875rem; margin: 0 0 2rem 0; line-height: 1.5;">
                                    ì†Œì¤‘í•œ ì‹œê°„ì„ ë‚´ì–´ ì„¤ë¬¸ì¡°ì‚¬ì— ì°¸ì—¬í•´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.<br>
                                    ì œì¶œí•´ ì£¼ì‹  ì •ë³´ëŠ” ì—°êµ¬ ë°œì „ì— í° ë„ì›€ì´ ë  ê²ƒì…ë‹ˆë‹¤.
                                </p>
                                <div style="background: #f8f9fa; border-radius: 8px; padding: 1.5rem; margin: 2rem 0; border: 1px solid #e8eaed;">
                                    <h3 style="color: #202124; font-size: 1rem; font-weight: 500; margin: 0 0 1rem 0;">ğŸ“Š ì œì¶œ ì™„ë£Œëœ ì •ë³´</h3>
                                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.5rem; text-align: left; font-size: 0.8rem; color: #5f6368;">
                                        <div>âœ“ ì—°ë ¹ëŒ€: <strong>${surveyData.age_group}</strong></div>
                                        <div>âœ“ ì„±ë³„: <strong>${surveyData.gender}</strong></div>
                                        <div>âœ“ í•™ë ¥: <strong>${surveyData.education}</strong></div>
                                        <div>âœ“ ì§ì—…: <strong>${surveyData.occupation}</strong></div>
                                        <div>âœ“ ê²½ë ¥: <strong>${surveyData.experience}</strong></div>
                                        <div>âœ“ AHP ê²½í—˜: <strong>${surveyData.ahp_experience}</strong></div>
                                    </div>
                                    <div style="margin-top: 0.5rem; font-size: 0.8rem; color: #5f6368; text-align: left;">
                                        âœ“ ì‚¬ìš© ëª©ì : <strong>${surveyData.usage_purpose.join(', ')}</strong>
                                    </div>
                                    ${surveyData.comments ? `<div style="margin-top: 0.5rem; font-size: 0.8rem; color: #5f6368; text-align: left;">âœ“ ì¶”ê°€ ì˜ê²¬ ì‘ì„±ë¨</div>` : ''}
                                </div>
                                <p style="color: #5f6368; font-size: 0.75rem; margin: 1.5rem 0; line-height: 1.4;">
                                    ğŸ”’ ì œì¶œëœ ì •ë³´ëŠ” ì—°êµ¬ ëª©ì ìœ¼ë¡œë§Œ í™œìš©ë˜ë©°, ê°œì¸ì •ë³´ë³´í˜¸ë²•ì— ë”°ë¼ ì•ˆì „í•˜ê²Œ ê´€ë¦¬ë©ë‹ˆë‹¤.<br>
                                    ì œì¶œ ì‹œê°: ${new Date().toLocaleString('ko-KR')}
                                </p>
                                <div style="display: flex; gap: 1rem; justify-content: center; margin-top: 2rem;">
                                    <button onclick="handleMenuClick('dashboard', null)" 
                                            style="background: #C8A968; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 4px; cursor: pointer; font-size: 0.875rem; font-weight: 500; transition: all 0.3s;"
                                            onmouseover="this.style.background='#B59A4D'"
                                            onmouseout="this.style.background='#C8A968'">
                                        ëŒ€ì‹œë³´ë“œë¡œ ëŒì•„ê°€ê¸°
                                    </button>
                                    <button onclick="handleMenuClick('new-project', null)" 
                                            style="background: transparent; color: #C8A968; border: 1px solid #C8A968; padding: 0.75rem 1.5rem; border-radius: 4px; cursor: pointer; font-size: 0.875rem; font-weight: 500; transition: all 0.3s;"
                                            onmouseover="this.style.background='#C8A968'; this.style.color='white'"
                                            onmouseout="this.style.background='transparent'; this.style.color='#C8A968'">
                                        ìƒˆ í”„ë¡œì íŠ¸ ì‹œì‘
                                    </button>
                                </div>
                            </div>
                        `;
                    }
                } else {
                    throw new Error(result.message || 'ì„¤ë¬¸ì¡°ì‚¬ ì œì¶œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
                }

            } catch (error) {
                console.error('âŒ ì„¤ë¬¸ì¡°ì‚¬ ì œì¶œ ì˜¤ë¥˜:', error);
                alert('ì„¤ë¬¸ì¡°ì‚¬ ì œì¶œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
                
                // ë²„íŠ¼ ë³µêµ¬
                const submitBtn = form.querySelector('button');
                if (submitBtn) {
                    submitBtn.textContent = originalText;
                    submitBtn.disabled = false;
                }
            }
        }

        // =========================
        // ì‚¬ìš©ì ê°€ì´ë“œ (React ComprehensiveUserGuide + UserGuideOverview êµ¬í˜„)
        // =========================

        /**
         * ì‚¬ìš©ì ê°€ì´ë“œ ë©”ì¸ ì½˜í…ì¸  ìƒì„±
         */
        function generateUserGuideContent() {
            return `
                <div class="user-guide-container" style="max-width: 1200px; margin: 0 auto; padding: 2rem 1rem; background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); min-height: 100vh;">
                    <!-- ê°€ì´ë“œ í—¤ë” -->
                    <div class="text-center mb-8">
                        <h1 style="color: #202124; font-size: 3rem; font-weight: 300; margin-bottom: 1rem; line-height: 1.2;">
                            ì•ˆë…•í•˜ì„¸ìš”, 
                            <span style="color: #C8A968; font-weight: 600; margin-left: 0.5rem;">AHP ì—°êµ¬ì</span>ë‹˜
                        </h1>
                        <div style="display: flex; align-items: center; justify-content: center; gap: 0.5rem; margin-bottom: 1rem;">
                            <div style="width: 3rem; height: 0.125rem; background: #C8A968; border-radius: 9999px;"></div>
                            <span style="color: #C8A968; font-size: 0.75rem; font-weight: 500; text-transform: uppercase; letter-spacing: 0.1em; padding: 0.25rem 0.75rem; border: 1px solid #C8A968; border-radius: 9999px; background: rgba(200, 169, 104, 0.1);">
                                Complete Guide
                            </span>
                            <div style="width: 3rem; height: 0.125rem; background: #C8A968; border-radius: 9999px;"></div>
                        </div>
                        <p style="color: #5f6368; font-size: 1.125rem; font-weight: 300; max-width: 48rem; margin: 0 auto; line-height: 1.6;">
                            ì „ë¬¸ì ì¸ AHP ì˜ì‚¬ê²°ì • ë¶„ì„ì„ ìœ„í•œ ì™„ë²½í•œ ë‹¨ê³„ë³„ ê°€ì´ë“œë¥¼ ì œê³µí•©ë‹ˆë‹¤
                        </p>
                    </div>

                    <!-- ê°€ì´ë“œ ëª¨ë“œ ì„ íƒ -->
                    <div class="guide-mode-selector" style="display: grid; grid-template-columns: 1fr; lg:grid-template-columns: 1fr 1fr; gap: 2rem; margin-bottom: 3rem;">
                        <!-- ì™„ì „ ê°€ì´ë“œ -->
                        <div style="background: rgba(255,255,255,0.95); backdrop-filter: blur(12px); border-radius: 1rem; padding: 2rem; border: 1px solid rgba(0,0,0,0.1); box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06); text-align: center; cursor: pointer;" onclick="showComprehensiveGuide()">
                            <div style="font-size: 4rem; margin-bottom: 1.5rem;">ğŸ“š</div>
                            <h3 style="color: #202124; font-size: 1.5rem; font-weight: 700; margin-bottom: 1rem;">
                                ğŸ“– ì™„ì „ ê°€ì´ë“œ
                            </h3>
                            <p style="color: #5f6368; font-size: 1rem; margin-bottom: 1.5rem;">
                                ì—°êµ¬ìì™€ í‰ê°€ìë¥¼ ìœ„í•œ ìƒì„¸í•œ ë‹¨ê³„ë³„ ê°€ì´ë“œ
                            </p>
                            <div style="text-align: left; margin-bottom: 2rem;">
                                <div style="display: flex; align-items: center; margin-bottom: 0.75rem;">
                                    <span style="font-size: 1.25rem; margin-right: 0.75rem;">ğŸ‘¨â€ğŸ”¬</span>
                                    <span style="color: #202124;">ì—°êµ¬ì ì™„ì „ ì›Œí¬í”Œë¡œìš°</span>
                                </div>
                                <div style="display: flex; align-items: center; margin-bottom: 0.75rem;">
                                    <span style="font-size: 1.25rem; margin-right: 0.75rem;">ğŸ‘¨â€ğŸ’¼</span>
                                    <span style="color: #202124;">í‰ê°€ì ì°¸ì—¬ í”„ë¡œì„¸ìŠ¤</span>
                                </div>
                                <div style="display: flex; align-items: center; margin-bottom: 0.75rem;">
                                    <span style="font-size: 1.25rem; margin-right: 0.75rem;">ğŸ¯</span>
                                    <span style="color: #202124;">ì‹¤ì œ ì˜ˆì‹œ ë° ë°ëª¨</span>
                                </div>
                                <div style="display: flex; align-items: center;">
                                    <span style="font-size: 1.25rem; margin-right: 0.75rem;">ğŸ“Š</span>
                                    <span style="color: #202124;">ìë™ ë…¼ë¬¸ ìƒì„± ë„êµ¬</span>
                                </div>
                            </div>
                            <button style="background: #C8A968; color: white; border: none; padding: 0.75rem 2rem; border-radius: 0.5rem; font-weight: 600; width: 100%; cursor: pointer; transition: all 0.2s;" onmouseover="this.style.background='#b8986b'" onmouseout="this.style.background='#C8A968'">
                                ì™„ì „ ê°€ì´ë“œ ì‹œì‘í•˜ê¸°
                            </button>
                        </div>

                        <!-- ë‹¨ê³„ë³„ ê°€ì´ë“œ -->
                        <div style="background: rgba(255,255,255,0.95); backdrop-filter: blur(12px); border-radius: 1rem; padding: 2rem; border: 1px solid rgba(0,0,0,0.1); box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06); text-align: center; cursor: pointer;" onclick="showStepByStepGuide()">
                            <div style="font-size: 4rem; margin-bottom: 1.5rem;">ğŸ¯</div>
                            <h3 style="color: #202124; font-size: 1.5rem; font-weight: 700; margin-bottom: 1rem;">
                                ğŸ“‹ ë‹¨ê³„ë³„ ê°€ì´ë“œ
                            </h3>
                            <p style="color: #5f6368; font-size: 1rem; margin-bottom: 1.5rem;">
                                5ë‹¨ê³„ ì¸í„°ë™í‹°ë¸Œ í•™ìŠµ í”„ë¡œì„¸ìŠ¤
                            </p>
                            <div style="text-align: left; margin-bottom: 2rem;">
                                <div style="display: flex; align-items: center; margin-bottom: 0.75rem;">
                                    <span style="font-size: 1.25rem; margin-right: 0.75rem;">ğŸ¯</span>
                                    <span style="color: #202124;">í”„ë¡œì íŠ¸ ìƒì„±</span>
                                </div>
                                <div style="display: flex; align-items: center; margin-bottom: 0.75rem;">
                                    <span style="font-size: 1.25rem; margin-right: 0.75rem;">ğŸ“‹</span>
                                    <span style="color: #202124;">ê¸°ì¤€ ì„¤ì •</span>
                                </div>
                                <div style="display: flex; align-items: center; margin-bottom: 0.75rem;">
                                    <span style="font-size: 1.25rem; margin-right: 0.75rem;">ğŸ”€</span>
                                    <span style="color: #202124;">ëŒ€ì•ˆ ì„¤ì •</span>
                                </div>
                                <div style="display: flex; align-items: center;">
                                    <span style="font-size: 1.25rem; margin-right: 0.75rem;">âš–ï¸</span>
                                    <span style="color: #202124;">ìŒëŒ€ë¹„êµ & ê²°ê³¼ë¶„ì„</span>
                                </div>
                            </div>
                            <button style="background: #4285f4; color: white; border: none; padding: 0.75rem 2rem; border-radius: 0.5rem; font-weight: 600; width: 100%; cursor: pointer; transition: all 0.2s;" onmouseover="this.style.background='#3367d6'" onmouseout="this.style.background='#4285f4'">
                                ë‹¨ê³„ë³„ ê°€ì´ë“œ ì‹œì‘í•˜ê¸°
                            </button>
                        </div>
                    </div>

                    <!-- ë¹ ë¥¸ ì‹œì‘ ì„¹ì…˜ -->
                    <div id="quickStartSection" style="background: rgba(255,255,255,0.95); backdrop-filter: blur(12px); border-radius: 1rem; padding: 2rem; border: 1px solid rgba(0,0,0,0.1); box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06); text-align: center; margin-bottom: 2rem;">
                        <h3 style="color: #202124; font-size: 1.5rem; font-weight: 700; margin-bottom: 1.5rem; display: flex; align-items: center; justify-content: center; gap: 0.5rem;">
                            <span style="font-size: 1.5rem;">ğŸš€</span>
                            ì§€ê¸ˆ ì‹œì‘í•˜ê¸°
                        </h3>
                        <p style="color: #5f6368; font-size: 1rem; margin-bottom: 2rem;">
                            ë°”ë¡œ í”„ë¡œì íŠ¸ë¥¼ ì‹œì‘í•˜ê±°ë‚˜ í‰ê°€ì— ì°¸ì—¬í•˜ì„¸ìš”
                        </p>
                        <div style="display: flex; flex-direction: column; sm:flex-direction: row; gap: 1rem; justify-content: center;">
                            <button onclick="handleMenuClick('new-project', null)" style="background: #C8A968; color: white; border: none; padding: 0.75rem 2rem; border-radius: 0.5rem; font-weight: 600; cursor: pointer; transition: all 0.2s; display: flex; align-items: center; justify-content: center; gap: 0.5rem;" onmouseover="this.style.background='#b8986b'" onmouseout="this.style.background='#C8A968'">
                                <span>ğŸ—ï¸</span>
                                ì—°êµ¬ í”„ë¡œì íŠ¸ ì‹œì‘
                            </button>
                            <button onclick="handleMenuClick('demographic-survey', null)" style="background: transparent; color: #C8A968; border: 2px solid #C8A968; padding: 0.75rem 2rem; border-radius: 0.5rem; font-weight: 600; cursor: pointer; transition: all 0.2s; display: flex; align-items: center; justify-content: center; gap: 0.5rem;" onmouseover="this.style.background='rgba(200, 169, 104, 0.1)'" onmouseout="this.style.background='transparent'">
                                <span>ğŸ“‹</span>
                                ì„¤ë¬¸ì¡°ì‚¬ ì°¸ì—¬
                            </button>
                        </div>
                    </div>

                    <!-- ê°€ì´ë“œ ì½˜í…ì¸  ì˜ì—­ -->
                    <div id="guideContentArea"></div>
                </div>
            `;
        }

        /**
         * ì™„ì „ ê°€ì´ë“œ í‘œì‹œ
         */
        function showComprehensiveGuide() {
            const contentArea = document.getElementById('guideContentArea');
            contentArea.innerHTML = `
                <div class="comprehensive-guide" style="background: rgba(255,255,255,0.95); backdrop-filter: blur(12px); border-radius: 1rem; padding: 2rem; border: 1px solid rgba(0,0,0,0.1); box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06);">
                    <!-- ê°€ì´ë“œ ë„¤ë¹„ê²Œì´ì…˜ -->
                    <div style="display: flex; align-items: center; justify-content: between; margin-bottom: 2rem; flex-wrap: wrap; gap: 1rem;">
                        <h2 style="color: #202124; font-size: 2rem; font-weight: 700; display: flex; align-items: center; gap: 1rem;">
                            <span style="font-size: 2.5rem;">ğŸ“š</span>
                            AHP Research Platform ì™„ì „ ê°€ì´ë“œ
                        </h2>
                        <button onclick="backToGuideHome()" style="background: transparent; color: #5f6368; border: 1px solid #dadce0; padding: 0.5rem 1rem; border-radius: 0.5rem; cursor: pointer; transition: all 0.2s;" onmouseover="this.style.background='#f8f9fa'" onmouseout="this.style.background='transparent'">
                            â† ê°€ì´ë“œ í™ˆìœ¼ë¡œ
                        </button>
                    </div>

                    <!-- ì„¹ì…˜ ë„¤ë¹„ê²Œì´ì…˜ -->
                    <div class="section-navigation" style="display: flex; gap: 0.5rem; margin-bottom: 2rem; flex-wrap: wrap;">
                        <button onclick="showGuideSection('overview')" class="guide-nav-btn active" data-section="overview" style="background: #4285f4; color: white; border: none; padding: 0.5rem 1rem; border-radius: 0.5rem; cursor: pointer; font-weight: 500;">
                            ê°œìš”
                        </button>
                        <button onclick="showGuideSection('researcher')" class="guide-nav-btn" data-section="researcher" style="background: #f8f9fa; color: #5f6368; border: 1px solid #dadce0; padding: 0.5rem 1rem; border-radius: 0.5rem; cursor: pointer; font-weight: 500;">
                            ì—°êµ¬ì ê°€ì´ë“œ
                        </button>
                        <button onclick="showGuideSection('evaluator')" class="guide-nav-btn" data-section="evaluator" style="background: #f8f9fa; color: #5f6368; border: 1px solid #dadce0; padding: 0.5rem 1rem; border-radius: 0.5rem; cursor: pointer; font-weight: 500;">
                            í‰ê°€ì ê°€ì´ë“œ
                        </button>
                        <button onclick="showGuideSection('demo')" class="guide-nav-btn" data-section="demo" style="background: #f8f9fa; color: #5f6368; border: 1px solid #dadce0; padding: 0.5rem 1rem; border-radius: 0.5rem; cursor: pointer; font-weight: 500;">
                            ë°ëª¨ ì²´í—˜
                        </button>
                    </div>

                    <!-- ì½˜í…ì¸  ì˜ì—­ -->
                    <div id="guideSectionContent">
                        ${generateOverviewSection()}
                    </div>
                </div>
            `;
        }

        /**
         * ë‹¨ê³„ë³„ ê°€ì´ë“œ í‘œì‹œ
         */
        function showStepByStepGuide() {
            const contentArea = document.getElementById('guideContentArea');
            contentArea.innerHTML = generateStepByStepGuideContent();
            setupStepByStepGuide();
        }

        /**
         * ê°œìš” ì„¹ì…˜ ìƒì„±
         */
        function generateOverviewSection() {
            return `
                <div class="overview-section">
                    <!-- ì£¼ìš” ê¸°ëŠ¥ ì¹´ë“œë“¤ -->
                    <div style="display: grid; grid-template-columns: 1fr; lg:grid-template-columns: 1fr 1fr; gap: 2rem; margin-bottom: 3rem;">
                        <!-- ì—°êµ¬ì ëª¨ë“œ -->
                        <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 2rem; border-radius: 1rem; text-align: center;">
                            <div style="font-size: 4rem; margin-bottom: 1.5rem;">ğŸ‘¨â€ğŸ”¬</div>
                            <h3 style="font-size: 1.5rem; font-weight: 700; margin-bottom: 1rem;">
                                ì—°êµ¬ì ëª¨ë“œ
                            </h3>
                            <p style="font-size: 1rem; margin-bottom: 1.5rem; opacity: 0.9;">
                                í”„ë¡œì íŠ¸ ìƒì„±, ëª¨ë¸ êµ¬ì¶•, í‰ê°€ì ê´€ë¦¬, ê²°ê³¼ ë¶„ì„ê¹Œì§€
                            </p>
                            <div style="text-align: left; margin-bottom: 2rem;">
                                <div style="display: flex; align-items: center; margin-bottom: 0.75rem;">
                                    <span style="font-size: 1.25rem; margin-right: 0.75rem;">ğŸ—ï¸</span>
                                    <span>ê³„ì¸µêµ¬ì¡° ëª¨ë¸ ì„¤ê³„</span>
                                </div>
                                <div style="display: flex; align-items: center; margin-bottom: 0.75rem;">
                                    <span style="font-size: 1.25rem; margin-right: 0.75rem;">ğŸ‘¥</span>
                                    <span>í‰ê°€ì ì´ˆëŒ€ ë° ê´€ë¦¬</span>
                                </div>
                                <div style="display: flex; align-items: center; margin-bottom: 0.75rem;">
                                    <span style="font-size: 1.25rem; margin-right: 0.75rem;">ğŸ“Š</span>
                                    <span>ì‹¤ì‹œê°„ í‰ê°€ ëª¨ë‹ˆí„°ë§</span>
                                </div>
                                <div style="display: flex; align-items: center; margin-bottom: 0.75rem;">
                                    <span style="font-size: 1.25rem; margin-right: 0.75rem;">ğŸ“ˆ</span>
                                    <span>ìƒì„¸ ê²°ê³¼ ë¶„ì„</span>
                                </div>
                                <div style="display: flex; align-items: center;">
                                    <span style="font-size: 1.25rem; margin-right: 0.75rem;">ğŸ“‹</span>
                                    <span>ì„¤ë¬¸ì¡°ì‚¬ ë„êµ¬</span>
                                </div>
                            </div>
                            <button onclick="showGuideSection('researcher')" style="background: rgba(255,255,255,0.2); color: white; border: 1px solid rgba(255,255,255,0.3); padding: 0.75rem 2rem; border-radius: 0.5rem; font-weight: 600; cursor: pointer; width: 100%; backdrop-filter: blur(10px);">
                                ì—°êµ¬ì ê°€ì´ë“œ ë³´ê¸°
                            </button>
                        </div>

                        <!-- í‰ê°€ì ëª¨ë“œ -->
                        <div style="background: white; border: 2px solid #dadce0; padding: 2rem; border-radius: 1rem; text-align: center;">
                            <div style="font-size: 4rem; margin-bottom: 1.5rem;">ğŸ‘¨â€ğŸ’¼</div>
                            <h3 style="color: #202124; font-size: 1.5rem; font-weight: 700; margin-bottom: 1rem;">
                                í‰ê°€ì ëª¨ë“œ
                            </h3>
                            <p style="color: #5f6368; font-size: 1rem; margin-bottom: 1.5rem;">
                                ì§ê´€ì ì¸ í‰ê°€ ì¸í„°í˜ì´ìŠ¤ë¡œ ê°„í¸í•˜ê³  ì •í™•í•œ í‰ê°€
                            </p>
                            <div style="text-align: left; margin-bottom: 2rem;">
                                <div style="display: flex; align-items: center; margin-bottom: 0.75rem;">
                                    <span style="font-size: 1.25rem; margin-right: 0.75rem;">ğŸ¯</span>
                                    <span style="color: #202124;">ìŒëŒ€ë¹„êµ í‰ê°€</span>
                                </div>
                                <div style="display: flex; align-items: center; margin-bottom: 0.75rem;">
                                    <span style="font-size: 1.25rem; margin-right: 0.75rem;">ğŸ“</span>
                                    <span style="color: #202124;">ì§ì ‘ì…ë ¥ í‰ê°€</span>
                                </div>
                                <div style="display: flex; align-items: center; margin-bottom: 0.75rem;">
                                    <span style="font-size: 1.25rem; margin-right: 0.75rem;">âš¡</span>
                                    <span style="color: #202124;">ì‹¤ì‹œê°„ ì§„í–‰ë¥  í™•ì¸</span>
                                </div>
                                <div style="display: flex; align-items: center; margin-bottom: 0.75rem;">
                                    <span style="font-size: 1.25rem; margin-right: 0.75rem;">ğŸ’¾</span>
                                    <span style="color: #202124;">ìë™ ì €ì¥ ë° ë³µêµ¬</span>
                                </div>
                                <div style="display: flex; align-items: center;">
                                    <span style="font-size: 1.25rem; margin-right: 0.75rem;">ğŸ“Š</span>
                                    <span style="color: #202124;">ì„¤ë¬¸ì¡°ì‚¬ ì°¸ì—¬</span>
                                </div>
                            </div>
                            <button onclick="showGuideSection('evaluator')" style="background: transparent; color: #202124; border: 2px solid #202124; padding: 0.75rem 2rem; border-radius: 0.5rem; font-weight: 600; cursor: pointer; width: 100%;">
                                í‰ê°€ì ê°€ì´ë“œ ë³´ê¸°
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        /**
         * ì—°êµ¬ì ê°€ì´ë“œ ì„¹ì…˜ ìƒì„±
         */
        function generateResearcherSection() {
            return `
                <div class="researcher-section">
                    <div style="display: flex; align-items: center; justify-content: between; margin-bottom: 2rem;">
                        <h2 style="color: #202124; font-size: 2rem; font-weight: 700; display: flex; align-items: center; gap: 1rem;">
                            <span style="font-size: 2.5rem;">ğŸ‘¨â€ğŸ”¬</span>
                            ì—°êµ¬ì ì™„ì „ ê°€ì´ë“œ
                        </h2>
                    </div>

                    <!-- ì™„ì „í•œ ì—°êµ¬ì ì›Œí¬í”Œë¡œìš° -->
                    <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 2rem; border-radius: 1rem; margin-bottom: 2rem; text-align: center;">
                        <h3 style="font-size: 1.5rem; font-weight: 700; margin-bottom: 1rem;">
                            ğŸ¯ ì™„ì „í•œ AHP ì—°êµ¬ í”„ë¡œì„¸ìŠ¤
                        </h3>
                        <div style="display: flex; justify-content: center; align-items: center; gap: 1rem; flex-wrap: wrap; font-size: 0.875rem; font-weight: 500;">
                            <div style="background: rgba(66, 133, 244, 0.2); padding: 0.5rem 1rem; border-radius: 9999px;">í”„ë¡œì íŠ¸ ìƒì„±</div>
                            <span>â†’</span>
                            <div style="background: rgba(34, 197, 94, 0.2); padding: 0.5rem 1rem; border-radius: 9999px;">ëª¨ë¸ êµ¬ì¶•</div>
                            <span>â†’</span>
                            <div style="background: rgba(234, 179, 8, 0.2); padding: 0.5rem 1rem; border-radius: 9999px;">í‰ê°€ì ê´€ë¦¬</div>
                            <span>â†’</span>
                            <div style="background: rgba(168, 85, 247, 0.2); padding: 0.5rem 1rem; border-radius: 9999px;">ê²°ê³¼ ë¶„ì„</div>
                            <span>â†’</span>
                            <div style="background: rgba(239, 68, 68, 0.2); padding: 0.5rem 1rem; border-radius: 9999px;">ë…¼ë¬¸ ì‘ì„±</div>
                        </div>
                    </div>

                    <!-- ë‹¨ê³„ë³„ ìƒì„¸ ê°€ì´ë“œ -->
                    <div style="display: grid; gap: 1.5rem;">
                        ${generateResearcherStep('1ï¸âƒ£', 'í”„ë¡œì íŠ¸ ìƒì„± ë° ì„¤ì •', 'new-project')}
                        ${generateResearcherStep('2ï¸âƒ£', 'AHP ê³„ì¸µêµ¬ì¡° ëª¨ë¸ êµ¬ì¶•', 'criteria-management')}
                        ${generateResearcherStep('3ï¸âƒ£', 'í‰ê°€ì ì´ˆëŒ€ ë° ê´€ë¦¬', 'evaluator-management')}
                        ${generateResearcherStep('4ï¸âƒ£', 'ê²°ê³¼ ë¶„ì„ ë° í•´ì„', 'results-analysis')}
                        ${generateResearcherStep('5ï¸âƒ£', 'ë…¼ë¬¸ ì‘ì„± ë° ë³´ê³ ì„œ ì‘ì„±', 'report-generation')}
                    </div>

                    <!-- ì‹¤ìŠµ ë²„íŠ¼ -->
                    <div style="text-align: center; margin-top: 2rem;">
                        <button onclick="handleMenuClick('new-project', null)" style="background: #C8A968; color: white; border: none; padding: 0.75rem 2rem; border-radius: 0.5rem; font-weight: 600; cursor: pointer; margin-right: 1rem; font-size: 1rem;" onmouseover="this.style.background='#b8986b'" onmouseout="this.style.background='#C8A968'">
                            ğŸš€ ì—°êµ¬ì ëª¨ë“œë¡œ ì‹¤ìŠµí•˜ê¸°
                        </button>
                        <button onclick="showGuideSection('demo')" style="background: transparent; color: #C8A968; border: 2px solid #C8A968; padding: 0.75rem 2rem; border-radius: 0.5rem; font-weight: 600; cursor: pointer; font-size: 1rem;" onmouseover="this.style.background='rgba(200, 169, 104, 0.1)'" onmouseout="this.style.background='transparent'">
                            ğŸ® ì—°êµ¬ì ë°ëª¨ ì²´í—˜
                        </button>
                    </div>
                </div>
            `;
        }

        /**
         * ì—°êµ¬ì ë‹¨ê³„ ìƒì„± í—¬í¼
         */
        function generateResearcherStep(icon, title, menuLink) {
            const stepContent = {
                'new-project': {
                    color: '#4285f4',
                    description: 'ìƒˆë¡œìš´ ì˜ì‚¬ê²°ì • ë¶„ì„ì„ ìœ„í•œ í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.',
                    points: [
                        'ëª…í™•í•˜ê³  êµ¬ì²´ì ì¸ í”„ë¡œì íŠ¸ëª… ì„¤ì •',
                        'ì—°êµ¬ ëª©ì ê³¼ ë°°ê²½ ìƒì„¸ ì‘ì„±',
                        'í‰ê°€ ë°©ë²• ì„ íƒ (ìŒëŒ€ë¹„êµ/ì§ì ‘ì…ë ¥)',
                        'í”„ë¡œì íŠ¸ ë²”ìœ„ì™€ ì œì•½ì‚¬í•­ ì •ì˜'
                    ]
                },
                'criteria-management': {
                    color: '#34a853',
                    description: 'AHP ë¶„ì„ì„ ìœ„í•œ ê³„ì¸µì  í‰ê°€ ê¸°ì¤€ì„ ì„¤ê³„í•©ë‹ˆë‹¤.',
                    points: [
                        'ìƒìœ„ ê¸°ì¤€ê³¼ ì„¸ë¶€ ê¸°ì¤€ ì •ì˜',
                        'ê³„ì¸µêµ¬ì¡° ì‹œê°í™” ë° ê²€ì¦',
                        'ê¸°ì¤€ë³„ ì„¤ëª… ë° ì •ì˜ ì‘ì„±',
                        'ì „ë¬¸ê°€ ê²€í† ë¥¼ í†µí•œ ì™„ì„±ë„ í™•ë³´'
                    ]
                },
                'evaluator-management': {
                    color: '#fbbc04',
                    description: 'í‰ê°€ìë¥¼ ì´ˆëŒ€í•˜ê³  í‰ê°€ ì§„í–‰ ìƒí™©ì„ ëª¨ë‹ˆí„°ë§í•©ë‹ˆë‹¤.',
                    points: [
                        'ì´ë©”ì¼ ì¼ê´„ ì´ˆëŒ€ ì‹œìŠ¤í…œ',
                        'ê°œë³„ ë§í¬ ìƒì„± ë° ê´€ë¦¬',
                        'ì‹¤ì‹œê°„ ì§„í–‰ë¥  ëª¨ë‹ˆí„°ë§',
                        'ìë™ ë¦¬ë§ˆì¸ë” ë°œì†¡'
                    ]
                },
                'results-analysis': {
                    color: '#9c27b0',
                    description: 'í‰ê°€ ê²°ê³¼ë¥¼ ì¢…í•© ë¶„ì„í•˜ê³  ìµœì  ëŒ€ì•ˆì„ ë„ì¶œí•©ë‹ˆë‹¤.',
                    points: [
                        'ê°€ì¤‘ì¹˜ ë° ìˆœìœ„ ê²°ê³¼ í™•ì¸',
                        'ì¼ê´€ì„± ë¹„ìœ¨ ë¶„ì„',
                        'ë¯¼ê°ë„ ë¶„ì„ ìˆ˜í–‰',
                        'ì‹œê°í™” ì°¨íŠ¸ ìƒì„±'
                    ]
                },
                'report-generation': {
                    color: '#ea4335',
                    description: 'AI ì§€ì›ìœ¼ë¡œ ì „ë¬¸ì ì¸ ë…¼ë¬¸ ì´ˆì•ˆê³¼ ë³´ê³ ì„œë¥¼ ìƒì„±í•©ë‹ˆë‹¤.',
                    points: [
                        'ìë™ ë…¼ë¬¸ ì´ˆì•ˆ ìƒì„±',
                        'Word/PDF í˜•ì‹ ë‚´ë³´ë‚´ê¸°',
                        'ì°¸ê³ ë¬¸í—Œ ìë™ ìƒì„±',
                        'ì‹œê°í™” ìë£Œ í¬í•¨'
                    ]
                }
            };

            const step = stepContent[menuLink] || stepContent['new-project'];

            return `
                <div style="background: white; border-radius: 1rem; padding: 1.5rem; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <div style="display: flex; align-items: start; gap: 1rem;">
                        <div style="font-size: 2rem;">${icon}</div>
                        <div style="flex: 1;">
                            <h3 style="color: #202124; font-size: 1.25rem; font-weight: 700; margin-bottom: 0.5rem;">
                                ${title}
                            </h3>
                            <div style="background: ${step.color}15; padding: 1rem; border-radius: 0.5rem; margin-bottom: 1rem; border-left: 4px solid ${step.color};">
                                <p style="color: #5f6368; font-size: 0.875rem; margin: 0;">
                                    ${step.description}
                                </p>
                            </div>
                            <div style="display: grid; grid-template-columns: 1fr; md:grid-template-columns: 1fr 1fr; gap: 1rem;">
                                <div>
                                    <h4 style="color: #202124; font-size: 1rem; font-weight: 600; margin-bottom: 0.5rem;">ì£¼ìš” ê¸°ëŠ¥</h4>
                                    <ul style="color: #5f6368; font-size: 0.875rem; margin: 0; padding-left: 1.5rem;">
                                        ${step.points.map(point => `<li style="margin-bottom: 0.25rem;">${point}</li>`).join('')}
                                    </ul>
                                </div>
                                <div style="display: flex; align-items: end;">
                                    <button onclick="handleMenuClick('${menuLink}', null)" style="background: ${step.color}; color: white; border: none; padding: 0.5rem 1rem; border-radius: 0.375rem; font-size: 0.875rem; font-weight: 500; cursor: pointer; transition: all 0.2s;" onmouseover="this.style.opacity='0.8'" onmouseout="this.style.opacity='1'">
                                        ğŸ“ ë°”ë¡œ ì´ë™í•˜ê¸°
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        /**
         * í‰ê°€ì ê°€ì´ë“œ ì„¹ì…˜ ìƒì„±
         */
        function generateEvaluatorSection() {
            return `
                <div class="evaluator-section">
                    <div style="display: flex; align-items: center; justify-content: between; margin-bottom: 2rem;">
                        <h2 style="color: #202124; font-size: 2rem; font-weight: 700; display: flex; align-items: center; gap: 1rem;">
                            <span style="font-size: 2.5rem;">ğŸ‘¨â€ğŸ’¼</span>
                            í‰ê°€ì ì™„ì „ ê°€ì´ë“œ
                        </h2>
                    </div>

                    <!-- í‰ê°€ì ì›Œí¬í”Œë¡œìš° -->
                    <div style="background: linear-gradient(135deg, #4285f4 0%, #34a853 100%); color: white; padding: 2rem; border-radius: 1rem; margin-bottom: 2rem; text-align: center;">
                        <h3 style="font-size: 1.5rem; font-weight: 700; margin-bottom: 1rem;">
                            ğŸ¯ í‰ê°€ì ì°¸ì—¬ í”„ë¡œì„¸ìŠ¤
                        </h3>
                        <div style="display: flex; justify-content: center; align-items: center; gap: 1rem; flex-wrap: wrap; font-size: 0.875rem; font-weight: 500;">
                            <div style="background: rgba(66, 133, 244, 0.2); padding: 0.5rem 1rem; border-radius: 9999px;">ì´ˆëŒ€ ìˆ˜ë½</div>
                            <span>â†’</span>
                            <div style="background: rgba(34, 197, 94, 0.2); padding: 0.5rem 1rem; border-radius: 9999px;">ë¡œê·¸ì¸ ë° ì„¤ì •</div>
                            <span>â†’</span>
                            <div style="background: rgba(234, 179, 8, 0.2); padding: 0.5rem 1rem; border-radius: 9999px;">í‰ê°€ ìˆ˜í–‰</div>
                            <span>â†’</span>
                            <div style="background: rgba(168, 85, 247, 0.2); padding: 0.5rem 1rem; border-radius: 9999px;">ì„¤ë¬¸ì¡°ì‚¬</div>
                            <span>â†’</span>
                            <div style="background: rgba(239, 68, 68, 0.2); padding: 0.5rem 1rem; border-radius: 9999px;">ì™„ë£Œ</div>
                        </div>
                    </div>

                    <!-- í‰ê°€ì ë‹¨ê³„ë³„ ê°€ì´ë“œ -->
                    <div style="display: grid; gap: 1.5rem;">
                        ${generateEvaluatorStep('1ï¸âƒ£', 'í”„ë¡œì íŠ¸ ì´ˆëŒ€ ë° ì‹œì‘')}
                        ${generateEvaluatorStep('2ï¸âƒ£', 'ìŒëŒ€ë¹„êµ í‰ê°€ ìˆ˜í–‰')}
                        ${generateEvaluatorStep('3ï¸âƒ£', 'ì§ì ‘ì…ë ¥ í‰ê°€ (ì„ íƒì )')}
                        ${generateEvaluatorStep('4ï¸âƒ£', 'ì¸êµ¬í†µê³„í•™ì  ì„¤ë¬¸ì¡°ì‚¬')}
                        ${generateEvaluatorStep('5ï¸âƒ£', 'í‰ê°€ ì™„ë£Œ ë° ê²°ê³¼ í™•ì¸')}
                    </div>

                    <!-- ì‹¤ìŠµ ë²„íŠ¼ -->
                    <div style="text-align: center; margin-top: 2rem;">
                        <button onclick="handleMenuClick('demographic-survey', null)" style="background: #4285f4; color: white; border: none; padding: 0.75rem 2rem; border-radius: 0.5rem; font-weight: 600; cursor: pointer; margin-right: 1rem; font-size: 1rem;" onmouseover="this.style.background='#3367d6'" onmouseout="this.style.background='#4285f4'">
                            ğŸ‘¨â€ğŸ’¼ í‰ê°€ì ëª¨ë“œë¡œ ì‹¤ìŠµí•˜ê¸°
                        </button>
                        <button onclick="showGuideSection('demo')" style="background: transparent; color: #4285f4; border: 2px solid #4285f4; padding: 0.75rem 2rem; border-radius: 0.5rem; font-weight: 600; cursor: pointer; font-size: 1rem;" onmouseover="this.style.background='rgba(66, 133, 244, 0.1)'" onmouseout="this.style.background='transparent'">
                            ğŸ® í‰ê°€ì ë°ëª¨ ì²´í—˜
                        </button>
                    </div>
                </div>
            `;
        }

        /**
         * í‰ê°€ì ë‹¨ê³„ ìƒì„± í—¬í¼
         */
        function generateEvaluatorStep(icon, title) {
            const steps = {
                '1ï¸âƒ£': {
                    description: 'ì´ë©”ì¼ ì´ˆëŒ€ì¥ì„ í†µí•´ í”„ë¡œì íŠ¸ì— ì°¸ì—¬í•˜ê³  ê¸°ë³¸ ì„¤ì •ì„ ì™„ë£Œí•©ë‹ˆë‹¤.',
                    points: ['ì´ë©”ì¼ ë§í¬ í´ë¦­ìœ¼ë¡œ ê°„í¸ ì ‘ì†', 'ì†Œì…œ ë¡œê·¸ì¸ ì§€ì›', 'í•„ìˆ˜ ì •ë³´ ì…ë ¥', 'í‰ê°€ í™˜ê²½ ì„¤ì •']
                },
                '2ï¸âƒ£': {
                    description: 'AHPì˜ í•µì‹¬ì¸ ìŒëŒ€ë¹„êµë¥¼ í†µí•´ ìš”ì†Œê°„ ìƒëŒ€ì  ì¤‘ìš”ë„ë¥¼ í‰ê°€í•©ë‹ˆë‹¤.',
                    points: ['9ì  ì²™ë„ ì‚¬ìš©ë²• í•™ìŠµ', 'ì§ê´€ì  ë¹„êµ ì¸í„°í˜ì´ìŠ¤', 'ì‹¤ì‹œê°„ ì¼ê´€ì„± ê²€ì¦', 'ìë™ ì €ì¥ ê¸°ëŠ¥']
                },
                '3ï¸âƒ£': {
                    description: 'ì „ë¬¸ê°€ ì˜ê²¬ì„ ë°”íƒ•ìœ¼ë¡œ ì§ì ‘ ê°€ì¤‘ì¹˜ë¥¼ ì…ë ¥í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.',
                    points: ['ë°±ë¶„ìœ¨ ê¸°ë°˜ ì…ë ¥', 'ì‹¤ì‹œê°„ í•©ê³„ ê²€ì¦', 'ë¹ ë¥¸ í‰ê°€ ì™„ë£Œ', 'ì§ê´€ì  ì‚¬ìš©ë²•']
                },
                '4ï¸âƒ£': {
                    description: 'ì—°êµ¬ í’ˆì§ˆ í–¥ìƒì„ ìœ„í•œ í‰ê°€ì ë°°ê²½ ì •ë³´ë¥¼ ìˆ˜ì§‘í•©ë‹ˆë‹¤.',
                    points: ['ì™„ì „ ìµëª… ì²˜ë¦¬', 'ì—°êµ¬ ëª©ì  ì „ìš©', 'ì„ íƒì  ì°¸ì—¬', 'GDPR ì¤€ìˆ˜']
                },
                '5ï¸âƒ£': {
                    description: 'ëª¨ë“  í‰ê°€ë¥¼ ì™„ë£Œí•˜ê³  ê²°ê³¼ ì•Œë¦¼ì„ ë°›ìŠµë‹ˆë‹¤.',
                    points: ['ì™„ë£Œ í™•ì¸ ë©”ì‹œì§€', 'í‰ê°€ ê¸°ì—¬ë„ í‘œì‹œ', 'ê²°ê³¼ ì•Œë¦¼ ì„œë¹„ìŠ¤', 'ì¶”ê°€ ì°¸ì—¬ ê¸°íšŒ']
                }
            };

            const step = steps[icon];
            
            return `
                <div style="background: white; border-radius: 1rem; padding: 1.5rem; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <div style="display: flex; align-items: start; gap: 1rem;">
                        <div style="font-size: 2rem;">${icon}</div>
                        <div style="flex: 1;">
                            <h3 style="color: #202124; font-size: 1.25rem; font-weight: 700; margin-bottom: 0.5rem;">
                                ${title}
                            </h3>
                            <div style="background: #4285f415; padding: 1rem; border-radius: 0.5rem; margin-bottom: 1rem; border-left: 4px solid #4285f4;">
                                <p style="color: #5f6368; font-size: 0.875rem; margin: 0;">
                                    ${step.description}
                                </p>
                            </div>
                            <div>
                                <h4 style="color: #202124; font-size: 1rem; font-weight: 600; margin-bottom: 0.5rem;">ì£¼ìš” íŠ¹ì§•</h4>
                                <ul style="color: #5f6368; font-size: 0.875rem; margin: 0; padding-left: 1.5rem;">
                                    ${step.points.map(point => `<li style="margin-bottom: 0.25rem;">${point}</li>`).join('')}
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        /**
         * ë°ëª¨ ì„¹ì…˜ ìƒì„±
         */
        function generateDemoSection() {
            return `
                <div class="demo-section">
                    <div style="text-center; margin-bottom: 2rem;">
                        <h2 style="color: #202124; font-size: 2rem; font-weight: 700; margin-bottom: 1rem;">
                            ğŸ® ë°ëª¨ ì²´í—˜í•˜ê¸°
                        </h2>
                        <p style="color: #5f6368; font-size: 1rem;">
                            ì‹¤ì œ ë°ì´í„°ë¡œ AHP ë¶„ì„ ê³¼ì •ì„ ì²´í—˜í•´ë³´ì„¸ìš”
                        </p>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr; md:grid-template-columns: 1fr 1fr; gap: 2rem;">
                        <!-- ì—°êµ¬ì ë°ëª¨ -->
                        <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 2rem; border-radius: 1rem; text-align: center;">
                            <div style="font-size: 4rem; margin-bottom: 1rem;">ğŸ‘¨â€ğŸ”¬</div>
                            <h3 style="font-size: 1.25rem; font-weight: 700; margin-bottom: 0.75rem;">
                                ì—°êµ¬ì ë°ëª¨
                            </h3>
                            <p style="margin-bottom: 1.5rem; opacity: 0.9;">
                                "AI í™œìš© ë°©ì•ˆ ì„ ì •" í”„ë¡œì íŠ¸ë¡œ ì „ì²´ ì—°êµ¬ ê³¼ì • ì²´í—˜
                            </p>
                            <div style="text-align: left; margin-bottom: 1.5rem; font-size: 0.875rem;">
                                <div style="margin-bottom: 0.5rem;">âœ… ì™„ì„±ëœ AHP ëª¨ë¸</div>
                                <div style="margin-bottom: 0.5rem;">âœ… ì‹¤ì œ í‰ê°€ ë°ì´í„°</div>
                                <div style="margin-bottom: 0.5rem;">âœ… ìƒì„¸ ë¶„ì„ ê²°ê³¼</div>
                                <div>âœ… ì‹œê°í™” ì°¨íŠ¸</div>
                            </div>
                            <button onclick="handleMenuClick('new-project', null)" style="background: rgba(255,255,255,0.2); color: white; border: 1px solid rgba(255,255,255,0.3); padding: 0.75rem 2rem; border-radius: 0.5rem; font-weight: 600; cursor: pointer; width: 100%; backdrop-filter: blur(10px);">
                                ì—°êµ¬ì ë°ëª¨ ì‹œì‘
                            </button>
                        </div>

                        <!-- í‰ê°€ì ë°ëª¨ -->
                        <div style="background: white; border: 2px solid #dadce0; padding: 2rem; border-radius: 1rem; text-align: center;">
                            <div style="font-size: 4rem; margin-bottom: 1rem;">ğŸ‘¨â€ğŸ’¼</div>
                            <h3 style="color: #202124; font-size: 1.25rem; font-weight: 700; margin-bottom: 0.75rem;">
                                í‰ê°€ì ë°ëª¨
                            </h3>
                            <p style="color: #5f6368; margin-bottom: 1.5rem;">
                                ì‹¤ì œ í‰ê°€ ì¸í„°í˜ì´ìŠ¤ë¡œ ìŒëŒ€ë¹„êµ í‰ê°€ ì²´í—˜
                            </p>
                            <div style="text-align: left; margin-bottom: 1.5rem; font-size: 0.875rem; color: #202124;">
                                <div style="margin-bottom: 0.5rem;">âœ… ìŒëŒ€ë¹„êµ í‰ê°€</div>
                                <div style="margin-bottom: 0.5rem;">âœ… ì§ì ‘ì…ë ¥ í‰ê°€</div>
                                <div style="margin-bottom: 0.5rem;">âœ… ì¼ê´€ì„± ê²€ì¦</div>
                                <div>âœ… ì„¤ë¬¸ì¡°ì‚¬</div>
                            </div>
                            <button onclick="handleMenuClick('demographic-survey', null)" style="background: transparent; color: #202124; border: 2px solid #202124; padding: 0.75rem 2rem; border-radius: 0.5rem; font-weight: 600; cursor: pointer; width: 100%;">
                                í‰ê°€ì ë°ëª¨ ì‹œì‘
                            </button>
                        </div>
                    </div>

                    <!-- ë’¤ë¡œ ê°€ê¸° -->
                    <div style="text-center; margin-top: 2rem;">
                        <button onclick="showGuideSection('overview')" style="background: transparent; color: #5f6368; border: 1px solid #dadce0; padding: 0.5rem 1rem; border-radius: 0.5rem; cursor: pointer;" onmouseover="this.style.background='#f8f9fa'" onmouseout="this.style.background='transparent'">
                            â† ê°œìš”ë¡œ ëŒì•„ê°€ê¸°
                        </button>
                    </div>
                </div>
            `;
        }

        /**
         * ë‹¨ê³„ë³„ ê°€ì´ë“œ ì½˜í…ì¸  ìƒì„±
         */
        function generateStepByStepGuideContent() {
            return `
                <div class="step-guide-container" style="background: rgba(255,255,255,0.95); backdrop-filter: blur(12px); border-radius: 1rem; padding: 2rem; border: 1px solid rgba(0,0,0,0.1); box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06);">
                    <!-- í—¤ë” -->
                    <div style="display: flex; align-items: center; justify-content: between; margin-bottom: 2rem; flex-wrap: wrap; gap: 1rem;">
                        <h2 style="color: #202124; font-size: 2rem; font-weight: 700; display: flex; align-items: center; gap: 1rem;">
                            <span style="font-size: 2.5rem;">ğŸ¯</span>
                            5ë‹¨ê³„ ì¸í„°ë™í‹°ë¸Œ ê°€ì´ë“œ
                        </h2>
                        <button onclick="backToGuideHome()" style="background: transparent; color: #5f6368; border: 1px solid #dadce0; padding: 0.5rem 1rem; border-radius: 0.5rem; cursor: pointer;" onmouseover="this.style.background='#f8f9fa'" onmouseout="this.style.background='transparent'">
                            â† ê°€ì´ë“œ í™ˆìœ¼ë¡œ
                        </button>
                    </div>

                    <!-- ë‹¨ê³„ ë„¤ë¹„ê²Œì´ì…˜ -->
                    <div style="display: flex; gap: 0.5rem; margin-bottom: 2rem; flex-wrap: wrap; justify-content: center;">
                        <button onclick="showStep(1)" class="step-nav-btn active" data-step="1" style="background: #4285f4; color: white; border: none; padding: 0.5rem 1rem; border-radius: 0.5rem; cursor: pointer; font-weight: 500; display: flex; align-items: center; gap: 0.5rem;">
                            <span>ğŸ¯</span>
                            <span>1ë‹¨ê³„: í”„ë¡œì íŠ¸ ìƒì„±</span>
                        </button>
                        <button onclick="showStep(2)" class="step-nav-btn" data-step="2" style="background: #f8f9fa; color: #5f6368; border: 1px solid #dadce0; padding: 0.5rem 1rem; border-radius: 0.5rem; cursor: pointer; font-weight: 500; display: flex; align-items: center; gap: 0.5rem;">
                            <span>ğŸ“‹</span>
                            <span>2ë‹¨ê³„: ê¸°ì¤€ ì„¤ì •</span>
                        </button>
                        <button onclick="showStep(3)" class="step-nav-btn" data-step="3" style="background: #f8f9fa; color: #5f6368; border: 1px solid #dadce0; padding: 0.5rem 1rem; border-radius: 0.5rem; cursor: pointer; font-weight: 500; display: flex; align-items: center; gap: 0.5rem;">
                            <span>ğŸ”€</span>
                            <span>3ë‹¨ê³„: ëŒ€ì•ˆ ì„¤ì •</span>
                        </button>
                        <button onclick="showStep(4)" class="step-nav-btn" data-step="4" style="background: #f8f9fa; color: #5f6368; border: 1px solid #dadce0; padding: 0.5rem 1rem; border-radius: 0.5rem; cursor: pointer; font-weight: 500; display: flex; align-items: center; gap: 0.5rem;">
                            <span>âš–ï¸</span>
                            <span>4ë‹¨ê³„: ìŒëŒ€ë¹„êµ</span>
                        </button>
                        <button onclick="showStep(5)" class="step-nav-btn" data-step="5" style="background: #f8f9fa; color: #5f6368; border: 1px solid #dadce0; padding: 0.5rem 1rem; border-radius: 0.5rem; cursor: pointer; font-weight: 500; display: flex; align-items: center; gap: 0.5rem;">
                            <span>ğŸ“Š</span>
                            <span>5ë‹¨ê³„: ê²°ê³¼ ë¶„ì„</span>
                        </button>
                    </div>

                    <!-- ì§„í–‰ë¥  í‘œì‹œ -->
                    <div style="margin-bottom: 2rem;">
                        <div style="display: flex; align-items: center; justify-content: between; margin-bottom: 0.5rem;">
                            <span style="color: #5f6368; font-size: 0.875rem; font-weight: 500;">ì§„í–‰ë„:</span>
                            <span id="progressText" style="color: #4285f4; font-size: 0.875rem; font-weight: 700;">1/5 ë‹¨ê³„</span>
                        </div>
                        <div style="width: 100%; height: 0.5rem; background: #f1f3f4; border-radius: 9999px; overflow: hidden;">
                            <div id="progressBar" style="width: 20%; height: 100%; background: #4285f4; transition: width 0.3s ease;"></div>
                        </div>
                    </div>

                    <!-- ì½˜í…ì¸  ì˜ì—­ -->
                    <div id="stepContent">
                        ${generateStepContent(1)}
                    </div>

                    <!-- ë„¤ë¹„ê²Œì´ì…˜ ë²„íŠ¼ -->
                    <div style="display: flex; justify-content: between; align-items: center; margin-top: 2rem; padding-top: 2rem; border-top: 1px solid #dadce0;">
                        <button id="prevBtn" onclick="prevStep()" style="background: #f8f9fa; color: #5f6368; border: 1px solid #dadce0; padding: 0.75rem 1.5rem; border-radius: 0.5rem; cursor: pointer; font-weight: 500; display: none;">
                            â† ì´ì „ ë‹¨ê³„
                        </button>
                        <div style="color: #4285f4; font-size: 1rem; font-weight: 600;">
                            <span id="currentStepDisplay">1</span> / 5 ë‹¨ê³„
                        </div>
                        <button id="nextBtn" onclick="nextStep()" style="background: #4285f4; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 0.5rem; cursor: pointer; font-weight: 500;">
                            ë‹¤ìŒ ë‹¨ê³„ â†’
                        </button>
                        <button id="completeBtn" onclick="handleMenuClick('new-project', null)" style="background: #34a853; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 0.5rem; cursor: pointer; font-weight: 500; display: none;">
                            ğŸš€ ì‹¤ì œ ì„œë¹„ìŠ¤ ì‹œì‘í•˜ê¸°
                        </button>
                    </div>
                </div>
            `;
        }

        /**
         * ë‹¨ê³„ë³„ ì½˜í…ì¸  ìƒì„±
         */
        function generateStepContent(step) {
            const contents = {
                1: `
                    <div>
                        <h3 style="color: #202124; font-size: 1.75rem; font-weight: 700; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.75rem;">
                            <span style="font-size: 2rem;">ğŸ¯</span>
                            1ë‹¨ê³„: í”„ë¡œì íŠ¸ ìƒì„±
                        </h3>
                        <p style="color: #5f6368; font-size: 1rem; margin-bottom: 2rem; line-height: 1.6;">
                            AHP ì˜ì‚¬ê²°ì • ë¶„ì„ì„ ìœ„í•œ í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
                        </p>

                        <!-- ìƒ˜í”Œ í”„ë¡œì íŠ¸ ì •ë³´ -->
                        <div style="background: #e3f2fd; border: 1px solid #bbdefb; border-radius: 0.75rem; padding: 1.5rem; margin-bottom: 1.5rem;">
                            <h4 style="color: #1565c0; font-size: 1.25rem; font-weight: 700; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem;">
                                <span style="font-size: 1.5rem;">ğŸ“‹</span>
                                ìƒ˜í”Œ í”„ë¡œì íŠ¸ ì •ë³´
                            </h4>
                            <div style="display: grid; grid-template-columns: 1fr; md:grid-template-columns: 1fr 1fr; gap: 1rem;">
                                <div>
                                    <p style="color: #1565c0; font-weight: 600; margin-bottom: 0.5rem;">í”„ë¡œì íŠ¸ëª…</p>
                                    <p style="color: #202124; background: white; padding: 0.75rem; border-radius: 0.5rem; border: 1px solid #bbdefb;">
                                        AI ê°œë°œ ë„êµ¬ ì„ ì •ì„ ìœ„í•œ AHP ë¶„ì„
                                    </p>
                                </div>
                                <div>
                                    <p style="color: #1565c0; font-weight: 600; margin-bottom: 0.5rem;">í˜„ì¬ ìƒíƒœ</p>
                                    <div style="background: white; padding: 0.75rem; border-radius: 0.5rem; border: 1px solid #bbdefb;">
                                        <span style="background: #e8f5e8; color: #2e7d32; padding: 0.25rem 0.75rem; border-radius: 0.375rem; font-size: 0.875rem; font-weight: 600;">
                                            âœ… í™œì„±
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <div style="margin-top: 1rem;">
                                <p style="color: #1565c0; font-weight: 600; margin-bottom: 0.5rem;">í”„ë¡œì íŠ¸ ì„¤ëª…</p>
                                <p style="color: #202124; background: white; padding: 0.75rem; border-radius: 0.5rem; border: 1px solid #bbdefb; line-height: 1.5;">
                                    ê¸°ì—…ì˜ AI ê°œë°œ í”„ë¡œì íŠ¸ë¥¼ ìœ„í•œ ìµœì ì˜ ë„êµ¬ë¥¼ ì„ ì •í•˜ê¸° ìœ„í•´ ì—¬ëŸ¬ ëŒ€ì•ˆì„ ì²´ê³„ì ìœ¼ë¡œ ë¹„êµ ë¶„ì„í•©ë‹ˆë‹¤.
                                </p>
                            </div>
                        </div>

                        <!-- í”„ë¡œì íŠ¸ ìƒì„± íŒ -->
                        <div style="background: linear-gradient(135deg, #e3f2fd 0%, #f3e5f5 100%); border: 1px solid #bbdefb; border-radius: 0.75rem; padding: 1.5rem;">
                            <h5 style="color: #1565c0; font-size: 1rem; font-weight: 700; margin-bottom: 0.75rem; display: flex; align-items: center; gap: 0.5rem;">
                                <span style="font-size: 1.25rem;">ğŸ’¡</span>
                                í”„ë¡œì íŠ¸ ìƒì„± íŒ
                            </h5>
                            <ul style="color: #1565c0; margin: 0; padding-left: 1.5rem;">
                                <li style="margin-bottom: 0.5rem;">ëª…í™•í•˜ê³  êµ¬ì²´ì ì¸ í”„ë¡œì íŠ¸ëª…ì„ ì‚¬ìš©í•˜ì„¸ìš”</li>
                                <li style="margin-bottom: 0.5rem;">ì˜ì‚¬ê²°ì •ì˜ ëª©ì ê³¼ ë°°ê²½ì„ ìƒì„¸íˆ ì‘ì„±í•˜ì„¸ìš”</li>
                                <li style="margin-bottom: 0.5rem;">í”„ë¡œì íŠ¸ ë²”ìœ„ì™€ ì œì•½ì‚¬í•­ì„ ë¯¸ë¦¬ ì •ì˜í•˜ì„¸ìš”</li>
                            </ul>
                        </div>
                    </div>
                `,
                2: `
                    <div>
                        <h3 style="color: #202124; font-size: 1.75rem; font-weight: 700; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.75rem;">
                            <span style="font-size: 2rem;">ğŸ“‹</span>
                            2ë‹¨ê³„: ê¸°ì¤€ ì„¤ì •
                        </h3>
                        <p style="color: #5f6368; font-size: 1rem; margin-bottom: 2rem; line-height: 1.6;">
                            ì˜ì‚¬ê²°ì •ì— ì‚¬ìš©í•  í‰ê°€ ê¸°ì¤€ë“¤ì„ ê³„ì¸µì ìœ¼ë¡œ êµ¬ì„±í•©ë‹ˆë‹¤.
                        </p>

                        <!-- ê¸°ì¤€ ê³„ì¸µêµ¬ì¡° -->
                        <div style="background: #e8f5e8; border: 1px solid #c8e6c8; border-radius: 0.75rem; padding: 1.5rem; margin-bottom: 1.5rem;">
                            <h4 style="color: #2e7d32; font-size: 1.25rem; font-weight: 700; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem;">
                                <span style="font-size: 1.5rem;">ğŸŒ³</span>
                                ê¸°ì¤€ ê³„ì¸µêµ¬ì¡° ì˜ˆì‹œ
                            </h4>

                            <div style="display: grid; grid-template-columns: 1fr; lg:grid-template-columns: 1fr 1fr; gap: 1.5rem;">
                                <div>
                                    <h5 style="color: #2e7d32; font-weight: 700; margin-bottom: 0.75rem; display: flex; align-items: center; gap: 0.5rem;">
                                        <span style="font-size: 1.25rem;">ğŸ¯</span>
                                        ìƒìœ„ ê¸°ì¤€ (Level 1)
                                    </h5>
                                    <div style="background: white; border: 1px solid #c8e6c8; border-radius: 0.5rem; padding: 1rem;">
                                        <div style="margin-bottom: 0.75rem;">
                                            <div style="color: #2e7d32; font-weight: 600;">ğŸ“Š ì„±ëŠ¥</div>
                                            <div style="color: #5f6368; font-size: 0.875rem;">ì²˜ë¦¬ ì†ë„ ë° ì •í™•ë„</div>
                                        </div>
                                        <div style="margin-bottom: 0.75rem;">
                                            <div style="color: #2e7d32; font-weight: 600;">ğŸ’° ë¹„ìš©</div>
                                            <div style="color: #5f6368; font-size: 0.875rem;">ë„ì… ë° ìš´ì˜ ë¹„ìš©</div>
                                        </div>
                                        <div>
                                            <div style="color: #2e7d32; font-weight: 600;">ğŸ‘¥ ì‚¬ìš©ì„±</div>
                                            <div style="color: #5f6368; font-size: 0.875rem;">ì‚¬ìš© í¸ì˜ì„± ë° í•™ìŠµ ìš©ì´ì„±</div>
                                        </div>
                                    </div>
                                </div>

                                <div>
                                    <h5 style="color: #7b1fa2; font-weight: 700; margin-bottom: 0.75rem; display: flex; align-items: center; gap: 0.5rem;">
                                        <span style="font-size: 1.25rem;">ğŸ”</span>
                                        ì„¸ë¶€ ê¸°ì¤€ (Level 2)
                                    </h5>
                                    <div style="background: white; border: 1px solid #c8e6c8; border-radius: 0.5rem; padding: 1rem;">
                                        <div style="margin-bottom: 0.75rem;">
                                            <div style="color: #7b1fa2; font-weight: 600;">âš¡ ì‘ë‹µ ì†ë„</div>
                                            <div style="color: #5f6368; font-size: 0.875rem;">API í˜¸ì¶œ ì‘ë‹µ ì‹œê°„</div>
                                        </div>
                                        <div style="margin-bottom: 0.75rem;">
                                            <div style="color: #7b1fa2; font-weight: 600;">ğŸ¯ ì •í™•ë„</div>
                                            <div style="color: #5f6368; font-size: 0.875rem;">ê²°ê³¼ ì •í™•ì„±</div>
                                        </div>
                                        <div>
                                            <div style="color: #7b1fa2; font-weight: 600;">ğŸ“ˆ í™•ì¥ì„±</div>
                                            <div style="color: #5f6368; font-size: 0.875rem;">ëŒ€ìš©ëŸ‰ ì²˜ë¦¬ ëŠ¥ë ¥</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- ê¸°ì¤€ ì„¤ì • ê°€ì´ë“œë¼ì¸ -->
                        <div style="background: linear-gradient(135deg, #e8f5e8 0%, #f3e5f5 100%); border: 1px solid #c8e6c8; border-radius: 0.75rem; padding: 1.5rem;">
                            <h5 style="color: #2e7d32; font-size: 1rem; font-weight: 700; margin-bottom: 0.75rem; display: flex; align-items: center; gap: 0.5rem;">
                                <span style="font-size: 1.25rem;">ğŸ“</span>
                                ê¸°ì¤€ ì„¤ì • ê°€ì´ë“œë¼ì¸
                            </h5>
                            <div style="display: grid; grid-template-columns: 1fr; md:grid-template-columns: 1fr 1fr; gap: 1rem;">
                                <ul style="color: #2e7d32; margin: 0; padding-left: 1.5rem;">
                                    <li style="margin-bottom: 0.5rem;">3~7ê°œ ê¸°ì¤€ ê¶Œì¥</li>
                                    <li style="margin-bottom: 0.5rem;">ìƒí˜¸ ë…ë¦½ì ì¸ ê¸°ì¤€</li>
                                    <li>ì™„ì „ì„± í™•ë³´</li>
                                </ul>
                                <ul style="color: #2e7d32; margin: 0; padding-left: 1.5rem;">
                                    <li style="margin-bottom: 0.5rem;">ì¸¡ì • ê°€ëŠ¥í•œ ê¸°ì¤€</li>
                                    <li style="margin-bottom: 0.5rem;">ëª…í™•í•œ ì •ì˜</li>
                                    <li>ì¼ê´€ëœ ì¤‘ìš”ë„</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                `,
                3: `
                    <div>
                        <h3 style="color: #202124; font-size: 1.75rem; font-weight: 700; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.75rem;">
                            <span style="font-size: 2rem;">ğŸ”€</span>
                            3ë‹¨ê³„: ëŒ€ì•ˆ ì„¤ì •
                        </h3>
                        <p style="color: #5f6368; font-size: 1rem; margin-bottom: 2rem; line-height: 1.6;">
                            ë¹„êµ í‰ê°€í•  ëŒ€ì•ˆë“¤ì„ ì„¤ì •í•©ë‹ˆë‹¤.
                        </p>

                        <!-- ëŒ€ì•ˆ ëª©ë¡ -->
                        <div style="background: #fff3e0; border: 1px solid #ffcc02; border-radius: 0.75rem; padding: 1.5rem; margin-bottom: 1.5rem;">
                            <h4 style="color: #e65100; font-size: 1.25rem; font-weight: 700; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem;">
                                <span style="font-size: 1.5rem;">ğŸ²</span>
                                í‰ê°€ ëŒ€ì•ˆ ëª©ë¡
                            </h4>
                            <div style="display: grid; grid-template-columns: 1fr; md:grid-template-columns: 1fr 1fr; gap: 1rem;">
                                <div style="background: white; border: 1px solid #ffcc02; border-radius: 0.5rem; padding: 1rem;">
                                    <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 0.5rem;">
                                        <div style="width: 2rem; height: 2rem; background: linear-gradient(135deg, #ff9800, #f57c00); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700;">1</div>
                                        <h5 style="color: #202124; font-size: 1rem; font-weight: 700;">GPT-4</h5>
                                    </div>
                                    <p style="color: #5f6368; font-size: 0.875rem; line-height: 1.4;">OpenAIì˜ ìµœì‹  ëŒ€í™”í˜• AI ëª¨ë¸ë¡œ ë›°ì–´ë‚œ ì„±ëŠ¥ê³¼ ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.</p>
                                </div>
                                
                                <div style="background: white; border: 1px solid #ffcc02; border-radius: 0.5rem; padding: 1rem;">
                                    <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 0.5rem;">
                                        <div style="width: 2rem; height: 2rem; background: linear-gradient(135deg, #ff9800, #f57c00); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700;">2</div>
                                        <h5 style="color: #202124; font-size: 1rem; font-weight: 700;">Claude</h5>
                                    </div>
                                    <p style="color: #5f6368; font-size: 0.875rem; line-height: 1.4;">Anthropicì˜ AI ì–´ì‹œìŠ¤í„´íŠ¸ë¡œ ì•ˆì „ì„±ê³¼ ìœ ìš©ì„±ì„ ì¤‘ì‹œí•˜ëŠ” ì„¤ê³„ê°€ íŠ¹ì§•ì…ë‹ˆë‹¤.</p>
                                </div>
                                
                                <div style="background: white; border: 1px solid #ffcc02; border-radius: 0.5rem; padding: 1rem;">
                                    <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 0.5rem;">
                                        <div style="width: 2rem; height: 2rem; background: linear-gradient(135deg, #ff9800, #f57c00); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700;">3</div>
                                        <h5 style="color: #202124; font-size: 1rem; font-weight: 700;">Gemini</h5>
                                    </div>
                                    <p style="color: #5f6368; font-size: 0.875rem; line-height: 1.4;">Googleì˜ ì°¨ì„¸ëŒ€ AI ëª¨ë¸ë¡œ ë©€í‹°ëª¨ë‹¬ ê¸°ëŠ¥ê³¼ í†µí•©ì„±ì´ ê°•ì ì…ë‹ˆë‹¤.</p>
                                </div>
                            </div>
                        </div>

                        <!-- ëŒ€ì•ˆ ì„¤ì • ê°€ì´ë“œë¼ì¸ -->
                        <div style="background: linear-gradient(135deg, #fff3e0 0%, #f3e5f5 100%); border: 1px solid #ffcc02; border-radius: 0.75rem; padding: 1.5rem;">
                            <h5 style="color: #e65100; font-size: 1rem; font-weight: 700; margin-bottom: 0.75rem; display: flex; align-items: center; gap: 0.5rem;">
                                <span style="font-size: 1.25rem;">ğŸ“</span>
                                ëŒ€ì•ˆ ì„¤ì • ê°€ì´ë“œë¼ì¸
                            </h5>
                            <div style="display: grid; grid-template-columns: 1fr; md:grid-template-columns: 1fr 1fr; gap: 1rem;">
                                <ul style="color: #e65100; margin: 0; padding-left: 1.5rem;">
                                    <li style="margin-bottom: 0.5rem;">ì‹¤í˜„ ê°€ëŠ¥í•œ ëŒ€ì•ˆë“¤ë¡œ êµ¬ì„±</li>
                                    <li style="margin-bottom: 0.5rem;">ìƒí˜¸ ë°°íƒ€ì ì¸ ëŒ€ì•ˆë“¤ ì„ íƒ</li>
                                    <li>ë¹„êµ ê°€ëŠ¥í•œ ìˆ˜ì¤€ì˜ ëŒ€ì•ˆë“¤</li>
                                </ul>
                                <ul style="color: #e65100; margin: 0; padding-left: 1.5rem;">
                                    <li style="margin-bottom: 0.5rem;">ìµœì†Œ 2ê°œ ì´ìƒ ìµœëŒ€ 9ê°œ ê¶Œì¥</li>
                                    <li style="margin-bottom: 0.5rem;">ê° ëŒ€ì•ˆì˜ íŠ¹ì§•ì„ ëª…í™•íˆ ì •ì˜</li>
                                    <li>ë¹„ìš©, ì‹œê°„ ë“± ì œì•½ì‚¬í•­ ê³ ë ¤</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                `,
                4: `
                    <div>
                        <h3 style="color: #202124; font-size: 1.75rem; font-weight: 700; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.75rem;">
                            <span style="font-size: 2rem;">âš–ï¸</span>
                            4ë‹¨ê³„: ìŒëŒ€ë¹„êµ í‰ê°€
                        </h3>
                        <p style="color: #5f6368; font-size: 1rem; margin-bottom: 2rem; line-height: 1.6;">
                            ê¸°ì¤€ë³„ë¡œ ëŒ€ì•ˆë“¤ì„ ìŒìœ¼ë¡œ ë¹„êµí•˜ì—¬ ì¤‘ìš”ë„ë¥¼ í‰ê°€í•©ë‹ˆë‹¤.
                        </p>

                        <!-- ìŒëŒ€ë¹„êµ ë§¤íŠ¸ë¦­ìŠ¤ -->
                        <div style="background: #f3e5f5; border: 1px solid #ce93d8; border-radius: 0.75rem; padding: 1.5rem; margin-bottom: 1.5rem;">
                            <h4 style="color: #7b1fa2; font-size: 1.25rem; font-weight: 700; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem;">
                                <span style="font-size: 1.5rem;">ğŸ“Š</span>
                                ìŒëŒ€ë¹„êµ ë§¤íŠ¸ë¦­ìŠ¤ ì˜ˆì‹œ
                            </h4>
                            <div style="overflow-x: auto; background: white; border-radius: 0.5rem; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                <table style="width: 100%; border-collapse: collapse;">
                                    <thead style="background: #f8f9fa;">
                                        <tr>
                                            <th style="padding: 0.75rem; text-align: left; font-weight: 700; color: #5f6368; border-bottom: 2px solid #e0e0e0;">ë¹„êµ ê¸°ì¤€</th>
                                            <th style="padding: 0.75rem; text-align: center; font-weight: 700; color: #4285f4; border-bottom: 2px solid #e0e0e0;">GPT-4</th>
                                            <th style="padding: 0.75rem; text-align: center; font-weight: 700; color: #34a853; border-bottom: 2px solid #e0e0e0;">Claude</th>
                                            <th style="padding: 0.75rem; text-align: center; font-weight: 700; color: #9c27b0; border-bottom: 2px solid #e0e0e0;">Gemini</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td style="padding: 0.75rem; font-weight: 600; color: #202124; border-bottom: 1px solid #e0e0e0;">ì„±ëŠ¥</td>
                                            <td style="padding: 0.75rem; text-align: center; font-weight: 700; color: #4285f4; border-bottom: 1px solid #e0e0e0;">1.0</td>
                                            <td style="padding: 0.75rem; text-align: center; font-weight: 700; color: #34a853; border-bottom: 1px solid #e0e0e0;">0.8</td>
                                            <td style="padding: 0.75rem; text-align: center; font-weight: 700; color: #9c27b0; border-bottom: 1px solid #e0e0e0;">0.7</td>
                                        </tr>
                                        <tr>
                                            <td style="padding: 0.75rem; font-weight: 600; color: #202124; border-bottom: 1px solid #e0e0e0;">ë¹„ìš©</td>
                                            <td style="padding: 0.75rem; text-align: center; font-weight: 700; color: #4285f4; border-bottom: 1px solid #e0e0e0;">0.6</td>
                                            <td style="padding: 0.75rem; text-align: center; font-weight: 700; color: #34a853; border-bottom: 1px solid #e0e0e0;">1.0</td>
                                            <td style="padding: 0.75rem; text-align: center; font-weight: 700; color: #9c27b0; border-bottom: 1px solid #e0e0e0;">0.9</td>
                                        </tr>
                                        <tr>
                                            <td style="padding: 0.75rem; font-weight: 600; color: #202124;">ì‚¬ìš©ì„±</td>
                                            <td style="padding: 0.75rem; text-align: center; font-weight: 700; color: #4285f4;">0.9</td>
                                            <td style="padding: 0.75rem; text-align: center; font-weight: 700; color: #34a853;">0.7</td>
                                            <td style="padding: 0.75rem; text-align: center; font-weight: 700; color: #9c27b0;">1.0</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- í‰ê°€ ì²™ë„ì™€ ì¼ê´€ì„± -->
                        <div style="display: grid; grid-template-columns: 1fr; lg:grid-template-columns: 1fr 1fr; gap: 1.5rem;">
                            <div style="background: #e3f2fd; border: 1px solid #bbdefb; border-radius: 0.75rem; padding: 1rem;">
                                <h5 style="color: #1565c0; font-size: 1rem; font-weight: 700; margin-bottom: 0.75rem; display: flex; align-items: center; gap: 0.5rem;">
                                    <span style="font-size: 1.25rem;">ğŸ¯</span>
                                    í‰ê°€ ì²™ë„
                                </h5>
                                <div style="background: white; border-radius: 0.5rem; padding: 0.75rem;">
                                    <div style="display: flex; justify-content: between; align-items: center; margin-bottom: 0.5rem; padding: 0.5rem; border-radius: 0.25rem; background: #f8f9fa;">
                                        <span style="font-weight: 600;">9</span>
                                        <span style="font-size: 0.875rem; color: #5f6368;">ê·¹íˆ ì¤‘ìš”</span>
                                    </div>
                                    <div style="display: flex; justify-content: between; align-items: center; margin-bottom: 0.5rem; padding: 0.5rem;">
                                        <span style="font-weight: 600;">7</span>
                                        <span style="font-size: 0.875rem; color: #5f6368;">ë§¤ìš° ì¤‘ìš”</span>
                                    </div>
                                    <div style="display: flex; justify-content: between; align-items: center; margin-bottom: 0.5rem; padding: 0.5rem; border-radius: 0.25rem; background: #f8f9fa;">
                                        <span style="font-weight: 600;">5</span>
                                        <span style="font-size: 0.875rem; color: #5f6368;">ì¤‘ìš”</span>
                                    </div>
                                    <div style="display: flex; justify-content: between; align-items: center; margin-bottom: 0.5rem; padding: 0.5rem;">
                                        <span style="font-weight: 600;">3</span>
                                        <span style="font-size: 0.875rem; color: #5f6368;">ì¡°ê¸ˆ ì¤‘ìš”</span>
                                    </div>
                                    <div style="display: flex; justify-content: between; align-items: center; padding: 0.5rem; border-radius: 0.25rem; background: #f8f9fa;">
                                        <span style="font-weight: 600;">1</span>
                                        <span style="font-size: 0.875rem; color: #5f6368;">ê°™ìŒ</span>
                                    </div>
                                </div>
                            </div>

                            <div style="background: #e8f5e8; border: 1px solid #c8e6c8; border-radius: 0.75rem; padding: 1rem;">
                                <h5 style="color: #2e7d32; font-size: 1rem; font-weight: 700; margin-bottom: 0.75rem; display: flex; align-items: center; gap: 0.5rem;">
                                    <span style="font-size: 1.25rem;">âœ…</span>
                                    ì¼ê´€ì„± ê²€ì¦
                                </h5>
                                <div style="background: white; border-radius: 0.5rem; padding: 0.75rem;">
                                    <div style="display: flex; justify-content: between; align-items: center; margin-bottom: 0.5rem;">
                                        <span style="font-weight: 600;">ì¼ê´€ì„± ë¹„ìœ¨ (CR)</span>
                                        <span style="font-size: 1.125rem; font-weight: 700; color: #2e7d32;">0.08</span>
                                    </div>
                                    <div style="width: 100%; background: #e0e0e0; border-radius: 9999px; height: 0.75rem; overflow: hidden; margin-bottom: 0.5rem;">
                                        <div style="background: #34a853; height: 100%; width: 20%; border-radius: 9999px;"></div>
                                    </div>
                                    <p style="font-size: 0.875rem; color: #2e7d32; margin: 0;">âœ“ ìš°ìˆ˜í•œ ì¼ê´€ì„± (0.1 ë¯¸ë§Œ)</p>
                                </div>
                                <div style="font-size: 0.75rem; color: #5f6368; margin-top: 0.5rem;">
                                    <p style="margin: 0.25rem 0;">â€¢ CR < 0.1: ì¼ê´€ì„± ìš°ìˆ˜</p>
                                    <p style="margin: 0.25rem 0;">â€¢ CR < 0.2: ì¼ê´€ì„± ì–‘í˜¸</p>
                                    <p style="margin: 0.25rem 0;">â€¢ CR >= 0.2: ì¬í‰ê°€ í•„ìš”</p>
                                </div>
                            </div>
                        </div>
                    </div>
                `,
                5: `
                    <div>
                        <h3 style="color: #202124; font-size: 1.75rem; font-weight: 700; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.75rem;">
                            <span style="font-size: 2rem;">ğŸ“Š</span>
                            5ë‹¨ê³„: ê²°ê³¼ ë¶„ì„
                        </h3>
                        <p style="color: #5f6368; font-size: 1rem; margin-bottom: 2rem; line-height: 1.6;">
                            í‰ê°€ ê²°ê³¼ë¥¼ ë¶„ì„í•˜ê³  ìµœì ì˜ ëŒ€ì•ˆì„ ë„ì¶œí•©ë‹ˆë‹¤.
                        </p>

                        <!-- ê²°ê³¼ ë¶„ì„ -->
                        <div style="display: grid; grid-template-columns: 1fr; lg:grid-template-columns: 1fr 1fr; gap: 1.5rem;">
                            <!-- ì¢…í•© ê²°ê³¼ ìˆœìœ„ -->
                            <div style="background: #e8f5e8; border: 1px solid #c8e6c8; border-radius: 0.75rem; padding: 1.5rem;">
                                <h4 style="color: #2e7d32; font-size: 1.25rem; font-weight: 700; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem;">
                                    <span style="font-size: 1.5rem;">ğŸ†</span>
                                    ì¢…í•© ê²°ê³¼ ìˆœìœ„
                                </h4>
                                <div>
                                    <div style="background: white; border: 1px solid #c8e6c8; border-radius: 0.5rem; padding: 1rem; margin-bottom: 0.75rem; box-shadow: 0 1px 2px rgba(0,0,0,0.05);">
                                        <div style="display: flex; align-items: center; justify-content: between; margin-bottom: 0.5rem;">
                                            <div style="display: flex; align-items: center; gap: 0.75rem;">
                                                <span style="font-size: 1.5rem;">ğŸ¥‡</span>
                                                <span style="color: #202124; font-weight: 700;">GPT-4</span>
                                            </div>
                                            <span style="color: #4285f4; font-size: 1.125rem; font-weight: 700;">0.42</span>
                                        </div>
                                        <div style="width: 100%; background: #e0e0e0; border-radius: 9999px; height: 1rem; overflow: hidden;">
                                            <div style="background: #4285f4; height: 100%; width: 85%; border-radius: 9999px; transition: width 1s ease;"></div>
                                        </div>
                                        <p style="font-size: 0.875rem; color: #5f6368; margin: 0.5rem 0 0 0;">ì „ì²´ ê¸°ì¤€ì—ì„œ ê°€ì¥ ë†’ì€ ì ìˆ˜</p>
                                    </div>

                                    <div style="background: white; border: 1px solid #c8e6c8; border-radius: 0.5rem; padding: 1rem; margin-bottom: 0.75rem; box-shadow: 0 1px 2px rgba(0,0,0,0.05);">
                                        <div style="display: flex; align-items: center; justify-content: between; margin-bottom: 0.5rem;">
                                            <div style="display: flex; align-items: center; gap: 0.75rem;">
                                                <span style="font-size: 1.5rem;">ğŸ¥ˆ</span>
                                                <span style="color: #202124; font-weight: 700;">Claude</span>
                                            </div>
                                            <span style="color: #34a853; font-size: 1.125rem; font-weight: 700;">0.37</span>
                                        </div>
                                        <div style="width: 100%; background: #e0e0e0; border-radius: 9999px; height: 1rem; overflow: hidden;">
                                            <div style="background: #34a853; height: 100%; width: 75%; border-radius: 9999px; transition: width 1s ease;"></div>
                                        </div>
                                        <p style="font-size: 0.875rem; color: #5f6368; margin: 0.5rem 0 0 0;">ë¹„ìš© íš¨ìœ¨ì„±ì´ ìš°ìˆ˜í•¨</p>
                                    </div>

                                    <div style="background: white; border: 1px solid #c8e6c8; border-radius: 0.5rem; padding: 1rem; box-shadow: 0 1px 2px rgba(0,0,0,0.05);">
                                        <div style="display: flex; align-items: center; justify-content: between; margin-bottom: 0.5rem;">
                                            <div style="display: flex; align-items: center; gap: 0.75rem;">
                                                <span style="font-size: 1.5rem;">ğŸ¥‰</span>
                                                <span style="color: #202124; font-weight: 700;">Gemini</span>
                                            </div>
                                            <span style="color: #9c27b0; font-size: 1.125rem; font-weight: 700;">0.32</span>
                                        </div>
                                        <div style="width: 100%; background: #e0e0e0; border-radius: 9999px; height: 1rem; overflow: hidden;">
                                            <div style="background: #9c27b0; height: 100%; width: 65%; border-radius: 9999px; transition: width 1s ease;"></div>
                                        </div>
                                        <p style="font-size: 0.875rem; color: #5f6368; margin: 0.5rem 0 0 0;">ì‚¬ìš© í¸ì˜ì„±ì´ ë›°ì–´ë‚¨</p>
                                    </div>
                                </div>
                            </div>

                            <!-- ì˜ì‚¬ê²°ì • ê¶Œê³ ì‚¬í•­ -->
                            <div style="background: #fff8e1; border: 1px solid #ffcc02; border-radius: 0.75rem; padding: 1.5rem;">
                                <h4 style="color: #f57c00; font-size: 1.25rem; font-weight: 700; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem;">
                                    <span style="font-size: 1.5rem;">ğŸ’¼</span>
                                    ì˜ì‚¬ê²°ì • ê¶Œê³ ì‚¬í•­
                                </h4>
                                <div>
                                    <div style="background: white; border: 1px solid #ffcc02; border-radius: 0.5rem; padding: 1rem; margin-bottom: 0.75rem;">
                                        <div style="display: flex; align-items: start; gap: 0.75rem;">
                                            <span style="font-size: 1.125rem;">ğŸ¯</span>
                                            <div>
                                                <h6 style="color: #202124; font-weight: 700; margin: 0 0 0.25rem 0;">1ìˆœìœ„ ê¶Œì¥: GPT-4</h6>
                                                <p style="color: #5f6368; font-size: 0.875rem; margin: 0; line-height: 1.4;">ì¢…í•© ì„±ëŠ¥ì´ ê°€ì¥ ìš°ìˆ˜í•˜ë©°, ë³µì¡í•œ ì‘ì—… ì²˜ë¦¬ì— íƒì›”</p>
                                            </div>
                                        </div>
                                    </div>

                                    <div style="background: white; border: 1px solid #ffcc02; border-radius: 0.5rem; padding: 1rem; margin-bottom: 0.75rem;">
                                        <div style="display: flex; align-items: start; gap: 0.75rem;">
                                            <span style="font-size: 1.125rem;">ğŸ’°</span>
                                            <div>
                                                <h6 style="color: #202124; font-weight: 700; margin: 0 0 0.25rem 0;">2ìˆœìœ„ ê¶Œì¥: Claude</h6>
                                                <p style="color: #5f6368; font-size: 0.875rem; margin: 0; line-height: 1.4;">ë¹„ìš© ëŒ€ë¹„ ì„±ëŠ¥ì´ ìš°ìˆ˜í•˜ë©°, ì˜ˆì‚°ì´ ì¤‘ìš”í•œ ê²½ìš° ì¶”ì²œ</p>
                                            </div>
                                        </div>
                                    </div>

                                    <div style="background: linear-gradient(135deg, #fff8e1 0%, #f3e5f5 100%); border: 1px solid #ffcc02; border-radius: 0.5rem; padding: 1rem;">
                                        <div style="display: flex; align-items: start; gap: 0.75rem;">
                                            <span style="font-size: 1.125rem;">ğŸ’¡</span>
                                            <div>
                                                <h6 style="color: #f57c00; font-weight: 700; margin: 0 0 0.5rem 0;">ì¢…í•© ê²°ë¡ </h6>
                                                <p style="color: #f57c00; font-size: 0.875rem; margin: 0; line-height: 1.5;">
                                                    í”„ë¡œì íŠ¸ ê·œëª¨ì™€ ì˜ˆì‚°ì„ ì¢…í•©ì ìœ¼ë¡œ ê³ ë ¤í•˜ì—¬ GPT-4ë¥¼ ìš°ì„  ê²€í† í•˜ë˜, 
                                                    ë¹„ìš©ì´ ì¤‘ìš”í•œ ê²½ìš° Claudeë¥¼ ëŒ€ì•ˆìœ¼ë¡œ ê³ ë ¤í•˜ëŠ” ê²ƒì´ ìµœì ì˜ ì „ëµì…ë‹ˆë‹¤.
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- ì¶”ê°€ ë¶„ì„ ë„êµ¬ -->
                        <div style="background: #f8f9fa; border: 1px solid #e0e0e0; border-radius: 0.75rem; padding: 1.5rem; margin-top: 1.5rem;">
                            <h5 style="color: #202124; font-size: 1rem; font-weight: 700; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem;">
                                <span style="font-size: 1.25rem;">ğŸ“‹</span>
                                ì¶”ê°€ ë¶„ì„ ë„êµ¬
                            </h5>
                            <div style="display: grid; grid-template-columns: 1fr; md:grid-template-columns: repeat(3, 1fr); gap: 1rem;">
                                <div style="background: white; padding: 1rem; border-radius: 0.5rem; border: 1px solid #e0e0e0; text-align: center; cursor: pointer;" onmouseover="this.style.boxShadow='0 2px 4px rgba(0,0,0,0.1)'" onmouseout="this.style.boxShadow='none'">
                                    <span style="font-size: 1.5rem;">ğŸ“ˆ</span>
                                    <h6 style="color: #202124; font-weight: 600; margin: 0.5rem 0;">ë¯¼ê°ë„ ë¶„ì„</h6>
                                    <p style="color: #5f6368; font-size: 0.875rem; margin: 0;">ê°€ì¤‘ì¹˜ ë³€í™” ì˜í–¥ë„</p>
                                </div>
                                
                                <div style="background: white; padding: 1rem; border-radius: 0.5rem; border: 1px solid #e0e0e0; text-align: center; cursor: pointer;" onmouseover="this.style.boxShadow='0 2px 4px rgba(0,0,0,0.1)'" onmouseout="this.style.boxShadow='none'">
                                    <span style="font-size: 1.5rem;">ğŸ“Š</span>
                                    <h6 style="color: #202124; font-weight: 600; margin: 0.5rem 0;">Excel ë‚´ë³´ë‚´ê¸°</h6>
                                    <p style="color: #5f6368; font-size: 0.875rem; margin: 0;">ìƒì„¸ ë°ì´í„° ë¶„ì„</p>
                                </div>
                                
                                <div style="background: white; padding: 1rem; border-radius: 0.5rem; border: 1px solid #e0e0e0; text-align: center; cursor: pointer;" onmouseover="this.style.boxShadow='0 2px 4px rgba(0,0,0,0.1)'" onmouseout="this.style.boxShadow='none'">
                                    <span style="font-size: 1.5rem;">ğŸ“„</span>
                                    <h6 style="color: #202124; font-weight: 600; margin: 0.5rem 0;">PDF ë³´ê³ ì„œ</h6>
                                    <p style="color: #5f6368; font-size: 0.875rem; margin: 0;">ì˜ì‚¬ê²°ì • ë¬¸ì„œí™”</p>
                                </div>
                            </div>
                        </div>
                    </div>
                `
            };

            return contents[step] || contents[1];
        }

        /**
         * ì‚¬ìš©ì ê°€ì´ë“œ ì´ˆê¸°í™”
         */
        function setupUserGuide() {
            // ì´ˆê¸°í™” ë¡œì§ (í•„ìš”í•œ ê²½ìš°)
            console.log('ğŸ¯ ì‚¬ìš©ì ê°€ì´ë“œ ì´ˆê¸°í™” ì™„ë£Œ');
        }

        /**
         * ê°€ì´ë“œ í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°
         */
        function backToGuideHome() {
            const contentArea = document.getElementById('guideContentArea');
            contentArea.innerHTML = '';
        }

        /**
         * ê°€ì´ë“œ ì„¹ì…˜ í‘œì‹œ
         */
        function showGuideSection(section) {
            // ë„¤ë¹„ê²Œì´ì…˜ ë²„íŠ¼ ì—…ë°ì´íŠ¸
            document.querySelectorAll('.guide-nav-btn').forEach(btn => {
                btn.style.background = '#f8f9fa';
                btn.style.color = '#5f6368';
                btn.style.border = '1px solid #dadce0';
            });
            
            const activeBtn = document.querySelector(`[data-section="${section}"]`);
            if (activeBtn) {
                activeBtn.style.background = '#4285f4';
                activeBtn.style.color = 'white';
                activeBtn.style.border = 'none';
            }

            // ì½˜í…ì¸  ì—…ë°ì´íŠ¸
            const contentArea = document.getElementById('guideSectionContent');
            switch(section) {
                case 'overview':
                    contentArea.innerHTML = generateOverviewSection();
                    break;
                case 'researcher':
                    contentArea.innerHTML = generateResearcherSection();
                    break;
                case 'evaluator':
                    contentArea.innerHTML = generateEvaluatorSection();
                    break;
                case 'demo':
                    contentArea.innerHTML = generateDemoSection();
                    break;
            }
        }

        /**
         * ë‹¨ê³„ë³„ ê°€ì´ë“œ ì´ˆê¸°í™”
         */
        function setupStepByStepGuide() {
            window.currentStep = 1;
            updateStepNavigation();
        }

        /**
         * ë‹¨ê³„ í‘œì‹œ
         */
        function showStep(step) {
            window.currentStep = step;
            
            // ì½˜í…ì¸  ì—…ë°ì´íŠ¸
            const contentArea = document.getElementById('stepContent');
            contentArea.innerHTML = generateStepContent(step);
            
            updateStepNavigation();
        }

        /**
         * ì´ì „ ë‹¨ê³„
         */
        function prevStep() {
            if (window.currentStep > 1) {
                showStep(window.currentStep - 1);
            }
        }

        /**
         * ë‹¤ìŒ ë‹¨ê³„
         */
        function nextStep() {
            if (window.currentStep < 5) {
                showStep(window.currentStep + 1);
            }
        }

        /**
         * ë‹¨ê³„ ë„¤ë¹„ê²Œì´ì…˜ ì—…ë°ì´íŠ¸
         */
        function updateStepNavigation() {
            const currentStep = window.currentStep || 1;
            
            // ë„¤ë¹„ê²Œì´ì…˜ ë²„íŠ¼ ì—…ë°ì´íŠ¸
            document.querySelectorAll('.step-nav-btn').forEach(btn => {
                btn.style.background = '#f8f9fa';
                btn.style.color = '#5f6368';
                btn.style.border = '1px solid #dadce0';
            });
            
            const activeBtn = document.querySelector(`[data-step="${currentStep}"]`);
            if (activeBtn) {
                activeBtn.style.background = '#4285f4';
                activeBtn.style.color = 'white';
                activeBtn.style.border = 'none';
            }

            // ì§„í–‰ë¥  ì—…ë°ì´íŠ¸
            const progressBar = document.getElementById('progressBar');
            const progressText = document.getElementById('progressText');
            const currentStepDisplay = document.getElementById('currentStepDisplay');
            
            if (progressBar) {
                progressBar.style.width = `${(currentStep / 5) * 100}%`;
            }
            if (progressText) {
                progressText.textContent = `${currentStep}/5 ë‹¨ê³„`;
            }
            if (currentStepDisplay) {
                currentStepDisplay.textContent = currentStep;
            }

            // ë²„íŠ¼ í‘œì‹œ/ìˆ¨ê¹€
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const completeBtn = document.getElementById('completeBtn');
            
            if (prevBtn) {
                prevBtn.style.display = currentStep === 1 ? 'none' : 'block';
            }
            if (nextBtn) {
                nextBtn.style.display = currentStep === 5 ? 'none' : 'block';
            }
            if (completeBtn) {
                completeBtn.style.display = currentStep === 5 ? 'block' : 'none';
            }
        }

        // =========================
        // í‰ê°€ì ê´€ë¦¬ ì „ ì¸êµ¬í†µê³„í•™ì  ì„¤ë¬¸ì¡°ì‚¬ (ë™ì¼í•œ êµ¬í˜„)
        // =========================

        /**
         * í‰ê°€ì ê´€ë¦¬ ì „ ì„¤ë¬¸ì¡°ì‚¬ ì½˜í…ì¸  ìƒì„± (êµ¬ê¸€ í¼ ìŠ¤íƒ€ì¼)
         */
        function generateEvaluatorPreSurveyContent() {
            return `
                <div class="demographic-survey-container" style="max-width: 800px; margin: 0 auto; background: #f8f9fa; min-height: 100vh; padding: 2rem 1rem;">
                    <!-- êµ¬ê¸€ í¼ ìŠ¤íƒ€ì¼ í—¤ë” -->
                    <div style="background: #ffffff; border-radius: 8px; padding: 2rem; margin-bottom: 1rem; border-top: 8px solid #8b5cf6; box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);">
                        <h1 style="color: #202124; font-size: 2rem; font-weight: 400; margin: 0 0 0.5rem 0; line-height: 1.2;">ğŸ‘¥ í‰ê°€ì ì¸êµ¬í†µê³„í•™ì  ì„¤ë¬¸ì¡°ì‚¬</h1>
                        <p style="color: #5f6368; font-size: 0.875rem; margin: 0; line-height: 1.4;">í‰ê°€ì ê´€ë¦¬ë¥¼ ì‹œì‘í•˜ê¸° ì „ì— ê¸°ë³¸ ì¸êµ¬í†µê³„ ì •ë³´ë¥¼ ìˆ˜ì§‘í•©ë‹ˆë‹¤. ëª¨ë“  ì •ë³´ëŠ” ìµëª…ìœ¼ë¡œ ì²˜ë¦¬ë˜ë©°, ì‘ë‹µì€ ì•½ 5-10ë¶„ ì†Œìš”ë©ë‹ˆë‹¤. <span style="color: #d93025;">*</span> í‘œì‹œëŠ” í•„ìˆ˜ ì‘ë‹µ í•­ëª©ì…ë‹ˆë‹¤.</p>
                        <div style="margin-top: 1rem; padding: 1rem; background: #fff3cd; border-radius: 4px; border-left: 4px solid #ffc107;">
                            <p style="color: #856404; font-size: 0.875rem; margin: 0; font-weight: 500;">
                                ğŸ“‹ ì´ ì„¤ë¬¸ì¡°ì‚¬ë¥¼ ì™„ë£Œí•˜ë©´ í‰ê°€ì ê´€ë¦¬ ë‹¨ê³„ë¡œ ìë™ ì§„í–‰ë©ë‹ˆë‹¤.
                            </p>
                        </div>
                    </div>

                    <form id="evaluatorDemographicSurveyForm">
                        <!-- ê¸°ë³¸ ì •ë³´ ì„¹ì…˜ -->
                        <div style="background: #ffffff; border-radius: 8px; padding: 1.5rem; margin-bottom: 1rem; box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);">
                            <!-- ì—°ë ¹ëŒ€ -->
                            <div style="margin-bottom: 2rem;">
                                <label style="display: block; color: #202124; font-size: 1rem; font-weight: 400; margin-bottom: 0.5rem; line-height: 1.5;">
                                    1. ê·€í•˜ì˜ ì—°ë ¹ëŒ€ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš” <span style="color: #d93025;">*</span>
                                </label>
                                <p style="color: #5f6368; font-size: 0.875rem; margin: 0 0 1rem 0; line-height: 1.4;">
                                    ì˜ˆì‹œ: 20ëŒ€ í›„ë°˜, 30ëŒ€ ì´ˆë°˜, 40ëŒ€ ì¤‘ë°˜ ë“±
                                </p>
                                <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                                    <label style="display: flex; align-items: center; cursor: pointer; padding: 0.75rem; border-radius: 4px; transition: background-color 0.2s;">
                                        <input type="radio" name="evaluatorAgeGroup" value="20-29" style="margin-right: 0.75rem; accent-color: #8b5cf6;" onchange="highlightEvaluatorSelection(this)">
                                        <span style="color: #202124; font-size: 0.875rem;">20ëŒ€ (20-29ì„¸)</span>
                                    </label>
                                    <label style="display: flex; align-items: center; cursor: pointer; padding: 0.75rem; border-radius: 4px; transition: background-color 0.2s;">
                                        <input type="radio" name="evaluatorAgeGroup" value="30-39" style="margin-right: 0.75rem; accent-color: #8b5cf6;" onchange="highlightEvaluatorSelection(this)">
                                        <span style="color: #202124; font-size: 0.875rem;">30ëŒ€ (30-39ì„¸)</span>
                                    </label>
                                    <label style="display: flex; align-items: center; cursor: pointer; padding: 0.75rem; border-radius: 4px; transition: background-color 0.2s;">
                                        <input type="radio" name="evaluatorAgeGroup" value="40-49" style="margin-right: 0.75rem; accent-color: #8b5cf6;" onchange="highlightEvaluatorSelection(this)">
                                        <span style="color: #202124; font-size: 0.875rem;">40ëŒ€ (40-49ì„¸)</span>
                                    </label>
                                    <label style="display: flex; align-items: center; cursor: pointer; padding: 0.75rem; border-radius: 4px; transition: background-color 0.2s;">
                                        <input type="radio" name="evaluatorAgeGroup" value="50-59" style="margin-right: 0.75rem; accent-color: #8b5cf6;" onchange="highlightEvaluatorSelection(this)">
                                        <span style="color: #202124; font-size: 0.875rem;">50ëŒ€ (50-59ì„¸)</span>
                                    </label>
                                    <label style="display: flex; align-items: center; cursor: pointer; padding: 0.75rem; border-radius: 4px; transition: background-color 0.2s;">
                                        <input type="radio" name="evaluatorAgeGroup" value="60+" style="margin-right: 0.75rem; accent-color: #8b5cf6;" onchange="highlightEvaluatorSelection(this)">
                                        <span style="color: #202124; font-size: 0.875rem;">60ì„¸ ì´ìƒ</span>
                                    </label>
                                </div>
                            </div>
                        </div>

                        <!-- ì„±ë³„ -->
                        <div style="background: #ffffff; border-radius: 8px; padding: 1.5rem; margin-bottom: 1rem; box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);">
                            <label style="display: block; color: #202124; font-size: 1rem; font-weight: 400; margin-bottom: 0.5rem; line-height: 1.5;">
                                2. ì„±ë³„ì„ ì„ íƒí•´ì£¼ì„¸ìš” <span style="color: #d93025;">*</span>
                            </label>
                            <p style="color: #5f6368; font-size: 0.875rem; margin: 0 0 1rem 0; line-height: 1.4;">
                                ì˜ˆì‹œ: ë‚¨ì„±, ì—¬ì„±, ë˜ëŠ” ê°œì¸ì •ë³´ ë³´í˜¸ë¥¼ ìœ„í•´ ì‘ë‹µí•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤
                            </p>
                            <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                                <label style="display: flex; align-items: center; cursor: pointer; padding: 0.75rem; border-radius: 4px; transition: background-color 0.2s;">
                                    <input type="radio" name="evaluatorGender" value="male" style="margin-right: 0.75rem; accent-color: #8b5cf6;" onchange="highlightEvaluatorSelection(this)">
                                    <span style="color: #202124; font-size: 0.875rem;">ë‚¨ì„±</span>
                                </label>
                                <label style="display: flex; align-items: center; cursor: pointer; padding: 0.75rem; border-radius: 4px; transition: background-color 0.2s;">
                                    <input type="radio" name="evaluatorGender" value="female" style="margin-right: 0.75rem; accent-color: #8b5cf6;" onchange="highlightEvaluatorSelection(this)">
                                    <span style="color: #202124; font-size: 0.875rem;">ì—¬ì„±</span>
                                </label>
                                <label style="display: flex; align-items: center; cursor: pointer; padding: 0.75rem; border-radius: 4px; transition: background-color 0.2s;">
                                    <input type="radio" name="evaluatorGender" value="prefer-not-to-say" style="margin-right: 0.75rem; accent-color: #8b5cf6;" onchange="highlightEvaluatorSelection(this)">
                                    <span style="color: #202124; font-size: 0.875rem;">ì‘ë‹µí•˜ì§€ ì•ŠìŒ</span>
                                </label>
                            </div>
                        </div>

                        <!-- ìµœì¢… í•™ë ¥ -->
                        <div style="background: #ffffff; border-radius: 8px; padding: 1.5rem; margin-bottom: 1rem; box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);">
                            <label style="display: block; color: #202124; font-size: 1rem; font-weight: 400; margin-bottom: 0.5rem; line-height: 1.5;">
                                3. ìµœì¢… í•™ë ¥ì„ ì„ íƒí•´ì£¼ì„¸ìš” <span style="color: #d93025;">*</span>
                            </label>
                            <p style="color: #5f6368; font-size: 0.875rem; margin: 0 0 1rem 0; line-height: 1.4;">
                                ì˜ˆì‹œ: ì„œìš¸ëŒ€ ì»´í“¨í„°ê³µí•™ê³¼ í•™ì‚¬, KAIST ê²½ì˜í•™ ì„ì‚¬, ì—°ì„¸ëŒ€ ì˜í•™ ë°•ì‚¬ ë“±
                            </p>
                            <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                                <label style="display: flex; align-items: center; cursor: pointer; padding: 0.75rem; border-radius: 4px; transition: background-color 0.2s;">
                                    <input type="radio" name="evaluatorEducation" value="high-school" style="margin-right: 0.75rem; accent-color: #8b5cf6;" onchange="highlightEvaluatorSelection(this)">
                                    <span style="color: #202124; font-size: 0.875rem;">ê³ ë“±í•™êµ ì¡¸ì—…</span>
                                </label>
                                <label style="display: flex; align-items: center; cursor: pointer; padding: 0.75rem; border-radius: 4px; transition: background-color 0.2s;">
                                    <input type="radio" name="evaluatorEducation" value="bachelor" style="margin-right: 0.75rem; accent-color: #8b5cf6;" onchange="highlightEvaluatorSelection(this)">
                                    <span style="color: #202124; font-size: 0.875rem;">í•™ì‚¬ (ëŒ€í•™êµ ì¡¸ì—…)</span>
                                </label>
                                <label style="display: flex; align-items: center; cursor: pointer; padding: 0.75rem; border-radius: 4px; transition: background-color 0.2s;">
                                    <input type="radio" name="evaluatorEducation" value="master" style="margin-right: 0.75rem; accent-color: #8b5cf6;" onchange="highlightEvaluatorSelection(this)">
                                    <span style="color: #202124; font-size: 0.875rem;">ì„ì‚¬ (ëŒ€í•™ì› ì¡¸ì—…)</span>
                                </label>
                                <label style="display: flex; align-items: center; cursor: pointer; padding: 0.75rem; border-radius: 4px; transition: background-color 0.2s;">
                                    <input type="radio" name="evaluatorEducation" value="phd" style="margin-right: 0.75rem; accent-color: #8b5cf6;" onchange="highlightEvaluatorSelection(this)">
                                    <span style="color: #202124; font-size: 0.875rem;">ë°•ì‚¬ (ë°•ì‚¬ê³¼ì • ìˆ˜ë£Œ ë˜ëŠ” ì¡¸ì—…)</span>
                                </label>
                                <label style="display: flex; align-items: center; cursor: pointer; padding: 0.75rem; border-radius: 4px; transition: background-color 0.2s;">
                                    <input type="radio" name="evaluatorEducation" value="other" style="margin-right: 0.75rem; accent-color: #8b5cf6;" onchange="highlightEvaluatorSelection(this)">
                                    <span style="color: #202124; font-size: 0.875rem;">ê¸°íƒ€</span>
                                </label>
                            </div>
                        </div>

                        <!-- ì§ì—… ë¶„ì•¼ -->
                        <div style="background: #ffffff; border-radius: 8px; padding: 1.5rem; margin-bottom: 1rem; box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);">
                            <label style="display: block; color: #202124; font-size: 1rem; font-weight: 400; margin-bottom: 0.5rem; line-height: 1.5;">
                                4. í˜„ì¬ ì¢…ì‚¬í•˜ê³  ìˆëŠ” ì§ì—… ë¶„ì•¼ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš” <span style="color: #d93025;">*</span>
                            </label>
                            <p style="color: #5f6368; font-size: 0.875rem; margin: 0 0 1rem 0; line-height: 1.4;">
                                ì˜ˆì‹œ: ì‚¼ì„±ì „ì SWê°œë°œì, ì„œìš¸ëŒ€ë³‘ì› ì˜ì‚¬, ê³µë¬´ì› 9ê¸‰ ë“±
                            </p>
                            <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                                <label style="display: flex; align-items: center; cursor: pointer; padding: 0.75rem; border-radius: 4px; transition: background-color 0.2s;">
                                    <input type="radio" name="evaluatorOccupation" value="academic" style="margin-right: 0.75rem; accent-color: #8b5cf6;" onchange="highlightEvaluatorSelection(this)">
                                    <span style="color: #202124; font-size: 0.875rem;">êµìœ¡/ì—°êµ¬ (êµìˆ˜, ì—°êµ¬ì›, êµì‚¬ ë“±)</span>
                                </label>
                                <label style="display: flex; align-items: center; cursor: pointer; padding: 0.75rem; border-radius: 4px; transition: background-color 0.2s;">
                                    <input type="radio" name="evaluatorOccupation" value="business" style="margin-right: 0.75rem; accent-color: #8b5cf6;" onchange="highlightEvaluatorSelection(this)">
                                    <span style="color: #202124; font-size: 0.875rem;">ê²½ì˜/ì‚¬ì—… (CEO, ë§¤ë‹ˆì €, ê¸°íšì ë“±)</span>
                                </label>
                                <label style="display: flex; align-items: center; cursor: pointer; padding: 0.75rem; border-radius: 4px; transition: background-color 0.2s;">
                                    <input type="radio" name="evaluatorOccupation" value="engineering" style="margin-right: 0.75rem; accent-color: #8b5cf6;" onchange="highlightEvaluatorSelection(this)">
                                    <span style="color: #202124; font-size: 0.875rem;">ê³µí•™/ê¸°ìˆ  (ê°œë°œì, ì—”ì§€ë‹ˆì–´, ë””ìì´ë„ˆ ë“±)</span>
                                </label>
                                <label style="display: flex; align-items: center; cursor: pointer; padding: 0.75rem; border-radius: 4px; transition: background-color 0.2s;">
                                    <input type="radio" name="evaluatorOccupation" value="healthcare" style="margin-right: 0.75rem; accent-color: #8b5cf6;" onchange="highlightEvaluatorSelection(this)">
                                    <span style="color: #202124; font-size: 0.875rem;">ì˜ë£Œ/ë³´ê±´ (ì˜ì‚¬, ê°„í˜¸ì‚¬, ì•½ì‚¬ ë“±)</span>
                                </label>
                                <label style="display: flex; align-items: center; cursor: pointer; padding: 0.75rem; border-radius: 4px; transition: background-color 0.2s;">
                                    <input type="radio" name="evaluatorOccupation" value="government" style="margin-right: 0.75rem; accent-color: #8b5cf6;" onchange="highlightEvaluatorSelection(this)">
                                    <span style="color: #202124; font-size: 0.875rem;">ê³µê³µ/í–‰ì • (ê³µë¬´ì›, ê³µê¸°ì—… ì§ì› ë“±)</span>
                                </label>
                                <label style="display: flex; align-items: center; cursor: pointer; padding: 0.75rem; border-radius: 4px; transition: background-color 0.2s;">
                                    <input type="radio" name="evaluatorOccupation" value="consulting" style="margin-right: 0.75rem; accent-color: #8b5cf6;" onchange="highlightEvaluatorSelection(this)">
                                    <span style="color: #202124; font-size: 0.875rem;">ì»¨ì„¤íŒ… (ê²½ì˜ì»¨ì„¤í„´íŠ¸, ì „ë¬¸ì»¨ì„¤í„´íŠ¸ ë“±)</span>
                                </label>
                                <label style="display: flex; align-items: center; cursor: pointer; padding: 0.75rem; border-radius: 4px; transition: background-color 0.2s;">
                                    <input type="radio" name="evaluatorOccupation" value="finance" style="margin-right: 0.75rem; accent-color: #8b5cf6;" onchange="highlightEvaluatorSelection(this)">
                                    <span style="color: #202124; font-size: 0.875rem;">ê¸ˆìœµ (ì€í–‰ì›, ì¦ê¶Œì‚¬, ë³´í—˜ì‚¬ ë“±)</span>
                                </label>
                                <label style="display: flex; align-items: center; cursor: pointer; padding: 0.75rem; border-radius: 4px; transition: background-color 0.2s;">
                                    <input type="radio" name="evaluatorOccupation" value="student" style="margin-right: 0.75rem; accent-color: #8b5cf6;" onchange="highlightEvaluatorSelection(this)">
                                    <span style="color: #202124; font-size: 0.875rem;">í•™ìƒ (ëŒ€í•™ìƒ, ëŒ€í•™ì›ìƒ ë“±)</span>
                                </label>
                                <label style="display: flex; align-items: center; cursor: pointer; padding: 0.75rem; border-radius: 4px; transition: background-color 0.2s;">
                                    <input type="radio" name="evaluatorOccupation" value="other" style="margin-right: 0.75rem; accent-color: #8b5cf6;" onchange="highlightEvaluatorSelection(this)">
                                    <span style="color: #202124; font-size: 0.875rem;">ê¸°íƒ€</span>
                                </label>
                            </div>
                        </div>

                        <!-- ê·¼ë¬´ ê²½ë ¥ -->
                        <div style="background: #ffffff; border-radius: 8px; padding: 1.5rem; margin-bottom: 1rem; box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);">
                            <label style="display: block; color: #202124; font-size: 1rem; font-weight: 400; margin-bottom: 0.5rem; line-height: 1.5;">
                                5. í•´ë‹¹ ë¶„ì•¼ ì´ ê·¼ë¬´ ê²½ë ¥ì„ ì„ íƒí•´ì£¼ì„¸ìš” <span style="color: #d93025;">*</span>
                            </label>
                            <p style="color: #5f6368; font-size: 0.875rem; margin: 0 0 1rem 0; line-height: 1.4;">
                                ì˜ˆì‹œ: ì‹ ì…ì‚¬ì›(1ë…„ ë¯¸ë§Œ), ì£¼ì„ê¸‰(3ë…„ì°¨), ê³¼ì¥ê¸‰(7ë…„ì°¨) ë“±
                            </p>
                            <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                                <label style="display: flex; align-items: center; cursor: pointer; padding: 0.75rem; border-radius: 4px; transition: background-color 0.2s;">
                                    <input type="radio" name="evaluatorExperience" value="0-2" style="margin-right: 0.75rem; accent-color: #8b5cf6;" onchange="highlightEvaluatorSelection(this)">
                                    <span style="color: #202124; font-size: 0.875rem;">0-2ë…„ (ì‹ ì… ~ ì‚¬ì›ê¸‰)</span>
                                </label>
                                <label style="display: flex; align-items: center; cursor: pointer; padding: 0.75rem; border-radius: 4px; transition: background-color 0.2s;">
                                    <input type="radio" name="evaluatorExperience" value="3-5" style="margin-right: 0.75rem; accent-color: #8b5cf6;" onchange="highlightEvaluatorSelection(this)">
                                    <span style="color: #202124; font-size: 0.875rem;">3-5ë…„ (ì£¼ì„ ~ ëŒ€ë¦¬ê¸‰)</span>
                                </label>
                                <label style="display: flex; align-items: center; cursor: pointer; padding: 0.75rem; border-radius: 4px; transition: background-color 0.2s;">
                                    <input type="radio" name="evaluatorExperience" value="6-10" style="margin-right: 0.75rem; accent-color: #8b5cf6;" onchange="highlightEvaluatorSelection(this)">
                                    <span style="color: #202124; font-size: 0.875rem;">6-10ë…„ (ê³¼ì¥ ~ ì°¨ì¥ê¸‰)</span>
                                </label>
                                <label style="display: flex; align-items: center; cursor: pointer; padding: 0.75rem; border-radius: 4px; transition: background-color 0.2s;">
                                    <input type="radio" name="evaluatorExperience" value="11-15" style="margin-right: 0.75rem; accent-color: #8b5cf6;" onchange="highlightEvaluatorSelection(this)">
                                    <span style="color: #202124; font-size: 0.875rem;">11-15ë…„ (ë¶€ì¥ ~ ì´ì‚¬ê¸‰)</span>
                                </label>
                                <label style="display: flex; align-items: center; cursor: pointer; padding: 0.75rem; border-radius: 4px; transition: background-color 0.2s;">
                                    <input type="radio" name="evaluatorExperience" value="16+" style="margin-right: 0.75rem; accent-color: #8b5cf6;" onchange="highlightEvaluatorSelection(this)">
                                    <span style="color: #202124; font-size: 0.875rem;">16ë…„ ì´ìƒ (ì„ì›ê¸‰ ì´ìƒ)</span>
                                </label>
                            </div>
                        </div>

                        <!-- AHP ì‚¬ìš© ê²½í—˜ -->
                        <div style="background: #ffffff; border-radius: 8px; padding: 1.5rem; margin-bottom: 1rem; box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);">
                            <label style="display: block; color: #202124; font-size: 1rem; font-weight: 400; margin-bottom: 0.5rem; line-height: 1.5;">
                                6. AHP(ê³„ì¸µí™” ë¶„ì„ë²•) ì‚¬ìš© ê²½í—˜ì„ ì„ íƒí•´ì£¼ì„¸ìš” <span style="color: #d93025;">*</span>
                            </label>
                            <p style="color: #5f6368; font-size: 0.875rem; margin: 0 0 1rem 0; line-height: 1.4;">
                                ì˜ˆì‹œ: ë…¼ë¬¸ ì‘ì„± ì‹œ 1íšŒ ì‚¬ìš©, íšŒì‚¬ í”„ë¡œì íŠ¸ì—ì„œ 3íšŒ ì‚¬ìš©, ì»¨ì„¤íŒ…ì—ì„œ ì „ë¬¸ì  í™œìš© ë“±
                            </p>
                            <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                                <label style="display: flex; align-items: center; cursor: pointer; padding: 0.75rem; border-radius: 4px; transition: background-color 0.2s;">
                                    <input type="radio" name="evaluatorAhpExperience" value="none" style="margin-right: 0.75rem; accent-color: #8b5cf6;" onchange="highlightEvaluatorSelection(this)">
                                    <span style="color: #202124; font-size: 0.875rem;">ê²½í—˜ ì—†ìŒ (ì´ë²ˆì´ ì²˜ìŒ)</span>
                                </label>
                                <label style="display: flex; align-items: center; cursor: pointer; padding: 0.75rem; border-radius: 4px; transition: background-color 0.2s;">
                                    <input type="radio" name="evaluatorAhpExperience" value="basic" style="margin-right: 0.75rem; accent-color: #8b5cf6;" onchange="highlightEvaluatorSelection(this)">
                                    <span style="color: #202124; font-size: 0.875rem;">ê¸°ë³¸ì ì¸ ì´í•´ (ì´ë¡ ì  ì§€ì‹ë§Œ ë³´ìœ )</span>
                                </label>
                                <label style="display: flex; align-items: center; cursor: pointer; padding: 0.75rem; border-radius: 4px; transition: background-color 0.2s;">
                                    <input type="radio" name="evaluatorAhpExperience" value="intermediate" style="margin-right: 0.75rem; accent-color: #8b5cf6;" onchange="highlightEvaluatorSelection(this)">
                                    <span style="color: #202124; font-size: 0.875rem;">ì¤‘ê¸‰ (1-3íšŒ ì‹¤ì œ ì‚¬ìš© ê²½í—˜)</span>
                                </label>
                                <label style="display: flex; align-items: center; cursor: pointer; padding: 0.75rem; border-radius: 4px; transition: background-color 0.2s;">
                                    <input type="radio" name="evaluatorAhpExperience" value="advanced" style="margin-right: 0.75rem; accent-color: #8b5cf6;" onchange="highlightEvaluatorSelection(this)">
                                    <span style="color: #202124; font-size: 0.875rem;">ê³ ê¸‰ (4íšŒ ì´ìƒ ì „ë¬¸ì  í™œìš©)</span>
                                </label>
                            </div>
                        </div>

                        <!-- ì˜ì‚¬ê²°ì • ë„êµ¬ ì‚¬ìš© ëª©ì  -->
                        <div style="background: #ffffff; border-radius: 8px; padding: 1.5rem; margin-bottom: 1rem; box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);">
                            <label style="display: block; color: #202124; font-size: 1rem; font-weight: 400; margin-bottom: 0.5rem; line-height: 1.5;">
                                7. ì˜ì‚¬ê²°ì • ë„êµ¬ ì‚¬ìš© ëª©ì ì„ ëª¨ë‘ ì„ íƒí•´ì£¼ì„¸ìš” <span style="color: #d93025;">*</span>
                            </label>
                            <p style="color: #5f6368; font-size: 0.875rem; margin: 0 0 1rem 0; line-height: 1.4;">
                                ì˜ˆì‹œ: ë°•ì‚¬ ë…¼ë¬¸ ì—°êµ¬, ì‹ ì œí’ˆ ì¶œì‹œ ê²°ì •, ê°œì¸ ì£¼íƒ êµ¬ë§¤ ê²°ì • ë“± (ë³µìˆ˜ ì„ íƒ ê°€ëŠ¥)
                            </p>
                            <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                                <label style="display: flex; align-items: center; cursor: pointer; padding: 0.75rem; border-radius: 4px; transition: background-color 0.2s;">
                                    <input type="checkbox" name="evaluatorUsagePurpose" value="research" style="margin-right: 0.75rem; accent-color: #8b5cf6;" onchange="highlightEvaluatorSelection(this)">
                                    <span style="color: #202124; font-size: 0.875rem;">í•™ìˆ  ì—°êµ¬ (ë…¼ë¬¸, ì—°êµ¬ í”„ë¡œì íŠ¸ ë“±)</span>
                                </label>
                                <label style="display: flex; align-items: center; cursor: pointer; padding: 0.75rem; border-radius: 4px; transition: background-color 0.2s;">
                                    <input type="checkbox" name="evaluatorUsagePurpose" value="business" style="margin-right: 0.75rem; accent-color: #8b5cf6;" onchange="highlightEvaluatorSelection(this)">
                                    <span style="color: #202124; font-size: 0.875rem;">ë¹„ì¦ˆë‹ˆìŠ¤ ì˜ì‚¬ê²°ì • (íˆ¬ì, ì „ëµ ìˆ˜ë¦½ ë“±)</span>
                                </label>
                                <label style="display: flex; align-items: center; cursor: pointer; padding: 0.75rem; border-radius: 4px; transition: background-color 0.2s;">
                                    <input type="checkbox" name="evaluatorUsagePurpose" value="personal" style="margin-right: 0.75rem; accent-color: #8b5cf6;" onchange="highlightEvaluatorSelection(this)">
                                    <span style="color: #202124; font-size: 0.875rem;">ê°œì¸ì  ì˜ì‚¬ê²°ì • (êµ¬ë§¤, ì„ íƒ ë“±)</span>
                                </label>
                                <label style="display: flex; align-items: center; cursor: pointer; padding: 0.75rem; border-radius: 4px; transition: background-color 0.2s;">
                                    <input type="checkbox" name="evaluatorUsagePurpose" value="education" style="margin-right: 0.75rem; accent-color: #8b5cf6;" onchange="highlightEvaluatorSelection(this)">
                                    <span style="color: #202124; font-size: 0.875rem;">êµìœ¡/í•™ìŠµ (ìˆ˜ì—…, êµìœ¡ ìë£Œ ë“±)</span>
                                </label>
                                <label style="display: flex; align-items: center; cursor: pointer; padding: 0.75rem; border-radius: 4px; transition: background-color 0.2s;">
                                    <input type="checkbox" name="evaluatorUsagePurpose" value="consulting" style="margin-right: 0.75rem; accent-color: #8b5cf6;" onchange="highlightEvaluatorSelection(this)">
                                    <span style="color: #202124; font-size: 0.875rem;">ì»¨ì„¤íŒ… í”„ë¡œì íŠ¸ (ê³ ê° ì˜ì‚¬ê²°ì • ì§€ì› ë“±)</span>
                                </label>
                            </div>
                        </div>

                        <!-- ì¶”ê°€ ì˜ê²¬ -->
                        <div style="background: #ffffff; border-radius: 8px; padding: 1.5rem; margin-bottom: 1rem; box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);">
                            <label style="display: block; color: #202124; font-size: 1rem; font-weight: 400; margin-bottom: 0.5rem; line-height: 1.5;">
                                8. ì¶”ê°€ ì˜ê²¬ì´ë‚˜ ê±´ì˜ì‚¬í•­ì´ ìˆìœ¼ì‹œë©´ ììœ ë¡­ê²Œ ì‘ì„±í•´ì£¼ì„¸ìš” (ì„ íƒì‚¬í•­)
                            </label>
                            <p style="color: #5f6368; font-size: 0.875rem; margin: 0 0 1rem 0; line-height: 1.4;">
                                ì˜ˆì‹œ: "UIê°€ ë” ì§ê´€ì ì´ì—ˆìœ¼ë©´", "ì—‘ì…€ ì—°ë™ ê¸°ëŠ¥ í•„ìš”", "ëª¨ë°”ì¼ ë²„ì „ ê°œë°œ ìš”ì²­" ë“±
                            </p>
                            <textarea id="evaluatorComments" rows="4" placeholder="AHP ì‹œìŠ¤í…œì— ëŒ€í•œ ì˜ê²¬, ê°œì„  ì œì•ˆì‚¬í•­, ì‚¬ìš© ì¤‘ ë¶ˆí¸í–ˆë˜ ì  ë“±ì„ ììœ ë¡­ê²Œ ì‘ì„±í•´ì£¼ì„¸ìš”." 
                                      style="width: 100%; padding: 0.75rem; border: 1px solid #dadce0; border-radius: 4px; font-size: 0.875rem; font-family: inherit; resize: vertical; background: #ffffff; color: #202124; line-height: 1.4;" 
                                      onfocus="this.style.borderColor='#8b5cf6'; this.style.outline='none';" 
                                      onblur="this.style.borderColor='#dadce0';"></textarea>
                        </div>

                        <!-- ë™ì˜ í™•ì¸ -->
                        <div style="background: #ffffff; border-radius: 8px; padding: 1.5rem; margin-bottom: 1rem; box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);">
                            <div style="border: 1px solid #dadce0; border-radius: 4px; padding: 1rem; background: #f8f9fa;">
                                <label style="display: flex; align-items: flex-start; cursor: pointer; color: #202124; font-size: 0.875rem; line-height: 1.4;">
                                    <input type="checkbox" id="evaluatorAgreeToTerms" style="margin-right: 0.75rem; margin-top: 0.125rem; accent-color: #8b5cf6;" onchange="highlightEvaluatorSelection(this)">
                                    <span>
                                        <strong style="color: #d93025;">ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš© ë™ì˜ (í•„ìˆ˜)</strong><br>
                                        ìˆ˜ì§‘ëœ ì •ë³´ëŠ” í‰ê°€ì ê´€ë¦¬ ë° ì—°êµ¬ ëª©ì ìœ¼ë¡œë§Œ ì‚¬ìš©ë˜ë©°, ê°œì¸ì„ ì‹ë³„í•  ìˆ˜ ì—†ë„ë¡ ìµëª…í™”í•˜ì—¬ ì²˜ë¦¬ë©ë‹ˆë‹¤. 
                                        ì—°êµ¬ ì™„ë£Œ í›„ ëª¨ë“  ê°œì¸ì •ë³´ëŠ” ì•ˆì „í•˜ê²Œ íê¸°ë©ë‹ˆë‹¤. 
                                        ìˆ˜ì§‘ í•­ëª©: ì—°ë ¹ëŒ€, ì„±ë³„, í•™ë ¥, ì§ì—…, ê²½ë ¥, AHP ê²½í—˜, ì‚¬ìš© ëª©ì , ì˜ê²¬ì‚¬í•­
                                    </span>
                                </label>
                            </div>
                        </div>

                        <!-- ì œì¶œ ë²„íŠ¼ -->
                        <div style="background: #ffffff; border-radius: 8px; padding: 1.5rem; box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24); text-align: left;">
                            <button type="button" onclick="submitEvaluatorDemographicSurvey()" id="evaluatorSubmitButton"
                                    style="background: #8b5cf6; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 4px; cursor: pointer; font-size: 0.875rem; font-weight: 500; transition: all 0.3s; margin-right: 1rem;"
                                    onmouseover="this.style.background='#7c3aed'; this.style.boxShadow='0 2px 8px rgba(139,92,246,0.3)'"
                                    onmouseout="this.style.background='#8b5cf6'; this.style.boxShadow='none'">
                                ì„¤ë¬¸ì¡°ì‚¬ ì œì¶œí•˜ê³  í‰ê°€ì ê´€ë¦¬ë¡œ ì´ë™
                            </button>
                            <button type="button" onclick="clearEvaluatorForm()" 
                                    style="background: transparent; color: #8b5cf6; border: 1px solid #8b5cf6; padding: 0.75rem 1.5rem; border-radius: 4px; cursor: pointer; font-size: 0.875rem; font-weight: 500; transition: all 0.3s;"
                                    onmouseover="this.style.background='#8b5cf6'; this.style.color='white'"
                                    onmouseout="this.style.background='transparent'; this.style.color='#8b5cf6'">
                                ì–‘ì‹ ì§€ìš°ê¸°
                            </button>
                            <p style="color: #5f6368; font-size: 0.75rem; margin: 1rem 0 0 0; line-height: 1.4;">
                                ğŸ”’ ì œì¶œëœ ì •ë³´ëŠ” SSLë¡œ ì•”í˜¸í™”í•˜ì—¬ ì „ì†¡ë˜ë©°, í‰ê°€ì ê´€ë¦¬ ë° ì—°êµ¬ ëª©ì ìœ¼ë¡œë§Œ í™œìš©ë©ë‹ˆë‹¤. 
                                ê°œì¸ì •ë³´ë³´í˜¸ë²•ì— ë”°ë¼ ì•ˆì „í•˜ê²Œ ê´€ë¦¬ë©ë‹ˆë‹¤.
                            </p>
                        </div>
                    </form>
                </div>
            `;
        }

        /**
         * í‰ê°€ì ì„¤ë¬¸ì¡°ì‚¬ ì´ˆê¸°í™”
         */
        function setupEvaluatorPreSurvey() {
            console.log('ğŸ‘¥ í‰ê°€ì ì¸êµ¬í†µê³„í•™ì  ì„¤ë¬¸ì¡°ì‚¬ ì´ˆê¸°í™”');
            
            // ê¸°ì¡´ ì„¤ë¬¸ ë°ì´í„° í™•ì¸
            checkExistingEvaluatorSurveyData();
        }

        /**
         * í‰ê°€ì ê¸°ì¡´ ì„¤ë¬¸ ë°ì´í„° í™•ì¸
         */
        async function checkExistingEvaluatorSurveyData() {
            try {
                // ì‚¬ìš©ìê°€ ì´ë¯¸ ì„¤ë¬¸ì„ ì™„ë£Œí–ˆëŠ”ì§€ í™•ì¸
                const existingSurvey = await window.ahpApi.getUserDemographicData();
                if (existingSurvey.success && existingSurvey.data) {
                    showExistingEvaluatorSurveyMessage();
                }
            } catch (error) {
                console.log('ğŸ‘¥ ì‹ ê·œ í‰ê°€ì ì„¤ë¬¸ì¡°ì‚¬ ì‚¬ìš©ì');
            }
        }

        /**
         * í‰ê°€ì ê¸°ì¡´ ì„¤ë¬¸ ì™„ë£Œ ë©”ì‹œì§€ í‘œì‹œ
         */
        function showExistingEvaluatorSurveyMessage() {
            const form = document.getElementById('evaluatorDemographicSurveyForm');
            if (form) {
                form.innerHTML = `
                    <div style="text-align: center; padding: 3rem;">
                        <div style="font-size: 3rem; margin-bottom: 1.5rem;">âœ…</div>
                        <h3 style="color: #10b981; margin-bottom: 1rem;">ì„¤ë¬¸ì¡°ì‚¬ ì™„ë£Œë¨</h3>
                        <p style="color: #6b7280; margin-bottom: 2rem;">ì´ë¯¸ ì¸êµ¬í†µê³„í•™ì  ì„¤ë¬¸ì¡°ì‚¬ë¥¼ ì™„ë£Œí•˜ì…¨ìŠµë‹ˆë‹¤.<br>ë°”ë¡œ í‰ê°€ì ê´€ë¦¬ë¥¼ ì‹œì‘í•˜ê² ìŠµë‹ˆë‹¤.</p>
                        <button onclick="proceedToEvaluatorManagement()" 
                                style="background: #8b5cf6; color: white; border: none; padding: 1rem 2rem; border-radius: 8px; cursor: pointer;">
                            í‰ê°€ì ê´€ë¦¬ ì‹œì‘
                        </button>
                    </div>
                `;
            }
        }

        /**
         * í‰ê°€ììš© êµ¬ê¸€ í¼ ìŠ¤íƒ€ì¼ ì„ íƒ í•˜ì´ë¼ì´íŠ¸ íš¨ê³¼
         */
        function highlightEvaluatorSelection(element) {
            // ì„ íƒëœ í•­ëª©ì˜ ë¶€ëª¨ label í•˜ì´ë¼ì´íŠ¸
            const label = element.closest('label');
            if (label) {
                // ê°™ì€ ê·¸ë£¹ì˜ ë‹¤ë¥¸ ì„ íƒ í•­ëª©ë“¤ í•˜ì´ë¼ì´íŠ¸ ì œê±°
                const groupName = element.name;
                if (groupName) {
                    document.querySelectorAll(`input[name="${groupName}"]`).forEach(input => {
                        const parentLabel = input.closest('label');
                        if (parentLabel) {
                            parentLabel.style.backgroundColor = 'transparent';
                        }
                    });
                }
                
                // í˜„ì¬ ì„ íƒëœ í•­ëª© í•˜ì´ë¼ì´íŠ¸
                if (element.checked) {
                    label.style.backgroundColor = '#f3f4f6';
                    label.style.borderColor = '#8b5cf6';
                } else {
                    label.style.backgroundColor = 'transparent';
                }
            }
        }

        /**
         * í‰ê°€ì ì–‘ì‹ ì§€ìš°ê¸° í•¨ìˆ˜
         */
        function clearEvaluatorForm() {
            if (confirm('ëª¨ë“  ì…ë ¥ ë‚´ìš©ì„ ì§€ìš°ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                const form = document.getElementById('evaluatorDemographicSurveyForm');
                if (form) {
                    // ëª¨ë“  ì…ë ¥ í•„ë“œ ì´ˆê¸°í™”
                    form.querySelectorAll('input[type="radio"], input[type="checkbox"]').forEach(input => {
                        input.checked = false;
                        const label = input.closest('label');
                        if (label) {
                            label.style.backgroundColor = 'transparent';
                        }
                    });
                    
                    // í…ìŠ¤íŠ¸ ì˜ì—­ ì´ˆê¸°í™”
                    const commentsTextarea = document.getElementById('evaluatorComments');
                    if (commentsTextarea) {
                        commentsTextarea.value = '';
                    }
                    
                    console.log('ğŸ‘¥ í‰ê°€ì ì„¤ë¬¸ì¡°ì‚¬ ì–‘ì‹ì´ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.');
                }
            }
        }

        /**
         * í‰ê°€ì ì„¤ë¬¸ì¡°ì‚¬ ì œì¶œ ì²˜ë¦¬
         */
        async function submitEvaluatorDemographicSurvey() {
            const form = document.getElementById('evaluatorDemographicSurveyForm');
            if (!form) return;

            // í•„ìˆ˜ í•­ëª© í™•ì¸
            const ageGroup = document.querySelector('input[name="evaluatorAgeGroup"]:checked');
            const gender = document.querySelector('input[name="evaluatorGender"]:checked');
            const education = document.querySelector('input[name="evaluatorEducation"]:checked');
            const occupation = document.querySelector('input[name="evaluatorOccupation"]:checked');
            const experience = document.querySelector('input[name="evaluatorExperience"]:checked');
            const ahpExperience = document.querySelector('input[name="evaluatorAhpExperience"]:checked');
            const agreeToTerms = document.getElementById('evaluatorAgreeToTerms').checked;

            // êµ¬ê¸€ í¼ ìŠ¤íƒ€ì¼ ìœ íš¨ì„± ê²€ì‚¬ ë° ì˜¤ë¥˜ í‘œì‹œ
            const showEvaluatorValidationError = (message, inputElement = null) => {
                // êµ¬ê¸€ í¼ ìŠ¤íƒ€ì¼ ì˜¤ë¥˜ í‘œì‹œ
                alert(`â— ${message}`);
                
                // í•´ë‹¹ ì„¹ì…˜ìœ¼ë¡œ ìŠ¤í¬ë¡¤
                if (inputElement) {
                    inputElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    
                    // ì˜¤ë¥˜ í‘œì‹œë¥¼ ìœ„í•œ ìŠ¤íƒ€ì¼ ì ìš©
                    const container = inputElement.closest('div[style*="background: #ffffff"]');
                    if (container) {
                        container.style.border = '2px solid #d93025';
                        container.style.backgroundColor = '#fef7f0';
                        
                        // 3ì´ˆ í›„ ì›ë˜ ìŠ¤íƒ€ì¼ë¡œ ë³µì›
                        setTimeout(() => {
                            container.style.border = 'none';
                            container.style.backgroundColor = '#ffffff';
                        }, 3000);
                    }
                }
            };

            // ìœ íš¨ì„± ê²€ì‚¬
            if (!ageGroup) {
                showEvaluatorValidationError('1ë²ˆ ì§ˆë¬¸: ì—°ë ¹ëŒ€ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.', document.querySelector('input[name="evaluatorAgeGroup"]'));
                return;
            }
            if (!gender) {
                showEvaluatorValidationError('2ë²ˆ ì§ˆë¬¸: ì„±ë³„ì„ ì„ íƒí•´ì£¼ì„¸ìš”.', document.querySelector('input[name="evaluatorGender"]'));
                return;
            }
            if (!education) {
                showEvaluatorValidationError('3ë²ˆ ì§ˆë¬¸: ìµœì¢… í•™ë ¥ì„ ì„ íƒí•´ì£¼ì„¸ìš”.', document.querySelector('input[name="evaluatorEducation"]'));
                return;
            }
            if (!occupation) {
                showEvaluatorValidationError('4ë²ˆ ì§ˆë¬¸: ì§ì—… ë¶„ì•¼ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.', document.querySelector('input[name="evaluatorOccupation"]'));
                return;
            }
            if (!experience) {
                showEvaluatorValidationError('5ë²ˆ ì§ˆë¬¸: ê·¼ë¬´ ê²½ë ¥ì„ ì„ íƒí•´ì£¼ì„¸ìš”.', document.querySelector('input[name="evaluatorExperience"]'));
                return;
            }
            if (!ahpExperience) {
                showEvaluatorValidationError('6ë²ˆ ì§ˆë¬¸: AHP ì‚¬ìš© ê²½í—˜ì„ ì„ íƒí•´ì£¼ì„¸ìš”.', document.querySelector('input[name="evaluatorAhpExperience"]'));
                return;
            }

            // ì‚¬ìš© ëª©ì  í™•ì¸ (ìµœì†Œ 1ê°œ ì„ íƒ í•„ìš”)
            const usagePurposeElements = document.querySelectorAll('input[name="evaluatorUsagePurpose"]:checked');
            if (usagePurposeElements.length === 0) {
                showEvaluatorValidationError('7ë²ˆ ì§ˆë¬¸: ì˜ì‚¬ê²°ì • ë„êµ¬ ì‚¬ìš© ëª©ì ì„ ìµœì†Œ 1ê°œ ì´ìƒ ì„ íƒí•´ì£¼ì„¸ìš”.', document.querySelector('input[name="evaluatorUsagePurpose"]'));
                return;
            }

            if (!agreeToTerms) {
                showEvaluatorValidationError('ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš© ë™ì˜ê°€ í•„ìš”í•©ë‹ˆë‹¤.', document.getElementById('evaluatorAgreeToTerms'));
                return;
            }

            // ì‚¬ìš© ëª©ì  ìˆ˜ì§‘ (ë³µìˆ˜ì„ íƒ)
            const usagePurpose = Array.from(usagePurposeElements).map(el => el.value);

            // ì„¤ë¬¸ ë°ì´í„° êµ¬ì„±
            const surveyData = {
                age_group: ageGroup.value,
                gender: gender.value,
                education: education.value,
                occupation: occupation.value,
                experience: experience.value,
                ahp_experience: ahpExperience.value,
                usage_purpose: usagePurpose,
                comments: document.getElementById('evaluatorComments').value.trim(),
                submitted_at: new Date().toISOString(),
                survey_type: 'evaluator_pre_survey' // í‰ê°€ì ì‚¬ì „ ì„¤ë¬¸ì¡°ì‚¬ êµ¬ë¶„
            };

            try {
                console.log('ğŸ‘¥ í‰ê°€ì ì„¤ë¬¸ì¡°ì‚¬ ì œì¶œ:', surveyData);
                
                // ì œì¶œ ë²„íŠ¼ ë¹„í™œì„±í™” ë° ë¡œë”© í‘œì‹œ
                const submitBtn = form.querySelector('button');
                const originalText = submitBtn.textContent;
                submitBtn.textContent = 'ì œì¶œ ì¤‘...';
                submitBtn.disabled = true;

                // API í˜¸ì¶œ
                const result = await window.ahpApi.submitDemographicSurvey(surveyData);

                if (result.success) {
                    // ì„±ê³µ í›„ í‰ê°€ì ê´€ë¦¬ë¡œ ìë™ ì´ë™
                    console.log('âœ… í‰ê°€ì ì„¤ë¬¸ì¡°ì‚¬ ì œì¶œ ì„±ê³µ - í‰ê°€ì ê´€ë¦¬ë¡œ ì´ë™');
                    
                    // ì„±ê³µ ë©”ì‹œì§€ ì ê¹ í‘œì‹œ í›„ ì´ë™
                    alert('âœ… ì„¤ë¬¸ì¡°ì‚¬ê°€ ì„±ê³µì ìœ¼ë¡œ ì œì¶œë˜ì—ˆìŠµë‹ˆë‹¤!\ní‰ê°€ì ê´€ë¦¬ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤.');
                    
                    // í‰ê°€ì ê´€ë¦¬ë¡œ ì´ë™
                    proceedToEvaluatorManagement();
                } else {
                    throw new Error(result.message || 'ì„¤ë¬¸ì¡°ì‚¬ ì œì¶œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
                }

            } catch (error) {
                console.error('âŒ í‰ê°€ì ì„¤ë¬¸ì¡°ì‚¬ ì œì¶œ ì˜¤ë¥˜:', error);
                alert('ì„¤ë¬¸ì¡°ì‚¬ ì œì¶œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
                
                // ë²„íŠ¼ ë³µêµ¬
                const submitBtn = form.querySelector('button');
                if (submitBtn) {
                    submitBtn.textContent = originalText;
                    submitBtn.disabled = false;
                }
            }
        }

        /**
         * í‰ê°€ì ê´€ë¦¬ë¡œ ì´ë™
         */
        function proceedToEvaluatorManagement() {
            console.log('ğŸ‘¥ í‰ê°€ì ê´€ë¦¬ ì‹œì‘');
            
            // ì‹¤ì œ í‰ê°€ì ê´€ë¦¬ ì½˜í…ì¸  ë¡œë“œ
            handleMenuClick('evaluator-management', null);
        }
        
        /**
         * í‰ê°€ì ê´€ë¦¬ ì™„ë£Œ í›„ ë¶„ì„ ê²°ê³¼ë¡œ ì´ë™
         */
        function completeEvaluatorManagement() {
            console.log('âœ… í‰ê°€ì ê´€ë¦¬ ì™„ë£Œ - ë¶„ì„ ê²°ê³¼ë¡œ ì´ë™');
            
            // ì™„ë£Œ ë©”ì‹œì§€ í‘œì‹œ
            showMessage('âœ… í‰ê°€ì ê´€ë¦¬ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!\nğŸ”„ ë¶„ì„ ê²°ê³¼ ë‹¨ê³„ë¡œ ì´ë™í•©ë‹ˆë‹¤...', 'success');
            
            // 2ì´ˆ í›„ ë¶„ì„ ê²°ê³¼ë¡œ ìë™ ì´ë™
            setTimeout(() => {
                console.log('ğŸš€ í‰ê°€ì ê´€ë¦¬ ì™„ë£Œ - ë¶„ì„ ê²°ê³¼ë¡œ ì´ë™');
                handleMenuClick('results-analysis', null);
            }, 2000);
        }

        // =========================
        // ëª¨ë¸êµ¬ì¶• JavaScript í•¨ìˆ˜ë“¤
        // =========================

        /**
         * ëª¨ë¸êµ¬ì¶• ì´ˆê¸°í™”
         */
        function setupModelBuilding() {
            console.log('ğŸ—ï¸ ëª¨ë¸êµ¬ì¶• ì‹œìŠ¤í…œ ì´ˆê¸°í™”');
            
            // ì´ˆê¸° íƒ­ ì½˜í…ì¸  ë¡œë“œ
            const contentContainer = document.getElementById('model-tab-content');
            if (contentContainer) {
                contentContainer.innerHTML = generateCriteriaTabContent();
            }
            
            // ì´ˆê¸° ë°ì´í„° ë¡œë“œ
            loadModelData();
            updateModelStatus();
        }

        /**
         * íƒ­ ë‚´ìš© ìƒì„± í•¨ìˆ˜ë“¤
         */
        function generateCriteriaTabContent() {
            return `
                <div id="criteria-tab-content">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                        <h3 style="color: #1f2937; margin: 0;">ğŸ“Š í‰ê°€ ê¸°ì¤€ ê´€ë¦¬</h3>
                        <button onclick="addRootCriterion()" style="background: #10b981; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer;">
                            + ì£¼ê¸°ì¤€ ì¶”ê°€
                        </button>
                    </div>

                    <div id="criteria-hierarchy-container">
                        <div style="background: #f8fafc; padding: 2rem; border-radius: 8px; text-align: center; border: 2px dashed #d1d5db;">
                            <div style="font-size: 3rem; margin-bottom: 1rem;">ğŸ“Š</div>
                            <h4 style="color: #374151; margin-bottom: 1rem;">í‰ê°€ ê¸°ì¤€ì´ ì—†ìŠµë‹ˆë‹¤</h4>
                            <p style="color: #6b7280; margin-bottom: 2rem;">
                                AHP ë¶„ì„ì„ ìœ„í•œ í‰ê°€ ê¸°ì¤€ì„ ì¶”ê°€í•´ì£¼ì„¸ìš”.<br>
                                ìµœì†Œ 2ê°œ ì´ìƒì˜ ê¸°ì¤€ì´ í•„ìš”í•©ë‹ˆë‹¤.
                            </p>
                            <button onclick="addRootCriterion()" style="background: #C8A968; color: white; border: none; padding: 1rem 2rem; border-radius: 8px; cursor: pointer; font-size: 1rem;">
                                ì²« ë²ˆì§¸ ê¸°ì¤€ ì¶”ê°€í•˜ê¸°
                            </button>
                        </div>
                    </div>

                    <!-- ê¸°ì¤€ ì¶”ê°€ í¼ (ìˆ¨ê¹€ ìƒíƒœ) -->
                    <div id="criterion-form" style="display: none; margin-top: 1.5rem; padding: 1.5rem; background: #f8fafc; border-radius: 8px; border: 1px solid #e5e7eb;">
                        <h4 style="color: #1f2937; margin-bottom: 1rem;">ìƒˆ ê¸°ì¤€ ì¶”ê°€</h4>
                        <div style="display: grid; gap: 1rem;">
                            <div>
                                <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: #374151;">ê¸°ì¤€ëª… *</label>
                                <input type="text" id="criterion-name" placeholder="ì˜ˆ: ë¹„ìš© íš¨ìœ¨ì„±" 
                                       style="width: 100%; padding: 0.75rem; border: 1px solid #d1d5db; border-radius: 6px; font-size: 1rem;">
                            </div>
                            <div>
                                <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: #374151;">ì„¤ëª… (ì„ íƒì‚¬í•­)</label>
                                <textarea id="criterion-description" placeholder="ê¸°ì¤€ì— ëŒ€í•œ ìì„¸í•œ ì„¤ëª…ì„ ì…ë ¥í•˜ì„¸ìš”" 
                                          style="width: 100%; padding: 0.75rem; border: 1px solid #d1d5db; border-radius: 6px; font-size: 1rem; min-height: 80px; resize: vertical;"></textarea>
                            </div>
                            <div style="display: flex; gap: 1rem; margin-top: 1rem;">
                                <button onclick="saveCriterion()" style="background: #10b981; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer; font-weight: 600;">
                                    âœ… ì €ì¥
                                </button>
                                <button onclick="cancelCriterionForm()" style="background: #6b7280; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer;">
                                    âŒ ì·¨ì†Œ
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function generateAlternativesTabContent() {
            return `
                <div id="alternatives-tab-content">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                        <h3 style="color: #1f2937; margin: 0;">ğŸ¯ ëŒ€ì•ˆ ê´€ë¦¬</h3>
                        <button onclick="addAlternative()" style="background: #3b82f6; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer;">
                            + ëŒ€ì•ˆ ì¶”ê°€
                        </button>
                    </div>

                    <div id="alternatives-container">
                        <div style="background: #f8fafc; padding: 2rem; border-radius: 8px; text-align: center; border: 2px dashed #d1d5db;">
                            <div style="font-size: 3rem; margin-bottom: 1rem;">ğŸ¯</div>
                            <h4 style="color: #374151; margin-bottom: 1rem;">ëŒ€ì•ˆì´ ì—†ìŠµë‹ˆë‹¤</h4>
                            <p style="color: #6b7280; margin-bottom: 2rem;">
                                ë¹„êµ í‰ê°€í•  ëŒ€ì•ˆë“¤ì„ ì¶”ê°€í•´ì£¼ì„¸ìš”.<br>
                                ìµœì†Œ 2ê°œ ì´ìƒì˜ ëŒ€ì•ˆì´ í•„ìš”í•©ë‹ˆë‹¤.
                            </p>
                            <button onclick="addAlternative()" style="background: #C8A968; color: white; border: none; padding: 1rem 2rem; border-radius: 8px; cursor: pointer; font-size: 1rem;">
                                ì²« ë²ˆì§¸ ëŒ€ì•ˆ ì¶”ê°€í•˜ê¸°
                            </button>
                        </div>
                    </div>

                    <!-- ëŒ€ì•ˆ ì¶”ê°€ í¼ (ìˆ¨ê¹€ ìƒíƒœ) -->
                    <div id="alternative-form" style="display: none; margin-top: 1.5rem; padding: 1.5rem; background: #f8fafc; border-radius: 8px; border: 1px solid #e5e7eb;">
                        <h4 style="color: #1f2937; margin-bottom: 1rem;">ìƒˆ ëŒ€ì•ˆ ì¶”ê°€</h4>
                        <div style="display: grid; gap: 1rem;">
                            <div>
                                <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: #374151;">ëŒ€ì•ˆëª… *</label>
                                <input type="text" id="alternative-name" placeholder="ì˜ˆ: ëŒ€ì•ˆ A" 
                                       style="width: 100%; padding: 0.75rem; border: 1px solid #d1d5db; border-radius: 6px; font-size: 1rem;">
                            </div>
                            <div>
                                <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: #374151;">ì„¤ëª… (ì„ íƒì‚¬í•­)</label>
                                <textarea id="alternative-description" placeholder="ëŒ€ì•ˆì— ëŒ€í•œ ìì„¸í•œ ì„¤ëª…ì„ ì…ë ¥í•˜ì„¸ìš”" 
                                          style="width: 100%; padding: 0.75rem; border: 1px solid #d1d5db; border-radius: 6px; font-size: 1rem; min-height: 80px; resize: vertical;"></textarea>
                            </div>
                            <div style="display: flex; gap: 1rem; margin-top: 1rem;">
                                <button onclick="saveAlternative()" style="background: #3b82f6; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer; font-weight: 600;">
                                    âœ… ì €ì¥
                                </button>
                                <button onclick="cancelAlternativeForm()" style="background: #6b7280; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer;">
                                    âŒ ì·¨ì†Œ
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function generateHierarchyTabContent() {
            return `
                <div id="hierarchy-tab-content">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                        <h3 style="color: #1f2937; margin: 0;">ğŸ—ï¸ ê³„ì¸µêµ¬ì¡° ì‹œê°í™”</h3>
                        <div style="display: flex; gap: 1rem;">
                            <button onclick="autoLayoutHierarchy()" style="background: #8b5cf6; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer;">
                                ğŸ”„ ìë™ ì •ë ¬
                            </button>
                            <button onclick="exportHierarchy()" style="background: #f59e0b; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer;">
                                ğŸ’¾ ë‚´ë³´ë‚´ê¸°
                            </button>
                        </div>
                    </div>

                    <div id="hierarchy-visualization" style="background: #f8fafc; padding: 2rem; border-radius: 8px; min-height: 400px; border: 1px solid #e5e7eb;">
                        <div style="text-align: center; padding: 2rem;">
                            <div style="font-size: 3rem; margin-bottom: 1rem;">ğŸ—ï¸</div>
                            <h4 style="color: #374151; margin-bottom: 1rem;">ê³„ì¸µêµ¬ì¡°ë¥¼ ìƒì„±í•´ì£¼ì„¸ìš”</h4>
                            <p style="color: #6b7280;">
                                ë¨¼ì € í‰ê°€ ê¸°ì¤€ê³¼ ëŒ€ì•ˆì„ ì¶”ê°€í•œ í›„<br>
                                ê³„ì¸µêµ¬ì¡°ë¥¼ ì‹œê°í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                            </p>
                        </div>
                    </div>
                </div>
            `;
        }

        function generateSettingsTabContent() {
            return `
                <div id="settings-tab-content">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                        <h3 style="color: #1f2937; margin: 0;">âš™ï¸ ëª¨ë¸ ì„¤ì •</h3>
                        <button onclick="resetModelSettings()" style="background: #ef4444; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer;">
                            ğŸ”„ ì„¤ì • ì´ˆê¸°í™”
                        </button>
                    </div>

                    <div style="display: grid; gap: 2rem;">
                        <!-- ê¸°ë³¸ ì„¤ì • -->
                        <div style="background: white; padding: 1.5rem; border-radius: 8px; border: 1px solid #e5e7eb;">
                            <h4 style="color: #1f2937; margin-bottom: 1rem;">ğŸ¯ ê¸°ë³¸ ì„¤ì •</h4>
                            <div style="display: grid; gap: 1rem;">
                                <div>
                                    <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: #374151;">ëª¨ë¸ëª…</label>
                                    <input type="text" id="model-name" placeholder="ìƒˆ AHP ëª¨ë¸" 
                                           style="width: 100%; padding: 0.75rem; border: 1px solid #d1d5db; border-radius: 6px;">
                                </div>
                                <div>
                                    <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: #374151;">ëª©í‘œ/ëª©ì </label>
                                    <textarea id="model-objective" placeholder="ì´ AHP ëª¨ë¸ì˜ ëª©í‘œë¥¼ ì„¤ëª…í•´ì£¼ì„¸ìš”" 
                                              style="width: 100%; padding: 0.75rem; border: 1px solid #d1d5db; border-radius: 6px; min-height: 80px; resize: vertical;"></textarea>
                                </div>
                            </div>
                        </div>

                        <!-- AHP ì„¤ì • -->
                        <div style="background: white; padding: 1.5rem; border-radius: 8px; border: 1px solid #e5e7eb;">
                            <h4 style="color: #1f2937; margin-bottom: 1rem;">âš–ï¸ AHP ë¶„ì„ ì„¤ì •</h4>
                            <div style="display: grid; gap: 1rem;">
                                <div>
                                    <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: #374151;">ì¼ê´€ì„± ì„ê³„ê°’</label>
                                    <select id="consistency-threshold" style="width: 100%; padding: 0.75rem; border: 1px solid #d1d5db; border-radius: 6px;">
                                        <option value="0.1">0.1 (í‘œì¤€)</option>
                                        <option value="0.15">0.15 (ê´€ëŒ€)</option>
                                        <option value="0.05">0.05 (ì—„ê²©)</option>
                                    </select>
                                </div>
                                <div>
                                    <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: #374151;">ê°€ì¤‘ì¹˜ ê³„ì‚° ë°©ë²•</label>
                                    <select id="weight-method" style="width: 100%; padding: 0.75rem; border: 1px solid #d1d5db; border-radius: 6px;">
                                        <option value="geometric">ê¸°í•˜í‰ê· ë²• (ê¶Œì¥)</option>
                                        <option value="eigenvalue">ê³ ìœ ë²¡í„°ë²•</option>
                                        <option value="arithmetic">ì‚°ìˆ í‰ê· ë²•</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <!-- ì €ì¥ ë° ì ìš© -->
                        <div style="display: flex; gap: 1rem;">
                            <button onclick="saveModelSettings()" style="background: #10b981; color: white; border: none; padding: 1rem 2rem; border-radius: 6px; cursor: pointer; font-weight: 600; flex: 1;">
                                âœ… ì„¤ì • ì €ì¥
                            </button>
                            <button onclick="previewModel()" style="background: #3b82f6; color: white; border: none; padding: 1rem 2rem; border-radius: 6px; cursor: pointer; flex: 1;">
                                ğŸ‘ï¸ ëª¨ë¸ ë¯¸ë¦¬ë³´ê¸°
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        /**
         * íƒ­ ì „í™˜ í•¨ìˆ˜
         */
        function switchModelTab(tabName) {
            console.log(`ğŸ—ï¸ ëª¨ë¸ íƒ­ ì „í™˜: ${tabName}`);
            
            // ëª¨ë“  íƒ­ ë²„íŠ¼ ìŠ¤íƒ€ì¼ ì´ˆê¸°í™”
            const tabButtons = ['criteria', 'alternatives', 'evaluation', 'hierarchy', 'settings'];
            tabButtons.forEach(tab => {
                const button = document.getElementById(`model-tab-${tab}`);
                if (button) {
                    button.style.color = '#6b7280';
                    button.style.borderBottom = '2px solid transparent';
                    button.style.fontWeight = 'normal';
                }
            });
            
            // ì„ íƒëœ íƒ­ ë²„íŠ¼ í™œì„±í™”
            const activeButton = document.getElementById(`model-tab-${tabName}`);
            if (activeButton) {
                activeButton.style.color = '#3b82f6';
                activeButton.style.borderBottom = '2px solid #3b82f6';
                activeButton.style.fontWeight = '600';
            }
            
            // íƒ­ ì½˜í…ì¸  ë³€ê²½
            const contentContainer = document.getElementById('model-tab-content');
            if (contentContainer) {
                switch(tabName) {
                    case 'criteria':
                        contentContainer.innerHTML = generateCriteriaTabContent();
                        break;
                    case 'alternatives':
                        contentContainer.innerHTML = generateAlternativesTabContent();
                        break;
                    case 'evaluation':
                        contentContainer.innerHTML = generateEvaluationTabContent();
                        initializeEvaluationTab();
                        break;
                    case 'hierarchy':
                        contentContainer.innerHTML = generateHierarchyTabContent();
                        updateHierarchyVisualization();
                        break;
                    case 'settings':
                        contentContainer.innerHTML = generateSettingsTabContent();
                        loadModelSettings();
                        break;
                }
            }
        }

        /**
         * ëª¨ë¸ ë°ì´í„° ê´€ë¦¬ í•¨ìˆ˜ë“¤
         */
        let currentModelData = {
            criteria: [],
            alternatives: [],
            settings: {
                name: 'ìƒˆ AHP ëª¨ë¸',
                objective: '',
                consistencyThreshold: 0.1,
                weightMethod: 'geometric'
            }
        };

        function loadModelData() {
            console.log('ğŸ“Š ëª¨ë¸ ë°ì´í„° ë¡œë“œ');
            // ì‹¤ì œ êµ¬í˜„ì—ì„œëŠ” APIì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜´
            updateModelStatus();
        }

        function updateModelStatus() {
            const criteriaCount = currentModelData.criteria.length;
            const alternativesCount = currentModelData.alternatives.length;
            const completion = calculateModelCompletion();
            const isValid = criteriaCount >= 2 && alternativesCount >= 2;
            
            // UI ì—…ë°ì´íŠ¸
            const criteriaCountEl = document.getElementById('criteria-count');
            const alternativesCountEl = document.getElementById('alternatives-count');
            const completionEl = document.getElementById('model-completion');
            const statusEl = document.getElementById('model-status');
            
            if (criteriaCountEl) criteriaCountEl.textContent = criteriaCount;
            if (alternativesCountEl) alternativesCountEl.textContent = alternativesCount;
            if (completionEl) completionEl.textContent = completion + '%';
            if (statusEl) statusEl.textContent = isValid ? 'âœ…' : 'âŒ';
        }

        function calculateModelCompletion() {
            const hasBasicData = currentModelData.criteria.length >= 2 && currentModelData.alternatives.length >= 2;
            const hasSettings = currentModelData.settings.name && currentModelData.settings.objective;
            
            let completion = 0;
            if (currentModelData.criteria.length > 0) completion += 25;
            if (currentModelData.alternatives.length > 0) completion += 25;
            if (hasBasicData) completion += 25;
            if (hasSettings) completion += 25;
            
            return completion;
        }

        /**
         * ê¸°ì¤€ ê´€ë¦¬ í•¨ìˆ˜ë“¤
         */
        function addRootCriterion() {
            console.log('ğŸ“Š ì£¼ê¸°ì¤€ ì¶”ê°€ í¼ í‘œì‹œ');
            const form = document.getElementById('criterion-form');
            if (form) {
                form.style.display = 'block';
                document.getElementById('criterion-name').focus();
            }
        }

        function saveCriterion() {
            const name = document.getElementById('criterion-name').value.trim();
            const description = document.getElementById('criterion-description').value.trim();
            
            if (!name) {
                alert('ê¸°ì¤€ëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            // ìƒˆ ê¸°ì¤€ ì¶”ê°€
            const newCriterion = {
                id: `criterion_${Date.now()}`,
                name: name,
                description: description,
                level: 1,
                children: []
            };
            
            currentModelData.criteria.push(newCriterion);
            
            // í¼ ì´ˆê¸°í™” ë° ìˆ¨ê¹€
            document.getElementById('criterion-name').value = '';
            document.getElementById('criterion-description').value = '';
            document.getElementById('criterion-form').style.display = 'none';
            
            // UI ì—…ë°ì´íŠ¸
            renderCriteriaList();
            updateModelStatus();
            
            console.log('âœ… ê¸°ì¤€ ì¶”ê°€ë¨:', newCriterion);
        }

        function cancelCriterionForm() {
            document.getElementById('criterion-name').value = '';
            document.getElementById('criterion-description').value = '';
            document.getElementById('criterion-form').style.display = 'none';
        }

        function renderCriteriaList() {
            const container = document.getElementById('criteria-hierarchy-container');
            if (!container) return;
            
            if (currentModelData.criteria.length === 0) {
                container.innerHTML = `
                    <div style="background: #f8fafc; padding: 2rem; border-radius: 8px; text-align: center; border: 2px dashed #d1d5db;">
                        <div style="font-size: 3rem; margin-bottom: 1rem;">ğŸ“Š</div>
                        <h4 style="color: #374151; margin-bottom: 1rem;">í‰ê°€ ê¸°ì¤€ì´ ì—†ìŠµë‹ˆë‹¤</h4>
                        <p style="color: #6b7280; margin-bottom: 2rem;">
                            AHP ë¶„ì„ì„ ìœ„í•œ í‰ê°€ ê¸°ì¤€ì„ ì¶”ê°€í•´ì£¼ì„¸ìš”.<br>
                            ìµœì†Œ 2ê°œ ì´ìƒì˜ ê¸°ì¤€ì´ í•„ìš”í•©ë‹ˆë‹¤.
                        </p>
                        <button onclick="addRootCriterion()" style="background: #C8A968; color: white; border: none; padding: 1rem 2rem; border-radius: 8px; cursor: pointer; font-size: 1rem;">
                            ì²« ë²ˆì§¸ ê¸°ì¤€ ì¶”ê°€í•˜ê¸°
                        </button>
                    </div>
                `;
            } else {
                const criteriaHtml = currentModelData.criteria.map((criterion, index) => `
                    <div style="background: white; border: 1px solid #e5e7eb; border-radius: 8px; padding: 1.5rem; margin-bottom: 1rem;">
                        <div style="display: flex; justify-content: space-between; align-items: start;">
                            <div style="flex: 1;">
                                <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;">
                                    <span style="background: #3b82f6; color: white; padding: 0.25rem 0.5rem; border-radius: 4px; font-size: 0.8rem; font-weight: 600;">
                                        ê¸°ì¤€ ${index + 1}
                                    </span>
                                    <h4 style="color: #1f2937; margin: 0; font-size: 1.1rem;">${criterion.name}</h4>
                                </div>
                                ${criterion.description ? `<p style="color: #6b7280; margin: 0; font-size: 0.9rem;">${criterion.description}</p>` : ''}
                            </div>
                            <div style="display: flex; gap: 0.5rem; margin-left: 1rem;">
                                <button onclick="editCriterion('${criterion.id}')" style="background: #f59e0b; color: white; border: none; padding: 0.5rem; border-radius: 4px; cursor: pointer; font-size: 0.8rem;">
                                    âœï¸
                                </button>
                                <button onclick="deleteCriterion('${criterion.id}')" style="background: #ef4444; color: white; border: none; padding: 0.5rem; border-radius: 4px; cursor: pointer; font-size: 0.8rem;">
                                    ğŸ—‘ï¸
                                </button>
                            </div>
                        </div>
                    </div>
                `).join('');
                
                container.innerHTML = criteriaHtml;
            }
        }

        /**
         * ëŒ€ì•ˆ ê´€ë¦¬ í•¨ìˆ˜ë“¤
         */
        function addAlternative() {
            console.log('ğŸ¯ ëŒ€ì•ˆ ì¶”ê°€ í¼ í‘œì‹œ');
            const form = document.getElementById('alternative-form');
            if (form) {
                form.style.display = 'block';
                document.getElementById('alternative-name').focus();
            }
        }

        function saveAlternative() {
            const name = document.getElementById('alternative-name').value.trim();
            const description = document.getElementById('alternative-description').value.trim();
            
            if (!name) {
                alert('ëŒ€ì•ˆëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            // ìƒˆ ëŒ€ì•ˆ ì¶”ê°€
            const newAlternative = {
                id: `alternative_${Date.now()}`,
                name: name,
                description: description
            };
            
            currentModelData.alternatives.push(newAlternative);
            
            // í¼ ì´ˆê¸°í™” ë° ìˆ¨ê¹€
            document.getElementById('alternative-name').value = '';
            document.getElementById('alternative-description').value = '';
            document.getElementById('alternative-form').style.display = 'none';
            
            // UI ì—…ë°ì´íŠ¸
            renderAlternativesList();
            updateModelStatus();
            
            console.log('âœ… ëŒ€ì•ˆ ì¶”ê°€ë¨:', newAlternative);
        }

        function cancelAlternativeForm() {
            document.getElementById('alternative-name').value = '';
            document.getElementById('alternative-description').value = '';
            document.getElementById('alternative-form').style.display = 'none';
        }

        function renderAlternativesList() {
            const container = document.getElementById('alternatives-container');
            if (!container) return;
            
            if (currentModelData.alternatives.length === 0) {
                container.innerHTML = `
                    <div style="background: #f8fafc; padding: 2rem; border-radius: 8px; text-align: center; border: 2px dashed #d1d5db;">
                        <div style="font-size: 3rem; margin-bottom: 1rem;">ğŸ¯</div>
                        <h4 style="color: #374151; margin-bottom: 1rem;">ëŒ€ì•ˆì´ ì—†ìŠµë‹ˆë‹¤</h4>
                        <p style="color: #6b7280; margin-bottom: 2rem;">
                            ë¹„êµ í‰ê°€í•  ëŒ€ì•ˆë“¤ì„ ì¶”ê°€í•´ì£¼ì„¸ìš”.<br>
                            ìµœì†Œ 2ê°œ ì´ìƒì˜ ëŒ€ì•ˆì´ í•„ìš”í•©ë‹ˆë‹¤.
                        </p>
                        <button onclick="addAlternative()" style="background: #C8A968; color: white; border: none; padding: 1rem 2rem; border-radius: 8px; cursor: pointer; font-size: 1rem;">
                            ì²« ë²ˆì§¸ ëŒ€ì•ˆ ì¶”ê°€í•˜ê¸°
                        </button>
                    </div>
                `;
            } else {
                const alternativesHtml = currentModelData.alternatives.map((alternative, index) => `
                    <div style="background: white; border: 1px solid #e5e7eb; border-radius: 8px; padding: 1.5rem; margin-bottom: 1rem;">
                        <div style="display: flex; justify-content: space-between; align-items: start;">
                            <div style="flex: 1;">
                                <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;">
                                    <span style="background: #10b981; color: white; padding: 0.25rem 0.5rem; border-radius: 4px; font-size: 0.8rem; font-weight: 600;">
                                        ëŒ€ì•ˆ ${index + 1}
                                    </span>
                                    <h4 style="color: #1f2937; margin: 0; font-size: 1.1rem;">${alternative.name}</h4>
                                </div>
                                ${alternative.description ? `<p style="color: #6b7280; margin: 0; font-size: 0.9rem;">${alternative.description}</p>` : ''}
                            </div>
                            <div style="display: flex; gap: 0.5rem; margin-left: 1rem;">
                                <button onclick="editAlternative('${alternative.id}')" style="background: #f59e0b; color: white; border: none; padding: 0.5rem; border-radius: 4px; cursor: pointer; font-size: 0.8rem;">
                                    âœï¸
                                </button>
                                <button onclick="deleteAlternative('${alternative.id}')" style="background: #ef4444; color: white; border: none; padding: 0.5rem; border-radius: 4px; cursor: pointer; font-size: 0.8rem;">
                                    ğŸ—‘ï¸
                                </button>
                            </div>
                        </div>
                    </div>
                `).join('');
                
                container.innerHTML = alternativesHtml;
            }
        }

        /**
         * ê¸°íƒ€ ëª¨ë¸ ê´€ë¦¬ í•¨ìˆ˜ë“¤
         */
        function createNewModel() {
            console.log('ğŸ†• ìƒˆ ëª¨ë¸ ìƒì„±');
            if (confirm('í˜„ì¬ ì‘ì—… ì¤‘ì¸ ëª¨ë¸ì„ ì´ˆê¸°í™”í•˜ê³  ìƒˆ ëª¨ë¸ì„ ìƒì„±í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                currentModelData = {
                    criteria: [],
                    alternatives: [],
                    settings: {
                        name: 'ìƒˆ AHP ëª¨ë¸',
                        objective: '',
                        consistencyThreshold: 0.1,
                        weightMethod: 'geometric'
                    }
                };
                updateModelStatus();
                alert('ìƒˆ ëª¨ë¸ì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.');
            }
        }

        function loadModelTemplate() {
            console.log('ğŸ“‹ ëª¨ë¸ í…œí”Œë¦¿ ì„ íƒ');
            alert('ëª¨ë¸ í…œí”Œë¦¿ ê¸°ëŠ¥ì€ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.');
        }

        function validateModel() {
            console.log('âœ… ëª¨ë¸ ê²€ì¦ ì‹¤í–‰');
            const criteriaCount = currentModelData.criteria.length;
            const alternativesCount = currentModelData.alternatives.length;
            
            if (criteriaCount < 2) {
                alert('ìµœì†Œ 2ê°œ ì´ìƒì˜ í‰ê°€ ê¸°ì¤€ì´ í•„ìš”í•©ë‹ˆë‹¤.');
                return;
            }
            
            if (alternativesCount < 2) {
                alert('ìµœì†Œ 2ê°œ ì´ìƒì˜ ëŒ€ì•ˆì´ í•„ìš”í•©ë‹ˆë‹¤.');
                return;
            }
            
            alert('âœ… ëª¨ë¸ ê²€ì¦ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!\nAHP ë¶„ì„ì„ ì‹œì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.');
        }

        function updateHierarchyVisualization() {
            console.log('ğŸ—ï¸ ê³„ì¸µêµ¬ì¡° ì‹œê°í™” ì—…ë°ì´íŠ¸');
            // ì‹¤ì œ êµ¬í˜„ì—ì„œëŠ” ê³„ì¸µêµ¬ì¡° ì‹œê°í™” ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©
        }

        function loadModelSettings() {
            console.log('âš™ï¸ ëª¨ë¸ ì„¤ì • ë¡œë“œ');
            // ì„¤ì •ê°’ë“¤ì„ í¼ì— ë¡œë“œ
        }

        function saveModelSettings() {
            console.log('ğŸ’¾ ëª¨ë¸ ì„¤ì • ì €ì¥');
            alert('ëª¨ë¸ ì„¤ì •ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.');
        }

        function previewModel() {
            console.log('ğŸ‘ï¸ ëª¨ë¸ ë¯¸ë¦¬ë³´ê¸°');
            alert('ëª¨ë¸ ë¯¸ë¦¬ë³´ê¸° ê¸°ëŠ¥ì€ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.');
        }

        // í¸ì§‘ ë° ì‚­ì œ í•¨ìˆ˜ë“¤ (ìŠ¤í…)
        function editCriterion(id) { alert('ê¸°ì¤€ í¸ì§‘ ê¸°ëŠ¥ì€ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.'); }
        function deleteCriterion(id) { 
            if (confirm('ì´ ê¸°ì¤€ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                currentModelData.criteria = currentModelData.criteria.filter(c => c.id !== id);
                renderCriteriaList();
                updateModelStatus();
            }
        }
        function editAlternative(id) { alert('ëŒ€ì•ˆ í¸ì§‘ ê¸°ëŠ¥ì€ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.'); }
        function deleteAlternative(id) { 
            if (confirm('ì´ ëŒ€ì•ˆì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                currentModelData.alternatives = currentModelData.alternatives.filter(a => a.id !== id);
                renderAlternativesList();
                updateModelStatus();
            }
        }
        function autoLayoutHierarchy() { alert('ìë™ ì •ë ¬ ê¸°ëŠ¥ì€ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.'); }
        function exportHierarchy() { alert('ë‚´ë³´ë‚´ê¸° ê¸°ëŠ¥ì€ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.'); }
        function resetModelSettings() { 
            if (confirm('ëª¨ë¸ ì„¤ì •ì„ ì´ˆê¸°í™”í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                alert('ì„¤ì •ì´ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.'); 
            }
        }

        // =========================
        // í‰ê°€ ê´€ë ¨ í•¨ìˆ˜ë“¤
        // =========================

        // ì „ì—­ í‰ê°€ ì„¤ì •
        let currentEvaluationMethod = 'pairwise';
        let currentPairwiseMode = 'practical';
        let evaluationData = {
            pairwiseComparisons: {},
            directInputValues: {},
            consistencyRatios: {}
        };

        /**
         * í‰ê°€ ë°©ë²• ì„ íƒ
         */
        function selectEvaluationMethod(method) {
            currentEvaluationMethod = method;
            console.log(`ğŸ¯ í‰ê°€ ë°©ë²• ì„ íƒ: ${method}`);
            
            // UI ì—…ë°ì´íŠ¸ (null ì²´í¬ ì¶”ê°€)
            const pairwiseCard = document.getElementById('eval-method-pairwise');
            const directCard = document.getElementById('eval-method-direct');
            
            if (!pairwiseCard || !directCard) {
                console.warn('âš ï¸ Evaluation method cards not found');
                return;
            }
            
            if (method === 'pairwise') {
                pairwiseCard.style.border = '2px solid #3b82f6';
                pairwiseCard.style.background = '#eff6ff';
                directCard.style.border = '2px solid #e5e7eb';
                directCard.style.background = 'white';
            } else {
                directCard.style.border = '2px solid #10b981';
                directCard.style.background = '#f0fdf4';
                pairwiseCard.style.border = '2px solid #e5e7eb';
                pairwiseCard.style.background = 'white';
            }
            
            // í‰ê°€ íƒ­ì´ í™œì„±í™”ë˜ì–´ ìˆìœ¼ë©´ ì½˜í…ì¸  ìƒˆë¡œê³ ì¹¨
            const evaluationTab = document.getElementById('model-tab-evaluation');
            if (evaluationTab && evaluationTab.style.color === 'rgb(59, 130, 246)') {
                switchModelTab('evaluation');
            }
        }

        /**
         * ìŒëŒ€ë¹„êµ ëª¨ë“œ ì„ íƒ
         */
        function selectPairwiseMode(mode) {
            currentPairwiseMode = mode;
            console.log(`âš–ï¸ ìŒëŒ€ë¹„êµ ëª¨ë“œ: ${mode}`);
            selectEvaluationMethod('pairwise');
        }

        /**
         * í‰ê°€ ì‹¤í–‰ íƒ­ ì½˜í…ì¸  ìƒì„±
         */
        function generateEvaluationTabContent() {
            if (currentModelData.criteria.length < 2) {
                return `
                    <div style="text-align: center; padding: 3rem; background: #fef3cd; border: 2px dashed #f59e0b; border-radius: 8px;">
                        <div style="font-size: 3rem; margin-bottom: 1rem;">âš ï¸</div>
                        <h3 style="color: #92400e; margin-bottom: 1rem;">í‰ê°€ë¥¼ ì‹œì‘í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤</h3>
                        <p style="color: #92400e; margin-bottom: 2rem;">
                            í‰ê°€ë¥¼ ìˆ˜í–‰í•˜ë ¤ë©´ ìµœì†Œ 2ê°œ ì´ìƒì˜ ê¸°ì¤€ì´ í•„ìš”í•©ë‹ˆë‹¤.<br>
                            ë¨¼ì € "í‰ê°€ ê¸°ì¤€" íƒ­ì—ì„œ ê¸°ì¤€ì„ ì¶”ê°€í•´ì£¼ì„¸ìš”.
                        </p>
                        <button onclick="switchModelTab('criteria')" style="background: #f59e0b; color: white; border: none; padding: 1rem 2rem; border-radius: 8px; cursor: pointer; font-size: 1rem;">
                            ê¸°ì¤€ ì„¤ì •í•˜ê¸°
                        </button>
                    </div>
                `;
            }

            if (currentModelData.alternatives.length < 2) {
                return `
                    <div style="text-align: center; padding: 3rem; background: #fef3cd; border: 2px dashed #f59e0b; border-radius: 8px;">
                        <div style="font-size: 3rem; margin-bottom: 1rem;">âš ï¸</div>
                        <h3 style="color: #92400e; margin-bottom: 1rem;">í‰ê°€ë¥¼ ì‹œì‘í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤</h3>
                        <p style="color: #92400e; margin-bottom: 2rem;">
                            í‰ê°€ë¥¼ ìˆ˜í–‰í•˜ë ¤ë©´ ìµœì†Œ 2ê°œ ì´ìƒì˜ ëŒ€ì•ˆì´ í•„ìš”í•©ë‹ˆë‹¤.<br>
                            ë¨¼ì € "ëŒ€ì•ˆ" íƒ­ì—ì„œ ëŒ€ì•ˆì„ ì¶”ê°€í•´ì£¼ì„¸ìš”.
                        </p>
                        <button onclick="switchModelTab('alternatives')" style="background: #f59e0b; color: white; border: none; padding: 1rem 2rem; border-radius: 8px; cursor: pointer; font-size: 1rem;">
                            ëŒ€ì•ˆ ì„¤ì •í•˜ê¸°
                        </button>
                    </div>
                `;
            }

            return `
                <div id="evaluation-content">
                    <div style="display: flex; justify-content: between; align-items: center; margin-bottom: 2rem;">
                        <h3 style="color: #1f2937; margin: 0;">âš–ï¸ í‰ê°€ ì‹¤í–‰</h3>
                        <div style="display: flex; gap: 1rem;">
                            <span style="background: #eff6ff; color: #1e40af; padding: 0.5rem 1rem; border-radius: 6px; font-size: 0.9rem;">
                                ì„ íƒëœ ë°©ë²•: ${currentEvaluationMethod === 'pairwise' ? `ìŒëŒ€ë¹„êµ (${currentPairwiseMode === 'practical' ? 'ì‹¤ìš©í˜•' : 'ì´ë¡ í˜•'})` : 'ì§ì ‘ì…ë ¥'}
                            </span>
                        </div>
                    </div>

                    ${currentEvaluationMethod === 'pairwise' ? generatePairwiseEvaluationContent() : generateDirectInputEvaluationContent()}
                </div>
            `;
        }

        /**
         * ìŒëŒ€ë¹„êµ í‰ê°€ ì½˜í…ì¸  ìƒì„±
         */
        function generatePairwiseEvaluationContent() {
            return `
                <div id="pairwise-evaluation">
                    <div style="background: #f8fafc; padding: 1.5rem; border-radius: 8px; margin-bottom: 2rem; border-left: 4px solid #3b82f6;">
                        <h4 style="color: #1e40af; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem;">
                            <span>âš–ï¸</span>
                            ìŒëŒ€ë¹„êµ í‰ê°€ (${currentPairwiseMode === 'practical' ? 'ì‹¤ìš©í˜•' : 'ì´ë¡ í˜•'})
                        </h4>
                        <p style="color: #1e40af; margin-bottom: 1rem; font-size: 0.9rem;">
                            ${currentPairwiseMode === 'practical' 
                                ? 'ì‹¤ë¬´ì— ìµœì í™”ëœ ìµœì†Œí•œì˜ ìŒëŒ€ë¹„êµë¥¼ í†µí•´ íš¨ìœ¨ì ìœ¼ë¡œ ì¤‘ìš”ë„ë¥¼ ë„ì¶œí•©ë‹ˆë‹¤.'
                                : 'ì´ë¡ ì ìœ¼ë¡œ ì™„ì „í•œ ëª¨ë“  ìŒëŒ€ë¹„êµë¥¼ ì‹¤ì‹œí•˜ì—¬ ì •í™•í•œ ì¤‘ìš”ë„ë¥¼ ë„ì¶œí•©ë‹ˆë‹¤.'
                            }
                        </p>
                        <div style="display: flex; gap: 1rem;">
                            <button onclick="startCriteriaComparison()" style="background: #3b82f6; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer;">
                                ğŸ“Š ê¸°ì¤€ ê°„ ë¹„êµ ì‹œì‘
                            </button>
                            <button onclick="startAlternativesComparison()" style="background: #10b981; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer;" ${currentModelData.criteria.length === 0 ? 'disabled' : ''}>
                                ğŸ¯ ëŒ€ì•ˆ ë¹„êµ ì‹œì‘
                            </button>
                        </div>
                    </div>

                    <!-- ìŒëŒ€ë¹„êµ ì§„í–‰ ìƒí™© -->
                    <div id="pairwise-progress" style="background: white; border: 1px solid #e5e7eb; border-radius: 8px; padding: 1.5rem;">
                        <h5 style="color: #1f2937; margin-bottom: 1rem;">ğŸ“ˆ í‰ê°€ ì§„í–‰ ìƒí™©</h5>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
                            <div style="text-align: center; padding: 1rem; background: #f8fafc; border-radius: 6px;">
                                <div style="font-size: 1.2rem; font-weight: bold; color: #3b82f6;" id="criteria-comparison-progress">0%</div>
                                <div style="font-size: 0.8rem; color: #6b7280;">ê¸°ì¤€ ë¹„êµ ì§„í–‰ë¥ </div>
                            </div>
                            <div style="text-align: center; padding: 1rem; background: #f8fafc; border-radius: 6px;">
                                <div style="font-size: 1.2rem; font-weight: bold; color: #10b981;" id="alternatives-comparison-progress">0%</div>
                                <div style="font-size: 0.8rem; color: #6b7280;">ëŒ€ì•ˆ ë¹„êµ ì§„í–‰ë¥ </div>
                            </div>
                            <div style="text-align: center; padding: 1rem; background: #f8fafc; border-radius: 6px;">
                                <div style="font-size: 1.2rem; font-weight: bold; color: #f59e0b;" id="consistency-ratio">-</div>
                                <div style="font-size: 0.8rem; color: #6b7280;">ì¼ê´€ì„± ë¹„ìœ¨ (CR)</div>
                            </div>
                        </div>
                    </div>

                    <!-- ìŒëŒ€ë¹„êµ ë§¤íŠ¸ë¦­ìŠ¤ ì˜ì—­ -->
                    <div id="pairwise-matrix-container" style="margin-top: 2rem;">
                        <!-- ë™ì ìœ¼ë¡œ ìƒì„±ë¨ -->
                    </div>
                </div>
            `;
        }

        /**
         * ì§ì ‘ì…ë ¥ í‰ê°€ ì½˜í…ì¸  ìƒì„±
         */
        function generateDirectInputEvaluationContent() {
            return `
                <div id="direct-input-evaluation">
                    <div style="background: #f0fdf4; padding: 1.5rem; border-radius: 8px; margin-bottom: 2rem; border-left: 4px solid #10b981;">
                        <h4 style="color: #065f46; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem;">
                            <span>ğŸ“Š</span>
                            ì§ì ‘ì…ë ¥ í‰ê°€
                        </h4>
                        <p style="color: #065f46; margin-bottom: 1rem; font-size: 0.9rem;">
                            ê¸°ì¡´ ë°ì´í„°ë‚˜ ì „ë¬¸ê°€ íŒë‹¨ì„ ì§ì ‘ ì…ë ¥í•˜ì—¬ ì¤‘ìš”ë„ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤. ì‹œìŠ¤í…œì´ ìë™ìœ¼ë¡œ ê°€ì¤‘ì¹˜ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤.
                        </p>
                        <div style="display: flex; gap: 1rem;">
                            <button onclick="startDirectInputForCriteria()" style="background: #10b981; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer;">
                                ğŸ“Š ê¸°ì¤€ ê°€ì¤‘ì¹˜ ì…ë ¥
                            </button>
                            <button onclick="startDirectInputForAlternatives()" style="background: #059669; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer;" ${currentModelData.criteria.length === 0 ? 'disabled' : ''}>
                                ğŸ¯ ëŒ€ì•ˆë³„ ì ìˆ˜ ì…ë ¥
                            </button>
                        </div>
                    </div>

                    <!-- ì§ì ‘ì…ë ¥ ì§„í–‰ ìƒí™© -->
                    <div style="background: white; border: 1px solid #e5e7eb; border-radius: 8px; padding: 1.5rem;">
                        <h5 style="color: #1f2937; margin-bottom: 1rem;">ğŸ“ˆ ì…ë ¥ ì§„í–‰ ìƒí™©</h5>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
                            <div style="text-align: center; padding: 1rem; background: #f0fdf4; border-radius: 6px;">
                                <div style="font-size: 1.2rem; font-weight: bold; color: #10b981;" id="criteria-weights-progress">0%</div>
                                <div style="font-size: 0.8rem; color: #6b7280;">ê¸°ì¤€ ê°€ì¤‘ì¹˜ ì…ë ¥ë¥ </div>
                            </div>
                            <div style="text-align: center; padding: 1rem; background: #f0fdf4; border-radius: 6px;">
                                <div style="font-size: 1.2rem; font-weight: bold; color: #059669;" id="alternatives-scores-progress">0%</div>
                                <div style="font-size: 0.8rem; color: #6b7280;">ëŒ€ì•ˆ ì ìˆ˜ ì…ë ¥ë¥ </div>
                            </div>
                        </div>
                    </div>

                    <!-- ì§ì ‘ì…ë ¥ í¼ ì˜ì—­ -->
                    <div id="direct-input-form-container" style="margin-top: 2rem;">
                        <!-- ë™ì ìœ¼ë¡œ ìƒì„±ë¨ -->
                    </div>
                </div>
            `;
        }

        /**
         * í‰ê°€ íƒ­ ì´ˆê¸°í™”
         */
        function initializeEvaluationTab() {
            console.log('âš–ï¸ í‰ê°€ íƒ­ ì´ˆê¸°í™”');
            updateEvaluationProgress();
        }

        /**
         * í‰ê°€ ì§„í–‰ ìƒí™© ì—…ë°ì´íŠ¸
         */
        function updateEvaluationProgress() {
            // ì§„í–‰ë¥  ê³„ì‚° ë° UI ì—…ë°ì´íŠ¸ ë¡œì§
            console.log('ğŸ“Š í‰ê°€ ì§„í–‰ ìƒí™© ì—…ë°ì´íŠ¸');
        }

        /**
         * ê¸°ì¤€ ê°„ ìŒëŒ€ë¹„êµ ì‹œì‘
         */
        function startCriteriaComparison() {
            console.log('ğŸ“Š ê¸°ì¤€ ê°„ ìŒëŒ€ë¹„êµ ì‹œì‘');
            
            const container = document.getElementById('pairwise-matrix-container');
            if (container) {
                container.innerHTML = generatePairwiseMatrix(currentModelData.criteria, 'criteria');
            }
        }

        /**
         * ëŒ€ì•ˆ ë¹„êµ ì‹œì‘
         */
        function startAlternativesComparison() {
            console.log('ğŸ¯ ëŒ€ì•ˆ ë¹„êµ ì‹œì‘');
            
            // ê° ê¸°ì¤€ì— ëŒ€í•´ ëŒ€ì•ˆ ê°„ ë¹„êµ ìˆ˜í–‰
            const container = document.getElementById('pairwise-matrix-container');
            if (container) {
                container.innerHTML = generateAlternativesComparisonInterface();
            }
        }

        /**
         * ìŒëŒ€ë¹„êµ ë§¤íŠ¸ë¦­ìŠ¤ ìƒì„±
         */
        function generatePairwiseMatrix(elements, type) {
            if (elements.length < 2) {
                return `
                    <div style="text-align: center; padding: 2rem; background: #fef3cd; border: 2px dashed #f59e0b; border-radius: 8px;">
                        <div style="font-size: 2rem; margin-bottom: 1rem;">âš ï¸</div>
                        <p style="color: #92400e;">ë¹„êµí•  ${type === 'criteria' ? 'ê¸°ì¤€' : 'ëŒ€ì•ˆ'}ì´ ë¶€ì¡±í•©ë‹ˆë‹¤. ìµœì†Œ 2ê°œ ì´ìƒ í•„ìš”í•©ë‹ˆë‹¤.</p>
                    </div>
                `;
            }

            const matrixSize = elements.length;
            const totalComparisons = (matrixSize * (matrixSize - 1)) / 2;

            return `
                <div style="background: white; border: 1px solid #e5e7eb; border-radius: 8px; padding: 1.5rem;">
                    <div style="display: flex; justify-between; align-items: center; margin-bottom: 1.5rem;">
                        <h4 style="color: #1f2937; margin: 0;">${type === 'criteria' ? 'ê¸°ì¤€' : 'ëŒ€ì•ˆ'} ìŒëŒ€ë¹„êµ (${matrixSize}Ã—${matrixSize})</h4>
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <span style="font-size: 0.9rem; color: #6b7280;">ì§„í–‰ë¥ : 0/${totalComparisons}</span>
                            <div style="width: 100px; height: 6px; background: #e5e7eb; border-radius: 3px; overflow: hidden;">
                                <div style="width: 0%; height: 100%; background: #3b82f6; transition: width 0.3s;"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Saaty 9ì  ì²™ë„ ê°€ì´ë“œ -->
                    <div style="background: #f8fafc; padding: 1rem; border-radius: 6px; margin-bottom: 1.5rem;">
                        <h5 style="color: #374151; margin-bottom: 0.5rem; font-size: 0.9rem;">ğŸ“‹ Saaty 9ì  ì²™ë„ ê°€ì´ë“œ</h5>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 0.5rem; font-size: 0.8rem; color: #6b7280;">
                            <div><strong>1:</strong> ë™ë“±</div>
                            <div><strong>3:</strong> ì•½ê°„ ì¤‘ìš”</div>
                            <div><strong>5:</strong> ì¤‘ìš”</div>
                            <div><strong>7:</strong> ë§¤ìš° ì¤‘ìš”</div>
                            <div><strong>9:</strong> ì ˆëŒ€ ì¤‘ìš”</div>
                            <div><strong>2,4,6,8:</strong> ì¤‘ê°„ê°’</div>
                        </div>
                    </div>

                    <!-- ë¹„êµ ë§¤íŠ¸ë¦­ìŠ¤ í…Œì´ë¸” -->
                    <div style="overflow-x: auto;">
                        ${generateMatrixTable(elements, type)}
                    </div>

                    <!-- ì¼ê´€ì„± ê²€ì‚¬ ê²°ê³¼ -->
                    <div id="consistency-result" style="margin-top: 1.5rem; padding: 1rem; background: #f8fafc; border-radius: 6px; display: none;">
                        <h5 style="color: #374151; margin-bottom: 0.5rem;">ğŸ¯ ì¼ê´€ì„± ê²€ì‚¬ ê²°ê³¼</h5>
                        <div id="consistency-details"></div>
                    </div>
                </div>
            `;
        }

        /**
         * ë§¤íŠ¸ë¦­ìŠ¤ í…Œì´ë¸” ìƒì„±
         */
        function generateMatrixTable(elements, type) {
            let tableHtml = `
                <table style="width: 100%; border-collapse: collapse; font-size: 0.9rem;">
                    <thead>
                        <tr style="background: #f9fafb;">
                            <th style="padding: 0.75rem; border: 1px solid #e5e7eb; text-align: center; min-width: 100px;">${type === 'criteria' ? 'ê¸°ì¤€' : 'ëŒ€ì•ˆ'}</th>
            `;

            // í—¤ë” ìƒì„±
            elements.forEach((element, index) => {
                tableHtml += `<th style="padding: 0.75rem; border: 1px solid #e5e7eb; text-align: center; min-width: 80px; font-size: 0.8rem;">${element.name}<br><span style="color: #6b7280;">#${index + 1}</span></th>`;
            });
            tableHtml += '</tr></thead><tbody>';

            // ë§¤íŠ¸ë¦­ìŠ¤ í–‰ ìƒì„±
            elements.forEach((rowElement, i) => {
                tableHtml += `<tr><td style="padding: 0.75rem; border: 1px solid #e5e7eb; background: #f9fafb; font-weight: 600; font-size: 0.8rem;">${rowElement.name}<br><span style="color: #6b7280; font-weight: normal;">#${i + 1}</span></td>`;
                
                elements.forEach((colElement, j) => {
                    if (i === j) {
                        // ëŒ€ê°ì„  (ìê¸° ìì‹ )
                        tableHtml += `<td style="padding: 0.75rem; border: 1px solid #e5e7eb; text-align: center; background: #f3f4f6; color: #6b7280; font-weight: bold;">1</td>`;
                    } else if (i < j) {
                        // ìƒì‚¼ê° (ì…ë ¥ ì˜ì—­)
                        tableHtml += `
                            <td style="padding: 0.5rem; border: 1px solid #e5e7eb; text-align: center;">
                                <select onchange="updateComparison('${type}', ${i}, ${j}, this.value)" 
                                        style="width: 100%; padding: 0.25rem; border: 1px solid #d1d5db; border-radius: 4px; font-size: 0.8rem;">
                                    <option value="1">1 (ë™ë“±)</option>
                                    <option value="2">2</option>
                                    <option value="3">3 (ì•½ê°„ ì¤‘ìš”)</option>
                                    <option value="4">4</option>
                                    <option value="5">5 (ì¤‘ìš”)</option>
                                    <option value="6">6</option>
                                    <option value="7">7 (ë§¤ìš° ì¤‘ìš”)</option>
                                    <option value="8">8</option>
                                    <option value="9">9 (ì ˆëŒ€ ì¤‘ìš”)</option>
                                    <option value="0.5">1/2</option>
                                    <option value="0.33">1/3</option>
                                    <option value="0.25">1/4</option>
                                    <option value="0.2">1/5</option>
                                    <option value="0.17">1/6</option>
                                    <option value="0.14">1/7</option>
                                    <option value="0.13">1/8</option>
                                    <option value="0.11">1/9</option>
                                </select>
                            </td>
                        `;
                    } else {
                        // í•˜ì‚¼ê° (ìë™ ê³„ì‚°ëœ ì—­ìˆ˜)
                        tableHtml += `<td id="matrix-${type}-${i}-${j}" style="padding: 0.75rem; border: 1px solid #e5e7eb; text-align: center; background: #f9fafb; color: #6b7280; font-size: 0.8rem;">1</td>`;
                    }
                });
                tableHtml += '</tr>';
            });

            return tableHtml + '</tbody></table>';
        }

        /**
         * ë¹„êµê°’ ì—…ë°ì´íŠ¸
         */
        function updateComparison(type, i, j, value) {
            const numValue = parseFloat(value);
            const reciprocal = numValue > 0 ? (1 / numValue) : 1;
            
            // ì—­ìˆ˜ ì…€ ì—…ë°ì´íŠ¸
            const reciprocalCell = document.getElementById(`matrix-${type}-${j}-${i}`);
            if (reciprocalCell) {
                reciprocalCell.textContent = reciprocal < 1 ? reciprocal.toFixed(2) : Math.round(reciprocal);
            }

            // í‰ê°€ ë°ì´í„° ì €ì¥
            if (!evaluationData.pairwiseComparisons[type]) {
                evaluationData.pairwiseComparisons[type] = {};
            }
            evaluationData.pairwiseComparisons[type][`${i}-${j}`] = numValue;

            console.log(`ğŸ”„ ë¹„êµ ì—…ë°ì´íŠ¸: ${type} [${i},${j}] = ${numValue}`);
            
            // ì¼ê´€ì„± ê²€ì‚¬ ìˆ˜í–‰
            checkConsistency(type);
        }

        /**
         * ì¼ê´€ì„± ê²€ì‚¬
         */
        function checkConsistency(type) {
            console.log(`ğŸ¯ ì¼ê´€ì„± ê²€ì‚¬: ${type}`);
            // ì‹¤ì œ AHP ì¼ê´€ì„± ê³„ì‚° ë¡œì§ êµ¬í˜„ í•„ìš”
            // ì—¬ê¸°ì„œëŠ” ê°„ë‹¨í•œ ì‹œë®¬ë ˆì´ì…˜
            
            const consistencyResult = document.getElementById('consistency-result');
            if (consistencyResult) {
                consistencyResult.style.display = 'block';
                const details = document.getElementById('consistency-details');
                if (details) {
                    const cr = Math.random() * 0.2; // ì‹œë®¬ë ˆì´ì…˜ëœ CR ê°’
                    const isConsistent = cr <= 0.1;
                    
                    details.innerHTML = `
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <div style="display: flex; align-items: center; gap: 0.5rem;">
                                <span style="width: 12px; height: 12px; border-radius: 50%; background: ${isConsistent ? '#10b981' : '#ef4444'};"></span>
                                <span style="font-weight: 600; color: ${isConsistent ? '#065f46' : '#991b1b'};">
                                    CR = ${cr.toFixed(3)} ${isConsistent ? '(ì¼ê´€ì„± ì–‘í˜¸)' : '(ì¼ê´€ì„± ë¶ˆëŸ‰)'}
                                </span>
                            </div>
                            ${!isConsistent ? '<span style="color: #991b1b; font-size: 0.8rem;">â€» CR > 0.1ì´ë¯€ë¡œ ë¹„êµë¥¼ ì¬ê²€í† í•´ì£¼ì„¸ìš”.</span>' : ''}
                        </div>
                    `;
                }
            }
        }

        /**
         * ëŒ€ì•ˆ ë¹„êµ ì¸í„°í˜ì´ìŠ¤ ìƒì„±
         */
        function generateAlternativesComparisonInterface() {
            return `
                <div style="background: white; border: 1px solid #e5e7eb; border-radius: 8px; padding: 1.5rem;">
                    <h4 style="color: #1f2937; margin-bottom: 1.5rem;">ğŸ¯ ê¸°ì¤€ë³„ ëŒ€ì•ˆ ë¹„êµ</h4>
                    
                    <div style="background: #f8fafc; padding: 1rem; border-radius: 6px; margin-bottom: 1.5rem;">
                        <p style="color: #6b7280; margin: 0; font-size: 0.9rem;">
                            ê° ê¸°ì¤€ì— ëŒ€í•´ ëŒ€ì•ˆë“¤ì„ ìŒëŒ€ë¹„êµí•©ë‹ˆë‹¤. ê¸°ì¤€ì„ ì„ íƒí•˜ì—¬ í•´ë‹¹ ê¸°ì¤€ í•˜ì—ì„œì˜ ëŒ€ì•ˆ ì¤‘ìš”ë„ë¥¼ í‰ê°€í•˜ì„¸ìš”.
                        </p>
                    </div>

                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem;">
                        ${currentModelData.criteria.map((criterion, index) => `
                            <div style="border: 1px solid #e5e7eb; border-radius: 6px; padding: 1rem; cursor: pointer; transition: all 0.2s;" 
                                 onclick="startAlternativeComparisonForCriterion('${criterion.id}')">
                                <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;">
                                    <span style="background: #3b82f6; color: white; padding: 0.25rem 0.5rem; border-radius: 4px; font-size: 0.7rem;">ê¸°ì¤€ ${index + 1}</span>
                                    <h5 style="margin: 0; color: #1f2937;">${criterion.name}</h5>
                                </div>
                                <p style="color: #6b7280; margin: 0; font-size: 0.8rem;">${criterion.description || 'ì„¤ëª… ì—†ìŒ'}</p>
                                <div style="margin-top: 0.5rem; font-size: 0.8rem; color: #059669;">
                                    ğŸ“Š ${currentModelData.alternatives.length}ê°œ ëŒ€ì•ˆ ë¹„êµ
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        /**
         * íŠ¹ì • ê¸°ì¤€ì— ëŒ€í•œ ëŒ€ì•ˆ ë¹„êµ ì‹œì‘
         */
        function startAlternativeComparisonForCriterion(criterionId) {
            console.log(`ğŸ¯ ê¸°ì¤€ ${criterionId}ì— ëŒ€í•œ ëŒ€ì•ˆ ë¹„êµ ì‹œì‘`);
            
            const criterion = currentModelData.criteria.find(c => c.id === criterionId);
            if (!criterion) return;

            const container = document.getElementById('pairwise-matrix-container');
            if (container) {
                container.innerHTML = `
                    <div style="background: #eff6ff; padding: 1rem; border-radius: 6px; margin-bottom: 1rem;">
                        <h4 style="color: #1e40af; margin: 0;">ê¸°ì¤€: ${criterion.name}</h4>
                        <p style="color: #1e40af; margin: 0.5rem 0 0 0; font-size: 0.9rem;">${criterion.description || ''}</p>
                    </div>
                    ${generatePairwiseMatrix(currentModelData.alternatives, `alternatives-${criterionId}`)}
                `;
            }
        }

        /**
         * ê¸°ì¤€ì— ëŒ€í•œ ì§ì ‘ì…ë ¥ ì‹œì‘
         */
        function startDirectInputForCriteria() {
            console.log('ğŸ“Š ê¸°ì¤€ ê°€ì¤‘ì¹˜ ì§ì ‘ì…ë ¥ ì‹œì‘');
            
            const container = document.getElementById('direct-input-form-container');
            if (container) {
                container.innerHTML = generateDirectInputForm(currentModelData.criteria, 'criteria');
            }
        }

        /**
         * ëŒ€ì•ˆì— ëŒ€í•œ ì§ì ‘ì…ë ¥ ì‹œì‘
         */
        function startDirectInputForAlternatives() {
            console.log('ğŸ¯ ëŒ€ì•ˆ ì ìˆ˜ ì§ì ‘ì…ë ¥ ì‹œì‘');
            
            const container = document.getElementById('direct-input-form-container');
            if (container) {
                container.innerHTML = generateAlternativesDirectInputInterface();
            }
        }

        /**
         * ì§ì ‘ì…ë ¥ í¼ ìƒì„±
         */
        function generateDirectInputForm(elements, type) {
            return `
                <div style="background: white; border: 1px solid #e5e7eb; border-radius: 8px; padding: 1.5rem;">
                    <h4 style="color: #1f2937; margin-bottom: 1rem;">ğŸ“Š ${type === 'criteria' ? 'ê¸°ì¤€ ê°€ì¤‘ì¹˜' : 'ëŒ€ì•ˆ ì ìˆ˜'} ì§ì ‘ì…ë ¥</h4>
                    
                    <div style="background: #f0fdf4; padding: 1rem; border-radius: 6px; margin-bottom: 1.5rem;">
                        <div style="display: flex; gap: 2rem; margin-bottom: 1rem;">
                            <label style="display: flex; align-items: center; gap: 0.5rem;">
                                <input type="radio" name="inputType" value="benefit" checked onchange="updateInputType(this.value)">
                                <span style="color: #065f46;">í¸ìµí˜• (ê°’ì´ í´ìˆ˜ë¡ ì¢‹ìŒ)</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 0.5rem;">
                                <input type="radio" name="inputType" value="cost" onchange="updateInputType(this.value)">
                                <span style="color: #991b1b;">ë¹„ìš©í˜• (ê°’ì´ ì‘ì„ìˆ˜ë¡ ì¢‹ìŒ)</span>
                            </label>
                        </div>
                        <p style="color: #065f46; margin: 0; font-size: 0.8rem;">
                            ğŸ’¡ ì‹œìŠ¤í…œì´ ìë™ìœ¼ë¡œ ìƒëŒ€ì  ì¤‘ìš”ë„ë¥¼ ê³„ì‚°í•˜ì—¬ ê°€ì¤‘ì¹˜ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.
                        </p>
                    </div>

                    <div style="display: grid; gap: 1rem;">
                        ${elements.map((element, index) => `
                            <div style="display: flex; align-items: center; gap: 1rem; padding: 1rem; background: #f8fafc; border-radius: 6px;">
                                <div style="flex: 1;">
                                    <div style="font-weight: 600; color: #1f2937;">${element.name}</div>
                                    ${element.description ? `<div style="font-size: 0.8rem; color: #6b7280;">${element.description}</div>` : ''}
                                </div>
                                <div style="display: flex; align-items: center; gap: 1rem;">
                                    <input type="number" 
                                           id="direct-input-${element.id}" 
                                           min="0.001" 
                                           step="0.001" 
                                           placeholder="ê°’ ì…ë ¥"
                                           onchange="updateDirectInputValue('${element.id}', this.value)"
                                           style="width: 120px; padding: 0.5rem; border: 1px solid #d1d5db; border-radius: 4px; text-align: right;">
                                    <div style="width: 80px; text-align: right;">
                                        <div id="weight-${element.id}" style="font-weight: 600; color: #10b981;">0.0%</div>
                                        <div style="font-size: 0.7rem; color: #6b7280;">ê°€ì¤‘ì¹˜</div>
                                    </div>
                                </div>
                            </div>
                        `).join('')}
                    </div>

                    <div style="margin-top: 1.5rem; display: flex; gap: 1rem;">
                        <button onclick="calculateDirectInputWeights('${type}')" style="background: #10b981; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer;">
                            ğŸ”„ ê°€ì¤‘ì¹˜ ê³„ì‚°
                        </button>
                        <button onclick="saveDirectInputResults('${type}')" style="background: #059669; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer;">
                            ğŸ’¾ ê²°ê³¼ ì €ì¥
                        </button>
                    </div>
                </div>
            `;
        }

        /**
         * ì§ì ‘ì…ë ¥ ê°’ ì—…ë°ì´íŠ¸
         */
        function updateDirectInputValue(elementId, value) {
            console.log(`ğŸ“Š ì§ì ‘ì…ë ¥ ê°’ ì—…ë°ì´íŠ¸: ${elementId} = ${value}`);
            
            if (!evaluationData.directInputValues) {
                evaluationData.directInputValues = {};
            }
            evaluationData.directInputValues[elementId] = parseFloat(value) || 0;
        }

        /**
         * ì§ì ‘ì…ë ¥ ê°€ì¤‘ì¹˜ ê³„ì‚°
         */
        function calculateDirectInputWeights(type) {
            console.log(`ğŸ”„ ì§ì ‘ì…ë ¥ ê°€ì¤‘ì¹˜ ê³„ì‚°: ${type}`);
            
            const values = evaluationData.directInputValues || {};
            const elements = type === 'criteria' ? currentModelData.criteria : currentModelData.alternatives;
            
            // ì…ë ¥ê°’ ìˆ˜ì§‘
            const inputValues = elements.map(element => {
                const value = values[element.id] || 0;
                return { id: element.id, value: value };
            });
            
            // ê°€ì¤‘ì¹˜ ê³„ì‚° (ì •ê·œí™”)
            const sum = inputValues.reduce((total, item) => total + item.value, 0);
            
            if (sum > 0) {
                inputValues.forEach(item => {
                    const weight = (item.value / sum) * 100;
                    const weightElement = document.getElementById(`weight-${item.id}`);
                    if (weightElement) {
                        weightElement.textContent = `${weight.toFixed(1)}%`;
                    }
                });
            }
        }

        /**
         * ì§ì ‘ì…ë ¥ ê²°ê³¼ ì €ì¥
         */
        function saveDirectInputResults(type) {
            console.log(`ğŸ’¾ ì§ì ‘ì…ë ¥ ê²°ê³¼ ì €ì¥: ${type}`);
            alert(`${type === 'criteria' ? 'ê¸°ì¤€ ê°€ì¤‘ì¹˜' : 'ëŒ€ì•ˆ ì ìˆ˜'} ê²°ê³¼ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.`);
        }

        /**
         * ì…ë ¥ íƒ€ì… ì—…ë°ì´íŠ¸
         */
        function updateInputType(type) {
            console.log(`ğŸ”„ ì…ë ¥ íƒ€ì… ë³€ê²½: ${type}`);
            // í¸ìµí˜•/ë¹„ìš©í˜•ì— ë”°ë¥¸ ì²˜ë¦¬ ë¡œì§
        }

        /**
         * ëª¨ë¸ ì €ì¥
         */
        function saveCurrentModel() {
            console.log('ğŸ’¾ í˜„ì¬ ëª¨ë¸ ì €ì¥');
            
            // ëª¨ë¸ ì €ì¥ ì„±ê³µ ë©”ì‹œì§€
            showMessage('âœ… ëª¨ë¸ì´ ì„±ê³µì ìœ¼ë¡œ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!\nğŸ”„ ì¸êµ¬í†µê³„í•™ì  ì„¤ë¬¸ì¡°ì‚¬ ë‹¨ê³„ë¡œ ì´ë™í•©ë‹ˆë‹¤...', 'success');
            
            // 2ì´ˆ í›„ ì„¤ë¬¸ì¡°ì‚¬ ë‹¨ê³„ë¡œ ìë™ ì´ë™
            setTimeout(() => {
                console.log('ğŸš€ ëª¨ë¸ êµ¬ì¶• ì™„ë£Œ - ì„¤ë¬¸ì¡°ì‚¬ ë‹¨ê³„ë¡œ ì´ë™');
                handleMenuClick('demographic-survey', null);
            }, 2000);
        }
    </script>
</body>
</html>